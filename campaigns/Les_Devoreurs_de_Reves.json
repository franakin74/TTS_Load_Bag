{
  "SaveName": "",
  "Date": "",
  "VersionNumber": "",
  "GameMode": "",
  "GameType": "",
  "GameComplexity": "",
  "Tags": [],
  "Gravity": 0.5,
  "PlayArea": 0.5,
  "Table": "",
  "Sky": "",
  "Note": "",
  "TabStates": {},
  "LuaScript": "",
  "LuaScriptState": "",
  "XmlUI": "",
  "ObjectStates": [
    {
      "GUID": "9c4d3c",
      "Name": "Custom_Model_Bag",
      "Transform": {
        "posX": -93.00302,
        "posY": 0.9824785,
        "posZ": 5.49950743,
        "rotX": -3.34464539E-06,
        "rotY": 179.997375,
        "rotZ": -7.087374E-07,
        "scaleX": 0.6144237,
        "scaleY": 0.08580595,
        "scaleZ": 0.6144237
      },
      "Nickname": "Les Dévoreurs de Rêves",
      "Description": "",
      "GMNotes": "campaigns/Les_Devoreurs_de_Reves.json\r\n",
      "AltLookAngle": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
      },
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "LayoutGroupSortIndex": 0,
      "Value": 0,
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "https://raw.githubusercontent.com/RobMayer/TTSLibrary/master/advboxes/core_h_MSH.obj",
        "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/762723517669849292/9CD4BE220E1DE5294B1BC6301792920D213C98B3/",
        "NormalURL": "",
        "ColliderURL": "https://raw.githubusercontent.com/RobMayer/TTSLibrary/master/advboxes/core_h_COL.obj",
        "Convex": true,
        "MaterialIndex": 3,
        "TypeIndex": 6,
        "CustomShader": {
          "SpecularColor": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "SpecularIntensity": 0.0,
          "SpecularSharpness": 2.0,
          "FresnelStrength": 0.0
        },
        "CastShadows": true
      },
      "Bag": {
        "Order": 0
      },
      "LuaScript": "-- Utility memory bag by Directsun\r\n-- Version 2.7.0\r\n-- Fork of Memory Bag 2.0 by MrStump\r\n--\r\n-- Want to contribute? Create an issue or fork the code on GitHub and submit a pull request:\r\n-- https://github.com/sunflowermans/TTS-UtilityMemoryBag\r\n\r\n\r\nfunction updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction combineMemoryFromBagsWithin()\r\n    local bagObjList = self.getObjects()\r\n    for _, bagObj in ipairs(bagObjList) do\r\n        local data = bagObj.lua_script_state\r\n        if data ~= nil then\r\n            local j = JSON.decode(data)\r\n            if j ~= nil and j.ml ~= nil then\r\n                for guid, entry in pairs(j.ml) do\r\n                    memoryList[guid] = entry\r\n                end\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateMemoryWithMoves()\r\n    memoryList = memoryListBackup\r\n    --get the first transposed object's coordinates\r\n    local obj = getObjectFromGUID(moveGuid)\r\n\r\n    -- p1 is where needs to go, p2 is where it was\r\n    local refObjPos = memoryList[moveGuid].pos\r\n    local deltaPos = findOffsetDistance(obj.getPosition(), refObjPos, nil)\r\n    local movedRotation = obj.getRotation()\r\n    for guid, entry in pairs(memoryList) do\r\n        memoryList[guid].pos.x = entry.pos.x - deltaPos.x\r\n        memoryList[guid].pos.y = entry.pos.y - deltaPos.y\r\n        memoryList[guid].pos.z = entry.pos.z - deltaPos.z\r\n        -- memoryList[guid].rot.x = movedRotation.x\r\n        -- memoryList[guid].rot.y = movedRotation.y\r\n        -- memoryList[guid].rot.z = movedRotation.z\r\n    end\r\n\r\n    --theList[obj.getGUID()] = {\r\n    --    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n    --    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n    --    lock=obj.getLock()\r\n    --}\r\n    moveList = {}\r\nend\r\n\r\nfunction onload(saved_data)\r\n\r\n    fresh = true\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n\r\n    end\r\n\r\n    moveList = {}\r\n    moveGuid = nil\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        fresh = false\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\n function createSetupButton()\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.1,5}, rotation={0,0,0}, height=500, width=1200,\r\n        font_size=300, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by Transpose button\r\nfunction buttonClick_transpose()\r\n    moveGuid = nil\r\n    broadcastToAll(\"Select one object and move it- all objects will move relative to the new location\", {0.75, 0.75, 1})\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(true)\r\n    createSetupActionButtons(true)\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(false)\r\n    createSetupActionButtons(false)\r\nend\r\n\r\nfunction getAllObjectsInMemory()\r\n    local objTable = {}\r\n    local curObj = {}\r\n\r\n    for guid in pairs(memoryListBackup) do\r\n        curObj = getObjectFromGUID(guid)\r\n        table.insert(objTable, curObj)\r\n    end\r\n\r\n    return objTable\r\n    -- return getAllObjects()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects(move)\r\n    buttonIndexMap = {}\r\n    local howManyButtons = 0\r\n\r\n    local objsToHaveButtons = {}\r\n    if move == true then\r\n        objsToHaveButtons = getAllObjectsInMemory()\r\n    else\r\n        objsToHaveButtons = getAllObjects()\r\n    end\r\n\r\n    for _, obj in ipairs(objsToHaveButtons) do\r\n        if obj ~= self then\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1* 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor + 4\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Workaround for custom PDFs\r\n            if obj.Book then\r\n                objPos.y = objPos.y + 0.5\r\n            end\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(obj, move) end\r\n            local color = {0.75,0.25,0.25,0.6}\r\n            local colorMove = {0,0,1,0.6}\r\n            if move == true then\r\n                color = colorMove\r\n            end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color=color,\r\n            })\r\n            buttonIndexMap[obj.getGUID()] = howManyButtons\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons(move)\r\n    self.createButton({\r\n        label=\"Annuler\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n      position={-1.25,0.1,6}, rotation={0,0,0}, height=500, width=1200,\r\n        font_size=300, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    self.createButton({\r\n        label=\"Valider\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={-1.25,0.3,7}, rotation={0,0,0}, height=500, width=1200,\r\n        font_size=300, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    if move == false then\r\n      self.createButton({\r\n          label=\"Ajouter\", click_function=\"buttonClick_add\", function_owner=self,\r\n          position={1.25,0.3,6}, rotation={0,0,0}, height=500, width=1200,\r\n          font_size=300, color={0,0,0}, font_color={0.25,1,0.25}\r\n      })\r\n\r\n        self.createButton({\r\n            label=\"Sélection\", click_function=\"editDragSelection\", function_owner=self,\r\n            position={-1.25,0.3,8}, rotation={0,0,0}, height=500, width=1200,\r\n            font_size=250, color={0,0,0}, font_color={1,1,1}\r\n        })\r\n\r\n          if fresh == false then\r\n                self.createButton({\r\n                    label=\"Mise à jour\", click_function=\"buttonClick_setNew\", function_owner=self,\r\n                    position={1.25,0.3,8}, rotation={0,0,0}, height=500, width=1200,\r\n                    font_size=230, color={0,0,0}, font_color={0.75,0.75,1}\r\n                })\r\n                self.createButton({\r\n                    label=\"Retirer\", click_function=\"buttonClick_remove\", function_owner=self,\r\n                    position={1.25,0.3,7}, rotation={0,0,0}, height=500, width=1200,\r\n                    font_size=300, color={0,0,0}, font_color={1,0.25,0.25}\r\n                })\r\n            end\r\n        end\r\n\r\n        self.createButton({\r\n            label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n            position={0,0.3,-6}, rotation={0,0,0}, height=500, width=1200,\r\n            font_size=300, color={0,0,0}, font_color={1,1,1}\r\n        })\r\n    end\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(obj, move)\r\n    local index = buttonIndexMap[obj.getGUID()]\r\n    local colorMove = {0,0,1,0.6}\r\n    local color = {0,1,0,0.6}\r\n\r\n    previousGuid = selectedGuid\r\n    selectedGuid = obj.getGUID()\r\n\r\n    theList = memoryList\r\n    if move == true then\r\n        theList = moveList\r\n        if previousGuid ~= nil and previousGuid ~= selectedGuid then\r\n            local prevObj = getObjectFromGUID(previousGuid)\r\n            prevObj.highlightOff()\r\n            self.editButton({index=previousIndex, color=colorMove})\r\n            theList[previousGuid] = nil\r\n        end\r\n        previousIndex = index\r\n    end\r\n\r\n    if theList[selectedGuid] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        theList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock(),\r\n            tint=obj.getColorTint()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        if move == true then\r\n            color = colorMove\r\n        end\r\n        self.editButton({index=index, color=color})\r\n        theList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\nfunction editDragSelection(bagObj, player, remove)\r\n    local selectedObjs = Player[player].getSelectedObjects()\r\n    if not remove then\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            --Ignore if already in the memory list, or does not have a button\r\n            if index and not memoryList[obj.getGUID()] then\r\n                self.editButton({index=index, color={0,1,0,0.6}})\r\n                --Adding pos/rot to memory table\r\n                local pos, rot = obj.getPosition(), obj.getRotation()\r\n                --I need to add it like this or it won't save due to indexing issue\r\n                memoryList[obj.getGUID()] = {\r\n                    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n                    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n                    lock=obj.getLock(),\r\n                    tint=obj.getColorTint()\r\n                }\r\n                obj.highlightOn({0,1,0})\r\n            end\r\n        end\r\n    else\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            if index and memoryList[obj.getGUID()] then\r\n                color = {0.75,0.25,0.25,0.6}\r\n                self.editButton({index=index, color=color})\r\n                memoryList[obj.getGUID()] = nil\r\n                obj.highlightOff()\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Sélection annulée\", {1,1,1})\r\n    moveGuid = nil\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    fresh = false\r\n    if next(moveList) ~= nil then\r\n        for guid in pairs(moveList) do\r\n            moveGuid = guid\r\n        end\r\n        if memoryListBackup[moveGuid] == nil then\r\n            broadcastToAll(\"Item selected for moving is not already in memory\", {1, 0.25, 0.25})\r\n        else\r\n            broadcastToAll(\"Moving all items in memory relative to new objects position!\", {0.75, 0.75, 1})\r\n            self.clearButtons()\r\n            self.clearInputs()\r\n            createMemoryActionButtons()\r\n            local count = 0\r\n            for guid in pairs(moveList) do\r\n                moveGuid = guid\r\n                count = count + 1\r\n                local obj = getObjectFromGUID(guid)\r\n                if obj ~= nil then obj.highlightOff() end\r\n            end\r\n            updateMemoryWithMoves()\r\n            updateSave()\r\n            buttonClick_place()\r\n        end\r\n    elseif next(memoryList) == nil and moveGuid == nil then\r\n        memoryList = memoryListBackup\r\n        broadcastToAll(\"No selections made.\", {0.75, 0.25, 0.25})\r\n    end\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\n    moveGuid = nil\r\nend\r\n\r\nfunction combineTables(first_table, second_table)\r\n    for k,v in pairs(second_table) do first_table[k] = v end\r\nend\r\n\r\nfunction buttonClick_add()\r\n    fresh = false\r\n    combineTables(memoryList, memoryListBackup)\r\n    broadcastToAll(\"Adding internal bags and selections to existing memory\", {0.25, 0.75, 0.25})\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_remove()\r\n    broadcastToAll(\"Removing Selected Entries From Memory\", {1.0, 0.25, 0.25})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        memoryListBackup[guid] = nil\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Removed\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_setNew()\r\n    broadcastToAll(\"Setting new position relative to items in memory\", {0.75, 0.75, 1})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        guid = obj.guid\r\n        if memoryListBackup[guid] ~= nil then\r\n            count = count + 1\r\n            memoryListBackup[guid].pos = obj.getPosition()\r\n            memoryListBackup[guid].rot = obj.getRotation()\r\n            memoryListBackup[guid].lock = obj.getLock()\r\n            memoryListBackup[guid].tint = obj.getColorTint()\r\n        end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    fresh = true\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Placer\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={1.4,1,5.85}, rotation={0,0,0}, height=500, width=1200,\r\n        font_size=300, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Ranger\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={-1.4,1,5.85}, rotation={0,0,0}, height=500, width=1200,\r\n        font_size=300, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={5.85,0.1,0}, rotation={0,270,0}, height=500, width=1200,\r\n        font_size=300, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    ---    self.createButton({\r\n    ---      label=\"Bouger\", click_function=\"buttonClick_transpose\", function_owner=self,\r\n    ---      position={-2,0.3,0.8}, rotation={0,270,0}, height=350, width=800,\r\n    ---      font_size=250, color={0,0,0}, font_color={0.75,0.75,1}\r\n    ---\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n            obj.setColorTint(entry.tint)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot, smooth=false\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    item.setColorTint(entry.tint)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objets placés\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objets rangés\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local yOffset = 0\r\n    if obj ~= nil then\r\n        local bounds = obj.getBounds()\r\n        yOffset = (bounds.size.y - bounds.offset.y)\r\n    end\r\n    local deltaPos = {}\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + yOffset\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n    local objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n    local x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n    local z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n    --return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\nfunction rotateMyCoordinates(desiredPos, obj)\r\n    local angle = math.rad(obj.getRotation().y)\r\n    local x = desiredPos.x * math.sin(angle)\r\n    local z = desiredPos.z * math.cos(angle)\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n    local mult = 10^(dec or 0)\r\n    return math.floor(num * mult + 0.5) / mult\r\nend\r\n\r\n\r\n--[[\r\nThis object provides access to a variable stored on the \"Global script\".\r\nThe variable holds the GUIDs for every Utility Memory Bag in the scene.\r\nExample:\r\n{'805ebd', '35cc21', 'fc8886', 'f50264', '5f5f63'}\r\n--]]\r\nAllMemoryBagsInScene = {\r\n    NAME_OF_GLOBAL_VARIABLE = \"_UtilityMemoryBag_AllMemoryBagsInScene\"\r\n}\r\n\r\nfunction AllMemoryBagsInScene:add(guid)\r\n    local guids = Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\n    table.insert(guids, guid)\r\n    Global.setTable(self.NAME_OF_GLOBAL_VARIABLE, guids)\r\nend\r\n\r\nfunction AllMemoryBagsInScene:getGuidList()\r\n    return Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\nend",
      "LuaScriptState": "{\"ml\":{\"06134a\":{\"lock\":false,\"pos\":{\"x\":-24.4999980926514,\"y\":1.76671230792999,\"z\":26.0000019073486},\"rot\":{\"x\":-4.54226392321289E-06,\"y\":180.009002685547,\"z\":-2.9548806423918E-07},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"0cf20f\":{\"lock\":false,\"pos\":{\"x\":22.5,\"y\":0.969965755939484,\"z\":46.5},\"rot\":{\"x\":1.3658363968716E-05,\"y\":180.000015258789,\"z\":-5.96213794779032E-05},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"0fad66\":{\"lock\":false,\"pos\":{\"x\":12.3802804946899,\"y\":1.50226497650146,\"z\":-3.75400257110596},\"rot\":{\"x\":0.0122963255271316,\"y\":274.124877929688,\"z\":359.978515625},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"1139cf\":{\"lock\":false,\"pos\":{\"x\":-24.1899585723877,\"y\":1.76629912853241,\"z\":28.727108001709},\"rot\":{\"x\":4.83702660858398E-06,\"y\":0.000166000449098647,\"z\":-3.66870608559111E-07},\"tint\":{\"a\":0,\"b\":0,\"g\":0,\"r\":0}},\"185096\":{\"lock\":false,\"pos\":{\"x\":12.2505,\"y\":1.4585,\"z\":-20.0137},\"rot\":{\"x\":359.9201,\"y\":270.0004,\"z\":0.0169}},\"1b4f86\":{\"lock\":false,\"pos\":{\"x\":12.25,\"y\":1.4656,\"z\":3.9864},\"rot\":{\"x\":359.9201,\"y\":270.0002,\"z\":0.0169}},\"4f81cf\":{\"lock\":false,\"pos\":{\"x\":12.2501,\"y\":1.4609,\"z\":-12.0136},\"rot\":{\"x\":359.9201,\"y\":270.0004,\"z\":0.0169}},\"50aa99\":{\"lock\":false,\"pos\":{\"x\":-59,\"y\":1.04974949359894,\"z\":-5.99999856948853},\"rot\":{\"x\":-0.00480301259085536,\"y\":359.976928710938,\"z\":0.00147606083191931},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"5338b3\":{\"lock\":false,\"pos\":{\"x\":-30.4999980926514,\"y\":1.76671230792999,\"z\":26.0000019073486},\"rot\":{\"x\":-4.7515695769107E-06,\"y\":180.000427246094,\"z\":7.97620174353142E-08},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"54f4bd\":{\"lock\":false,\"pos\":{\"x\":-2.29343214641631E-07,\"y\":0.969942450523376,\"z\":46.5},\"rot\":{\"x\":1.37714478114503E-05,\"y\":179.999954223633,\"z\":-5.9626683651004E-05},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"599cb7\":{\"lock\":false,\"pos\":{\"x\":12.2501,\"y\":1.4703,\"z\":19.9864},\"rot\":{\"x\":359.9201,\"y\":269.9999,\"z\":0.0169}},\"5cc63a\":{\"lock\":false,\"pos\":{\"x\":-66,\"y\":1.04956936836243,\"z\":-6.00000095367432},\"rot\":{\"x\":-0.00480453576892614,\"y\":0.000211551567190327,\"z\":0.00147399643901736},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"6f4801\":{\"lock\":false,\"pos\":{\"x\":-9,\"y\":0.969933032989502,\"z\":46.5},\"rot\":{\"x\":1.38586565299192E-05,\"y\":180,\"z\":-5.98718870605808E-05},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"7ae028\":{\"lock\":false,\"pos\":{\"x\":-55.5,\"y\":1.04983949661255,\"z\":-6.00000047683716},\"rot\":{\"x\":-0.00480267871171236,\"y\":359.967987060547,\"z\":0.00147709716111422},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"7b07ca\":{\"lock\":false,\"pos\":{\"x\":12.2521,\"y\":1.468,\"z\":11.9864},\"rot\":{\"x\":359.9201,\"y\":270,\"z\":0.0169}},\"7f5828\":{\"lock\":false,\"pos\":{\"x\":12.2503,\"y\":1.4727,\"z\":27.9864},\"rot\":{\"x\":359.9201,\"y\":270.0053,\"z\":0.0169}},\"86793c\":{\"lock\":false,\"pos\":{\"x\":18,\"y\":0.969961166381836,\"z\":46.5},\"rot\":{\"x\":1.36736971398932E-05,\"y\":180,\"z\":-5.95615565543994E-05},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"911e8c\":{\"lock\":false,\"pos\":{\"x\":4.50000047683716,\"y\":0.969947099685669,\"z\":46.5},\"rot\":{\"x\":1.36980788738583E-05,\"y\":180.000030517578,\"z\":-5.9513928135857E-05},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"9f0ae2\":{\"lock\":false,\"pos\":{\"x\":-30.2228527069092,\"y\":1.76629912853241,\"z\":28.8278274536133},\"rot\":{\"x\":3.53674431607942E-06,\"y\":0.000323579180985689,\"z\":-1.71313857322275E-07},\"tint\":{\"a\":0,\"b\":0,\"g\":0,\"r\":0}},\"a16ed9\":{\"lock\":false,\"pos\":{\"x\":-4.5,\"y\":0.96993762254715,\"z\":46.5},\"rot\":{\"x\":1.36983535412583E-05,\"y\":180.000274658203,\"z\":-5.95677192904986E-05},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"afee99\":{\"lock\":false,\"pos\":{\"x\":-20.5,\"y\":1.47985994815826,\"z\":-5},\"rot\":{\"x\":-2.59667245927631E-07,\"y\":179.997497558594,\"z\":-2.33504451330191E-07},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"b2f07e\":{\"lock\":false,\"pos\":{\"x\":-26.9575977325439,\"y\":1.76629960536957,\"z\":22.7805213928223},\"rot\":{\"x\":5.3045491767989E-06,\"y\":0.000416226743254811,\"z\":-2.32751489193106E-07},\"tint\":{\"a\":0,\"b\":0,\"g\":0,\"r\":0}},\"b82dc0\":{\"lock\":false,\"pos\":{\"x\":-62.5,\"y\":1.04965949058533,\"z\":-6.00000095367432},\"rot\":{\"x\":-0.00480423774570227,\"y\":0.000211578255402856,\"z\":0.00147373089566827},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"cb6210\":{\"lock\":false,\"pos\":{\"x\":9,\"y\":0.969951570034027,\"z\":46.5},\"rot\":{\"x\":1.37126808112953E-05,\"y\":179.99983215332,\"z\":-5.97598118474707E-05},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"dd8df9\":{\"lock\":false,\"pos\":{\"x\":13.5,\"y\":0.969956517219543,\"z\":46.5},\"rot\":{\"x\":1.3748399396718E-05,\"y\":180,\"z\":-5.95801539020613E-05},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"e14c76\":{\"lock\":false,\"pos\":{\"x\":12.2496,\"y\":1.4562,\"z\":-28.0137},\"rot\":{\"x\":359.9201,\"y\":269.9999,\"z\":0.0169}},\"f40183\":{\"lock\":false,\"pos\":{\"x\":33.076000213623,\"y\":1.47985982894897,\"z\":12.845100402832},\"rot\":{\"x\":-9.0045615408485E-09,\"y\":179.983795166016,\"z\":-1.6322632134802E-08},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}}}}",
      "XmlUI": "",
      "ContainedObjects": [
        {
          "GUID": "06134a",
          "Name": "Custom_Model_Bag",
          "Transform": {
            "posX": -24.4999962,
            "posY": 1.77141213,
            "posZ": 26.0000038,
            "rotX": -4.4921776E-06,
            "rotY": 180.009018,
            "rotZ": 3.54592146E-07,
            "scaleX": 0.3505242,
            "scaleY": 0.0489516668,
            "scaleZ": 0.3505242
          },
          "Nickname": "La Toile des Songes [Campagne B]",
          "Description": "",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "CustomMesh": {
            "MeshURL": "https://raw.githubusercontent.com/RobMayer/TTSLibrary/master/advboxes/core_h_MSH.obj",
            "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/762723517669849292/9CD4BE220E1DE5294B1BC6301792920D213C98B3/",
            "NormalURL": "",
            "ColliderURL": "https://raw.githubusercontent.com/RobMayer/TTSLibrary/master/advboxes/core_h_COL.obj",
            "Convex": true,
            "MaterialIndex": 3,
            "TypeIndex": 6,
            "CustomShader": {
              "SpecularColor": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "SpecularIntensity": 0.0,
              "SpecularSharpness": 2.0,
              "FresnelStrength": 0.0
            },
            "CastShadows": true
          },
          "Bag": {
            "Order": 0
          },
          "LuaScript": "-- Utility memory bag by Directsun\r\n-- Version 2.7.0\r\n-- Fork of Memory Bag 2.0 by MrStump\r\n--\r\n-- Want to contribute? Create an issue or fork the code on GitHub and submit a pull request:\r\n-- https://github.com/sunflowermans/TTS-UtilityMemoryBag\r\n\r\n\r\nfunction updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction combineMemoryFromBagsWithin()\r\n    local bagObjList = self.getObjects()\r\n    for _, bagObj in ipairs(bagObjList) do\r\n        local data = bagObj.lua_script_state\r\n        if data ~= nil then\r\n            local j = JSON.decode(data)\r\n            if j ~= nil and j.ml ~= nil then\r\n                for guid, entry in pairs(j.ml) do\r\n                    memoryList[guid] = entry\r\n                end\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateMemoryWithMoves()\r\n    memoryList = memoryListBackup\r\n    --get the first transposed object's coordinates\r\n    local obj = getObjectFromGUID(moveGuid)\r\n\r\n    -- p1 is where needs to go, p2 is where it was\r\n    local refObjPos = memoryList[moveGuid].pos\r\n    local deltaPos = findOffsetDistance(obj.getPosition(), refObjPos, nil)\r\n    local movedRotation = obj.getRotation()\r\n    for guid, entry in pairs(memoryList) do\r\n        memoryList[guid].pos.x = entry.pos.x - deltaPos.x\r\n        memoryList[guid].pos.y = entry.pos.y - deltaPos.y\r\n        memoryList[guid].pos.z = entry.pos.z - deltaPos.z\r\n        -- memoryList[guid].rot.x = movedRotation.x\r\n        -- memoryList[guid].rot.y = movedRotation.y\r\n        -- memoryList[guid].rot.z = movedRotation.z\r\n    end\r\n\r\n    --theList[obj.getGUID()] = {\r\n    --    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n    --    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n    --    lock=obj.getLock()\r\n    --}\r\n    moveList = {}\r\nend\r\n\r\nfunction onload(saved_data)\r\n\r\n    fresh = true\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n\r\n    end\r\n\r\n    moveList = {}\r\n    moveGuid = nil\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        fresh = false\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\n function createSetupButton()\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.1,5}, rotation={0,0,0}, height=500, width=1200,\r\n        font_size=300, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by Transpose button\r\nfunction buttonClick_transpose()\r\n    moveGuid = nil\r\n    broadcastToAll(\"Select one object and move it- all objects will move relative to the new location\", {0.75, 0.75, 1})\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(true)\r\n    createSetupActionButtons(true)\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(false)\r\n    createSetupActionButtons(false)\r\nend\r\n\r\nfunction getAllObjectsInMemory()\r\n    local objTable = {}\r\n    local curObj = {}\r\n\r\n    for guid in pairs(memoryListBackup) do\r\n        curObj = getObjectFromGUID(guid)\r\n        table.insert(objTable, curObj)\r\n    end\r\n\r\n    return objTable\r\n    -- return getAllObjects()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects(move)\r\n    buttonIndexMap = {}\r\n    local howManyButtons = 0\r\n\r\n    local objsToHaveButtons = {}\r\n    if move == true then\r\n        objsToHaveButtons = getAllObjectsInMemory()\r\n    else\r\n        objsToHaveButtons = getAllObjects()\r\n    end\r\n\r\n    for _, obj in ipairs(objsToHaveButtons) do\r\n        if obj ~= self then\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1* 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor + 4\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Workaround for custom PDFs\r\n            if obj.Book then\r\n                objPos.y = objPos.y + 0.5\r\n            end\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(obj, move) end\r\n            local color = {0.75,0.25,0.25,0.6}\r\n            local colorMove = {0,0,1,0.6}\r\n            if move == true then\r\n                color = colorMove\r\n            end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color=color,\r\n            })\r\n            buttonIndexMap[obj.getGUID()] = howManyButtons\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons(move)\r\n    self.createButton({\r\n        label=\"Annuler\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n      position={-1.25,0.1,6}, rotation={0,0,0}, height=500, width=1200,\r\n        font_size=300, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    self.createButton({\r\n        label=\"Valider\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={-1.25,0.3,7}, rotation={0,0,0}, height=500, width=1200,\r\n        font_size=300, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    if move == false then\r\n      self.createButton({\r\n          label=\"Ajouter\", click_function=\"buttonClick_add\", function_owner=self,\r\n          position={1.25,0.3,6}, rotation={0,0,0}, height=500, width=1200,\r\n          font_size=300, color={0,0,0}, font_color={0.25,1,0.25}\r\n      })\r\n\r\n        self.createButton({\r\n            label=\"Sélection\", click_function=\"editDragSelection\", function_owner=self,\r\n            position={-1.25,0.3,8}, rotation={0,0,0}, height=500, width=1200,\r\n            font_size=250, color={0,0,0}, font_color={1,1,1}\r\n        })\r\n\r\n          if fresh == false then\r\n                self.createButton({\r\n                    label=\"Mise à jour\", click_function=\"buttonClick_setNew\", function_owner=self,\r\n                    position={1.25,0.3,8}, rotation={0,0,0}, height=500, width=1200,\r\n                    font_size=230, color={0,0,0}, font_color={0.75,0.75,1}\r\n                })\r\n                self.createButton({\r\n                    label=\"Retirer\", click_function=\"buttonClick_remove\", function_owner=self,\r\n                    position={1.25,0.3,7}, rotation={0,0,0}, height=500, width=1200,\r\n                    font_size=300, color={0,0,0}, font_color={1,0.25,0.25}\r\n                })\r\n            end\r\n        end\r\n\r\n        self.createButton({\r\n            label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n            position={0,0.3,-6}, rotation={0,0,0}, height=500, width=1200,\r\n            font_size=300, color={0,0,0}, font_color={1,1,1}\r\n        })\r\n    end\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(obj, move)\r\n    local index = buttonIndexMap[obj.getGUID()]\r\n    local colorMove = {0,0,1,0.6}\r\n    local color = {0,1,0,0.6}\r\n\r\n    previousGuid = selectedGuid\r\n    selectedGuid = obj.getGUID()\r\n\r\n    theList = memoryList\r\n    if move == true then\r\n        theList = moveList\r\n        if previousGuid ~= nil and previousGuid ~= selectedGuid then\r\n            local prevObj = getObjectFromGUID(previousGuid)\r\n            prevObj.highlightOff()\r\n            self.editButton({index=previousIndex, color=colorMove})\r\n            theList[previousGuid] = nil\r\n        end\r\n        previousIndex = index\r\n    end\r\n\r\n    if theList[selectedGuid] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        theList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock(),\r\n            tint=obj.getColorTint()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        if move == true then\r\n            color = colorMove\r\n        end\r\n        self.editButton({index=index, color=color})\r\n        theList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\nfunction editDragSelection(bagObj, player, remove)\r\n    local selectedObjs = Player[player].getSelectedObjects()\r\n    if not remove then\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            --Ignore if already in the memory list, or does not have a button\r\n            if index and not memoryList[obj.getGUID()] then\r\n                self.editButton({index=index, color={0,1,0,0.6}})\r\n                --Adding pos/rot to memory table\r\n                local pos, rot = obj.getPosition(), obj.getRotation()\r\n                --I need to add it like this or it won't save due to indexing issue\r\n                memoryList[obj.getGUID()] = {\r\n                    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n                    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n                    lock=obj.getLock(),\r\n                    tint=obj.getColorTint()\r\n                }\r\n                obj.highlightOn({0,1,0})\r\n            end\r\n        end\r\n    else\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            if index and memoryList[obj.getGUID()] then\r\n                color = {0.75,0.25,0.25,0.6}\r\n                self.editButton({index=index, color=color})\r\n                memoryList[obj.getGUID()] = nil\r\n                obj.highlightOff()\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Sélection annulée\", {1,1,1})\r\n    moveGuid = nil\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    fresh = false\r\n    if next(moveList) ~= nil then\r\n        for guid in pairs(moveList) do\r\n            moveGuid = guid\r\n        end\r\n        if memoryListBackup[moveGuid] == nil then\r\n            broadcastToAll(\"Item selected for moving is not already in memory\", {1, 0.25, 0.25})\r\n        else\r\n            broadcastToAll(\"Moving all items in memory relative to new objects position!\", {0.75, 0.75, 1})\r\n            self.clearButtons()\r\n            self.clearInputs()\r\n            createMemoryActionButtons()\r\n            local count = 0\r\n            for guid in pairs(moveList) do\r\n                moveGuid = guid\r\n                count = count + 1\r\n                local obj = getObjectFromGUID(guid)\r\n                if obj ~= nil then obj.highlightOff() end\r\n            end\r\n            updateMemoryWithMoves()\r\n            updateSave()\r\n            buttonClick_place()\r\n        end\r\n    elseif next(memoryList) == nil and moveGuid == nil then\r\n        memoryList = memoryListBackup\r\n        broadcastToAll(\"No selections made.\", {0.75, 0.25, 0.25})\r\n    end\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\n    moveGuid = nil\r\nend\r\n\r\nfunction combineTables(first_table, second_table)\r\n    for k,v in pairs(second_table) do first_table[k] = v end\r\nend\r\n\r\nfunction buttonClick_add()\r\n    fresh = false\r\n    combineTables(memoryList, memoryListBackup)\r\n    broadcastToAll(\"Adding internal bags and selections to existing memory\", {0.25, 0.75, 0.25})\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_remove()\r\n    broadcastToAll(\"Removing Selected Entries From Memory\", {1.0, 0.25, 0.25})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        memoryListBackup[guid] = nil\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Removed\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_setNew()\r\n    broadcastToAll(\"Setting new position relative to items in memory\", {0.75, 0.75, 1})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        guid = obj.guid\r\n        if memoryListBackup[guid] ~= nil then\r\n            count = count + 1\r\n            memoryListBackup[guid].pos = obj.getPosition()\r\n            memoryListBackup[guid].rot = obj.getRotation()\r\n            memoryListBackup[guid].lock = obj.getLock()\r\n            memoryListBackup[guid].tint = obj.getColorTint()\r\n        end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    fresh = true\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Placer\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={1.4,1,5.85}, rotation={0,0,0}, height=500, width=1200,\r\n        font_size=300, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Ranger\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={-1.4,1,5.85}, rotation={0,0,0}, height=500, width=1200,\r\n        font_size=300, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={5.85,0.1,0}, rotation={0,270,0}, height=500, width=1200,\r\n        font_size=300, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    ---    self.createButton({\r\n    ---      label=\"Bouger\", click_function=\"buttonClick_transpose\", function_owner=self,\r\n    ---      position={-2,0.3,0.8}, rotation={0,270,0}, height=350, width=800,\r\n    ---      font_size=250, color={0,0,0}, font_color={0.75,0.75,1}\r\n    ---\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n            obj.setColorTint(entry.tint)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot, smooth=false\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    item.setColorTint(entry.tint)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objets placés\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objets rangés\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local yOffset = 0\r\n    if obj ~= nil then\r\n        local bounds = obj.getBounds()\r\n        yOffset = (bounds.size.y - bounds.offset.y)\r\n    end\r\n    local deltaPos = {}\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + yOffset\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n    local objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n    local x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n    local z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n    --return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\nfunction rotateMyCoordinates(desiredPos, obj)\r\n    local angle = math.rad(obj.getRotation().y)\r\n    local x = desiredPos.x * math.sin(angle)\r\n    local z = desiredPos.z * math.cos(angle)\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n    local mult = 10^(dec or 0)\r\n    return math.floor(num * mult + 0.5) / mult\r\nend\r\n\r\n\r\n--[[\r\nThis object provides access to a variable stored on the \"Global script\".\r\nThe variable holds the GUIDs for every Utility Memory Bag in the scene.\r\nExample:\r\n{'805ebd', '35cc21', 'fc8886', 'f50264', '5f5f63'}\r\n--]]\r\nAllMemoryBagsInScene = {\r\n    NAME_OF_GLOBAL_VARIABLE = \"_UtilityMemoryBag_AllMemoryBagsInScene\"\r\n}\r\n\r\nfunction AllMemoryBagsInScene:add(guid)\r\n    local guids = Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\n    table.insert(guids, guid)\r\n    Global.setTable(self.NAME_OF_GLOBAL_VARIABLE, guids)\r\nend\r\n\r\nfunction AllMemoryBagsInScene:getGuidList()\r\n    return Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\nend",
          "LuaScriptState": "{\"ml\":{\"196d8a\":{\"lock\":false,\"pos\":{\"x\":3,\"y\":1.502,\"z\":-5.4999},\"rot\":{\"x\":0.0109,\"y\":180.0128,\"z\":0.005},\"tint\":{\"a\":1,\"b\":0.701960802078247,\"g\":0.800000011920929,\"r\":0.874509811401367}},\"48d3a6\":{\"lock\":false,\"pos\":{\"x\":5.9994,\"y\":1.5006,\"z\":-5.5135},\"rot\":{\"x\":0.0928,\"y\":180.0194,\"z\":0.0715},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"4cf995\":{\"lock\":false,\"pos\":{\"x\":33.5,\"y\":1.4799,\"z\":12.5},\"rot\":{\"x\":0,\"y\":180.0116,\"z\":0},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"aa0e7e\":{\"lock\":false,\"pos\":{\"x\":5.9994,\"y\":1.5006,\"z\":-5.5135},\"rot\":{\"x\":0.0928,\"y\":180.031,\"z\":0.0715},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"b6088e\":{\"lock\":false,\"pos\":{\"x\":5.9994,\"y\":1.5006,\"z\":-5.5135},\"rot\":{\"x\":0.0928,\"y\":180.0303,\"z\":0.0715},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"e5b493\":{\"lock\":false,\"pos\":{\"x\":5.9994,\"y\":1.5006,\"z\":-5.5135},\"rot\":{\"x\":0.0928,\"y\":180.031,\"z\":0.0715},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}}}}",
          "XmlUI": "",
          "ContainedObjects": [
            {
              "GUID": "196d8a",
              "Name": "Custom_Tile",
              "Transform": {
                "posX": 2.99999976,
                "posY": 1.501975,
                "posZ": -5.49989939,
                "rotX": 0.0108904308,
                "rotY": 180.0128,
                "rotZ": 0.004950785,
                "scaleX": 1.6428808,
                "scaleY": 1.0,
                "scaleZ": 1.6428808
              },
              "Nickname": "Mise en place du Chaos Bag",
              "Description": "Les Dévoreurs de Rêve - La Toile des Songes",
              "GMNotes": "{\"data\":\"TDE_B\",\"easy\":true,\"expert\":true,\"hard\":true,\"normal\":true,\"standalone\":false}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.8745098,
                "g": 0.8,
                "b": 0.7019608
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/2011456161884106028/81BF2DAD34FE18B6788B56E21F16B81E6525AD99/",
                "ImageSecondaryURL": "https://steamusercontent-a.akamaihd.net/ugc/2011456161884106028/81BF2DAD34FE18B6788B56E21F16B81E6525AD99/",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomTile": {
                  "Type": 3,
                  "Thickness": 0.1,
                  "Stackable": false,
                  "Stretch": true
                }
              },
              "LuaScript": "\r\njacqueline_guid = '42cd6e'\r\n\r\nbuttonparams = {\r\n   ['easy'] = {label = \"Facile\", click_function = 'modeEasy', z_i = -0.2},\r\n   ['normal'] = {label = \"Standard\", click_function = 'modeNormal', z_i = 0.1},\r\n   ['hard'] = {label = \"Difficile\", click_function = 'modeHard', z_i = 0.4},\r\n   ['expert'] = {label = \"Expert\", click_function = 'modeExpert', z_i = 0.7},\r\n   ['standalone'] = {label = \"Indépendant\", click_function = 'modeStandalone', z_i = 0},\r\n}\r\n\r\nfunction onLoad()\r\n\r\n    metadata = JSON.decode(self.getGMNotes())\r\n    buttontable = {}\r\n    for key, value in pairs(buttonparams) do\r\n        if metadata[key] == true then\r\n            table.insert(buttontable,value)\r\n        end\r\n        \r\n    end\r\n\r\n    for _, button in pairs(buttontable) do\r\n        local data = {\r\n            click_function = button.click_function, \r\n            function_owner = self, \r\n            label = button.label, \r\n            position = {0, 0.1, button.z_i}, \r\n            scale = {0.3, 0.5, 0.3}, \r\n            width = 1500, \r\n            height = 400, \r\n            font_size = 250, \r\n            tooltip = \"Chaos bag du mode \"..button.label,\r\n            color = {0.5647, 0.4627, 0.2353, 1}, \r\n            font_color = {0.9041, 0.8313, 0.7356, 1},\r\n            hover_color = {99/255, 85/255, 48/255},\r\n            press_color = {192/255, 152/255, 94/255} }\r\n        self.createButton(data)\r\n        \r\n    end\r\n    jacqueline = getObjectFromGUID(jacqueline_guid)\r\n    chaosdata = jacqueline.getTable('chaosdata')\r\nend\r\n\r\nfunction modeEasy()\r\n    local  params ={}\r\n     params.mode = 'easy'\r\n     params.data = metadata.data\r\n     jacqueline.call('setChaosBag', params)\r\n  \r\nend\r\n\r\nfunction modeNormal()\r\n      local  params ={}\r\n       params.mode = 'normal'\r\n       params.data = metadata.data\r\n       jacqueline.call('setChaosBag', params)\r\n    \r\nend\r\n\r\nfunction modeHard()\r\n    local  params ={}\r\n     params.mode = 'hard'\r\n     params.data = metadata.data\r\n     jacqueline.call('setChaosBag', params)\r\n  \r\nend\r\n\r\nfunction modeExpert()\r\n    local  params ={}\r\n     params.mode = 'expert'\r\n     params.data = metadata.data\r\n     jacqueline.call('setChaosBag', params)\r\n  \r\nend\r\n\r\nfunction modeStandalone()\r\n    local  params ={}\r\n     params.mode = 'standalone'\r\n     params.data = metadata.data\r\n     jacqueline.call('setChaosBag', params)\r\n  \r\nend",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "4cf995",
              "Name": "Custom_Tile",
              "Transform": {
                "posX": 33.5,
                "posY": 1.47985983,
                "posZ": 12.5,
                "rotX": 1.24803157E-09,
                "rotY": 180.0116,
                "rotZ": 1.17001457E-08,
                "scaleX": 6.013283,
                "scaleY": 1.0,
                "scaleZ": 6.013283
              },
              "Nickname": "Carnet de Campagne",
              "Description": "La Toile des Songes - Les Dévoreurs de Rêves",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/1831283363809415167/8540E9D595195322548CC40A4B989534B27EB94B/",
                "ImageSecondaryURL": "https://steamusercontent-a.akamaihd.net/ugc/1831283363809397858/E690A44CBB2AB12D0E1095BAF1BAFF865CA4ABA7/",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomTile": {
                  "Type": 0,
                  "Thickness": 0.1,
                  "Stackable": false,
                  "Stretch": true
                }
              },
              "LuaScript": "--[[    Character Sheet Template    by: MrStump\r\n\r\nYou can set up your own character sheet if you follow these steps.\r\n\r\nStep 1) Change the character sheet image\r\n    -Right click on the character sheet, click Custom\r\n    -Replace the image URL with one for your character sheet\r\n    -Click import, make sure your sheet loads\r\n    -SAVE THE GAME (the table setup)\r\n    -LOAD FROM THAT SAVE YOU JUST MADE\r\n\r\nStep 2) Edit script to fit your character sheet\r\n    -Below you will see some general options, and then the big data table\r\n    -The data table is what determines how many of which buttons are made\r\n        -Checkboxes\r\n        -Counters\r\n        -Textboxes\r\n    -By default, there are 3 of each. You can add more or remove entries\r\n    -If you intend to add/remove, be sure only to add/remove ENTRIES\r\n        -This is what an entry looks like:\r\n            {\r\n                pos   = {-0.977,0.1,-0.589},\r\n                size  = 800,\r\n                state = false\r\n            },\r\n        -Deleting the whole thing would remove that specific item on the sheet\r\n        -Copy and pasting it after another entry would create another\r\n    -Each entry type has unique data points (pos, size, state, etc)\r\n        -Do not try to add in your own data points or remove them individually\r\n        -There is a summary of what each point does at the top of its category\r\n\r\nStep 3) Save and check script changes\r\n    -Hit Save & Apply in the script window to save your code\r\n    -You can edit your code as needed and Save+Apply as often as needed\r\n    -When you are finished, make disableSave = false below then Save+apply\r\n        -This enables saving, so your sheet will remember whats on it.\r\n\r\nBonus) Finding/Editing Positions for elements\r\n    I have included a tool to get positions for buttons in {x,y,z} form\r\n    Place it where you want the center of your element to be\r\n    Then copy the table from the notes (lower right of screen)\r\n        You can highlight it and CTRL+C\r\n    Paste it into the data table where needed (pos=)\r\n    If you want to manually tweek the values:\r\n        {0,0,0} is the center of the character sheet\r\n        {1,0,0} is right, {-1,0,0} is left\r\n        {0,0,-1} is up, {0,0,1} is down\r\n        0.1 for Y is the height off of the page.\r\n            If it was 0, it would be down inside the model of the sheet\r\n\r\nBegin editing below:    ]]\r\n\r\n--Set this to true while editing and false when you have finished\r\ndisableSave = false\r\n--Remember to set this to false once you are done making changes\r\n--Then, after you save & apply it, save your game too\r\n\r\n--Color information for button text (r,g,b, values of 0-1)\r\nbuttonFontColor = {0,0,0}\r\n--Color information for button background\r\nbuttonColor = {0.902,0.886,0.788}\r\n--Change scale of button (Avoid changing if possible)\r\nbuttonScale = {0.1,0.1,0.1}\r\n\r\n--This is the button placement information\r\ndefaultButtonData = {\r\n  --Add checkboxes\r\n  checkbox = {\r\n      --[[\r\n      pos   = the position (pasted from the helper tool)\r\n      size  = height/width/font_size for checkbox\r\n      state = default starting value for checkbox (true=checked, false=not)\r\n      ]]\r\n      --1 checkbox\r\n      {\r\n          pos   = {-0.931,0.1,-0.006},\r\n          size  = 250,\r\n          state = false\r\n      },\r\n      --2 checkbox\r\n      {\r\n          pos   = {-0.928,0.1,0.076},\r\n          size  = 250,\r\n          state = false\r\n      },\r\n      --3 checkbox\r\n      {\r\n          pos   = {-0.924,0.1,0.154},\r\n          size  = 250,\r\n          state = false\r\n      },\r\n      --4 checkbox\r\n      {\r\n          pos   = {-0.919,0.1,0.232},\r\n          size  = 250,\r\n          state = false\r\n      },\r\n      --5 checkbox\r\n      {\r\n          pos   = {-0.919,0.1,0.313},\r\n          size  = 250,\r\n          state = false\r\n      },\r\n      --6 checkbox\r\n      {\r\n          pos   = {-0.914,0.1,0.388},\r\n          size  = 250,\r\n          state = false\r\n      },\r\n      --7 checkbox\r\n      {\r\n          pos   = {-0.914,0.1,0.471},\r\n          size  = 250,\r\n          state = false\r\n      },\r\n      --8 checkbox\r\n      {\r\n          pos   = {-0.915,0.1,0.548},\r\n          size  = 250,\r\n          state = false\r\n      },\r\n      --9 checkbox\r\n      {\r\n          pos   = {-0.915,0.1,0.624},\r\n          size  = 250,\r\n          state = false\r\n      },\r\n      --End of checkboxes\r\n  },\r\n    --Add counters that have a + and - button\r\n    counter = {\r\n        --[[\r\n        pos    = the position (pasted from the helper tool)\r\n        size   = height/width/font_size for counter\r\n        value  = default starting value for counter\r\n        hideBG = if background of counter is hidden (true=hidden, false=not)\r\n        ]]\r\n        --Slot one counter 1\r\n        {\r\n            pos    = {-0.74,0.1,-0.45},\r\n            size   = 400,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n        --Slot one counter 2\r\n        {\r\n            pos    = {-0.54,0.1,-0.45},\r\n            size   = 400,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n        --Slot one xp 1\r\n        {\r\n            pos    = {-0.54,0.1,-0.55},\r\n            size   = 300,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n        --Slot two counter 1\r\n        {\r\n            pos    = {-0.3,0.1,-0.445},\r\n            size   = 400,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n        --Slot two counter 2\r\n        {\r\n            pos    = {-0.09,0.1,-0.445},\r\n            size   = 400,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n        --Slot two xp 1\r\n        {\r\n            pos    = {-0.09,0.1,-0.54},\r\n            size   = 300,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n        --Slot three counter 1\r\n        {\r\n            pos    = {0.13,0.1,-0.44},\r\n            size   = 400,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n        --Slot three counter 2\r\n        {\r\n            pos    = {0.34,0.1,-0.44},\r\n            size   = 400,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n        --Slot three xp 1\r\n        {\r\n            pos    = {0.35,0.1,-0.54},\r\n            size   = 300,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n        --Slot four counter 1\r\n        {\r\n            pos    = {0.58,0.1,-0.44},\r\n            size   = 400,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n        --Slot four counter 2\r\n        {\r\n            pos    = {0.78,0.1,-0.44},\r\n            size   = 400,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n        --Slot four xp 1\r\n        {\r\n            pos    = {0.78,0.1,-0.54},\r\n            size   = 300,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n\r\n        --End of counters\r\n    },\r\n    --Add editable text boxes\r\n    textbox = {\r\n        --[[\r\n        pos       = the position (pasted from the helper tool)\r\n        rows      = how many lines of text you want for this box\r\n        width     = how wide the text box is\r\n        font_size = size of text. This and \"rows\" effect overall height\r\n        label     = what is shown when there is no text. \"\" = nothing\r\n        value     = text entered into box. \"\" = nothing\r\n        alignment = Number to indicate how you want text aligned\r\n                    (1=Automatic, 2=Left, 3=Center, 4=Right, 5=Justified)\r\n        ]]\r\n        --Slot one player\r\n        {\r\n            pos       = {-0.677,0.1,-0.70},\r\n            rows      = 1,\r\n            width     = 2000,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Slot one investigator\r\n        {\r\n            pos       = {-0.677,0.1,-0.625},\r\n            rows      = 1,\r\n            width     = 2000,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Slot one story\r\n        {\r\n            pos       = {-0.677,0.1,-0.27},\r\n            rows      = 9,\r\n            width     = 2000,\r\n            font_size = 100,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Slot two player\r\n        {\r\n            pos       = {-0.24,0.1,-0.70},\r\n            rows      = 1,\r\n            width     = 2000,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Slot two investigator\r\n        {\r\n            pos       = {-0.24,0.1,-0.625},\r\n            rows      = 1,\r\n            width     = 2000,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Slot two story\r\n        {\r\n            pos       = {-0.24,0.1,-0.27},\r\n            rows      = 9,\r\n            width     = 2000,\r\n            font_size = 100,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Slot three player\r\n        {\r\n            pos       = {0.21,0.1,-0.70},\r\n            rows      = 1,\r\n            width     = 2000,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Slot three investigator\r\n        {\r\n            pos       = {0.21,0.1,-0.62},\r\n            rows      = 1,\r\n            width     = 2000,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Slot three story\r\n        {\r\n            pos       = {0.21,0.1,-0.268},\r\n            rows      = 9,\r\n            width     = 2000,\r\n            font_size = 100,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Slot four player\r\n        {\r\n            pos       = {0.65,0.1,-0.70},\r\n            rows      = 1,\r\n            width     = 2000,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Slot four investigator\r\n        {\r\n            pos       = {0.65,0.1,-0.62},\r\n            rows      = 1,\r\n            width     = 2000,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Slot four story\r\n        {\r\n            pos       = {0.65,0.1,-0.265},\r\n            rows      = 9,\r\n            width     = 2000,\r\n            font_size = 100,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Campaign Notes 1\r\n        {\r\n            pos       = {0.33,0.1,0.273},\r\n            rows      = 10,\r\n            width     = 2500,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Campaign Notes 2\r\n        {\r\n            pos       = {0.48,0.1,0.632},\r\n            rows      = 8,\r\n            width     = 4000,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Killed Investigators\r\n        {\r\n            pos       = {-0.542,0.1,0.867},\r\n            rows      = 4,\r\n            width     = 3500,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Steps of the Bridge\r\n        {\r\n            pos       = {0.415,0.1,0.94},\r\n            rows      = 2,\r\n            width     = 3500,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Réserve du Chaos\r\n        {\r\n            pos       = {0.797,0.1,0.26},\r\n            rows      = 10,\r\n            width     = 1500,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --End of textboxes\r\n    }\r\n}\r\n\r\n\r\n\r\n--Lua beyond this point, I recommend doing something more fun with your life\r\n\r\n\r\n\r\n--Save function\r\nfunction updateSave()\r\n    saved_data = JSON.encode(ref_buttonData)\r\n    if disableSave==true then saved_data=\"\" end\r\n    self.script_state = saved_data\r\nend\r\n\r\n--Startup procedure\r\nfunction onload(saved_data)\r\n    if disableSave==true then saved_data=\"\" end\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        ref_buttonData = loaded_data\r\n    else\r\n        ref_buttonData = defaultButtonData\r\n    end\r\n\r\n    spawnedButtonCount = 0\r\n    createCheckbox()\r\n    createCounter()\r\n    createTextbox()\r\nend\r\n\r\n\r\n\r\n--Click functions for buttons\r\n\r\n\r\n\r\n--Checks or unchecks the given box\r\nfunction click_checkbox(tableIndex, buttonIndex)\r\n    if ref_buttonData.checkbox[tableIndex].state == true then\r\n        ref_buttonData.checkbox[tableIndex].state = false\r\n        self.editButton({index=buttonIndex, label=\"\"})\r\n    else\r\n        ref_buttonData.checkbox[tableIndex].state = true\r\n        self.editButton({index=buttonIndex, label=string.char(10008)})\r\n    end\r\n    updateSave()\r\nend\r\n\r\n--Applies value to given counter display\r\nfunction click_counter(tableIndex, buttonIndex, amount)\r\n    ref_buttonData.counter[tableIndex].value = ref_buttonData.counter[tableIndex].value + amount\r\n    self.editButton({index=buttonIndex, label=ref_buttonData.counter[tableIndex].value})\r\n    updateSave()\r\nend\r\n\r\n--Updates saved value for given text box\r\nfunction click_textbox(i, value, selected)\r\n    if selected == false then\r\n        ref_buttonData.textbox[i].value = value\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Dud function for if you have a background on a counter\r\nfunction click_none() end\r\n\r\n\r\n\r\n--Button creation\r\n\r\n\r\n\r\n--Makes checkboxes\r\nfunction createCheckbox()\r\n    for i, data in ipairs(ref_buttonData.checkbox) do\r\n        --Sets up reference function\r\n        local buttonNumber = spawnedButtonCount\r\n        local funcName = \"checkbox\"..i\r\n        local func = function() click_checkbox(i, buttonNumber) end\r\n        self.setVar(funcName, func)\r\n        --Sets up label\r\n        local label = \"\"\r\n        if data.state==true then label=string.char(10008) end\r\n        --Creates button and counts it\r\n        self.createButton({\r\n            label=label, click_function=funcName, function_owner=self,\r\n            position=data.pos, height=data.size, width=data.size,\r\n            font_size=data.size, scale=buttonScale,\r\n            color=buttonColor, font_color=buttonFontColor\r\n        })\r\n        spawnedButtonCount = spawnedButtonCount + 1\r\n    end\r\nend\r\n\r\n--Makes counters\r\nfunction createCounter()\r\n    for i, data in ipairs(ref_buttonData.counter) do\r\n        --Sets up display\r\n        local displayNumber = spawnedButtonCount\r\n        --Sets up label\r\n        local label = data.value\r\n        --Sets height/width for display\r\n        local size = data.size\r\n        if data.hideBG == true then size = 0 end\r\n        --Creates button and counts it\r\n        self.createButton({\r\n            label=label, click_function=\"click_none\", function_owner=self,\r\n            position=data.pos, height=size, width=size,\r\n            font_size=data.size, scale=buttonScale,\r\n            color=buttonColor, font_color=buttonFontColor\r\n        })\r\n        spawnedButtonCount = spawnedButtonCount + 1\r\n\r\n        --Sets up add 1\r\n        local funcName = \"counterAdd\"..i\r\n        local func = function() click_counter(i, displayNumber, 1) end\r\n        self.setVar(funcName, func)\r\n        --Sets up label\r\n        local label = \"+\"\r\n        --Sets up position\r\n        local offsetDistance = (data.size/2 + data.size/4) * (buttonScale[1] * 0.002)\r\n        local pos = {data.pos[1] + offsetDistance, data.pos[2], data.pos[3]}\r\n        --Sets up size\r\n        local size = data.size / 2\r\n        --Creates button and counts it\r\n        self.createButton({\r\n            label=label, click_function=funcName, function_owner=self,\r\n            position=pos, height=size, width=size,\r\n            font_size=size, scale=buttonScale,\r\n            color=buttonColor, font_color=buttonFontColor\r\n        })\r\n        spawnedButtonCount = spawnedButtonCount + 1\r\n\r\n        --Sets up subtract 1\r\n        local funcName = \"counterSub\"..i\r\n        local func = function() click_counter(i, displayNumber, -1) end\r\n        self.setVar(funcName, func)\r\n        --Sets up label\r\n        local label = \"-\"\r\n        --Set up position\r\n        local pos = {data.pos[1] - offsetDistance, data.pos[2], data.pos[3]}\r\n        --Creates button and counts it\r\n        self.createButton({\r\n            label=label, click_function=funcName, function_owner=self,\r\n            position=pos, height=size, width=size,\r\n            font_size=size, scale=buttonScale,\r\n            color=buttonColor, font_color=buttonFontColor\r\n        })\r\n        spawnedButtonCount = spawnedButtonCount + 1\r\n    end\r\nend\r\n\r\nfunction createTextbox()\r\n    for i, data in ipairs(ref_buttonData.textbox) do\r\n        --Sets up reference function\r\n        local funcName = \"textbox\"..i\r\n        local func = function(_,_,val,sel) click_textbox(i,val,sel) end\r\n        self.setVar(funcName, func)\r\n\r\n        self.createInput({\r\n            input_function = funcName,\r\n            function_owner = self,\r\n            label          = data.label,\r\n            alignment      = data.alignment,\r\n            position       = data.pos,\r\n            scale          = buttonScale,\r\n            width          = data.width,\r\n            height         = (data.font_size*data.rows)+24,\r\n            font_size      = data.font_size,\r\n            color          = buttonColor,\r\n            font_color     = buttonFontColor,\r\n            value          = data.value,\r\n        })\r\n    end\r\nend\r\n",
              "LuaScriptState": "{\"checkbox\":[{\"pos\":[-0.931,0.1,-0.006],\"size\":250,\"state\":false},{\"pos\":[-0.928,0.1,0.076],\"size\":250,\"state\":false},{\"pos\":[-0.924,0.1,0.154],\"size\":250,\"state\":false},{\"pos\":[-0.919,0.1,0.232],\"size\":250,\"state\":false},{\"pos\":[-0.919,0.1,0.313],\"size\":250,\"state\":false},{\"pos\":[-0.914,0.1,0.388],\"size\":250,\"state\":false},{\"pos\":[-0.914,0.1,0.471],\"size\":250,\"state\":false},{\"pos\":[-0.915,0.1,0.548],\"size\":250,\"state\":false},{\"pos\":[-0.915,0.1,0.624],\"size\":250,\"state\":false}],\"counter\":[{\"hideBG\":true,\"pos\":[-0.74,0.1,-0.45],\"size\":400,\"value\":0},{\"hideBG\":true,\"pos\":[-0.54,0.1,-0.45],\"size\":400,\"value\":0},{\"hideBG\":true,\"pos\":[-0.54,0.1,-0.55],\"size\":300,\"value\":0},{\"hideBG\":true,\"pos\":[-0.3,0.1,-0.445],\"size\":400,\"value\":0},{\"hideBG\":true,\"pos\":[-0.09,0.1,-0.445],\"size\":400,\"value\":0},{\"hideBG\":true,\"pos\":[-0.09,0.1,-0.54],\"size\":300,\"value\":0},{\"hideBG\":true,\"pos\":[0.13,0.1,-0.44],\"size\":400,\"value\":0},{\"hideBG\":true,\"pos\":[0.34,0.1,-0.44],\"size\":400,\"value\":0},{\"hideBG\":true,\"pos\":[0.35,0.1,-0.54],\"size\":300,\"value\":0},{\"hideBG\":true,\"pos\":[0.58,0.1,-0.44],\"size\":400,\"value\":0},{\"hideBG\":true,\"pos\":[0.78,0.1,-0.44],\"size\":400,\"value\":0},{\"hideBG\":true,\"pos\":[0.78,0.1,-0.54],\"size\":300,\"value\":0}],\"textbox\":[{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[-0.677,0.1,-0.7],\"rows\":1,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[-0.677,0.1,-0.625],\"rows\":1,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":100,\"label\":\"Click to type\",\"pos\":[-0.677,0.1,-0.27],\"rows\":9,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[-0.24,0.1,-0.7],\"rows\":1,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[-0.24,0.1,-0.625],\"rows\":1,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":100,\"label\":\"Click to type\",\"pos\":[-0.24,0.1,-0.27],\"rows\":9,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[0.21,0.1,-0.7],\"rows\":1,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[0.21,0.1,-0.62],\"rows\":1,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":100,\"label\":\"Click to type\",\"pos\":[0.21,0.1,-0.268],\"rows\":9,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[0.65,0.1,-0.7],\"rows\":1,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[0.65,0.1,-0.62],\"rows\":1,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":100,\"label\":\"Click to type\",\"pos\":[0.65,0.1,-0.265],\"rows\":9,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[0.33,0.1,0.273],\"rows\":10,\"value\":\"\",\"width\":2500},{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[0.48,0.1,0.632],\"rows\":8,\"value\":\"\",\"width\":4000},{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[-0.542,0.1,0.867],\"rows\":4,\"value\":\"\",\"width\":3500},{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[0.415,0.1,0.94],\"rows\":2,\"value\":\"\",\"width\":3500},{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[0.797,0.1,0.26],\"rows\":10,\"value\":\"\",\"width\":1500}]}",
              "XmlUI": "",
              "States": {
                "1": {
                  "GUID": "f40183",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -27.7497,
                    "posY": 1.4799,
                    "posZ": 7.0218,
                    "rotX": 0.0,
                    "rotY": 179.9882,
                    "rotZ": 0.0,
                    "scaleX": 6.013283,
                    "scaleY": 1.0,
                    "scaleZ": 6.013283
                  },
                  "Nickname": "Carnet de Campagne",
                  "Description": "La Quête Onirique - Les Dévoreurs de Rêves",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": true,
                  "Grid": false,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/1831283363809413825/69F876C2268CFE186041A252C5E1638F8ADBA97A/",
                    "ImageSecondaryURL": "https://steamusercontent-a.akamaihd.net/ugc/1831283363809397858/E690A44CBB2AB12D0E1095BAF1BAFF865CA4ABA7/",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 0,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "--[[    Character Sheet Template    by: MrStump\r\n\r\nYou can set up your own character sheet if you follow these steps.\r\n\r\nStep 1) Change the character sheet image\r\n    -Right click on the character sheet, click Custom\r\n    -Replace the image URL with one for your character sheet\r\n    -Click import, make sure your sheet loads\r\n    -SAVE THE GAME (the table setup)\r\n    -LOAD FROM THAT SAVE YOU JUST MADE\r\n\r\nStep 2) Edit script to fit your character sheet\r\n    -Below you will see some general options, and then the big data table\r\n    -The data table is what determines how many of which buttons are made\r\n        -Checkboxes\r\n        -Counters\r\n        -Textboxes\r\n    -By default, there are 3 of each. You can add more or remove entries\r\n    -If you intend to add/remove, be sure only to add/remove ENTRIES\r\n        -This is what an entry looks like:\r\n            {\r\n                pos   = {-0.977,0.1,-0.589},\r\n                size  = 800,\r\n                state = false\r\n            },\r\n        -Deleting the whole thing would remove that specific item on the sheet\r\n        -Copy and pasting it after another entry would create another\r\n    -Each entry type has unique data points (pos, size, state, etc)\r\n        -Do not try to add in your own data points or remove them individually\r\n        -There is a summary of what each point does at the top of its category\r\n\r\nStep 3) Save and check script changes\r\n    -Hit Save & Apply in the script window to save your code\r\n    -You can edit your code as needed and Save+Apply as often as needed\r\n    -When you are finished, make disableSave = false below then Save+apply\r\n        -This enables saving, so your sheet will remember whats on it.\r\n\r\nBonus) Finding/Editing Positions for elements\r\n    I have included a tool to get positions for buttons in {x,y,z} form\r\n    Place it where you want the center of your element to be\r\n    Then copy the table from the notes (lower right of screen)\r\n        You can highlight it and CTRL+C\r\n    Paste it into the data table where needed (pos=)\r\n    If you want to manually tweek the values:\r\n        {0,0,0} is the center of the character sheet\r\n        {1,0,0} is right, {-1,0,0} is left\r\n        {0,0,-1} is up, {0,0,1} is down\r\n        0.1 for Y is the height off of the page.\r\n            If it was 0, it would be down inside the model of the sheet\r\n\r\nBegin editing below:    ]]\r\n\r\n--Set this to true while editing and false when you have finished\r\ndisableSave = false\r\n--Remember to set this to false once you are done making changes\r\n--Then, after you save & apply it, save your game too\r\n\r\n--Color information for button text (r,g,b, values of 0-1)\r\nbuttonFontColor = {0,0,0}\r\n--Color information for button background\r\nbuttonColor = {0.902,0.886,0.788}\r\n--Change scale of button (Avoid changing if possible)\r\nbuttonScale = {0.1,0.1,0.1}\r\n\r\n--This is the button placement information\r\ndefaultButtonData = {\r\n  --Add checkboxes\r\n  checkbox = {\r\n      --[[\r\n      pos   = the position (pasted from the helper tool)\r\n      size  = height/width/font_size for checkbox\r\n      state = default starting value for checkbox (true=checked, false=not)\r\n      ]]\r\n      --1 checkbox\r\n      {\r\n          pos   = {0.306,0.1,0.051},\r\n          size  = 250,\r\n          state = false\r\n      },\r\n      --2 checkbox\r\n      {\r\n          pos   = {0.35,0.1,0.114},\r\n          size  = 250,\r\n          state = false\r\n      },\r\n      --3 checkbox\r\n      {\r\n          pos   = {0.399,0.1,0.169},\r\n          size  = 250,\r\n          state = false\r\n      },\r\n      --4 checkbox\r\n      {\r\n          pos   = {0.455,0.1,0.221},\r\n          size  = 250,\r\n          state = false\r\n      },\r\n      --5 checkbox\r\n      {\r\n          pos   = {0.5,0.1,0.279},\r\n          size  = 250,\r\n          state = false\r\n      },\r\n      --6 checkbox\r\n      {\r\n          pos   = {0.54,0.1,0.334},\r\n          size  = 250,\r\n          state = false\r\n      },\r\n      --7 checkbox\r\n      {\r\n          pos   = {0.568,0.1,0.392},\r\n          size  = 250,\r\n          state = false\r\n      },\r\n      --8 checkbox\r\n      {\r\n          pos   = {0.604,0.1,0.457},\r\n          size  = 250,\r\n          state = false\r\n      },\r\n      --9 checkbox\r\n      {\r\n          pos   = {0.229,0.1,-0.007},\r\n          size  = 250,\r\n          state = false\r\n      },\r\n      --10 checkbox\r\n      {\r\n          pos   = {-0.816,0.1,0.02},\r\n          size  = 250,\r\n          state = false\r\n      },\r\n      --End of checkboxes\r\n  },\r\n    --Add counters that have a + and - button\r\n    counter = {\r\n        --[[\r\n        pos    = the position (pasted from the helper tool)\r\n        size   = height/width/font_size for counter\r\n        value  = default starting value for counter\r\n        hideBG = if background of counter is hidden (true=hidden, false=not)\r\n        ]]\r\n        --Slot one counter 1\r\n        {\r\n            pos    = {-0.7,0.1,-0.45},\r\n            size   = 400,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n        --Slot one counter 2\r\n        {\r\n            pos    = {-0.50,0.1,-0.45},\r\n            size   = 400,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n        --Slot one xp 1\r\n        {\r\n            pos    = {-0.517,0.1,-0.55},\r\n            size   = 300,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n        --Slot two counter 1\r\n        {\r\n            pos    = {-0.274,0.1,-0.445},\r\n            size   = 400,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n        --Slot two counter 2\r\n        {\r\n            pos    = {-0.06,0.1,-0.445},\r\n            size   = 400,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n        --Slot two xp 1\r\n        {\r\n            pos    = {-0.061,0.1,-0.54},\r\n            size   = 300,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n        --Slot three counter 1\r\n        {\r\n            pos    = {0.153,0.1,-0.44},\r\n            size   = 400,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n        --Slot three counter 2\r\n        {\r\n            pos    = {0.379,0.1,-0.44},\r\n            size   = 400,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n        --Slot three xp 1\r\n        {\r\n            pos    = {0.38,0.1,-0.54},\r\n            size   = 300,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n        --Slot four counter 1\r\n        {\r\n            pos    = {0.614,0.1,-0.44},\r\n            size   = 400,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n        --Slot four counter 2\r\n        {\r\n            pos    = {0.82,0.1,-0.44},\r\n            size   = 400,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n        --Slot four xp 1\r\n        {\r\n            pos    = {0.827,0.1,-0.54},\r\n            size   = 300,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n\r\n        --End of counters\r\n    },\r\n    --Add editable text boxes\r\n    textbox = {\r\n        --[[\r\n        pos       = the position (pasted from the helper tool)\r\n        rows      = how many lines of text you want for this box\r\n        width     = how wide the text box is\r\n        font_size = size of text. This and \"rows\" effect overall height\r\n        label     = what is shown when there is no text. \"\" = nothing\r\n        value     = text entered into box. \"\" = nothing\r\n        alignment = Number to indicate how you want text aligned\r\n                    (1=Automatic, 2=Left, 3=Center, 4=Right, 5=Justified)\r\n        ]]\r\n        --Slot one player\r\n        {\r\n            pos       = {-0.637,0.1,-0.70},\r\n            rows      = 1,\r\n            width     = 2000,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Slot one investigator\r\n        {\r\n            pos       = {-0.637,0.1,-0.625},\r\n            rows      = 1,\r\n            width     = 2000,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Slot one story\r\n        {\r\n            pos       = {-0.637,0.1,-0.27},\r\n            rows      = 9,\r\n            width     = 2000,\r\n            font_size = 100,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Slot two player\r\n        {\r\n            pos       = {-0.2,0.1,-0.70},\r\n            rows      = 1,\r\n            width     = 2000,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Slot two investigator\r\n        {\r\n            pos       = {-0.2,0.1,-0.625},\r\n            rows      = 1,\r\n            width     = 2000,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Slot two story\r\n        {\r\n            pos       = {-0.2,0.1,-0.27},\r\n            rows      = 9,\r\n            width     = 2000,\r\n            font_size = 100,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Slot three player\r\n        {\r\n            pos       = {0.241,0.1,-0.70},\r\n            rows      = 1,\r\n            width     = 2000,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Slot three investigator\r\n        {\r\n            pos       = {0.237,0.1,-0.62},\r\n            rows      = 1,\r\n            width     = 2000,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Slot three story\r\n        {\r\n            pos       = {0.24,0.1,-0.268},\r\n            rows      = 9,\r\n            width     = 2000,\r\n            font_size = 100,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Slot four player\r\n        {\r\n            pos       = {0.671,0.1,-0.70},\r\n            rows      = 1,\r\n            width     = 2000,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Slot four investigator\r\n        {\r\n            pos       = {0.671,0.1,-0.62},\r\n            rows      = 1,\r\n            width     = 2000,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Slot four story\r\n        {\r\n            pos       = {0.671,0.1,-0.265},\r\n            rows      = 9,\r\n            width     = 2000,\r\n            font_size = 100,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Campaign Notes\r\n        {\r\n            pos       = {-0.393,0.1,0.265},\r\n            rows      =10,\r\n            width     = 3200,\r\n            font_size = 200,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Killed Investigators\r\n        {\r\n            pos       = {-0.417,0.1,0.881},\r\n            rows      = 4,\r\n            width     = 3500,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Evidence of Kadath\r\n        {\r\n            pos       = {-0.388,0.1,0.676},\r\n            rows      = 2,\r\n            width     = 3500,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Réserve du Chaos\r\n        {\r\n            pos       = {0.782,0.1,0.8},\r\n            rows      = 10,\r\n            width     = 1500,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --End of textboxes\r\n    }\r\n}\r\n\r\n\r\n\r\n--Lua beyond this point, I recommend doing something more fun with your life\r\n\r\n\r\n\r\n--Save function\r\nfunction updateSave()\r\n    saved_data = JSON.encode(ref_buttonData)\r\n    if disableSave==true then saved_data=\"\" end\r\n    self.script_state = saved_data\r\nend\r\n\r\n--Startup procedure\r\nfunction onload(saved_data)\r\n    if disableSave==true then saved_data=\"\" end\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        ref_buttonData = loaded_data\r\n    else\r\n        ref_buttonData = defaultButtonData\r\n    end\r\n\r\n    spawnedButtonCount = 0\r\n    createCheckbox()\r\n    createCounter()\r\n    createTextbox()\r\nend\r\n\r\n\r\n\r\n--Click functions for buttons\r\n\r\n\r\n\r\n--Checks or unchecks the given box\r\nfunction click_checkbox(tableIndex, buttonIndex)\r\n    if ref_buttonData.checkbox[tableIndex].state == true then\r\n        ref_buttonData.checkbox[tableIndex].state = false\r\n        self.editButton({index=buttonIndex, label=\"\"})\r\n    else\r\n        ref_buttonData.checkbox[tableIndex].state = true\r\n        self.editButton({index=buttonIndex, label=string.char(10008)})\r\n    end\r\n    updateSave()\r\nend\r\n\r\n--Applies value to given counter display\r\nfunction click_counter(tableIndex, buttonIndex, amount)\r\n    ref_buttonData.counter[tableIndex].value = ref_buttonData.counter[tableIndex].value + amount\r\n    self.editButton({index=buttonIndex, label=ref_buttonData.counter[tableIndex].value})\r\n    updateSave()\r\nend\r\n\r\n--Updates saved value for given text box\r\nfunction click_textbox(i, value, selected)\r\n    if selected == false then\r\n        ref_buttonData.textbox[i].value = value\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Dud function for if you have a background on a counter\r\nfunction click_none() end\r\n\r\n\r\n\r\n--Button creation\r\n\r\n\r\n\r\n--Makes checkboxes\r\nfunction createCheckbox()\r\n    for i, data in ipairs(ref_buttonData.checkbox) do\r\n        --Sets up reference function\r\n        local buttonNumber = spawnedButtonCount\r\n        local funcName = \"checkbox\"..i\r\n        local func = function() click_checkbox(i, buttonNumber) end\r\n        self.setVar(funcName, func)\r\n        --Sets up label\r\n        local label = \"\"\r\n        if data.state==true then label=string.char(10008) end\r\n        --Creates button and counts it\r\n        self.createButton({\r\n            label=label, click_function=funcName, function_owner=self,\r\n            position=data.pos, height=data.size, width=data.size,\r\n            font_size=data.size, scale=buttonScale,\r\n            color=buttonColor, font_color=buttonFontColor\r\n        })\r\n        spawnedButtonCount = spawnedButtonCount + 1\r\n    end\r\nend\r\n\r\n--Makes counters\r\nfunction createCounter()\r\n    for i, data in ipairs(ref_buttonData.counter) do\r\n        --Sets up display\r\n        local displayNumber = spawnedButtonCount\r\n        --Sets up label\r\n        local label = data.value\r\n        --Sets height/width for display\r\n        local size = data.size\r\n        if data.hideBG == true then size = 0 end\r\n        --Creates button and counts it\r\n        self.createButton({\r\n            label=label, click_function=\"click_none\", function_owner=self,\r\n            position=data.pos, height=size, width=size,\r\n            font_size=data.size, scale=buttonScale,\r\n            color=buttonColor, font_color=buttonFontColor\r\n        })\r\n        spawnedButtonCount = spawnedButtonCount + 1\r\n\r\n        --Sets up add 1\r\n        local funcName = \"counterAdd\"..i\r\n        local func = function() click_counter(i, displayNumber, 1) end\r\n        self.setVar(funcName, func)\r\n        --Sets up label\r\n        local label = \"+\"\r\n        --Sets up position\r\n        local offsetDistance = (data.size/2 + data.size/4) * (buttonScale[1] * 0.002)\r\n        local pos = {data.pos[1] + offsetDistance, data.pos[2], data.pos[3]}\r\n        --Sets up size\r\n        local size = data.size / 2\r\n        --Creates button and counts it\r\n        self.createButton({\r\n            label=label, click_function=funcName, function_owner=self,\r\n            position=pos, height=size, width=size,\r\n            font_size=size, scale=buttonScale,\r\n            color=buttonColor, font_color=buttonFontColor\r\n        })\r\n        spawnedButtonCount = spawnedButtonCount + 1\r\n\r\n        --Sets up subtract 1\r\n        local funcName = \"counterSub\"..i\r\n        local func = function() click_counter(i, displayNumber, -1) end\r\n        self.setVar(funcName, func)\r\n        --Sets up label\r\n        local label = \"-\"\r\n        --Set up position\r\n        local pos = {data.pos[1] - offsetDistance, data.pos[2], data.pos[3]}\r\n        --Creates button and counts it\r\n        self.createButton({\r\n            label=label, click_function=funcName, function_owner=self,\r\n            position=pos, height=size, width=size,\r\n            font_size=size, scale=buttonScale,\r\n            color=buttonColor, font_color=buttonFontColor\r\n        })\r\n        spawnedButtonCount = spawnedButtonCount + 1\r\n    end\r\nend\r\n\r\nfunction createTextbox()\r\n    for i, data in ipairs(ref_buttonData.textbox) do\r\n        --Sets up reference function\r\n        local funcName = \"textbox\"..i\r\n        local func = function(_,_,val,sel) click_textbox(i,val,sel) end\r\n        self.setVar(funcName, func)\r\n\r\n        self.createInput({\r\n            input_function = funcName,\r\n            function_owner = self,\r\n            label          = data.label,\r\n            alignment      = data.alignment,\r\n            position       = data.pos,\r\n            scale          = buttonScale,\r\n            width          = data.width,\r\n            height         = (data.font_size*data.rows)+24,\r\n            font_size      = data.font_size,\r\n            color          = buttonColor,\r\n            font_color     = buttonFontColor,\r\n            value          = data.value,\r\n        })\r\n    end\r\nend",
                  "LuaScriptState": "{\"checkbox\":[{\"pos\":[0.306,0.1,0.051],\"size\":250,\"state\":false},{\"pos\":[0.35,0.1,0.114],\"size\":250,\"state\":false},{\"pos\":[0.399,0.1,0.169],\"size\":250,\"state\":false},{\"pos\":[0.455,0.1,0.221],\"size\":250,\"state\":false},{\"pos\":[0.5,0.1,0.279],\"size\":250,\"state\":false},{\"pos\":[0.54,0.1,0.334],\"size\":250,\"state\":false},{\"pos\":[0.568,0.1,0.392],\"size\":250,\"state\":false},{\"pos\":[0.604,0.1,0.457],\"size\":250,\"state\":false},{\"pos\":[0.229,0.1,-0.007],\"size\":250,\"state\":false},{\"pos\":[-0.816,0.1,0.02],\"size\":250,\"state\":false}],\"counter\":[{\"hideBG\":true,\"pos\":[-0.7,0.1,-0.45],\"size\":400,\"value\":0},{\"hideBG\":true,\"pos\":[-0.5,0.1,-0.45],\"size\":400,\"value\":0},{\"hideBG\":true,\"pos\":[-0.517,0.1,-0.55],\"size\":300,\"value\":0},{\"hideBG\":true,\"pos\":[-0.274,0.1,-0.445],\"size\":400,\"value\":0},{\"hideBG\":true,\"pos\":[-0.06,0.1,-0.445],\"size\":400,\"value\":0},{\"hideBG\":true,\"pos\":[-0.061,0.1,-0.54],\"size\":300,\"value\":0},{\"hideBG\":true,\"pos\":[0.153,0.1,-0.44],\"size\":400,\"value\":0},{\"hideBG\":true,\"pos\":[0.379,0.1,-0.44],\"size\":400,\"value\":0},{\"hideBG\":true,\"pos\":[0.38,0.1,-0.54],\"size\":300,\"value\":0},{\"hideBG\":true,\"pos\":[0.614,0.1,-0.44],\"size\":400,\"value\":0},{\"hideBG\":true,\"pos\":[0.82,0.1,-0.44],\"size\":400,\"value\":0},{\"hideBG\":true,\"pos\":[0.827,0.1,-0.54],\"size\":300,\"value\":0}],\"textbox\":[{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[-0.637,0.1,-0.7],\"rows\":1,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[-0.637,0.1,-0.625],\"rows\":1,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":100,\"label\":\"Click to type\",\"pos\":[-0.637,0.1,-0.27],\"rows\":9,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[-0.2,0.1,-0.7],\"rows\":1,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[-0.2,0.1,-0.625],\"rows\":1,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":100,\"label\":\"Click to type\",\"pos\":[-0.2,0.1,-0.27],\"rows\":9,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[0.241,0.1,-0.7],\"rows\":1,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[0.237,0.1,-0.62],\"rows\":1,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":100,\"label\":\"Click to type\",\"pos\":[0.24,0.1,-0.268],\"rows\":9,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[0.671,0.1,-0.7],\"rows\":1,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[0.671,0.1,-0.62],\"rows\":1,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":100,\"label\":\"Click to type\",\"pos\":[0.671,0.1,-0.265],\"rows\":9,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":200,\"label\":\"Click to type\",\"pos\":[-0.393,0.1,0.265],\"rows\":10,\"value\":\"\",\"width\":3200},{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[-0.417,0.1,0.881],\"rows\":4,\"value\":\"\",\"width\":3500},{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[-0.388,0.1,0.676],\"rows\":2,\"value\":\"\",\"width\":3500},{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[0.782,0.1,0.8],\"rows\":10,\"value\":\"\",\"width\":1500}]}",
                  "XmlUI": ""
                }
              }
            }
          ]
        },
        {
          "GUID": "0cf20f",
          "Name": "Custom_Model_Bag",
          "Transform": {
            "posX": 22.5,
            "posY": 0.9799972,
            "posZ": 46.5,
            "rotX": -5.093561E-06,
            "rotY": 180.0,
            "rotZ": 4.236178E-07,
            "scaleX": 1.493596,
            "scaleY": 0.310884237,
            "scaleZ": 1.63552141
          },
          "Nickname": "IV-B : Tisseuse du Cosmos",
          "Description": "Les Dévoreurs de Rêves",
          "GMNotes": "Tisseuse du Cosmos",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "CustomMesh": {
            "MeshURL": "https://raw.githubusercontent.com/RobMayer/TTSLibrary/master/advboxes/tuckbox_h_MSH.obj",
            "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/1016065725025748077/974B3E099D5428A651584B0375B814653CB9337C/",
            "NormalURL": "",
            "ColliderURL": "",
            "Convex": true,
            "MaterialIndex": 3,
            "TypeIndex": 6,
            "CustomShader": {
              "SpecularColor": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "SpecularIntensity": 0.0,
              "SpecularSharpness": 2.0,
              "FresnelStrength": 0.0
            },
            "CastShadows": true
          },
          "Bag": {
            "Order": 0
          },
          "LuaScript": "-- Utility memory bag by Directsun\r\n-- Version 2.7.0\r\n-- Fork of Memory Bag 2.0 by MrStump\r\n--\r\n-- Want to contribute? Create an issue or fork the code on GitHub and submit a pull request:\r\n-- https://github.com/sunflowermans/TTS-UtilityMemoryBag\r\n\r\n\r\nfunction updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction combineMemoryFromBagsWithin()\r\n    local bagObjList = self.getObjects()\r\n    for _, bagObj in ipairs(bagObjList) do\r\n        local data = bagObj.lua_script_state\r\n        if data ~= nil then\r\n            local j = JSON.decode(data)\r\n            if j ~= nil and j.ml ~= nil then\r\n                for guid, entry in pairs(j.ml) do\r\n                    memoryList[guid] = entry\r\n                end\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateMemoryWithMoves()\r\n    memoryList = memoryListBackup\r\n    --get the first transposed object's coordinates\r\n    local obj = getObjectFromGUID(moveGuid)\r\n\r\n    -- p1 is where needs to go, p2 is where it was\r\n    local refObjPos = memoryList[moveGuid].pos\r\n    local deltaPos = findOffsetDistance(obj.getPosition(), refObjPos, nil)\r\n    local movedRotation = obj.getRotation()\r\n    for guid, entry in pairs(memoryList) do\r\n        memoryList[guid].pos.x = entry.pos.x - deltaPos.x\r\n        memoryList[guid].pos.y = entry.pos.y - deltaPos.y\r\n        memoryList[guid].pos.z = entry.pos.z - deltaPos.z\r\n        -- memoryList[guid].rot.x = movedRotation.x\r\n        -- memoryList[guid].rot.y = movedRotation.y\r\n        -- memoryList[guid].rot.z = movedRotation.z\r\n    end\r\n\r\n    --theList[obj.getGUID()] = {\r\n    --    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n    --    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n    --    lock=obj.getLock()\r\n    --}\r\n    moveList = {}\r\nend\r\n\r\nfunction onload(saved_data)\r\n\r\n    fresh = true\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n\r\n    end\r\n\r\n    moveList = {}\r\n    moveGuid = nil\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        fresh = false\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\n function createSetupButton()\r\n    self.createButton({\r\n      label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n      position={0,0.1,-2.1}, rotation={0,0,0}, height=275, width=625,\r\n      font_size=150, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n end\r\n\r\n--Triggered by Transpose button\r\nfunction buttonClick_transpose()\r\n    moveGuid = nil\r\n    broadcastToAll(\"Select one object and move it- all objects will move relative to the new location\", {0.75, 0.75, 1})\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(true)\r\n    createSetupActionButtons(true)\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(false)\r\n    createSetupActionButtons(false)\r\nend\r\n\r\nfunction getAllObjectsInMemory()\r\n    local objTable = {}\r\n    local curObj = {}\r\n\r\n    for guid in pairs(memoryListBackup) do\r\n        curObj = getObjectFromGUID(guid)\r\n        table.insert(objTable, curObj)\r\n    end\r\n\r\n    return objTable\r\n    -- return getAllObjects()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects(move)\r\n    buttonIndexMap = {}\r\n    local howManyButtons = 0\r\n\r\n    local objsToHaveButtons = {}\r\n    if move == true then\r\n        objsToHaveButtons = getAllObjectsInMemory()\r\n    else\r\n        objsToHaveButtons = getAllObjects()\r\n    end\r\n\r\n    for _, obj in ipairs(objsToHaveButtons) do\r\n        if obj ~= self then\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1* 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor + 2\r\n            objPos.z = objPos.z * globalScaleFactor * 0.9\r\n            --Workaround for custom PDFs\r\n            if obj.Book then\r\n                objPos.y = objPos.y + 0.5\r\n            end\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(obj, move) end\r\n            local color = {0.75,0.25,0.25,0.6}\r\n            local colorMove = {0,0,1,0.6}\r\n            if move == true then\r\n                color = colorMove\r\n            end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=500, width=500,\r\n                color=color,\r\n            })\r\n            buttonIndexMap[obj.getGUID()] = howManyButtons\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons(move)\r\n    self.createButton({\r\n        label=\"Annuler\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n      position={-0.7,0.1,2.1}, rotation={0,0,0}, height=275, width=625,\r\n      font_size=145, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    self.createButton({\r\n        label=\"Valider\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={-0.7,0.3,2.6}, rotation={0,0,0}, height=275, width=625,\r\n        font_size=140, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    if move == false then\r\n      self.createButton({\r\n          label=\"Ajouter\", click_function=\"buttonClick_add\", function_owner=self,\r\n          position={0.7,0.3,2.1}, rotation={0,0,0}, height=275, width=625,\r\n          font_size=140, color={0,0,0}, font_color={0.25,1,0.25}\r\n      })\r\n\r\n        self.createButton({\r\n            label=\"Sélection\", click_function=\"editDragSelection\", function_owner=self,\r\n            position={-0.7,0.3,3.1}, rotation={0,0,0}, height=275, width=625,\r\n            font_size=125, color={0,0,0}, font_color={1,1,1}\r\n        })\r\n\r\n        if fresh == false then\r\n                self.createButton({\r\n                    label=\"Mise à jour\", click_function=\"buttonClick_setNew\", function_owner=self,\r\n                    position={0.7,0.3,3.1}, rotation={0,0,0}, height=275, width=625,\r\n                    font_size=105, color={0,0,0}, font_color={0.75,0.75,1}\r\n                })\r\n                self.createButton({\r\n                    label=\"Retirer\", click_function=\"buttonClick_remove\", function_owner=self,\r\n                    position={0.7,0.3,2.6}, rotation={0,0,0}, height=275, width=625,\r\n                    font_size=140, color={0,0,0}, font_color={1,0.25,0.25}\r\n                })\r\n            end\r\n        end\r\n\r\n        self.createButton({\r\n            label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n            position={0,0.3,-2.1}, rotation={0,0,0}, height=275, width=625,\r\n            font_size=165, color={0,0,0}, font_color={1,1,1}\r\n        })\r\n    end\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(obj, move)\r\n    local index = buttonIndexMap[obj.getGUID()]\r\n    local colorMove = {0,0,1,0.6}\r\n    local color = {0,1,0,0.6}\r\n\r\n    previousGuid = selectedGuid\r\n    selectedGuid = obj.getGUID()\r\n\r\n    theList = memoryList\r\n    if move == true then\r\n        theList = moveList\r\n        if previousGuid ~= nil and previousGuid ~= selectedGuid then\r\n            local prevObj = getObjectFromGUID(previousGuid)\r\n            prevObj.highlightOff()\r\n            self.editButton({index=previousIndex, color=colorMove})\r\n            theList[previousGuid] = nil\r\n        end\r\n        previousIndex = index\r\n    end\r\n\r\n    if theList[selectedGuid] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        theList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock(),\r\n            tint=obj.getColorTint()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        if move == true then\r\n            color = colorMove\r\n        end\r\n        self.editButton({index=index, color=color})\r\n        theList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\nfunction editDragSelection(bagObj, player, remove)\r\n    local selectedObjs = Player[player].getSelectedObjects()\r\n    if not remove then\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            --Ignore if already in the memory list, or does not have a button\r\n            if index and not memoryList[obj.getGUID()] then\r\n                self.editButton({index=index, color={0,1,0,0.6}})\r\n                --Adding pos/rot to memory table\r\n                local pos, rot = obj.getPosition(), obj.getRotation()\r\n                --I need to add it like this or it won't save due to indexing issue\r\n                memoryList[obj.getGUID()] = {\r\n                    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n                    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n                    lock=obj.getLock(),\r\n                    tint=obj.getColorTint()\r\n                }\r\n                obj.highlightOn({0,1,0})\r\n            end\r\n        end\r\n    else\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            if index and memoryList[obj.getGUID()] then\r\n                color = {0.75,0.25,0.25,0.6}\r\n                self.editButton({index=index, color=color})\r\n                memoryList[obj.getGUID()] = nil\r\n                obj.highlightOff()\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Sélection annulée\", {1,1,1})\r\n    moveGuid = nil\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    fresh = false\r\n    if next(moveList) ~= nil then\r\n        for guid in pairs(moveList) do\r\n            moveGuid = guid\r\n        end\r\n        if memoryListBackup[moveGuid] == nil then\r\n            broadcastToAll(\"Item selected for moving is not already in memory\", {1, 0.25, 0.25})\r\n        else\r\n            broadcastToAll(\"Moving all items in memory relative to new objects position!\", {0.75, 0.75, 1})\r\n            self.clearButtons()\r\n            self.clearInputs()\r\n            createMemoryActionButtons()\r\n            local count = 0\r\n            for guid in pairs(moveList) do\r\n                moveGuid = guid\r\n                count = count + 1\r\n                local obj = getObjectFromGUID(guid)\r\n                if obj ~= nil then obj.highlightOff() end\r\n            end\r\n            updateMemoryWithMoves()\r\n            updateSave()\r\n            buttonClick_place()\r\n        end\r\n    elseif next(memoryList) == nil and moveGuid == nil then\r\n        memoryList = memoryListBackup\r\n        broadcastToAll(\"No selections made.\", {0.75, 0.25, 0.25})\r\n    end\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\n    moveGuid = nil\r\nend\r\n\r\nfunction combineTables(first_table, second_table)\r\n    for k,v in pairs(second_table) do first_table[k] = v end\r\nend\r\n\r\nfunction buttonClick_add()\r\n    fresh = false\r\n    combineTables(memoryList, memoryListBackup)\r\n    broadcastToAll(\"Adding internal bags and selections to existing memory\", {0.25, 0.75, 0.25})\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_remove()\r\n    broadcastToAll(\"Removing Selected Entries From Memory\", {1.0, 0.25, 0.25})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        memoryListBackup[guid] = nil\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Removed\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_setNew()\r\n    broadcastToAll(\"Setting new position relative to items in memory\", {0.75, 0.75, 1})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        guid = obj.guid\r\n        if memoryListBackup[guid] ~= nil then\r\n            count = count + 1\r\n            memoryListBackup[guid].pos = obj.getPosition()\r\n            memoryListBackup[guid].rot = obj.getRotation()\r\n            memoryListBackup[guid].lock = obj.getLock()\r\n            memoryListBackup[guid].tint = obj.getColorTint()\r\n        end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    fresh = true\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Placer\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0.7,0.1,2.2}, rotation={0,0,0}, height=275, width=625,\r\n        font_size=150, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Ranger\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={-0.7,0.1,2.2}, rotation={0,0,0}, height=275, width=625,\r\n        font_size=150, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.1,-2.2}, rotation={0,0,0}, height=275, width=625,\r\n        font_size=150, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    ---    self.createButton({\r\n    ---      label=\"Bouger\", click_function=\"buttonClick_transpose\", function_owner=self,\r\n    ---      position={-2,0.3,0.8}, rotation={0,270,0}, height=350, width=800,\r\n    ---      font_size=250, color={0,0,0}, font_color={0.75,0.75,1}\r\n    ---\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n            obj.setColorTint(entry.tint)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot, smooth=false\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    item.setColorTint(entry.tint)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objets placés\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objets rangés\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local yOffset = 0\r\n    if obj ~= nil then\r\n        local bounds = obj.getBounds()\r\n        yOffset = (bounds.size.y - bounds.offset.y)\r\n    end\r\n    local deltaPos = {}\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + yOffset\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n    local objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n    local x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n    local z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n    --return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\nfunction rotateMyCoordinates(desiredPos, obj)\r\n    local angle = math.rad(obj.getRotation().y)\r\n    local x = desiredPos.x * math.sin(angle)\r\n    local z = desiredPos.z * math.cos(angle)\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n    local mult = 10^(dec or 0)\r\n    return math.floor(num * mult + 0.5) / mult\r\nend\r\n\r\n\r\n--[[\r\nThis object provides access to a variable stored on the \"Global script\".\r\nThe variable holds the GUIDs for every Utility Memory Bag in the scene.\r\nExample:\r\n{'805ebd', '35cc21', 'fc8886', 'f50264', '5f5f63'}\r\n--]]\r\nAllMemoryBagsInScene = {\r\n    NAME_OF_GLOBAL_VARIABLE = \"_UtilityMemoryBag_AllMemoryBagsInScene\"\r\n}\r\n\r\nfunction AllMemoryBagsInScene:add(guid)\r\n    local guids = Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\n    table.insert(guids, guid)\r\n    Global.setTable(self.NAME_OF_GLOBAL_VARIABLE, guids)\r\nend\r\n\r\nfunction AllMemoryBagsInScene:getGuidList()\r\n    return Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\nend",
          "LuaScriptState": "{\"ml\":{\"081cad\":{\"lock\":false,\"pos\":{\"x\":6.06420707702637,\"y\":1.51852142810822,\"z\":11.3677043914795},\"rot\":{\"x\":0.0108898160979152,\"y\":180.020263671875,\"z\":0.00495207216590643},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"0878ee\":{\"lock\":false,\"pos\":{\"x\":10.0011,\"y\":1.5554,\"z\":15.5011},\"rot\":{\"x\":359.9913,\"y\":299.9584,\"z\":0.0069},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"096eb9\":{\"lock\":false,\"pos\":{\"x\":-25.3807964324951,\"y\":1.82890474796295,\"z\":7.9993634223938},\"rot\":{\"x\":6.06437470196397E-06,\"y\":180.033981323242,\"z\":-1.21974471767317E-05},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"12d7a6\":{\"lock\":false,\"pos\":{\"x\":6,\"y\":1.5202,\"z\":20},\"rot\":{\"x\":0.0109,\"y\":180.0221,\"z\":180.005},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"1aa349\":{\"lock\":false,\"pos\":{\"x\":-7.50000143051147,\"y\":1.52114379405975,\"z\":19.0000038146973},\"rot\":{\"x\":0.0108927506953478,\"y\":179.984558105469,\"z\":0.00494533311575651},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"1c2f81\":{\"lock\":false,\"pos\":{\"x\":12,\"y\":1.5193,\"z\":18},\"rot\":{\"x\":0.0109,\"y\":180.0239,\"z\":180.005},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"1d7532\":{\"lock\":false,\"pos\":{\"x\":30.4999942779541,\"y\":1.69062042236328,\"z\":-3.00000023841858},\"rot\":{\"x\":-0.000591127667576075,\"y\":180.000778198242,\"z\":180.001068115234},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"24499d\":{\"lock\":false,\"pos\":{\"x\":-0.0003,\"y\":1.5178,\"z\":5},\"rot\":{\"x\":0.0109,\"y\":180.0274,\"z\":180.005},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"2c3bb7\":{\"lock\":false,\"pos\":{\"x\":12.501,\"y\":1.5364,\"z\":-6.0168},\"rot\":{\"x\":0.0049,\"y\":90,\"z\":359.9891},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"2e009f\":{\"lock\":false,\"pos\":{\"x\":-34.0024032592773,\"y\":1.77890622615814,\"z\":3.00001573562622},\"rot\":{\"x\":-2.81644206552301E-05,\"y\":179.982788085938,\"z\":2.91230498987716E-05},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"38a399\":{\"lock\":false,\"pos\":{\"x\":-31.0375270843506,\"y\":1.88041186332703,\"z\":3.00158905982971},\"rot\":{\"x\":0.0398445092141628,\"y\":179.952041625977,\"z\":3.36191964149475},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"393334\":{\"lock\":false,\"pos\":{\"x\":12,\"y\":1.5543,\"z\":11},\"rot\":{\"x\":359.9891,\"y\":359.9929,\"z\":-0.0049},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"3c7309\":{\"lock\":false,\"pos\":{\"x\":-21.1282157897949,\"y\":1.76630115509033,\"z\":5.54764175415039},\"rot\":{\"x\":3.4106938073819E-06,\"y\":0.000397051480831578,\"z\":3.71264093246282E-07},\"tint\":{\"a\":0,\"b\":0,\"g\":0,\"r\":0}},\"443ac4\":{\"lock\":false,\"pos\":{\"x\":14,\"y\":1.5178,\"z\":11},\"rot\":{\"x\":0.0109,\"y\":180.0211,\"z\":180.005},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"48ccce\":{\"lock\":false,\"pos\":{\"x\":6.5,\"y\":1.5538,\"z\":5.5},\"rot\":{\"x\":0.0049,\"y\":90.0048,\"z\":359.9891},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"496044\":{\"lock\":false,\"pos\":{\"x\":12.5009880065918,\"y\":1.53642880916595,\"z\":-6.0168399810791},\"rot\":{\"x\":0.00495091266930103,\"y\":90.0160903930664,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"51aff9\":{\"lock\":false,\"pos\":{\"x\":-7.50000143051147,\"y\":1.52000319957733,\"z\":13.0000028610229},\"rot\":{\"x\":0.0108921276405454,\"y\":179.993530273438,\"z\":0.00494728283956647},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"559d63\":{\"lock\":false,\"pos\":{\"x\":-29.26318359375,\"y\":1.8934577703476,\"z\":3.00224280357361},\"rot\":{\"x\":0.0217263419181108,\"y\":179.977737426758,\"z\":2.19973158836365},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"56d9e9\":{\"lock\":false,\"pos\":{\"x\":-28.0792045593262,\"y\":1.81973397731781,\"z\":3.00291800498962},\"rot\":{\"x\":0.00460842903703451,\"y\":179.987243652344,\"z\":2.20409941673279},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"5fd6e2\":{\"lock\":false,\"pos\":{\"x\":8.36648273468018,\"y\":1.51861798763275,\"z\":12.9213743209839},\"rot\":{\"x\":0.0108897741883993,\"y\":180.020492553711,\"z\":0.0049521024338901},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"6219c9\":{\"lock\":false,\"pos\":{\"x\":-2.0003,\"y\":1.5191,\"z\":11},\"rot\":{\"x\":0.0109,\"y\":180.0247,\"z\":180.005},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"64ce31\":{\"lock\":false,\"pos\":{\"x\":-31.6230068206787,\"y\":1.88711595535278,\"z\":3.00067138671875},\"rot\":{\"x\":0.0218034330755472,\"y\":180.045806884766,\"z\":3.45216178894043},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"6be872\":{\"lock\":false,\"pos\":{\"x\":3.76153087615967,\"y\":1.51842653751373,\"z\":9.82211399078369},\"rot\":{\"x\":0.0108900321647525,\"y\":180.016906738281,\"z\":0.00495137041434646},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"6bf7e4\":{\"lock\":false,\"pos\":{\"x\":-29.8515510559082,\"y\":1.93971133232117,\"z\":3.0022988319397},\"rot\":{\"x\":0.0178929660469294,\"y\":179.983627319336,\"z\":3.48585963249207},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"73959b\":{\"lock\":false,\"pos\":{\"x\":3,\"y\":1.5018,\"z\":-6.5},\"rot\":{\"x\":0.0109,\"y\":180.0062,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.701960802078247,\"g\":0.800000011920929,\"r\":0.874509811401367}},\"77bfe4\":{\"lock\":false,\"pos\":{\"x\":-26.0002021789551,\"y\":1.77890539169312,\"z\":7.99977016448975},\"rot\":{\"x\":-1.15218426799402E-06,\"y\":180.034240722656,\"z\":-2.65510425379034E-05},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"80c67b\":{\"lock\":false,\"pos\":{\"x\":17.5,\"y\":1.5148,\"z\":-3.0002},\"rot\":{\"x\":0.0049,\"y\":90.0008,\"z\":359.9891},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"857b50\":{\"lock\":false,\"pos\":{\"x\":2,\"y\":1.5545,\"z\":7.5},\"rot\":{\"x\":0.0088,\"y\":119.9968,\"z\":359.9929},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"875fcc\":{\"lock\":false,\"pos\":{\"x\":-33.4040374755859,\"y\":1.83768260478973,\"z\":2.99986457824707},\"rot\":{\"x\":0.011374575085938,\"y\":179.981811523438,\"z\":3.17524790763855},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"8be3cd\":{\"lock\":false,\"pos\":{\"x\":-21.0015850067139,\"y\":1.83530128002167,\"z\":3.50020217895508},\"rot\":{\"x\":-5.18581737196655E-06,\"y\":179.995162963867,\"z\":-1.19002834253479E-07},\"tint\":{\"a\":1,\"b\":0,\"g\":0,\"r\":0.614982545375824}},\"92e168\":{\"lock\":false,\"pos\":{\"x\":-7.50000143051147,\"y\":1.51886260509491,\"z\":7.00000333786011},\"rot\":{\"x\":0.0108929593116045,\"y\":179.982025146484,\"z\":0.00494485395029187},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"93379a\":{\"lock\":false,\"pos\":{\"x\":0,\"y\":1.5554,\"z\":11},\"rot\":{\"x\":0.011,\"y\":180.0114,\"z\":0.005},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"950c59\":{\"lock\":false,\"pos\":{\"x\":23.5013389587402,\"y\":1.51380479335785,\"z\":-5.52294683456421},\"rot\":{\"x\":0.0108915213495493,\"y\":179.999649047852,\"z\":0.00494825234636664},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"98f904\":{\"lock\":false,\"pos\":{\"x\":-30.4449768066406,\"y\":1.91317284107208,\"z\":3.00242447853088},\"rot\":{\"x\":0.0355362929403782,\"y\":179.960739135742,\"z\":3.07398438453674},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"9a7469\":{\"lock\":false,\"pos\":{\"x\":2,\"y\":1.5561,\"z\":15.5},\"rot\":{\"x\":0.0012,\"y\":240.0049,\"z\":0.0119},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"9d5f69\":{\"lock\":false,\"pos\":{\"x\":3.76584553718567,\"y\":1.51903057098389,\"z\":13.0017881393433},\"rot\":{\"x\":0.0108903925865889,\"y\":180.012496948242,\"z\":0.00495062163099647},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"a88d34\":{\"lock\":false,\"pos\":{\"x\":3,\"y\":1.5016,\"z\":-7.5},\"rot\":{\"x\":0.0109,\"y\":179.9919,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"c28ccf\":{\"lock\":false,\"pos\":{\"x\":-28.6708240509033,\"y\":1.89680063724518,\"z\":3.00261187553406},\"rot\":{\"x\":359.968139648438,\"y\":179.922409057617,\"z\":3.18128252029419},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"c6350a\":{\"lock\":false,\"pos\":{\"x\":0,\"y\":1.5203,\"z\":18},\"rot\":{\"x\":0.0109,\"y\":180.0214,\"z\":180.005},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"c6ab44\":{\"lock\":false,\"pos\":{\"x\":8.36726379394531,\"y\":1.51801478862762,\"z\":9.74867725372314},\"rot\":{\"x\":0.0108899967744946,\"y\":180.017501831055,\"z\":0.00495144817978144},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"c84865\":{\"lock\":false,\"pos\":{\"x\":-32.8105659484863,\"y\":1.86727631092072,\"z\":2.99991869926453},\"rot\":{\"x\":0.00236783875152469,\"y\":179.973693847656,\"z\":3.5221164226532},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"ca83a4\":{\"lock\":false,\"pos\":{\"x\":12,\"y\":1.5167,\"z\":4.5},\"rot\":{\"x\":0.0109,\"y\":180.0199,\"z\":180.005},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"cbfd62\":{\"lock\":false,\"pos\":{\"x\":10.0007,\"y\":1.5537,\"z\":6.9988},\"rot\":{\"x\":-0.0012,\"y\":59.9763,\"z\":359.9881},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"cde658\":{\"lock\":false,\"pos\":{\"x\":-20.8600578308105,\"y\":1.76630067825317,\"z\":11.7094526290894},\"rot\":{\"x\":4.80383323520073E-06,\"y\":0.00029050069861114,\"z\":3.25781712717799E-08},\"tint\":{\"a\":0,\"b\":0,\"g\":0,\"r\":0}},\"d18b51\":{\"lock\":false,\"pos\":{\"x\":17.501,\"y\":1.536,\"z\":-6.0196},\"rot\":{\"x\":0.005,\"y\":90.0147,\"z\":359.9891},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"df7711\":{\"lock\":false,\"pos\":{\"x\":17.5009937286377,\"y\":1.53599643707275,\"z\":-6.0196008682251},\"rot\":{\"x\":0.00495074642822146,\"y\":90.0145416259766,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"ee49d6\":{\"lock\":false,\"pos\":{\"x\":5.9974,\"y\":1.556,\"z\":17.0008},\"rot\":{\"x\":-0.005,\"y\":270.1228,\"z\":0.0109},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"f0f767\":{\"lock\":false,\"pos\":{\"x\":-7.50000143051147,\"y\":1.51772212982178,\"z\":1.0000022649765},\"rot\":{\"x\":0.0108921779319644,\"y\":179.99299621582,\"z\":0.00494701229035854},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"f48f0c\":{\"lock\":false,\"pos\":{\"x\":-32.2170791625977,\"y\":1.85785448551178,\"z\":3.00055313110352},\"rot\":{\"x\":0.0271779634058475,\"y\":179.978424072266,\"z\":3.49419045448303},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"f585ad\":{\"lock\":false,\"pos\":{\"x\":6,\"y\":1.5168,\"z\":2.5},\"rot\":{\"x\":0.0109,\"y\":180.0224,\"z\":180.005},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"fcb707\":{\"lock\":false,\"pos\":{\"x\":-21.0074634552002,\"y\":1.83534371852875,\"z\":10.0040149688721},\"rot\":{\"x\":-4.61253148387186E-06,\"y\":179.985473632813,\"z\":6.98275528066006E-07},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}}}}",
          "XmlUI": "",
          "ContainedObjects": [
            {
              "GUID": "1d7532",
              "Name": "Deck",
              "Transform": {
                "posX": 30.4999943,
                "posY": 1.64616406,
                "posZ": -3.00000048,
                "rotX": -0.0005912919,
                "rotY": 180.000778,
                "rotZ": 180.001068,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Deck Rencontre",
              "Description": "Tisseuse du Cosmos",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": false,
              "SidewaysCard": false,
              "DeckIDs": [
                17201,
                17202,
                17338,
                17204,
                15702,
                15703,
                15704,
                276617,
                276618,
                564414,
                276619,
                276620,
                276621,
                276622,
                276648,
                276649,
                276650,
                276651,
                564424,
                564423,
                564422,
                564421,
                564420,
                564419,
                564415,
                564416
              ],
              "CustomDeck": {
                "172": {
                  "FaceURL": "https://i.imgur.com/f8FRV80.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                },
                "173": {
                  "FaceURL": "https://i.imgur.com/7H57eeO.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                },
                "157": {
                  "FaceURL": "https://i.imgur.com/7H57eeO.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                },
                "2766": {
                  "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                },
                "5644": {
                  "FaceURL": "https://i.imgur.com/mxwsEYQ.jpg",
                  "BackURL": "https://i.imgur.com/sVmefR9.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "082199",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.4999943,
                    "posY": 9.546023,
                    "posZ": -3.00000024,
                    "rotX": -0.0005909951,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Brouilard Couvrant",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"01168\",\n  \"traits\": \"Hazard.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 17201,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "172": {
                      "FaceURL": "https://i.imgur.com/f8FRV80.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "cc1997",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.4999943,
                    "posY": 9.346024,
                    "posZ": -3.00000024,
                    "rotX": -0.0005909951,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Brouilard Couvrant",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"01168\",\n  \"traits\": \"Hazard.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 17202,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "172": {
                      "FaceURL": "https://i.imgur.com/f8FRV80.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "3ec405",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.4999943,
                    "posY": 8.798504,
                    "posZ": -3.00000024,
                    "rotX": -0.000590641634,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Froid de la Crypte",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"01167\",\n  \"traits\": \"Hazard.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 17338,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "173": {
                      "FaceURL": "https://i.imgur.com/7H57eeO.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "4214a2",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.4999943,
                    "posY": 8.946023,
                    "posZ": -3.00000024,
                    "rotX": -0.0005909951,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Froid de la Crypte",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"01167\",\n  \"traits\": \"Hazard.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 17204,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "172": {
                      "FaceURL": "https://i.imgur.com/f8FRV80.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "1c3c50",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.4999943,
                    "posY": 8.746023,
                    "posZ": -3.00000024,
                    "rotX": -0.0005909951,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Antiques Fléaux",
                  "Description": "",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"01166\",\n  \"traits\": \"Omen.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 15702,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "157": {
                      "FaceURL": "https://i.imgur.com/7H57eeO.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "67cfd5",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.4999943,
                    "posY": 8.546023,
                    "posZ": -3.00000024,
                    "rotX": -0.0005909951,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Antiques Fléaux",
                  "Description": "",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"01166\",\n  \"traits\": \"Omen.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 15703,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "157": {
                      "FaceURL": "https://i.imgur.com/7H57eeO.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "7b9eb5",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.4999943,
                    "posY": 8.346024,
                    "posZ": -3.00000024,
                    "rotX": -0.0005909951,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Antiques Fléaux",
                  "Description": "",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"01166\",\n  \"traits\": \"Omen.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 15704,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "157": {
                      "FaceURL": "https://i.imgur.com/7H57eeO.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "83bcf0",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.4999943,
                    "posY": 8.146023,
                    "posZ": -3.00000024,
                    "rotX": -0.0005909951,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Toiles Répugnantes",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06103\",\n  \"traits\": \"Obstacle.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276617,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "e68b8c",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.4999943,
                    "posY": 7.946023,
                    "posZ": -3.00000024,
                    "rotX": -0.0005909951,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Toiles Répugnantes",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06103\",\n  \"traits\": \"Obstacle.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276618,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "065e27",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.4999943,
                    "posY": 5.65291452,
                    "posZ": -3.00000048,
                    "rotX": -0.000590008858,
                    "rotY": 180.000763,
                    "rotZ": 180.001053,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Fileuse de Toiles",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 2,\n  \"id\": \"06351\",\n  \"traits\": \"Monster. Spider.\",\n  \"type\": \"Enemy\",\n  \"uses\": {\n    \"count\": 0,\n    \"token\": \"doom\",\n    \"type\": \"Doom\"\n  }\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 564414,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "5644": {
                      "FaceURL": "https://i.imgur.com/mxwsEYQ.jpg",
                      "BackURL": "https://i.imgur.com/sVmefR9.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "5226a1",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.4999943,
                    "posY": 7.39850426,
                    "posZ": -3.00000024,
                    "rotX": -0.0005905299,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Nuée d'Araignées",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 1,\n  \"id\": \"06102\",\n  \"traits\": \"Creature. Spider.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276619,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "d665d9",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.4999943,
                    "posY": 7.54602337,
                    "posZ": -3.00000024,
                    "rotX": -0.0005909951,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Nuée d'Araignées",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 1,\n  \"id\": \"06102\",\n  \"traits\": \"Creature. Spider.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276620,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "daef63",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.4999943,
                    "posY": 7.34602356,
                    "posZ": -3.00000024,
                    "rotX": -0.0005909951,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Nuée d'Araignées",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 1,\n  \"id\": \"06102\",\n  \"traits\": \"Creature. Spider.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276621,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "16599b",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.4999943,
                    "posY": 6.79849863,
                    "posZ": -3.00000024,
                    "rotX": -0.000284325535,
                    "rotY": 180.000763,
                    "rotZ": 180.000931,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Araignée de Leng",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 4,\n  \"id\": \"06101\",\n  \"traits\": \"Monster. Spider.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276622,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "ac3060",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.4999943,
                    "posY": 6.946024,
                    "posZ": -3.00000024,
                    "rotX": -0.0005909951,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Volonté de la Mère-Araignée",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06085\",\n  \"traits\": \"Power.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276648,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "09c514",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.4999943,
                    "posY": 6.746024,
                    "posZ": -3.00000024,
                    "rotX": -0.0005909951,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Volonté de la Mère-Araignée",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06085\",\n  \"traits\": \"Power.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276649,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "a2860e",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.4999943,
                    "posY": 6.1985054,
                    "posZ": -3.00000024,
                    "rotX": -0.000590579933,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Tisseuse Grise",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 5,\n  \"id\": \"06084\",\n  \"traits\": \"Monster. Spider.\",\n  \"type\": \"Enemy\",\n  \"victory\": 1\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276650,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "66449c",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.4999943,
                    "posY": 6.346024,
                    "posZ": -3.00000024,
                    "rotX": -0.0005909951,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Tisseuse Grise",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 5,\n  \"id\": \"06084\",\n  \"traits\": \"Monster. Spider.\",\n  \"type\": \"Enemy\",\n  \"victory\": 1\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276651,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "6b5578",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.4999943,
                    "posY": 6.146024,
                    "posZ": -3.00000024,
                    "rotX": -0.0005909951,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Tissage Éternel",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06354\",\n  \"traits\": \"Scheme.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 564424,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "5644": {
                      "FaceURL": "https://i.imgur.com/mxwsEYQ.jpg",
                      "BackURL": "https://i.imgur.com/sVmefR9.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "bef7dc",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.4999943,
                    "posY": 5.946024,
                    "posZ": -3.00000024,
                    "rotX": -0.0005909951,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Tissage Éternel",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06354\",\n  \"traits\": \"Scheme.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 564423,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "5644": {
                      "FaceURL": "https://i.imgur.com/mxwsEYQ.jpg",
                      "BackURL": "https://i.imgur.com/sVmefR9.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "6ee678",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.4999943,
                    "posY": 5.746024,
                    "posZ": -3.00000024,
                    "rotX": -0.0005909951,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Tissage Éternel",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06354\",\n  \"traits\": \"Scheme.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 564422,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "5644": {
                      "FaceURL": "https://i.imgur.com/mxwsEYQ.jpg",
                      "BackURL": "https://i.imgur.com/sVmefR9.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "7d9f91",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.4999943,
                    "posY": 5.54602432,
                    "posZ": -3.00000024,
                    "rotX": -0.0005909951,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Pris dans la Toile",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06353\",\n  \"traits\": \"Hazard.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 564421,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "5644": {
                      "FaceURL": "https://i.imgur.com/mxwsEYQ.jpg",
                      "BackURL": "https://i.imgur.com/sVmefR9.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "756103",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.4999943,
                    "posY": 5.346024,
                    "posZ": -3.00000024,
                    "rotX": -0.0005909951,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Pris dans la Toile",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06353\",\n  \"traits\": \"Hazard.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 564420,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "5644": {
                      "FaceURL": "https://i.imgur.com/mxwsEYQ.jpg",
                      "BackURL": "https://i.imgur.com/sVmefR9.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "48c867",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.4999943,
                    "posY": 4.79850531,
                    "posZ": -3.00000024,
                    "rotX": -0.0005906543,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Pris dans la Toile",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06353\",\n  \"traits\": \"Hazard.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 564419,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "5644": {
                      "FaceURL": "https://i.imgur.com/mxwsEYQ.jpg",
                      "BackURL": "https://i.imgur.com/sVmefR9.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "840de6",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.4999943,
                    "posY": 4.946024,
                    "posZ": -3.00000024,
                    "rotX": -0.0005909951,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Fileuse de Toiles",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 2,\n  \"id\": \"06351\",\n  \"traits\": \"Monster. Spider.\",\n  \"type\": \"Enemy\",\n  \"uses\": {\n    \"count\": 0,\n    \"token\": \"doom\",\n    \"type\": \"Doom\"\n  }\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 564415,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "5644": {
                      "FaceURL": "https://i.imgur.com/mxwsEYQ.jpg",
                      "BackURL": "https://i.imgur.com/sVmefR9.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "1ddb02",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.4999943,
                    "posY": 4.746024,
                    "posZ": -3.00000024,
                    "rotX": -0.0005909951,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Fileuse de Toiles",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 2,\n  \"id\": \"06351\",\n  \"traits\": \"Monster. Spider.\",\n  \"type\": \"Enemy\",\n  \"uses\": {\n    \"count\": 0,\n    \"token\": \"doom\",\n    \"type\": \"Doom\"\n  }\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 564416,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "5644": {
                      "FaceURL": "https://i.imgur.com/mxwsEYQ.jpg",
                      "BackURL": "https://i.imgur.com/sVmefR9.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "2c3bb7",
              "Name": "Deck",
              "Transform": {
                "posX": 12.5010023,
                "posY": 1.53642881,
                "posZ": -6.0168004,
                "rotX": 0.00494813127,
                "rotY": 90.00005,
                "rotZ": 359.9891,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": false,
              "SidewaysCard": true,
              "DeckIDs": [
                275902,
                275901,
                275900
              ],
              "CustomDeck": {
                "2759": {
                  "FaceURL": "https://i.imgur.com/OrKGKDu.jpg",
                  "BackURL": "https://i.imgur.com/XpdBKu0.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "84bce8",
                  "Name": "Card",
                  "Transform": {
                    "posX": 12.5009985,
                    "posY": 4.79183245,
                    "posZ": -6.01679754,
                    "rotX": 0.004948008,
                    "rotY": 89.99999,
                    "rotZ": 359.9891,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Réalités Entrelacées",
                  "Description": "Intrigue 3a",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"doomThreshold\": 11,\n  \"id\": \"06336\",\n  \"type\": \"Agenda\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 275902,
                  "SidewaysCard": true,
                  "CustomDeck": {
                    "2759": {
                      "FaceURL": "https://i.imgur.com/OrKGKDu.jpg",
                      "BackURL": "https://i.imgur.com/XpdBKu0.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "1b0254",
                  "Name": "Card",
                  "Transform": {
                    "posX": 12.5009985,
                    "posY": 4.59183264,
                    "posZ": -6.01679754,
                    "rotX": 0.004948008,
                    "rotY": 89.99999,
                    "rotZ": 359.9891,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Une Traînée de Nœuds",
                  "Description": "Intrigue 2a",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"doomThreshold\": 9,\n  \"id\": \"06335\",\n  \"type\": \"Agenda\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 275901,
                  "SidewaysCard": true,
                  "CustomDeck": {
                    "2759": {
                      "FaceURL": "https://i.imgur.com/OrKGKDu.jpg",
                      "BackURL": "https://i.imgur.com/XpdBKu0.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "15bc2a",
                  "Name": "Card",
                  "Transform": {
                    "posX": 12.5010052,
                    "posY": 1.61313283,
                    "posZ": -6.016813,
                    "rotX": 0.00454802532,
                    "rotY": 89.99999,
                    "rotZ": 359.9869,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Le Pont de Toiles",
                  "Description": "Intrigue 1a",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"doomThreshold\": 7,\n  \"id\": \"06334\",\n  \"type\": \"Agenda\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 275900,
                  "SidewaysCard": true,
                  "CustomDeck": {
                    "2759": {
                      "FaceURL": "https://i.imgur.com/OrKGKDu.jpg",
                      "BackURL": "https://i.imgur.com/XpdBKu0.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "3c7309",
              "Name": "Custom_Model",
              "Transform": {
                "posX": -21.1282177,
                "posY": 1.771001,
                "posZ": 5.547641,
                "rotX": 5.093835E-06,
                "rotY": 0.000484084972,
                "rotZ": -7.764351E-08,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "La Grande Toile",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.0,
                "g": 0.0,
                "b": 0.0,
                "a": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": false,
              "Snap": false,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": false,
              "Tooltip": false,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/1478820768302617365/27883B7913E0E69143C3AA03493B7E7C4E8C29C0/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 1,
                "TypeIndex": 0,
                "CastShadows": true
              },
              "LuaScript": "-- Code for bag to identify text tool objects\r\nmovableTextTool_cowgoesmoo33 = true\r\n\r\n-- Number of characters before the text box width expands.\r\nEXPAND_INTERVAL = 20\r\n\r\n-- This table controls what is passed between save/load\r\ndata = {}\r\n\r\nfunction onLoad(saved_data)\r\n  if saved_data ~= '' then\r\n    data = JSON.decode(saved_data)\r\n    if data.text ~= '' then\r\n      self.interactable = data.interactable\r\n      staticMode()\r\n      return\r\n    end\r\n  else\r\n    data = {size=200, color=Color(0,0,0), text='', interactable=true,\r\n        enter_to_finish=false, autolock=false, autolift=false,\r\n        hover_height=0.05, box_transparency=1}\r\n  end\r\n\r\n  inputMode()\r\nend\r\n\r\n-- True if in the middle of delay after pressing Enter (with enter_to_finish on)\r\nfinishing = false\r\nfunction input_func(obj, color, input, stillEditing)\r\n  local params = getBox(input)\r\n  if params then\r\n    params.value = input\r\n    self.editInput(params)\r\n  end\r\n\r\n  if not stillEditing then\r\n    data.text = input\r\n    updateState()\r\n    if input ~= '' then staticMode(color) end\r\n  elseif data.enter_to_finish then\r\n    -- If enter is pressed: remove last newline and force finish\r\n    if not finishing and input:sub(-1) == '\\n' then\r\n      finishing = true\r\n      -- Delay to avoid user's Enter keypress being detected (opens chat box)\r\n      Wait.frames(function()\r\n        input = input:sub(1, -2)\r\n        data.text = input\r\n        updateState()\r\n        if input ~= '' then staticMode(color) else inputMode() end\r\n        finishing = false\r\n      end, 10)\r\n    end\r\n  end\r\nend\r\n\r\n-- When the inpupt box appears and lets the player type in it.\r\nfunction inputMode()\r\n  self.clearContextMenu()\r\n  self.clearInputs()\r\n  self.clearButtons()\r\n\r\n  local size = getBox(data.text, true)\r\n\r\n  self.createInput({\r\n    input_function = \"input_func\",\r\n    function_owner = self,\r\n    label          = \"Type Here\",\r\n    alignment      = 3,\r\n    position       = {x=0, y=data.hover_height, z=0},\r\n    rotation       = {0, 180, 0},\r\n    width          = size.width,\r\n    height         = size.height,\r\n    color          = getBackground(data.color),\r\n    font_color     = data.color,\r\n    font_size      = data.size,\r\n    value          = data.text,\r\n  })\r\n\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\nend\r\n\r\n-- When the input box disappears and displays the text.\r\nfunction staticMode(player)\r\n  self.clearContextMenu()\r\n  if data.autolock then\r\n    self.locked = true\r\n  end\r\n  if self.getInputs() and #self.getInputs() ~= 0 then\r\n    self.removeInput(0)\r\n  end\r\n\r\n  -- Clear from selecting player\r\n  if player then\r\n    self.removeFromPlayerSelection(player)\r\n  end\r\n\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  self.createButton({\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=self,\r\n    position={0,data.hover_height,0}, rotation={0,180,0}, height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  })\r\n\r\n  self.addContextMenuItem('Edit Text', function(color)\r\n    self.removeFromPlayerSelection(color)\r\n    inputMode()\r\n  end)\r\n  self.addContextMenuItem('Clear', function(color)\r\n    applyMultiple(color, 'clear', _, true)\r\n  end)\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\n  self.addContextMenuItem('Permanently Attach', attemptAttach)\r\n  self.addContextMenuItem('Permalock', function(color)\r\n    applyMultiple(color, 'permalock', _, true)\r\n  end)\r\nend\r\n\r\nfunction changeSize(params)\r\n  local delta = params[1]\r\n  local newSize = data.size + delta\r\n  if newSize > 800  or newSize < 50 then\r\n    return\r\n  end\r\n  data.size = newSize\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_size=data.size})\r\n  else\r\n    local size = getBox(data.text, true)\r\n    self.editInput({width=size.width, height=size.height, font_size=data.size})\r\n  end\r\nend\r\n\r\nfunction setColor(params)\r\n  if params and params[1] then\r\n    data.color = params[1]\r\n  else\r\n    data.color = self.getColorTint():setAt('a', 1) -- Take on color of object tint\r\n  end\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_color=data.color})\r\n  else\r\n    self.editInput({font_color=data.color, color=getBackground(data.color)})\r\n  end\r\nend\r\n\r\nfunction getBackground(color) --determines whether to use black or white depending on luminance\r\n  local r,g,b = Color(color):get()\r\n\r\n  local lum = 0.2126*r + 0.7152*g + 0.0722*b\r\n  if lum > 0.75 then\r\n    return {0.2,0.2,0.2, data.box_transparency}\r\n  else\r\n    return {1,1,1, data.box_transparency}\r\n  end\r\nend\r\n\r\nfunction clear()\r\n  data.text = ''\r\n  updateState()\r\n  inputMode()\r\nend\r\n\r\nfunction permalock()\r\n  self.interactable = false\r\n  data.interactable = false\r\n  updateState()\r\nend\r\n\r\nlocal target_script = [[\r\nfunction onLoad(script_state)\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    for _,entry in ipairs(state) do\r\n      self.createButton(entry)\r\n    end\r\n    self.addContextMenuItem('Clear All Text', function(color)\r\n      self.clearContextMenu()\r\n      self.clearButtons()\r\n      self.script_state = ''\r\n      self.script_code = ''\r\n    end)\r\n  end\r\nend\r\n]]\r\n\r\nfunction attemptAttach(player_color)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  local attachee\r\n  local attachers = {}\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if obj ~= self then\r\n        table.insert(attachers, obj)\r\n      end\r\n    else\r\n      if attachee then\r\n        broadcastToColor(\"More than one target selected.\", player_color)\r\n        return\r\n      else\r\n        attachee = obj\r\n      end\r\n    end\r\n  end\r\n  if attachee then\r\n    local code = attachee.script_code\r\n    if code and code ~= '' and code ~= target_script then\r\n      broadcastToColor(\"Warning: script on card has been overriden. Rewind time to undo.\", player_color)\r\n    end\r\n    for i,attacher in ipairs(attachers) do\r\n      attacher.call('attach', {target = attachee})\r\n    end\r\n    attach({target = attachee})\r\n    local type, flip = attachee.type, attachee.getRotation().z\r\n    if (type == 'Card' or type == 'Deck') and flip > 175 and flip < 185 then\r\n      broadcastToColor(\"Warning: text will not display if card or deck is facing down.\", player_color)\r\n    end\r\n  else\r\n    broadcastToColor(\"You must have a target object in your selection (using click-and-drag or Ctrl+Click) to use this option.\", player_color)\r\n  end\r\nend\r\n\r\nfunction attach(params)\r\n  local target = params.target\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  local textRotation = self.getRotation():sub(target.getRotation())\r\n    :add(Vector(180, 0, 180))\r\n\r\n  local textPosition = target.positionToLocal(\r\n    self.getPosition():add(Vector(0, data.hover_height, 0))\r\n  )\r\n  textPosition.x = -textPosition.x\r\n\r\n  local textScale = {}\r\n  textScale.x = self.getScale().x / target.getScale().x\r\n  textScale.y = self.getScale().x / target.getScale().y\r\n  textScale.z = self.getScale().x / target.getScale().z\r\n\r\n  local details = {\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=nil,\r\n    position=textPosition,\r\n    rotation=textRotation,\r\n    scale=textScale,\r\n    height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  }\r\n\r\n  target.createButton(details)\r\n\r\n  local script_state = target.script_state\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    table.insert(state, details)\r\n    target.script_state = JSON.encode(state)\r\n  else\r\n    target.script_state = JSON.encode({[1]=details})\r\n  end\r\n\r\n  target.script_code = target_script\r\n\r\n  self.destruct()\r\nend\r\n\r\nfunction applyMultiple(player_color, func_string, params, static_only)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if not static_only or obj.call('isStatic') then\r\n        obj.call(func_string, params)\r\n      end\r\n    end\r\n  end\r\nend\r\n\r\nfunction isStatic()\r\n  local input = self.getInputs()\r\n  return not input or #input == 0\r\nend\r\n\r\nfunction getBox(input, force)\r\n  local maxLength, lineCount = EXPAND_INTERVAL, 1\r\n  local lineLength = 0\r\n  for i = 1, #input do\r\n    local c = input:sub(i,i)\r\n    if c == '\\n' then\r\n      lineCount = lineCount + 1\r\n      if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n      lineLength = 0\r\n    else\r\n      lineLength = lineLength + 1\r\n    end\r\n  end\r\n  if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n\r\n  newWidth = data.size * maxLength * 0.9\r\n  newHeight = data.size * lineCount + 23\r\n\r\n  if force or boxWidth ~= newWidth or boxHeight ~= newHeight then\r\n    boxWidth, boxHeight = newWidth, newHeight\r\n    return {width = boxWidth, height = boxHeight}\r\n  end\r\n  return nil\r\nend\r\n\r\ntemp_lift = nil\r\nfunction onPickUp(player_color)\r\n  if data.autolift then\r\n    local player = Player[player_color]\r\n    temp_lift = player.lift_height\r\n    player.lift_height = 0\r\n  end\r\nend\r\n\r\nfunction onDrop(player_color)\r\n  if data.autolift and temp_lift then\r\n    Player[player_color].lift_height = temp_lift\r\n  end\r\nend\r\n\r\n-- Should be called every time data is modified, allows info to be saved on copy/paste\r\nfunction updateState()\r\n  self.script_state = JSON.encode(data)\r\nend\r\n\r\nfunction onSave()\r\n  self.script_state = JSON.encode(data)\r\n  return self.script_state\r\nend",
              "LuaScriptState": "{\"autolift\":false,\"autolock\":false,\"box_transparency\":1,\"color\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1},\"enter_to_finish\":false,\"hover_height\":0.05,\"interactable\":true,\"size\":400,\"text\":\"La Grande Toile\"}",
              "XmlUI": ""
            },
            {
              "GUID": "73959b",
              "Name": "Custom_Tile",
              "Transform": {
                "posX": 3.0,
                "posY": 1.50178492,
                "posZ": -6.5,
                "rotX": 0.0108910464,
                "rotY": 180.00618,
                "rotZ": 0.004949761,
                "scaleX": 1.6428808,
                "scaleY": 1.0,
                "scaleZ": 1.6428808
              },
              "Nickname": "Mise en place du Chaos Bag",
              "Description": "IV-A : La Demeure des Dieux",
              "GMNotes": "{\"data\":\"Weaver of the Cosmos\",\"easy\":false,\"expert\":false,\"hard\":false,\"normal\":false,\"standalone\":true}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.8745098,
                "g": 0.8,
                "b": 0.7019608
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/2011456161884106028/81BF2DAD34FE18B6788B56E21F16B81E6525AD99/",
                "ImageSecondaryURL": "https://steamusercontent-a.akamaihd.net/ugc/2011456161884106028/81BF2DAD34FE18B6788B56E21F16B81E6525AD99/",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomTile": {
                  "Type": 3,
                  "Thickness": 0.1,
                  "Stackable": false,
                  "Stretch": true
                }
              },
              "LuaScript": "\r\njacqueline_guid = '42cd6e'\r\n\r\nbuttonparams = {\r\n   ['easy'] = {label = \"Facile\", click_function = 'modeEasy', z_i = -0.2},\r\n   ['normal'] = {label = \"Standard\", click_function = 'modeNormal', z_i = 0.1},\r\n   ['hard'] = {label = \"Difficile\", click_function = 'modeHard', z_i = 0.4},\r\n   ['expert'] = {label = \"Expert\", click_function = 'modeExpert', z_i = 0.7},\r\n   ['standalone'] = {label = \"Indépendant\", click_function = 'modeStandalone', z_i = 0},\r\n}\r\n\r\nfunction onLoad()\r\n\r\n    metadata = JSON.decode(self.getGMNotes())\r\n    buttontable = {}\r\n    for key, value in pairs(buttonparams) do\r\n        if metadata[key] == true then\r\n            table.insert(buttontable,value)\r\n        end\r\n        \r\n    end\r\n\r\n    for _, button in pairs(buttontable) do\r\n        local data = {\r\n            click_function = button.click_function, \r\n            function_owner = self, \r\n            label = button.label, \r\n            position = {0, 0.1, button.z_i}, \r\n            scale = {0.3, 0.5, 0.3}, \r\n            width = 1500, \r\n            height = 400, \r\n            font_size = 250, \r\n            tooltip = \"Chaos bag du mode \"..button.label,\r\n            color = {0.5647, 0.4627, 0.2353, 1}, \r\n            font_color = {0.9041, 0.8313, 0.7356, 1},\r\n            hover_color = {99/255, 85/255, 48/255},\r\n            press_color = {192/255, 152/255, 94/255} }\r\n        self.createButton(data)\r\n        \r\n    end\r\n    jacqueline = getObjectFromGUID(jacqueline_guid)\r\n    chaosdata = jacqueline.getTable('chaosdata')\r\nend\r\n\r\nfunction modeEasy()\r\n    local  params ={}\r\n     params.mode = 'easy'\r\n     params.data = metadata.data\r\n     jacqueline.call('setChaosBag', params)\r\n  \r\nend\r\n\r\nfunction modeNormal()\r\n      local  params ={}\r\n       params.mode = 'normal'\r\n       params.data = metadata.data\r\n       jacqueline.call('setChaosBag', params)\r\n    \r\nend\r\n\r\nfunction modeHard()\r\n    local  params ={}\r\n     params.mode = 'hard'\r\n     params.data = metadata.data\r\n     jacqueline.call('setChaosBag', params)\r\n  \r\nend\r\n\r\nfunction modeExpert()\r\n    local  params ={}\r\n     params.mode = 'expert'\r\n     params.data = metadata.data\r\n     jacqueline.call('setChaosBag', params)\r\n  \r\nend\r\n\r\nfunction modeStandalone()\r\n    local  params ={}\r\n     params.mode = 'standalone'\r\n     params.data = metadata.data\r\n     jacqueline.call('setChaosBag', params)\r\n  \r\nend",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "8be3cd",
              "Name": "Custom_Model_Bag",
              "Transform": {
                "posX": -21.0015869,
                "posY": 1.84000123,
                "posZ": 3.50019956,
                "rotX": -5.26880149E-06,
                "rotY": 179.995239,
                "rotZ": 5.328051E-07,
                "scaleX": 0.7,
                "scaleY": 0.7,
                "scaleZ": 0.7
              },
              "Nickname": "La Grande Toile",
              "Description": "Placement aléatoire des lieux Grand Toile",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.614982545,
                "g": 0.0,
                "b": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "CustomMesh": {
                "MeshURL": "https://pastebin.com/raw/ALrYhQGb",
                "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/1985555189152025164/1B2BA3E46BDED92BEC11CCC635AD396D1877B2B3/",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 6,
                "CustomShader": {
                  "SpecularColor": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "SpecularIntensity": 0.0,
                  "SpecularSharpness": 2.0,
                  "FresnelStrength": 0.0
                },
                "CastShadows": true
              },
              "Bag": {
                "Order": 0
              },
              "LuaScript": "-- Random memory bag\r\n-- based on Utility memory bag by Directsun (Version 2.7.0)\r\n\r\nlocal CONFIG = {\r\n    MEMORY_GROUP = {\r\n        -- This determines how many frames to wait before actually placing objects onto the table when the \"Place\" button is clicked.\r\n        -- This gives the other bags time to recall their objects.\r\n        -- The delay ONLY occurs if other bags have objects out.\r\n        FRAME_DELAY_BEFORE_PLACING_OBJECTS = 30\r\n    }\r\n}\r\n\r\nmath.randomseed(os.time())\r\n\r\n--[[ Memory Bag Groups ]]\r\n--[[ Utility Memory Bags may be added to a named group, called a \"memory group\".\r\nYou can add a bag to a group through the bag's UI: \"Setup\" > \"Group Name\" (to the left of the bag).\r\nOnly one bag from a group may have it's contents placed on the table at a time.\r\nWhen \"Place\" is clicked on a bag, the other bags in it's memory group are recalled.\r\nBy default a memory bag is not in any group. It's memory group is \"nil\". --]]\r\n\r\nmemoryGroupName = { memoryBag = self }\r\nfunction memoryGroupName:get()\r\n    return self._name\r\nend\r\n\r\nfunction memoryGroupName:set(newName)\r\n    GlobalMemoryGroups:unregisterBagInGroup(self:get(), self.memoryBag.getGUID())\r\n    GlobalMemoryGroups:registerBagInGroup(newName, self.memoryBag.getGUID())\r\n\r\n    if newName == \"\" then\r\n        self._name = nil\r\n    else\r\n        self._name = newName\r\n    end\r\nend\r\n\r\n-- Click the \"Recall\" button on all other bags in my memory group.\r\nfunction recallOtherBagsInMyGroup()\r\n    for _, bag in ipairs(getOtherBagsInMyGroup()) do\r\n        bag.call('buttonClick_recall')\r\n    end\r\nend\r\n\r\n-- Return \"true\" if another bag in my memory group has any objects out on the table.\r\nfunction anyOtherBagsInMyGroupArePlaced()\r\n    for _, bag in ipairs(getOtherBagsInMyGroup()) do\r\n        local state = bag.call('areAnyOfMyObjectsPlaced')\r\n        if state then return true end\r\n    end\r\n\r\n    return false\r\nend\r\n\r\n-- Return \"true\" if at least one object from this memory bag is out on the table.\r\nfunction areAnyOfMyObjectsPlaced()\r\n    for guid, _ in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then\r\n            return true\r\n        end\r\n    end\r\n    return false\r\nend\r\n\r\nfunction getOtherBagsInMyGroup()\r\n    local bags = {}\r\n    for bagGuid, _ in pairs(GlobalMemoryGroups:getGroup(memoryGroupName:get())) do\r\n        if bagGuid ~= self.getGUID() then\r\n            bag = getObjectFromGUID(bagGuid)\r\n            -- \"bag\" is nill if it has been deleted since the last time onLoad() was called.\r\n            if bag ~= nil then\r\n                table.insert(bags, bag)\r\n            end\r\n        end\r\n    end\r\n    return bags\r\nend\r\n\r\n--[[\r\nThis object provides access to a variable stored on the \"Global script\".\r\nThe variable holds the names & guids of all memory bag groups.\r\nThe global variable is a table and holds data like this:\r\n{\r\n    'My First Group Name' = {\r\n        '805ebd' = {},\r\n        '35cc21' = {},\r\n        'fc8886' = {},\r\n    },\r\n    'My Second Group Name' = {\r\n        'f50264' = {},\r\n        '5f5f63' = {},\r\n    },\r\n}\r\n--]]\r\nGlobalMemoryGroups = { NAME_OF_GLOBAL_VARIABLE = '_GlobalUtilityMemoryBagGroups' }\r\n\r\n-- Call me inside this script's \"onLoad()\" method!\r\nfunction GlobalMemoryGroups:onLoad(myGuid)\r\n    -- Create and initialize the global variable if it doesn't already exist:\r\n    if self:_getGroups() == nil then\r\n        self:_setGroups({})\r\n    end\r\nend\r\n\r\n-- Return the GUIDs of all bags in the \"groupName\". The return value is a dictionary that maps [GUID -> empty table].\r\nfunction GlobalMemoryGroups:getGroup(groupName)\r\n    guids = self:_getGroups()[groupName] or {}\r\n    return guids\r\nend\r\n\r\n-- Registers a bag in a memory group. Creates a new group if one doesn't exist.\r\nfunction GlobalMemoryGroups:registerBagInGroup(groupName, bagGuid)\r\n    if groupName == nil or groupName == \"\" then\r\n        return\r\n    end\r\n\r\n    self:_tryCreateNewGroup(groupName)\r\n    local groups = self:_getGroups()\r\n    groups[groupName][bagGuid] = {}\r\n    self:_setGroups(groups)\r\nend\r\n\r\n-- Removes this bag from the memory group.\r\nfunction GlobalMemoryGroups:unregisterBagInGroup(groupName, bagGuid)\r\n    local groups = self:_getGroups()\r\n    local group = groups[groupName]\r\n    if group ~= nil then\r\n        group[bagGuid] = nil\r\n        self:_setGroups(groups)\r\n    end\r\nend\r\n\r\n-- Return the global variable, which is a table holding all memory group names & guids.\r\nfunction GlobalMemoryGroups:_getGroups()\r\n    return Global.getTable(self.NAME_OF_GLOBAL_VARIABLE)\r\nend\r\n\r\n-- Override the global variable (i.e. the entire table).\r\nfunction GlobalMemoryGroups:_setGroups(newTable)\r\n    Global.setTable(self.NAME_OF_GLOBAL_VARIABLE, newTable)\r\nend\r\n\r\n-- Add a new memory group named \"groupName\" to the global variable, if one doesn't already exist.\r\nfunction GlobalMemoryGroups:_tryCreateNewGroup(groupName)\r\n    local groups = self:_getGroups()\r\n    if groups[groupName] == nil then\r\n        groups[groupName] = {}\r\n        self:_setGroups(groups)\r\n    end\r\nend\r\n\r\n-- This object controls the \"Group Name\" input text field that is part of the bag's ingame UI.\r\ngroupNameInput = {\r\n    greyedOutText     = \"Group Name\",\r\n    widthPerCharacter = 100,\r\n    padding           = 4,\r\n    memoryBag         = self\r\n}\r\nfunction groupNameInput:create(optionalStartingValue)\r\n    local effectiveText = optionalStartingValue or self.greyedOutText\r\n    local width = self:computeWidth(effectiveText)\r\n\r\n    self.memoryBag.createInput({\r\n        label = self.greyedOutText,\r\n        value = optionalStartingValue or nil,\r\n        alignment = 3, -- Center aligned\r\n        input_function = \"groupNameInput_onCharacterTyped\", function_owner = self.memoryBag,\r\n        position = { 2.1, 0.3, 0 }, rotation = { 0, 270, 0 }, width = width, height = 350,\r\n        font_size = 250, color = { 0, 0, 0 }, font_color = { 1, 1, 1 },\r\n    })\r\nend\r\n\r\nfunction groupNameInput:computeWidth(text)\r\n    return (string.len(text) + self.padding) * self.widthPerCharacter\r\nend\r\n\r\nfunction groupNameInput:updatedWidth(text)\r\n    self.memoryBag.editInput({\r\n        index = 0,\r\n        width = self:computeWidth(text)\r\n    })\r\nend\r\n\r\nfunction groupNameInput:onCharacterTyped(text, stillEditing)\r\n    if stillEditing then\r\n        self:updatedWidth(text)\r\n    else\r\n        if text == \"\" then\r\n            self:updatedWidth(self.greyedOutText)\r\n        end\r\n    end\r\nend\r\n\r\nfunction groupNameInput_onCharacterTyped(memoryBag, playerColor, text, stillEditing)\r\n    groupNameInput:onCharacterTyped(text, stillEditing)\r\nend\r\n\r\nfunction groupNameInput:setGroupNameToInputField()\r\n    local inputFields = self.memoryBag.getInputs()\r\n    if inputFields ~= nil then\r\n        -- Get input field 0, which corresponds to the groupNameInput.\r\n        -- Unfortunately \"self.getInputs()\" doesn't return the inputs in a guaranteed order.\r\n        local nameField = nil\r\n        for _, field in ipairs(inputFields) do\r\n            if field.index == 0 then\r\n                nameField = field\r\n            end\r\n        end\r\n\r\n        memoryGroupName:set(nameField.value)\r\n    end\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = { [\"ml\"] = memoryList, [\"groupName\"] = memoryGroupName:get() }\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction combineMemoryFromBagsWithin()\r\n    local bagObjList = self.getObjects()\r\n    for _, bagObj in ipairs(bagObjList) do\r\n        local data = bagObj.lua_script_state\r\n        if data ~= nil then\r\n            local j = JSON.decode(data)\r\n            if j ~= nil and j.ml ~= nil then\r\n                for guid, entry in pairs(j.ml) do\r\n                    memoryList[guid] = entry\r\n                end\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateMemoryWithMoves()\r\n    memoryList = memoryListBackup\r\n    --get the first transposed object's coordinates\r\n    local obj = getObjectFromGUID(moveGuid)\r\n\r\n    -- p1 is where needs to go, p2 is where it was\r\n    local refObjPos = memoryList[moveGuid].pos\r\n    local deltaPos = findOffsetDistance(obj.getPosition(), refObjPos, nil)\r\n    local movedRotation = obj.getRotation()\r\n    for guid, entry in pairs(memoryList) do\r\n        memoryList[guid].pos.x = entry.pos.x - deltaPos.x\r\n        memoryList[guid].pos.y = entry.pos.y - deltaPos.y\r\n        memoryList[guid].pos.z = entry.pos.z - deltaPos.z\r\n    end\r\n    moveList = {}\r\nend\r\n\r\nfunction onload(saved_data)\r\n    GlobalMemoryGroups:onLoad(self.getGUID())\r\n    AllMemoryBagsInScene:add(self.getGUID())\r\n\r\n    fresh = true\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n        memoryGroupName:set(loaded_data.groupName)\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n        memoryGroupName:set(nil)\r\n    end\r\n\r\n    moveList = {}\r\n    moveGuid = nil\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        fresh = false\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n--Beginning Setup\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n      label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n      position={0,0.3,2}, rotation={0,0,0}, height=350, width=800,\r\n      font_size=250, color={0,0,0}, font_color={1,1,1}\r\n  })\r\nend\r\n\r\n--Triggered by Transpose button\r\nfunction buttonClick_transpose()\r\n    moveGuid = nil\r\n    broadcastToAll(\"Select one object and move it- all objects will move relative to the new location\", { 0.75, 0.75, 1 })\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(true)\r\n    createSetupActionButtons(true)\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(false)\r\n    createSetupActionButtons(false)\r\nend\r\n\r\nfunction getAllObjectsInMemory()\r\n    local objTable = {}\r\n    local curObj = {}\r\n\r\n    for guid in pairs(memoryListBackup) do\r\n        curObj = getObjectFromGUID(guid)\r\n        table.insert(objTable, curObj)\r\n    end\r\n\r\n    return objTable\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects(move)\r\n    buttonIndexMap = {}\r\n    local howManyButtons = 0\r\n\r\n    local objsToHaveButtons = {}\r\n    if move == true then\r\n        objsToHaveButtons = getAllObjectsInMemory()\r\n    else\r\n        objsToHaveButtons = getAllObjects()\r\n    end\r\n\r\n    for _, obj in ipairs(objsToHaveButtons) do\r\n        if obj ~= self then\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1 * 1 / self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor + 2\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Workaround for custom PDFs\r\n            if obj.Book then\r\n                objPos.y = objPos.y + 0.5\r\n            end\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(obj, move) end\r\n            local color = { 0.75, 0.25, 0.25, 0.6 }\r\n            local colorMove = { 0, 0, 1, 0.6 }\r\n            if move == true then\r\n                color = colorMove\r\n            end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function = funcName, function_owner = self,\r\n                position = objPos, rotation = rot, height = 1000, width = 1000,\r\n                color = color,\r\n            })\r\n            buttonIndexMap[obj.getGUID()] = howManyButtons\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n  --Creates submit and cancel buttons\r\n  function createSetupActionButtons(move)\r\n      self.createButton({\r\n         label=\"Annuler\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n         position={-1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n         font_size=250, color={0,0,0}, font_color={1,1,1}\r\n      })\r\n\r\n      self.createButton({\r\n        label=\"Valider\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={-1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n      })\r\n\r\n      if move == false then\r\n        self.createButton({\r\n            label=\"Ajouter\", click_function=\"buttonClick_add\", function_owner=self,\r\n            position={1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n            font_size=250, color={0,0,0}, font_color={0.25,1,0.25}\r\n          })\r\n\r\n          self.createButton({\r\n              label=\"Sélection\", click_function=\"editDragSelection\", function_owner=self,\r\n              position={-1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n              font_size=250, color={0,0,0}, font_color={1,1,1}\r\n          })\r\n\r\n          if fresh == false then\r\n              self.createButton({\r\n                  label=\"Mise à Jour\", click_function=\"buttonClick_setNew\", function_owner=self,\r\n                  position={1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n                  font_size=180, color={0,0,0}, font_color={0.75,0.75,1}\r\n              })\r\n              self.createButton({\r\n                  label=\"Retirer\", click_function=\"buttonClick_remove\", function_owner=self,\r\n                  position={1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n                  font_size=250, color={0,0,0}, font_color={1,0.25,0.25}\r\n              })\r\n          end\r\n      end\r\n\r\n      self.createButton({\r\n          label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n          position={0,0.3,-2}, rotation={0,0,0}, height=350, width=800,\r\n          font_size=250, color={0,0,0}, font_color={1,1,1}\r\n      })\r\n  end\r\n\r\n\r\n--During Setup\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(obj, move)\r\n    local index = buttonIndexMap[obj.getGUID()]\r\n    local colorMove = { 0, 0, 1, 0.6 }\r\n    local color = { 0, 1, 0, 0.6 }\r\n\r\n    previousGuid = selectedGuid\r\n    selectedGuid = obj.getGUID()\r\n\r\n    theList = memoryList\r\n    if move == true then\r\n        theList = moveList\r\n        if previousGuid ~= nil and previousGuid ~= selectedGuid then\r\n            local prevObj = getObjectFromGUID(previousGuid)\r\n            prevObj.highlightOff()\r\n            self.editButton({ index = previousIndex, color = colorMove })\r\n            theList[previousGuid] = nil\r\n        end\r\n        previousIndex = index\r\n    end\r\n\r\n    if theList[selectedGuid] == nil then\r\n        self.editButton({ index = index, color = color })\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        theList[obj.getGUID()] = {\r\n            pos = { x = round(pos.x, 4), y = round(pos.y, 4), z = round(pos.z, 4) },\r\n            rot = { x = round(rot.x, 4), y = round(rot.y, 4), z = round(rot.z, 4) },\r\n            lock = obj.getLock(),\r\n            tint = obj.getColorTint()\r\n        }\r\n        obj.highlightOn({ 0, 1, 0 })\r\n    else\r\n        color = { 0.75, 0.25, 0.25, 0.6 }\r\n        if move == true then\r\n            color = colorMove\r\n        end\r\n        self.editButton({ index = index, color = color })\r\n        theList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\nfunction editDragSelection(bagObj, player, remove)\r\n    local selectedObjs = Player[player].getSelectedObjects()\r\n    if not remove then\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            --Ignore if already in the memory list, or does not have a button\r\n            if index and not memoryList[obj.getGUID()] then\r\n                self.editButton({ index = index, color = { 0, 1, 0, 0.6 } })\r\n                --Adding pos/rot to memory table\r\n                local pos, rot = obj.getPosition(), obj.getRotation()\r\n                --I need to add it like this or it won't save due to indexing issue\r\n                memoryList[obj.getGUID()] = {\r\n                    pos = { x = round(pos.x, 4), y = round(pos.y, 4), z = round(pos.z, 4) },\r\n                    rot = { x = round(rot.x, 4), y = round(rot.y, 4), z = round(rot.z, 4) },\r\n                    lock = obj.getLock(),\r\n                    tint = obj.getColorTint()\r\n                }\r\n                obj.highlightOn({ 0, 1, 0 })\r\n            end\r\n        end\r\n    else\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            if index and memoryList[obj.getGUID()] then\r\n                color = { 0.75, 0.25, 0.25, 0.6 }\r\n                self.editButton({ index = index, color = color })\r\n                memoryList[obj.getGUID()] = nil\r\n                obj.highlightOff()\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Sélection annulée\", { 1, 1, 1 })\r\n    moveGuid = nil\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    fresh = false\r\n    if next(moveList) ~= nil then\r\n        for guid in pairs(moveList) do\r\n            moveGuid = guid\r\n        end\r\n        if memoryListBackup[moveGuid] == nil then\r\n            broadcastToAll(\"Item selected for moving is not already in memory\", { 1, 0.25, 0.25 })\r\n        else\r\n            broadcastToAll(\"Moving all items in memory relative to new objects position!\", { 0.75, 0.75, 1 })\r\n            self.clearButtons()\r\n            self.clearInputs()\r\n            createMemoryActionButtons()\r\n            local count = 0\r\n            for guid in pairs(moveList) do\r\n                moveGuid = guid\r\n                count = count + 1\r\n                local obj = getObjectFromGUID(guid)\r\n                if obj ~= nil then obj.highlightOff() end\r\n            end\r\n            updateMemoryWithMoves()\r\n            updateSave()\r\n            buttonClick_place()\r\n        end\r\n    elseif next(memoryList) == nil and moveGuid == nil then\r\n        memoryList = memoryListBackup\r\n        broadcastToAll(\"No selections made.\", { 0.75, 0.25, 0.25 })\r\n    end\r\n    combineMemoryFromBagsWithin()\r\n    groupNameInput:setGroupNameToInputField()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count .. \" Objects Saved\", { 1, 1, 1 })\r\n    updateSave()\r\n    moveGuid = nil\r\nend\r\n\r\nfunction combineTables(first_table, second_table)\r\n    for k, v in pairs(second_table) do first_table[k] = v end\r\nend\r\n\r\nfunction buttonClick_add()\r\n    fresh = false\r\n    combineTables(memoryList, memoryListBackup)\r\n    broadcastToAll(\"Adding internal bags and selections to existing memory\", { 0.25, 0.75, 0.25 })\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count .. \" Objects Saved\", { 1, 1, 1 })\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_remove()\r\n    broadcastToAll(\"Removing Selected Entries From Memory\", { 1.0, 0.25, 0.25 })\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        memoryListBackup[guid] = nil\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count .. \" Objects Removed\", { 1, 1, 1 })\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_setNew()\r\n    broadcastToAll(\"Setting new position relative to items in memory\", { 0.75, 0.75, 1 })\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        guid = obj.guid\r\n        if memoryListBackup[guid] ~= nil then\r\n            count = count + 1\r\n            memoryListBackup[guid].pos = obj.getPosition()\r\n            memoryListBackup[guid].rot = obj.getRotation()\r\n            memoryListBackup[guid].lock = obj.getLock()\r\n            memoryListBackup[guid].tint = obj.getColorTint()\r\n        end\r\n    end\r\n    broadcastToAll(count .. \" Objects Saved\", { 1, 1, 1 })\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    fresh = true\r\n    memoryList = {}\r\n    memoryGroupName:set(nil)\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", { 1, 1, 1 })\r\n    updateSave()\r\nend\r\n\r\n--After Setup\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Placer au hasard\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,2}, rotation={0,0,0}, height=350, width=2000,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Ranger\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,2.8}, rotation={0,0,0}, height=350, width=1000,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={2,0.3,0}, rotation={0,90,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    ---    self.createButton({\r\n    ---      label=\"Bouger\", click_function=\"buttonClick_transpose\", function_owner=self,\r\n    ---      position={-2,0.3,0.8}, rotation={0,270,0}, height=350, width=800,\r\n    ---      font_size=250, color={0,0,0}, font_color={0.75,0.75,1}\r\n    ---\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    if anyOtherBagsInMyGroupArePlaced() then\r\n        recallOtherBagsInMyGroup()\r\n        Wait.frames(_placeObjects, CONFIG.MEMORY_GROUP.FRAME_DELAY_BEFORE_PLACING_OBJECTS)\r\n    else\r\n        _placeObjects()\r\n    end\r\nend\r\n\r\nfunction _placeObjects()\r\n    local bagObjList = self.getObjects()\r\n\r\n    -- randomize memorylist position\r\n    local positionList = {}\r\n    for guid, entry in pairs(memoryList) do\r\n        table.insert(positionList, memoryList[guid].pos)\r\n    end\r\n\r\n    for i = #positionList, 2, -1 do\r\n        local j = math.random(i)\r\n        positionList[i], positionList[j] = positionList[j], positionList[i]\r\n    end\r\n\r\n    local i = 1\r\n    for guid, entry in pairs(memoryList) do\r\n        memoryList[guid].pos = positionList[i]\r\n        i = i + 1\r\n    end\r\n\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n            obj.setColorTint(entry.tint)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid = guid, position = entry.pos, rotation = entry.rot, smooth = false\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    item.setColorTint(entry.tint)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objets placés au hasard\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objets rangés\", {1,1,1})\r\nend\r\n\r\n--Utility functions\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local yOffset = 0\r\n    if obj ~= nil then\r\n        local bounds = obj.getBounds()\r\n        yOffset = (bounds.size.y - bounds.offset.y)\r\n    end\r\n    local deltaPos = {}\r\n    deltaPos.x = (p2.x - p1.x)\r\n    deltaPos.y = (p2.y - p1.y) + yOffset\r\n    deltaPos.z = (p2.z - p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n    local objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n    local x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n    local z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n    --return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return { x = x, y = desiredPos.y, z = z }\r\nend\r\n\r\nfunction rotateMyCoordinates(desiredPos, obj)\r\n    local angle = math.rad(obj.getRotation().y)\r\n    local x = desiredPos.x * math.sin(angle)\r\n    local z = desiredPos.z * math.cos(angle)\r\n    return { x = x, y = desiredPos.y, z = z }\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n    local mult = 10 ^ (dec or 0)\r\n    return math.floor(num * mult + 0.5) / mult\r\nend\r\n\r\n--[[ This object provides access to a variable stored on the \"Global script\".\r\nThe variable holds the GUIDs for every Utility Memory Bag in the scene.\r\nExample: {'805ebd', '35cc21', 'fc8886', 'f50264', '5f5f63'} --]]\r\nAllMemoryBagsInScene = {\r\n    NAME_OF_GLOBAL_VARIABLE = \"_UtilityMemoryBag_AllMemoryBagsInScene\"\r\n}\r\n\r\nfunction AllMemoryBagsInScene:add(guid)\r\n    local guids = Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\n    table.insert(guids, guid)\r\n    Global.setTable(self.NAME_OF_GLOBAL_VARIABLE, guids)\r\nend\r\n\r\nfunction AllMemoryBagsInScene:getGuidList()\r\n    return Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"1aa349\":{\"lock\":false,\"pos\":{\"x\":-7.50000143051147,\"y\":1.52114379405975,\"z\":19.0000038146973},\"rot\":{\"x\":0.0108927506953478,\"y\":179.984558105469,\"z\":0.00494533311575651},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"2e009f\":{\"lock\":false,\"pos\":{\"x\":-34.0024032592773,\"y\":1.77890622615814,\"z\":3.00001573562622},\"rot\":{\"x\":-2.81644206552301E-05,\"y\":179.982788085938,\"z\":2.91230498987716E-05},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"38a399\":{\"lock\":false,\"pos\":{\"x\":-31.0375270843506,\"y\":1.88041186332703,\"z\":3.00158905982971},\"rot\":{\"x\":0.0398445092141628,\"y\":179.952041625977,\"z\":3.36191964149475},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"51aff9\":{\"lock\":false,\"pos\":{\"x\":-7.50000143051147,\"y\":1.52000319957733,\"z\":13.0000028610229},\"rot\":{\"x\":0.0108921276405454,\"y\":179.993530273438,\"z\":0.00494728283956647},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"559d63\":{\"lock\":false,\"pos\":{\"x\":-29.26318359375,\"y\":1.8934577703476,\"z\":3.00224280357361},\"rot\":{\"x\":0.0217263419181108,\"y\":179.977737426758,\"z\":2.19973158836365},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"56d9e9\":{\"lock\":false,\"pos\":{\"x\":-28.0792045593262,\"y\":1.81973397731781,\"z\":3.00291800498962},\"rot\":{\"x\":0.00460842903703451,\"y\":179.987243652344,\"z\":2.20409941673279},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"64ce31\":{\"lock\":false,\"pos\":{\"x\":-31.6230068206787,\"y\":1.88711595535278,\"z\":3.00067138671875},\"rot\":{\"x\":0.0218034330755472,\"y\":180.045806884766,\"z\":3.45216178894043},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"6bf7e4\":{\"lock\":false,\"pos\":{\"x\":-29.8515510559082,\"y\":1.93971133232117,\"z\":3.0022988319397},\"rot\":{\"x\":0.0178929660469294,\"y\":179.983627319336,\"z\":3.48585963249207},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"875fcc\":{\"lock\":false,\"pos\":{\"x\":-33.4040374755859,\"y\":1.83768260478973,\"z\":2.99986457824707},\"rot\":{\"x\":0.011374575085938,\"y\":179.981811523438,\"z\":3.17524790763855},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"92e168\":{\"lock\":false,\"pos\":{\"x\":-7.50000143051147,\"y\":1.51886260509491,\"z\":7.00000333786011},\"rot\":{\"x\":0.0108929593116045,\"y\":179.982025146484,\"z\":0.00494485395029187},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"98f904\":{\"lock\":false,\"pos\":{\"x\":-30.4449768066406,\"y\":1.91317284107208,\"z\":3.00242447853088},\"rot\":{\"x\":0.0355362929403782,\"y\":179.960739135742,\"z\":3.07398438453674},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"c28ccf\":{\"lock\":false,\"pos\":{\"x\":-28.6708240509033,\"y\":1.89680063724518,\"z\":3.00261187553406},\"rot\":{\"x\":359.968139648438,\"y\":179.922409057617,\"z\":3.18128252029419},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"c84865\":{\"lock\":false,\"pos\":{\"x\":-32.8105659484863,\"y\":1.86727631092072,\"z\":2.99991869926453},\"rot\":{\"x\":0.00236783875152469,\"y\":179.973693847656,\"z\":3.5221164226532},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"f0f767\":{\"lock\":false,\"pos\":{\"x\":-7.50000143051147,\"y\":1.51772212982178,\"z\":1.0000022649765},\"rot\":{\"x\":0.0108921779319644,\"y\":179.99299621582,\"z\":0.00494701229035854},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"f48f0c\":{\"lock\":false,\"pos\":{\"x\":-32.2170791625977,\"y\":1.85785448551178,\"z\":3.00055313110352},\"rot\":{\"x\":0.0271779634058475,\"y\":179.978424072266,\"z\":3.49419045448303},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}}}}",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "1aa349",
                  "Name": "Card",
                  "Transform": {
                    "posX": -29.8441849,
                    "posY": 1.94364274,
                    "posZ": 3.002098,
                    "rotX": -0.00217002328,
                    "rotY": 179.9829,
                    "rotZ": 4.093663,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "La Grande Toile",
                  "Description": "Autre Monde. Extradimensionnel.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06342\",\n  \"locationBack\": {\n    \"connections\": \"\",\n    \"icons\": \"\",\n    \"uses\": {\n      \"countPerInvestigator\": 2,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    }\n  },\n  \"traits\": \"Otherworld. Extradimensional.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276008,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2760": {
                      "FaceURL": "https://i.imgur.com/BqGxbIh.jpg",
                      "BackURL": "https://i.imgur.com/8GuAY4f.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "2e009f",
                  "Name": "Card",
                  "Transform": {
                    "posX": -7.50000048,
                    "posY": 1.51772213,
                    "posZ": 0.9999956,
                    "rotX": 0.01089302,
                    "rotY": 179.982788,
                    "rotZ": 0.00494502159,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "La Grande Toile",
                  "Description": "Autre Monde. Extradimensionnel.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06344\",\n  \"locationBack\": {\n    \"connections\": \"\",\n    \"icons\": \"\",\n    \"uses\": {\n      \"countPerInvestigator\": 2,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    }\n  },\n  \"traits\": \"Otherworld. Extradimensional.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276011,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2760": {
                      "FaceURL": "https://i.imgur.com/BqGxbIh.jpg",
                      "BackURL": "https://i.imgur.com/8GuAY4f.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "38a399",
                  "Name": "Card",
                  "Transform": {
                    "posX": -32.210907,
                    "posY": 1.89333582,
                    "posZ": 3.00067663,
                    "rotX": 0.004675096,
                    "rotY": 179.945724,
                    "rotZ": 4.94477463,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "La Grande Toile",
                  "Description": "Autre Monde. Extradimensionnel.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06343\",\n  \"locationBack\": {\n    \"connections\": \"\",\n    \"icons\": \"\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    }\n  },\n  \"traits\": \"Otherworld. Extradimensional.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276010,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2760": {
                      "FaceURL": "https://i.imgur.com/BqGxbIh.jpg",
                      "BackURL": "https://i.imgur.com/8GuAY4f.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "51aff9",
                  "Name": "Card",
                  "Transform": {
                    "posX": -31.61569,
                    "posY": 1.90854239,
                    "posZ": 3.0008893,
                    "rotX": 0.002422828,
                    "rotY": 179.979019,
                    "rotZ": 4.8974967,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "La Grande Toile",
                  "Description": "Autre Monde. Extradimensionnel.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06340\",\n  \"locationBack\": {\n    \"connections\": \"\",\n    \"icons\": \"\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    }\n  },\n  \"traits\": \"Otherworld. Extradimensional.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276001,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2760": {
                      "FaceURL": "https://i.imgur.com/BqGxbIh.jpg",
                      "BackURL": "https://i.imgur.com/8GuAY4f.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "559d63",
                  "Name": "Card",
                  "Transform": {
                    "posX": -34.0009651,
                    "posY": 1.86184478,
                    "posZ": 3.00032544,
                    "rotX": 0.00623776624,
                    "rotY": 179.945892,
                    "rotZ": 4.49165773,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "La Grande Toile",
                  "Description": "Autre Monde. Extradimensionnel.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06342\",\n  \"locationBack\": {\n    \"connections\": \"\",\n    \"icons\": \"\",\n    \"uses\": {\n      \"countPerInvestigator\": 2,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    }\n  },\n  \"traits\": \"Otherworld. Extradimensional.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276007,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2760": {
                      "FaceURL": "https://i.imgur.com/BqGxbIh.jpg",
                      "BackURL": "https://i.imgur.com/8GuAY4f.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "56d9e9",
                  "Name": "Card",
                  "Transform": {
                    "posX": -7.500755,
                    "posY": 1.5200032,
                    "posZ": 13.000083,
                    "rotX": 0.0108949794,
                    "rotY": 179.9602,
                    "rotZ": 0.004940691,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "La Grande Toile",
                  "Description": "Autre Monde. Extradimensionnel.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06345\",\n  \"locationBack\": {\n    \"connections\": \"\",\n    \"icons\": \"\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    }\n  },\n  \"traits\": \"Otherworld. Extradimensional.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276014,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2760": {
                      "FaceURL": "https://i.imgur.com/BqGxbIh.jpg",
                      "BackURL": "https://i.imgur.com/8GuAY4f.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "64ce31",
                  "Name": "Card",
                  "Transform": {
                    "posX": -7.501631,
                    "posY": 1.51886284,
                    "posZ": 7.00015736,
                    "rotX": 0.0108926632,
                    "rotY": 179.985809,
                    "rotZ": 0.00494559854,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "La Grande Toile",
                  "Description": "Autre Monde. Extradimensionnel.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06344\",\n  \"locationBack\": {\n    \"connections\": \"\",\n    \"icons\": \"\",\n    \"uses\": {\n      \"countPerInvestigator\": 2,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    }\n  },\n  \"traits\": \"Otherworld. Extradimensional.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276012,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2760": {
                      "FaceURL": "https://i.imgur.com/BqGxbIh.jpg",
                      "BackURL": "https://i.imgur.com/8GuAY4f.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "6bf7e4",
                  "Name": "Card",
                  "Transform": {
                    "posX": -7.50166225,
                    "posY": 1.52114391,
                    "posZ": 19.0001564,
                    "rotX": 0.0108983,
                    "rotY": 179.922546,
                    "rotZ": 0.00493357936,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "La Grande Toile",
                  "Description": "Autre Monde. Extradimensionnel.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06345\",\n  \"locationBack\": {\n    \"connections\": \"\",\n    \"icons\": \"\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    }\n  },\n  \"traits\": \"Otherworld. Extradimensional.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276015,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2760": {
                      "FaceURL": "https://i.imgur.com/BqGxbIh.jpg",
                      "BackURL": "https://i.imgur.com/8GuAY4f.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "875fcc",
                  "Name": "Card",
                  "Transform": {
                    "posX": -31.0307636,
                    "posY": 1.89533329,
                    "posZ": 3.00118828,
                    "rotX": 0.00765323266,
                    "rotY": 179.999634,
                    "rotZ": 4.36901855,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "La Grande Toile",
                  "Description": "Autre Monde. Extradimensionnel.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06341\",\n  \"locationBack\": {\n    \"connections\": \"\",\n    \"icons\": \"\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    }\n  },\n  \"traits\": \"Otherworld. Extradimensional.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276004,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2760": {
                      "FaceURL": "https://i.imgur.com/BqGxbIh.jpg",
                      "BackURL": "https://i.imgur.com/8GuAY4f.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "92e168",
                  "Name": "Card",
                  "Transform": {
                    "posX": -28.6651478,
                    "posY": 1.89860308,
                    "posZ": 3.00284147,
                    "rotX": -0.00187529635,
                    "rotY": 179.99826,
                    "rotZ": 3.57977962,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "La Grande Toile",
                  "Description": "Autre Monde. Extradimensionnel.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06342\",\n  \"locationBack\": {\n    \"connections\": \"\",\n    \"icons\": \"\",\n    \"uses\": {\n      \"countPerInvestigator\": 2,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    }\n  },\n  \"traits\": \"Otherworld. Extradimensional.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276006,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2760": {
                      "FaceURL": "https://i.imgur.com/BqGxbIh.jpg",
                      "BackURL": "https://i.imgur.com/8GuAY4f.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "98f904",
                  "Name": "Card",
                  "Transform": {
                    "posX": -28.080328,
                    "posY": 1.77878165,
                    "posZ": 3.00343537,
                    "rotX": 0.00129634887,
                    "rotY": 179.959473,
                    "rotZ": 359.991669,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "La Grande Toile",
                  "Description": "Autre Monde. Extradimensionnel.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06345\",\n  \"locationBack\": {\n    \"connections\": \"\",\n    \"icons\": \"\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    }\n  },\n  \"traits\": \"Otherworld. Extradimensional.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276013,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2760": {
                      "FaceURL": "https://i.imgur.com/BqGxbIh.jpg",
                      "BackURL": "https://i.imgur.com/8GuAY4f.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "c28ccf",
                  "Name": "Card",
                  "Transform": {
                    "posX": -30.4391956,
                    "posY": 1.91830647,
                    "posZ": 3.00193238,
                    "rotX": 0.00641752966,
                    "rotY": 179.941437,
                    "rotZ": 4.19145346,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "La Grande Toile",
                  "Description": "Autre Monde. Extradimensionnel.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06341\",\n  \"locationBack\": {\n    \"connections\": \"\",\n    \"icons\": \"\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    }\n  },\n  \"traits\": \"Otherworld. Extradimensional.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276005,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2760": {
                      "FaceURL": "https://i.imgur.com/BqGxbIh.jpg",
                      "BackURL": "https://i.imgur.com/8GuAY4f.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "c84865",
                  "Name": "Card",
                  "Transform": {
                    "posX": -33.40104,
                    "posY": 1.86553466,
                    "posZ": 2.99951386,
                    "rotX": 0.004863852,
                    "rotY": 179.9849,
                    "rotZ": 4.694666,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "La Grande Toile",
                  "Description": "Autre Monde. Extradimensionnel.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06343\",\n  \"locationBack\": {\n    \"connections\": \"\",\n    \"icons\": \"\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    }\n  },\n  \"traits\": \"Otherworld. Extradimensional.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276009,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2760": {
                      "FaceURL": "https://i.imgur.com/BqGxbIh.jpg",
                      "BackURL": "https://i.imgur.com/8GuAY4f.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "f0f767",
                  "Name": "Card",
                  "Transform": {
                    "posX": -32.8065872,
                    "posY": 1.883728,
                    "posZ": 2.99991918,
                    "rotX": 0.003897282,
                    "rotY": 179.9916,
                    "rotZ": 4.791881,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "La Grande Toile",
                  "Description": "Autre Monde. Extradimensionnel.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06340\",\n  \"locationBack\": {\n    \"connections\": \"\",\n    \"icons\": \"\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    }\n  },\n  \"traits\": \"Otherworld. Extradimensional.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276002,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2760": {
                      "FaceURL": "https://i.imgur.com/BqGxbIh.jpg",
                      "BackURL": "https://i.imgur.com/8GuAY4f.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "f48f0c",
                  "Name": "Card",
                  "Transform": {
                    "posX": -29.26006,
                    "posY": 1.87024558,
                    "posZ": 3.00226474,
                    "rotX": -0.00057865883,
                    "rotY": 179.945389,
                    "rotZ": 3.58318567,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "La Grande Toile",
                  "Description": "Autre Monde. Extradimensionnel.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06340\",\n  \"locationBack\": {\n    \"connections\": \"\",\n    \"icons\": \"\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    }\n  },\n  \"traits\": \"Otherworld. Extradimensional.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276003,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2760": {
                      "FaceURL": "https://i.imgur.com/BqGxbIh.jpg",
                      "BackURL": "https://i.imgur.com/8GuAY4f.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "950c59",
              "Name": "Card",
              "Transform": {
                "posX": 23.501339,
                "posY": 1.51380479,
                "posZ": -5.522947,
                "rotX": 0.0108915642,
                "rotY": 179.999634,
                "rotZ": 0.00494822441,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Référence",
              "Description": "Tisseuse du Cosmos",
              "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"id\": \"06333\",\n  \"type\": \"ScenarioReference\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276000,
              "SidewaysCard": false,
              "CustomDeck": {
                "2760": {
                  "FaceURL": "https://i.imgur.com/BqGxbIh.jpg",
                  "BackURL": "https://i.imgur.com/8GuAY4f.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "cde658",
              "Name": "Custom_Model",
              "Transform": {
                "posX": -20.8600578,
                "posY": 1.7710005,
                "posZ": 11.7094526,
                "rotX": 4.80820063E-06,
                "rotY": 0.000282488763,
                "rotZ": 1.11201555E-08,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Atlach-Nacha",
              "Description": "Place l'ennemi Atlach-Nacha en jeu",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.0,
                "g": 0.0,
                "b": 0.0,
                "a": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": false,
              "Snap": false,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": false,
              "Tooltip": false,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/1478820768302617365/27883B7913E0E69143C3AA03493B7E7C4E8C29C0/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 1,
                "TypeIndex": 0,
                "CastShadows": true
              },
              "LuaScript": "-- Code for bag to identify text tool objects\r\nmovableTextTool_cowgoesmoo33 = true\r\n\r\n-- Number of characters before the text box width expands.\r\nEXPAND_INTERVAL = 20\r\n\r\n-- This table controls what is passed between save/load\r\ndata = {}\r\n\r\nfunction onLoad(saved_data)\r\n  if saved_data ~= '' then\r\n    data = JSON.decode(saved_data)\r\n    if data.text ~= '' then\r\n      self.interactable = data.interactable\r\n      staticMode()\r\n      return\r\n    end\r\n  else\r\n    data = {size=200, color=Color(0,0,0), text='', interactable=true,\r\n        enter_to_finish=false, autolock=false, autolift=false,\r\n        hover_height=0.05, box_transparency=1}\r\n  end\r\n\r\n  inputMode()\r\nend\r\n\r\n-- True if in the middle of delay after pressing Enter (with enter_to_finish on)\r\nfinishing = false\r\nfunction input_func(obj, color, input, stillEditing)\r\n  local params = getBox(input)\r\n  if params then\r\n    params.value = input\r\n    self.editInput(params)\r\n  end\r\n\r\n  if not stillEditing then\r\n    data.text = input\r\n    updateState()\r\n    if input ~= '' then staticMode(color) end\r\n  elseif data.enter_to_finish then\r\n    -- If enter is pressed: remove last newline and force finish\r\n    if not finishing and input:sub(-1) == '\\n' then\r\n      finishing = true\r\n      -- Delay to avoid user's Enter keypress being detected (opens chat box)\r\n      Wait.frames(function()\r\n        input = input:sub(1, -2)\r\n        data.text = input\r\n        updateState()\r\n        if input ~= '' then staticMode(color) else inputMode() end\r\n        finishing = false\r\n      end, 10)\r\n    end\r\n  end\r\nend\r\n\r\n-- When the inpupt box appears and lets the player type in it.\r\nfunction inputMode()\r\n  self.clearContextMenu()\r\n  self.clearInputs()\r\n  self.clearButtons()\r\n\r\n  local size = getBox(data.text, true)\r\n\r\n  self.createInput({\r\n    input_function = \"input_func\",\r\n    function_owner = self,\r\n    label          = \"Type Here\",\r\n    alignment      = 3,\r\n    position       = {x=0, y=data.hover_height, z=0},\r\n    rotation       = {0, 180, 0},\r\n    width          = size.width,\r\n    height         = size.height,\r\n    color          = getBackground(data.color),\r\n    font_color     = data.color,\r\n    font_size      = data.size,\r\n    value          = data.text,\r\n  })\r\n\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\nend\r\n\r\n-- When the input box disappears and displays the text.\r\nfunction staticMode(player)\r\n  self.clearContextMenu()\r\n  if data.autolock then\r\n    self.locked = true\r\n  end\r\n  if self.getInputs() and #self.getInputs() ~= 0 then\r\n    self.removeInput(0)\r\n  end\r\n\r\n  -- Clear from selecting player\r\n  if player then\r\n    self.removeFromPlayerSelection(player)\r\n  end\r\n\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  self.createButton({\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=self,\r\n    position={0,data.hover_height,0}, rotation={0,180,0}, height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  })\r\n\r\n  self.addContextMenuItem('Edit Text', function(color)\r\n    self.removeFromPlayerSelection(color)\r\n    inputMode()\r\n  end)\r\n  self.addContextMenuItem('Clear', function(color)\r\n    applyMultiple(color, 'clear', _, true)\r\n  end)\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\n  self.addContextMenuItem('Permanently Attach', attemptAttach)\r\n  self.addContextMenuItem('Permalock', function(color)\r\n    applyMultiple(color, 'permalock', _, true)\r\n  end)\r\nend\r\n\r\nfunction changeSize(params)\r\n  local delta = params[1]\r\n  local newSize = data.size + delta\r\n  if newSize > 800  or newSize < 50 then\r\n    return\r\n  end\r\n  data.size = newSize\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_size=data.size})\r\n  else\r\n    local size = getBox(data.text, true)\r\n    self.editInput({width=size.width, height=size.height, font_size=data.size})\r\n  end\r\nend\r\n\r\nfunction setColor(params)\r\n  if params and params[1] then\r\n    data.color = params[1]\r\n  else\r\n    data.color = self.getColorTint():setAt('a', 1) -- Take on color of object tint\r\n  end\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_color=data.color})\r\n  else\r\n    self.editInput({font_color=data.color, color=getBackground(data.color)})\r\n  end\r\nend\r\n\r\nfunction getBackground(color) --determines whether to use black or white depending on luminance\r\n  local r,g,b = Color(color):get()\r\n\r\n  local lum = 0.2126*r + 0.7152*g + 0.0722*b\r\n  if lum > 0.75 then\r\n    return {0.2,0.2,0.2, data.box_transparency}\r\n  else\r\n    return {1,1,1, data.box_transparency}\r\n  end\r\nend\r\n\r\nfunction clear()\r\n  data.text = ''\r\n  updateState()\r\n  inputMode()\r\nend\r\n\r\nfunction permalock()\r\n  self.interactable = false\r\n  data.interactable = false\r\n  updateState()\r\nend\r\n\r\nlocal target_script = [[\r\nfunction onLoad(script_state)\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    for _,entry in ipairs(state) do\r\n      self.createButton(entry)\r\n    end\r\n    self.addContextMenuItem('Clear All Text', function(color)\r\n      self.clearContextMenu()\r\n      self.clearButtons()\r\n      self.script_state = ''\r\n      self.script_code = ''\r\n    end)\r\n  end\r\nend\r\n]]\r\n\r\nfunction attemptAttach(player_color)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  local attachee\r\n  local attachers = {}\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if obj ~= self then\r\n        table.insert(attachers, obj)\r\n      end\r\n    else\r\n      if attachee then\r\n        broadcastToColor(\"More than one target selected.\", player_color)\r\n        return\r\n      else\r\n        attachee = obj\r\n      end\r\n    end\r\n  end\r\n  if attachee then\r\n    local code = attachee.script_code\r\n    if code and code ~= '' and code ~= target_script then\r\n      broadcastToColor(\"Warning: script on card has been overriden. Rewind time to undo.\", player_color)\r\n    end\r\n    for i,attacher in ipairs(attachers) do\r\n      attacher.call('attach', {target = attachee})\r\n    end\r\n    attach({target = attachee})\r\n    local type, flip = attachee.type, attachee.getRotation().z\r\n    if (type == 'Card' or type == 'Deck') and flip > 175 and flip < 185 then\r\n      broadcastToColor(\"Warning: text will not display if card or deck is facing down.\", player_color)\r\n    end\r\n  else\r\n    broadcastToColor(\"You must have a target object in your selection (using click-and-drag or Ctrl+Click) to use this option.\", player_color)\r\n  end\r\nend\r\n\r\nfunction attach(params)\r\n  local target = params.target\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  local textRotation = self.getRotation():sub(target.getRotation())\r\n    :add(Vector(180, 0, 180))\r\n\r\n  local textPosition = target.positionToLocal(\r\n    self.getPosition():add(Vector(0, data.hover_height, 0))\r\n  )\r\n  textPosition.x = -textPosition.x\r\n\r\n  local textScale = {}\r\n  textScale.x = self.getScale().x / target.getScale().x\r\n  textScale.y = self.getScale().x / target.getScale().y\r\n  textScale.z = self.getScale().x / target.getScale().z\r\n\r\n  local details = {\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=nil,\r\n    position=textPosition,\r\n    rotation=textRotation,\r\n    scale=textScale,\r\n    height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  }\r\n\r\n  target.createButton(details)\r\n\r\n  local script_state = target.script_state\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    table.insert(state, details)\r\n    target.script_state = JSON.encode(state)\r\n  else\r\n    target.script_state = JSON.encode({[1]=details})\r\n  end\r\n\r\n  target.script_code = target_script\r\n\r\n  self.destruct()\r\nend\r\n\r\nfunction applyMultiple(player_color, func_string, params, static_only)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if not static_only or obj.call('isStatic') then\r\n        obj.call(func_string, params)\r\n      end\r\n    end\r\n  end\r\nend\r\n\r\nfunction isStatic()\r\n  local input = self.getInputs()\r\n  return not input or #input == 0\r\nend\r\n\r\nfunction getBox(input, force)\r\n  local maxLength, lineCount = EXPAND_INTERVAL, 1\r\n  local lineLength = 0\r\n  for i = 1, #input do\r\n    local c = input:sub(i,i)\r\n    if c == '\\n' then\r\n      lineCount = lineCount + 1\r\n      if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n      lineLength = 0\r\n    else\r\n      lineLength = lineLength + 1\r\n    end\r\n  end\r\n  if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n\r\n  newWidth = data.size * maxLength * 0.9\r\n  newHeight = data.size * lineCount + 23\r\n\r\n  if force or boxWidth ~= newWidth or boxHeight ~= newHeight then\r\n    boxWidth, boxHeight = newWidth, newHeight\r\n    return {width = boxWidth, height = boxHeight}\r\n  end\r\n  return nil\r\nend\r\n\r\ntemp_lift = nil\r\nfunction onPickUp(player_color)\r\n  if data.autolift then\r\n    local player = Player[player_color]\r\n    temp_lift = player.lift_height\r\n    player.lift_height = 0\r\n  end\r\nend\r\n\r\nfunction onDrop(player_color)\r\n  if data.autolift and temp_lift then\r\n    Player[player_color].lift_height = temp_lift\r\n  end\r\nend\r\n\r\n-- Should be called every time data is modified, allows info to be saved on copy/paste\r\nfunction updateState()\r\n  self.script_state = JSON.encode(data)\r\nend\r\n\r\nfunction onSave()\r\n  self.script_state = JSON.encode(data)\r\n  return self.script_state\r\nend",
              "LuaScriptState": "{\"autolift\":false,\"autolock\":false,\"box_transparency\":1,\"color\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1},\"enter_to_finish\":false,\"hover_height\":0.05,\"interactable\":true,\"size\":400,\"text\":\"Atlach-Nacha\"}",
              "XmlUI": ""
            },
            {
              "GUID": "d18b51",
              "Name": "Deck",
              "Transform": {
                "posX": 17.501,
                "posY": 1.53599644,
                "posZ": -6.0196,
                "rotX": 0.004950764,
                "rotY": 90.01477,
                "rotZ": 359.9891,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": false,
              "SidewaysCard": true,
              "DeckIDs": [
                275905,
                275904,
                275903
              ],
              "CustomDeck": {
                "2759": {
                  "FaceURL": "https://i.imgur.com/OrKGKDu.jpg",
                  "BackURL": "https://i.imgur.com/XpdBKu0.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "738b11",
                  "Name": "Card",
                  "Transform": {
                    "posX": 17.5009975,
                    "posY": 4.7914,
                    "posZ": -6.019598,
                    "rotX": 0.004950685,
                    "rotY": 90.0147858,
                    "rotZ": 359.9891,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Un Plan Déjoué",
                  "Description": "Acte 3a",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06339\",\n  \"type\": \"Act\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 275905,
                  "SidewaysCard": true,
                  "CustomDeck": {
                    "2759": {
                      "FaceURL": "https://i.imgur.com/OrKGKDu.jpg",
                      "BackURL": "https://i.imgur.com/XpdBKu0.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "69645d",
                  "Name": "Card",
                  "Transform": {
                    "posX": 17.5009975,
                    "posY": 4.5914,
                    "posZ": -6.019598,
                    "rotX": 0.004950685,
                    "rotY": 90.0147858,
                    "rotZ": 359.9891,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "La Tisseuse du Cosmos",
                  "Description": "Acte 2a",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06338\",\n  \"type\": \"Act\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 275904,
                  "SidewaysCard": true,
                  "CustomDeck": {
                    "2759": {
                      "FaceURL": "https://i.imgur.com/OrKGKDu.jpg",
                      "BackURL": "https://i.imgur.com/XpdBKu0.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "80c67b",
                  "Name": "Card",
                  "Transform": {
                    "posX": 17.5010052,
                    "posY": 1.6126442,
                    "posZ": -6.01961327,
                    "rotX": 0.00257034763,
                    "rotY": 90.0147858,
                    "rotZ": 359.985931,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Traverser le Pont",
                  "Description": "Acte 1a",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"clueThresholdPerInvestigator\": 3,\n  \"cycle\": \"Standalone\",\n  \"id\": \"06337\",\n  \"type\": \"Act\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 275903,
                  "SidewaysCard": true,
                  "CustomDeck": {
                    "2759": {
                      "FaceURL": "https://i.imgur.com/OrKGKDu.jpg",
                      "BackURL": "https://i.imgur.com/XpdBKu0.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "fcb707",
              "Name": "Custom_Model_Bag",
              "Transform": {
                "posX": -21.0074635,
                "posY": 1.84000063,
                "posZ": 10.004015,
                "rotX": -6.89256831E-06,
                "rotY": 179.985489,
                "rotZ": 6.95015331E-07,
                "scaleX": 0.7,
                "scaleY": 0.7,
                "scaleZ": 0.7
              },
              "Nickname": "Atlach-Nacha",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "CustomMesh": {
                "MeshURL": "https://pastebin.com/raw/ALrYhQGb",
                "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/1985555189152025164/1B2BA3E46BDED92BEC11CCC635AD396D1877B2B3/",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 6,
                "CustomShader": {
                  "SpecularColor": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "SpecularIntensity": 0.0,
                  "SpecularSharpness": 2.0,
                  "FresnelStrength": 0.0
                },
                "CastShadows": true
              },
              "Bag": {
                "Order": 0
              },
              "LuaScript": "-- Utility memory bag by Directsun\r\n-- Version 2.7.0\r\n-- Fork of Memory Bag 2.0 by MrStump\r\n--\r\n-- Want to contribute? Create an issue or fork the code on GitHub and submit a pull request:\r\n-- https://github.com/sunflowermans/TTS-UtilityMemoryBag\r\n\r\n\r\nfunction updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction combineMemoryFromBagsWithin()\r\n    local bagObjList = self.getObjects()\r\n    for _, bagObj in ipairs(bagObjList) do\r\n        local data = bagObj.lua_script_state\r\n        if data ~= nil then\r\n            local j = JSON.decode(data)\r\n            if j ~= nil and j.ml ~= nil then\r\n                for guid, entry in pairs(j.ml) do\r\n                    memoryList[guid] = entry\r\n                end\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateMemoryWithMoves()\r\n    memoryList = memoryListBackup\r\n    --get the first transposed object's coordinates\r\n    local obj = getObjectFromGUID(moveGuid)\r\n\r\n    -- p1 is where needs to go, p2 is where it was\r\n    local refObjPos = memoryList[moveGuid].pos\r\n    local deltaPos = findOffsetDistance(obj.getPosition(), refObjPos, nil)\r\n    local movedRotation = obj.getRotation()\r\n    for guid, entry in pairs(memoryList) do\r\n        memoryList[guid].pos.x = entry.pos.x - deltaPos.x\r\n        memoryList[guid].pos.y = entry.pos.y - deltaPos.y\r\n        memoryList[guid].pos.z = entry.pos.z - deltaPos.z\r\n        -- memoryList[guid].rot.x = movedRotation.x\r\n        -- memoryList[guid].rot.y = movedRotation.y\r\n        -- memoryList[guid].rot.z = movedRotation.z\r\n    end\r\n\r\n    --theList[obj.getGUID()] = {\r\n    --    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n    --    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n    --    lock=obj.getLock()\r\n    --}\r\n    moveList = {}\r\nend\r\n\r\nfunction onload(saved_data)\r\n\r\n    fresh = true\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n\r\n    end\r\n\r\n    moveList = {}\r\n    moveGuid = nil\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        fresh = false\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,2}, rotation={0,0,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by Transpose button\r\nfunction buttonClick_transpose()\r\n    moveGuid = nil\r\n    broadcastToAll(\"Select one object and move it- all objects will move relative to the new location\", {0.75, 0.75, 1})\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(true)\r\n    createSetupActionButtons(true)\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(false)\r\n    createSetupActionButtons(false)\r\nend\r\n\r\nfunction getAllObjectsInMemory()\r\n    local objTable = {}\r\n    local curObj = {}\r\n\r\n    for guid in pairs(memoryListBackup) do\r\n        curObj = getObjectFromGUID(guid)\r\n        table.insert(objTable, curObj)\r\n    end\r\n\r\n    return objTable\r\n    -- return getAllObjects()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects(move)\r\n    buttonIndexMap = {}\r\n    local howManyButtons = 0\r\n\r\n    local objsToHaveButtons = {}\r\n    if move == true then\r\n        objsToHaveButtons = getAllObjectsInMemory()\r\n    else\r\n        objsToHaveButtons = getAllObjects()\r\n    end\r\n\r\n    for _, obj in ipairs(objsToHaveButtons) do\r\n        if obj ~= self then\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor +2\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Workaround for custom PDFs\r\n            if obj.Book then\r\n                objPos.y = objPos.y + 0.5\r\n            end\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(obj, move) end\r\n            local color = {0.75,0.25,0.25,0.6}\r\n            local colorMove = {0,0,1,0.6}\r\n            if move == true then\r\n                color = colorMove\r\n            end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color=color,\r\n            })\r\n            buttonIndexMap[obj.getGUID()] = howManyButtons\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons(move)\r\n    self.createButton({\r\n       label=\"Annuler\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n       position={-1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n       font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    self.createButton({\r\n      label=\"Valider\", click_function=\"buttonClick_submit\", function_owner=self,\r\n      position={-1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n      font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    if move == false then\r\n      self.createButton({\r\n          label=\"Ajouter\", click_function=\"buttonClick_add\", function_owner=self,\r\n          position={1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n          font_size=250, color={0,0,0}, font_color={0.25,1,0.25}\r\n        })\r\n\r\n        self.createButton({\r\n            label=\"Sélection\", click_function=\"editDragSelection\", function_owner=self,\r\n            position={-1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n            font_size=250, color={0,0,0}, font_color={1,1,1}\r\n        })\r\n\r\n        if fresh == false then\r\n            self.createButton({\r\n                label=\"Mise à Jour\", click_function=\"buttonClick_setNew\", function_owner=self,\r\n                position={1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n                font_size=180, color={0,0,0}, font_color={0.75,0.75,1}\r\n            })\r\n            self.createButton({\r\n                label=\"Retirer\", click_function=\"buttonClick_remove\", function_owner=self,\r\n                position={1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n                font_size=250, color={0,0,0}, font_color={1,0.25,0.25}\r\n            })\r\n        end\r\n    end\r\n\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,0,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(obj, move)\r\n    local index = buttonIndexMap[obj.getGUID()]\r\n    local colorMove = {0,0,1,0.6}\r\n    local color = {0,1,0,0.6}\r\n\r\n    previousGuid = selectedGuid\r\n    selectedGuid = obj.getGUID()\r\n\r\n    theList = memoryList\r\n    if move == true then\r\n        theList = moveList\r\n        if previousGuid ~= nil and previousGuid ~= selectedGuid then\r\n            local prevObj = getObjectFromGUID(previousGuid)\r\n            prevObj.highlightOff()\r\n            self.editButton({index=previousIndex, color=colorMove})\r\n            theList[previousGuid] = nil\r\n        end\r\n        previousIndex = index\r\n    end\r\n\r\n    if theList[selectedGuid] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        theList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock(),\r\n            tint=obj.getColorTint()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        if move == true then\r\n            color = colorMove\r\n        end\r\n        self.editButton({index=index, color=color})\r\n        theList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\nfunction editDragSelection(bagObj, player, remove)\r\n    local selectedObjs = Player[player].getSelectedObjects()\r\n    if not remove then\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            --Ignore if already in the memory list, or does not have a button\r\n            if index and not memoryList[obj.getGUID()] then\r\n                self.editButton({index=index, color={0,1,0,0.6}})\r\n                --Adding pos/rot to memory table\r\n                local pos, rot = obj.getPosition(), obj.getRotation()\r\n                --I need to add it like this or it won't save due to indexing issue\r\n                memoryList[obj.getGUID()] = {\r\n                    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n                    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n                    lock=obj.getLock(),\r\n                    tint=obj.getColorTint()\r\n                }\r\n                obj.highlightOn({0,1,0})\r\n            end\r\n        end\r\n    else\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            if index and memoryList[obj.getGUID()] then\r\n                color = {0.75,0.25,0.25,0.6}\r\n                self.editButton({index=index, color=color})\r\n                memoryList[obj.getGUID()] = nil\r\n                obj.highlightOff()\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Sélection annulée\", {1,1,1})\r\n    moveGuid = nil\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    fresh = false\r\n    if next(moveList) ~= nil then\r\n        for guid in pairs(moveList) do\r\n            moveGuid = guid\r\n        end\r\n        if memoryListBackup[moveGuid] == nil then\r\n            broadcastToAll(\"Item selected for moving is not already in memory\", {1, 0.25, 0.25})\r\n        else\r\n            broadcastToAll(\"Moving all items in memory relative to new objects position!\", {0.75, 0.75, 1})\r\n            self.clearButtons()\r\n            self.clearInputs()\r\n            createMemoryActionButtons()\r\n            local count = 0\r\n            for guid in pairs(moveList) do\r\n                moveGuid = guid\r\n                count = count + 1\r\n                local obj = getObjectFromGUID(guid)\r\n                if obj ~= nil then obj.highlightOff() end\r\n            end\r\n            updateMemoryWithMoves()\r\n            updateSave()\r\n            buttonClick_place()\r\n        end\r\n    elseif next(memoryList) == nil and moveGuid == nil then\r\n        memoryList = memoryListBackup\r\n        broadcastToAll(\"No selections made.\", {0.75, 0.25, 0.25})\r\n    end\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\n    moveGuid = nil\r\nend\r\n\r\nfunction combineTables(first_table, second_table)\r\n    for k,v in pairs(second_table) do first_table[k] = v end\r\nend\r\n\r\nfunction buttonClick_add()\r\n    fresh = false\r\n    combineTables(memoryList, memoryListBackup)\r\n    broadcastToAll(\"Adding internal bags and selections to existing memory\", {0.25, 0.75, 0.25})\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_remove()\r\n    broadcastToAll(\"Removing Selected Entries From Memory\", {1.0, 0.25, 0.25})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        memoryListBackup[guid] = nil\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Removed\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_setNew()\r\n    broadcastToAll(\"Setting new position relative to items in memory\", {0.75, 0.75, 1})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        guid = obj.guid\r\n        if memoryListBackup[guid] ~= nil then\r\n            count = count + 1\r\n            memoryListBackup[guid].pos = obj.getPosition()\r\n            memoryListBackup[guid].rot = obj.getRotation()\r\n            memoryListBackup[guid].lock = obj.getLock()\r\n            memoryListBackup[guid].tint = obj.getColorTint()\r\n        end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    fresh = true\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Placer\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,2}, rotation={0,0,0}, height=350, width=1000,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Ranger\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,2.8}, rotation={0,0,0}, height=350, width=1000,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={2,0.3,0}, rotation={0,90,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    ---    self.createButton({\r\n    ---      label=\"Bouger\", click_function=\"buttonClick_transpose\", function_owner=self,\r\n    ---      position={-2,0.3,0.8}, rotation={0,270,0}, height=350, width=800,\r\n    ---      font_size=250, color={0,0,0}, font_color={0.75,0.75,1}\r\n    ---  \r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n            obj.setColorTint(entry.tint)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot, smooth=false\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    item.setColorTint(entry.tint)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objets placés\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objets rangés\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local yOffset = 0\r\n    if obj ~= nil then\r\n        local bounds = obj.getBounds()\r\n        yOffset = (bounds.size.y - bounds.offset.y)\r\n    end\r\n    local deltaPos = {}\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + yOffset\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n    local objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n    local x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n    local z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n    --return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\nfunction rotateMyCoordinates(desiredPos, obj)\r\n    local angle = math.rad(obj.getRotation().y)\r\n    local x = desiredPos.x * math.sin(angle)\r\n    local z = desiredPos.z * math.cos(angle)\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n    local mult = 10^(dec or 0)\r\n    return math.floor(num * mult + 0.5) / mult\r\nend\r\n\r\n\r\n--[[\r\nThis object provides access to a variable stored on the \"Global script\".\r\nThe variable holds the GUIDs for every Utility Memory Bag in the scene.\r\nExample:\r\n{'805ebd', '35cc21', 'fc8886', 'f50264', '5f5f63'}\r\n--]]\r\nAllMemoryBagsInScene = {\r\n    NAME_OF_GLOBAL_VARIABLE = \"_UtilityMemoryBag_AllMemoryBagsInScene\"\r\n}\r\n\r\nfunction AllMemoryBagsInScene:add(guid)\r\n    local guids = Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\n    table.insert(guids, guid)\r\n    Global.setTable(self.NAME_OF_GLOBAL_VARIABLE, guids)\r\nend\r\n\r\nfunction AllMemoryBagsInScene:getGuidList()\r\n    return Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\nend",
              "LuaScriptState": "{\"ml\":{\"045bf5\":{\"lock\":false,\"pos\":{\"x\":8.50302886962891,\"y\":1.58122158050537,\"z\":8.9966287612915},\"rot\":{\"x\":0.0173494312912226,\"y\":180.100631713867,\"z\":0.00173479516524822},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"081cad\":{\"lock\":false,\"pos\":{\"x\":6.07020950317383,\"y\":1.51852095127106,\"z\":11.3674564361572},\"rot\":{\"x\":0.0108836209401488,\"y\":180.091674804688,\"z\":0.00496568623930216},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"0878ee\":{\"lock\":false,\"pos\":{\"x\":10.0011005401611,\"y\":1.55536234378815,\"z\":15.5010986328125},\"rot\":{\"x\":359.990264892578,\"y\":299.958435058594,\"z\":0.00697102304548025},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"096eb9\":{\"lock\":false,\"pos\":{\"x\":-25.3808059692383,\"y\":1.83360457420349,\"z\":7.9993462562561},\"rot\":{\"x\":6.8175127125869E-06,\"y\":180.034118652344,\"z\":-1.18875968837528E-05},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"12d7a6\":{\"lock\":true,\"pos\":{\"x\":6,\"y\":1.52016794681549,\"z\":20},\"rot\":{\"x\":0.0108895897865295,\"y\":180.022109985352,\"z\":180.004959106445},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"1c2f81\":{\"lock\":true,\"pos\":{\"x\":12,\"y\":1.51926958560944,\"z\":18},\"rot\":{\"x\":0.0108894910663366,\"y\":180.023956298828,\"z\":180.004959106445},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"24499d\":{\"lock\":true,\"pos\":{\"x\":-0.000299975275993347,\"y\":1.5178347826004,\"z\":4.99999713897705},\"rot\":{\"x\":0.0108892060816288,\"y\":180.027420043945,\"z\":180.004959106445},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"393334\":{\"lock\":false,\"pos\":{\"x\":12,\"y\":1.55433404445648,\"z\":11.0000009536743},\"rot\":{\"x\":359.989105224609,\"y\":359.992767333984,\"z\":-0.00495087448507547},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"443ac4\":{\"lock\":true,\"pos\":{\"x\":14,\"y\":1.51776623725891,\"z\":11},\"rot\":{\"x\":0.0108897443860769,\"y\":180.021118164063,\"z\":180.004959106445},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"48ccce\":{\"lock\":false,\"pos\":{\"x\":6.5,\"y\":1.55376362800598,\"z\":5.49999856948853},\"rot\":{\"x\":0.00499833701178432,\"y\":90.0048370361328,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"5fd6e2\":{\"lock\":false,\"pos\":{\"x\":8.37439632415771,\"y\":1.51859474182129,\"z\":12.9182872772217},\"rot\":{\"x\":0.0111159775406122,\"y\":180.091934204102,\"z\":0.00350302713923156},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"6219c9\":{\"lock\":true,\"pos\":{\"x\":-2.00030136108398,\"y\":1.51914799213409,\"z\":11},\"rot\":{\"x\":0.0108894417062402,\"y\":180.024658203125,\"z\":180.004959106445},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"6be872\":{\"lock\":false,\"pos\":{\"x\":3.76557970046997,\"y\":1.51838910579681,\"z\":9.82476139068604},\"rot\":{\"x\":0.0112557886168361,\"y\":180.088287353516,\"z\":0.00250472174957395},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"762fa9\":{\"lock\":false,\"pos\":{\"x\":8.49999809265137,\"y\":1.58223652839661,\"z\":13.5},\"rot\":{\"x\":0.00768077885732055,\"y\":180.013626098633,\"z\":0.00238850270397961},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"77bfe4\":{\"lock\":false,\"pos\":{\"x\":-26.0002193450928,\"y\":1.78360521793365,\"z\":7.99974536895752},\"rot\":{\"x\":-8.03928912773699E-07,\"y\":180.034423828125,\"z\":-2.6243362299283E-05},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"857b50\":{\"lock\":false,\"pos\":{\"x\":2.00000047683716,\"y\":1.55453252792358,\"z\":7.49999952316284},\"rot\":{\"x\":0.00975024234503508,\"y\":119.99681854248,\"z\":359.993041992188},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"93379a\":{\"lock\":false,\"pos\":{\"x\":-6.18398189544678E-07,\"y\":1.55537045001984,\"z\":11},\"rot\":{\"x\":0.0108988396823406,\"y\":180.011276245117,\"z\":0.00494384532794356},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"9a7469\":{\"lock\":false,\"pos\":{\"x\":1.99999964237213,\"y\":1.5560530424118,\"z\":15.5},\"rot\":{\"x\":0.00116443424485624,\"y\":240.004852294922,\"z\":0.0119070587679744},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"9d5f69\":{\"lock\":false,\"pos\":{\"x\":3.77385807037354,\"y\":1.51900589466095,\"z\":13.0044374465942},\"rot\":{\"x\":0.0111394105479121,\"y\":180.083892822266,\"z\":0.00333979073911905},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"a88d34\":{\"lock\":false,\"pos\":{\"x\":-5.50000190734863,\"y\":1.50689113140106,\"z\":16.5000038146973},\"rot\":{\"x\":0.0108889378607273,\"y\":180.029724121094,\"z\":0.00495399488136172},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"bfdf13\":{\"lock\":false,\"pos\":{\"x\":3.99989295005798,\"y\":1.58262634277344,\"z\":13.5001220703125},\"rot\":{\"x\":0.0109245562925935,\"y\":179.982269287109,\"z\":0.0039947098121047},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"c6350a\":{\"lock\":true,\"pos\":{\"x\":-5.30967483314271E-08,\"y\":1.5203058719635,\"z\":18},\"rot\":{\"x\":0.0108896903693676,\"y\":180.021392822266,\"z\":180.004959106445},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"c6ab44\":{\"lock\":false,\"pos\":{\"x\":8.37122344970703,\"y\":1.51795971393585,\"z\":9.74558734893799},\"rot\":{\"x\":0.0114129893481731,\"y\":180.088851928711,\"z\":0.00143008376471698},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"ca83a4\":{\"lock\":true,\"pos\":{\"x\":12,\"y\":1.51670336723328,\"z\":4.49999856948853},\"rot\":{\"x\":0.0108897741883993,\"y\":180.019866943359,\"z\":180.004959106445},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"cbfd62\":{\"lock\":false,\"pos\":{\"x\":10.0007009506226,\"y\":1.55374610424042,\"z\":6.99879932403564},\"rot\":{\"x\":-0.00137911667115986,\"y\":59.9764175415039,\"z\":359.988067626953},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"dc6332\":{\"lock\":false,\"pos\":{\"x\":3.50301313400269,\"y\":1.5816365480423,\"z\":9.00295734405518},\"rot\":{\"x\":0.0165333580225706,\"y\":180.085678100586,\"z\":0.00273406039923429},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"ee49d6\":{\"lock\":false,\"pos\":{\"x\":5.99739980697632,\"y\":1.55599319934845,\"z\":17.0007991790771},\"rot\":{\"x\":-0.0049507524818182,\"y\":270.122802734375,\"z\":0.0108795827254653},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"f585ad\":{\"lock\":true,\"pos\":{\"x\":6,\"y\":1.51684129238129,\"z\":2.49999904632568},\"rot\":{\"x\":0.0108896587044001,\"y\":180.022399902344,\"z\":180.004959106445},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}}}}",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "045bf5",
                  "Name": "Custom_Token",
                  "Transform": {
                    "posX": 8.503029,
                    "posY": 1.58122158,
                    "posZ": 8.996629,
                    "rotX": 0.0173494313,
                    "rotY": 180.100632,
                    "rotZ": 0.00173479517,
                    "scaleX": 0.230000675,
                    "scaleY": 0.999999762,
                    "scaleZ": 0.230000645
                  },
                  "Nickname": "Dégâts",
                  "Description": "Click gauche - Ajouter\nClick droit - Soustraire",
                  "GMNotes": "Damage",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/949599153663402915/D881A5A0D8A370851B9A0055DD7834CDCE0F72BE/",
                    "ImageSecondaryURL": "",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomToken": {
                      "Thickness": 0.1,
                      "MergeDistancePixels": 5.0,
                      "StandUp": false,
                      "Stackable": false
                    }
                  },
                  "LuaScript": "MIN_VALUE = -99\r\nMAX_VALUE = 999\r\n\r\nfunction onload(saved_data)\r\n    light_mode = true\r\n    val = 0\r\n\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        light_mode = loaded_data[1]\r\n        val = loaded_data[2]\r\n    end\r\n\r\n    createAll()\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = {light_mode, val}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction createAll()\r\n    s_color = {0,0,0,100}\r\n\r\n    if light_mode then\r\n        f_color = {1,1,1,100}\r\n    else\r\n        f_color = {0,0,0,100}\r\n    end\r\n\r\n\r\n\r\n    self.createButton({\r\n      label=tostring(val),\r\n      click_function=\"add_subtract\",\r\n      function_owner=self,\r\n      position={0,0.05,0.1},\r\n      height=600,\r\n      width=1000,\r\n      alignment = 3,\r\n      scale={x=1.5, y=1.5, z=1.5},\r\n      font_size=800,\r\n      font_color=f_color,\r\n      color={1,1,1,0}\r\n      })\r\n\r\n\r\n\r\n\r\n    if light_mode then\r\n        lightButtonText = \"[ Set dark ]\"\r\n    else\r\n        lightButtonText = \"[ Set light ]\"\r\n    end\r\n \r\nend\r\n\r\nfunction removeAll()\r\n    self.removeInput(0)\r\n    self.removeInput(1)\r\n    self.removeButton(0)\r\n    self.removeButton(1)\r\n    self.removeButton(2)\r\nend\r\n\r\nfunction reloadAll()\r\n    removeAll()\r\n    createAll()\r\n\r\n    updateSave()\r\nend\r\n\r\nfunction swap_fcolor(_obj, _color, alt_click)\r\n    light_mode = not light_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction swap_align(_obj, _color, alt_click)\r\n    center_mode = not center_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction editName(_obj, _string, value) \r\n    self.setName(value)\r\n    setTooltips()\r\nend\r\n\r\nfunction add_subtract(_obj, _color, alt_click)\r\n    mod = alt_click and -1 or 1\r\n    new_value = math.min(math.max(val + mod, MIN_VALUE), MAX_VALUE)\r\n    if val ~= new_value then\r\n        val = new_value\r\n      updateVal()\r\n        updateSave()\r\n    end\r\nend\r\n\r\nfunction updateVal()\r\n\r\n    self.editButton({\r\n        index = 0,\r\n        label = tostring(val),\r\n\r\n        })\r\nend\r\n\r\nfunction reset_val()\r\n    val = 0\r\n    updateVal()\r\n    updateSave()\r\nend\r\n\r\nfunction setTooltips()\r\n    self.editInput({\r\n        index = 0,\r\n        value = self.getName(),\r\n        tooltip = ttText\r\n        })\r\n    self.editButton({\r\n        index = 0,\r\n        value = tostring(val),\r\n        tooltip = ttText\r\n        })\r\nend\r\n\r\nfunction null()\r\nend\r\n\r\nfunction keepSample(_obj, _string, value) \r\n    reloadAll()\r\nend",
                  "LuaScriptState": "[true,0]",
                  "XmlUI": ""
                },
                {
                  "GUID": "081cad",
                  "Name": "Card",
                  "Transform": {
                    "posX": 6.0702095,
                    "posY": 1.518521,
                    "posZ": 11.3674564,
                    "rotX": 0.0108836209,
                    "rotY": 180.091675,
                    "rotZ": 0.00496568624,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Atlach-Nacha",
                  "Description": "Le Dieu Araignée",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 4,\n  \"healthPerInv\": \"true\",\n  \"id\": \"06346\",\n  \"traits\": \"Ancient One. Spider. Elite.\",\n  \"type\": \"Enemy\",\n  \"victory\": 1\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": false,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276016,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2760": {
                      "FaceURL": "https://i.imgur.com/BqGxbIh.jpg",
                      "BackURL": "https://i.imgur.com/8GuAY4f.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "0878ee",
                  "Name": "Custom_Token",
                  "Transform": {
                    "posX": 10.0011005,
                    "posY": 1.55536234,
                    "posZ": 15.5010986,
                    "rotX": 359.990265,
                    "rotY": 299.958435,
                    "rotZ": 0.006971023,
                    "scaleX": 0.215356961,
                    "scaleY": 1.0,
                    "scaleZ": 0.215356961
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/1985555189151960930/00A1A628755962098DD9D3154FAF9B121679F3B8/",
                    "ImageSecondaryURL": "",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomToken": {
                      "Thickness": 0.1,
                      "MergeDistancePixels": 5.0,
                      "StandUp": false,
                      "Stackable": false
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "096eb9",
                  "Name": "Card",
                  "Transform": {
                    "posX": -25.380806,
                    "posY": 1.83360457,
                    "posZ": 7.99934626,
                    "rotX": 6.81751271E-06,
                    "rotY": 180.034119,
                    "rotZ": -1.18875969E-05,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "La Fileuse dans les Ténèbres",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06352\",\n  \"traits\": \"Power.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 564518,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "5645": {
                      "FaceURL": "https://i.imgur.com/mxwsEYQ.jpg",
                      "BackURL": "https://i.imgur.com/sVmefR9.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "12d7a6",
                  "Name": "Card",
                  "Transform": {
                    "posX": 6.0,
                    "posY": 1.520168,
                    "posZ": 20.0,
                    "rotX": 0.01088959,
                    "rotY": 180.02211,
                    "rotZ": 180.004959,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "[]",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 1108500,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "11085": {
                      "FaceURL": "https://steamusercontent-a.akamaihd.net/ugc/1874088192656181477/79874E6695B40674EB042AE509B14E016AC3DB57/",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1874088192656181477/79874E6695B40674EB042AE509B14E016AC3DB57/",
                      "NumWidth": 1,
                      "NumHeight": 1,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "1c2f81",
                  "Name": "Card",
                  "Transform": {
                    "posX": 12.0,
                    "posY": 1.51926959,
                    "posZ": 18.0,
                    "rotX": 0.0108894911,
                    "rotY": 180.023956,
                    "rotZ": 180.004959,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "[]",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 1108500,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "11085": {
                      "FaceURL": "https://steamusercontent-a.akamaihd.net/ugc/1874088192656181477/79874E6695B40674EB042AE509B14E016AC3DB57/",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1874088192656181477/79874E6695B40674EB042AE509B14E016AC3DB57/",
                      "NumWidth": 1,
                      "NumHeight": 1,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "24499d",
                  "Name": "Card",
                  "Transform": {
                    "posX": -0.000299975276,
                    "posY": 1.51783478,
                    "posZ": 4.999997,
                    "rotX": 0.0108892061,
                    "rotY": 180.02742,
                    "rotZ": 180.004959,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "[]",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 1108500,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "11085": {
                      "FaceURL": "https://steamusercontent-a.akamaihd.net/ugc/1874088192656181477/79874E6695B40674EB042AE509B14E016AC3DB57/",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1874088192656181477/79874E6695B40674EB042AE509B14E016AC3DB57/",
                      "NumWidth": 1,
                      "NumHeight": 1,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "393334",
                  "Name": "Custom_Token",
                  "Transform": {
                    "posX": 12.0,
                    "posY": 1.554334,
                    "posZ": 11.000001,
                    "rotX": 359.9891,
                    "rotY": 359.992767,
                    "rotZ": -0.00495087449,
                    "scaleX": 0.215356961,
                    "scaleY": 1.0,
                    "scaleZ": 0.215356961
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/1985555189151960930/00A1A628755962098DD9D3154FAF9B121679F3B8/",
                    "ImageSecondaryURL": "",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomToken": {
                      "Thickness": 0.1,
                      "MergeDistancePixels": 5.0,
                      "StandUp": false,
                      "Stackable": false
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "443ac4",
                  "Name": "Card",
                  "Transform": {
                    "posX": 14.0,
                    "posY": 1.51776624,
                    "posZ": 11.0,
                    "rotX": 0.0108897444,
                    "rotY": 180.021118,
                    "rotZ": 180.004959,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "[]",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 1108500,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "11085": {
                      "FaceURL": "https://steamusercontent-a.akamaihd.net/ugc/1874088192656181477/79874E6695B40674EB042AE509B14E016AC3DB57/",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1874088192656181477/79874E6695B40674EB042AE509B14E016AC3DB57/",
                      "NumWidth": 1,
                      "NumHeight": 1,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "48ccce",
                  "Name": "Custom_Token",
                  "Transform": {
                    "posX": 6.5,
                    "posY": 1.55376363,
                    "posZ": 5.49999857,
                    "rotX": 0.004998337,
                    "rotY": 90.00484,
                    "rotZ": 359.9891,
                    "scaleX": 0.215356961,
                    "scaleY": 1.0,
                    "scaleZ": 0.215356961
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/1985555189151960930/00A1A628755962098DD9D3154FAF9B121679F3B8/",
                    "ImageSecondaryURL": "",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomToken": {
                      "Thickness": 0.1,
                      "MergeDistancePixels": 5.0,
                      "StandUp": false,
                      "Stackable": false
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "5fd6e2",
                  "Name": "Card",
                  "Transform": {
                    "posX": 8.374396,
                    "posY": 1.51859474,
                    "posZ": 12.9182873,
                    "rotX": 0.0111159775,
                    "rotY": 180.091934,
                    "rotZ": 0.00350302714,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Pattes d'Atlach-Nacha",
                  "Description": "",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"health\": 3,\n  \"healthPerInv\": \"true\",\n  \"id\": \"06348\",\n  \"traits\": \"Ancient One. Spider. Elite.\",\n  \"type\": \"Enemy\",\n  \"victory\": 1\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": false,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 564511,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "5645": {
                      "FaceURL": "https://i.imgur.com/mxwsEYQ.jpg",
                      "BackURL": "https://i.imgur.com/sVmefR9.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "6219c9",
                  "Name": "Card",
                  "Transform": {
                    "posX": -2.00030136,
                    "posY": 1.519148,
                    "posZ": 11.0,
                    "rotX": 0.0108894417,
                    "rotY": 180.024658,
                    "rotZ": 180.004959,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "[]",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 1108500,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "11085": {
                      "FaceURL": "https://steamusercontent-a.akamaihd.net/ugc/1874088192656181477/79874E6695B40674EB042AE509B14E016AC3DB57/",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1874088192656181477/79874E6695B40674EB042AE509B14E016AC3DB57/",
                      "NumWidth": 1,
                      "NumHeight": 1,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "6be872",
                  "Name": "Card",
                  "Transform": {
                    "posX": 3.7655797,
                    "posY": 1.51838911,
                    "posZ": 9.824761,
                    "rotX": 0.0112557886,
                    "rotY": 180.088287,
                    "rotZ": 0.00250472175,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Pattes d'Atlach-Nacha",
                  "Description": "",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"health\": 3,\n  \"healthPerInv\": \"true\",\n  \"id\": \"06349\",\n  \"traits\": \"Ancient One. Spider. Elite.\",\n  \"type\": \"Enemy\",\n  \"victory\": 1\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": false,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 564512,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "5645": {
                      "FaceURL": "https://i.imgur.com/mxwsEYQ.jpg",
                      "BackURL": "https://i.imgur.com/sVmefR9.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "762fa9",
                  "Name": "Custom_Token",
                  "Transform": {
                    "posX": 8.499998,
                    "posY": 1.58223653,
                    "posZ": 13.5,
                    "rotX": 0.007680779,
                    "rotY": 180.013626,
                    "rotZ": 0.0023885027,
                    "scaleX": 0.230000123,
                    "scaleY": 0.999999762,
                    "scaleZ": 0.230000079
                  },
                  "Nickname": "Dégâts",
                  "Description": "Click gauche - Ajouter\nClick droit - Soustraire",
                  "GMNotes": "Damage",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/949599153663402915/D881A5A0D8A370851B9A0055DD7834CDCE0F72BE/",
                    "ImageSecondaryURL": "",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomToken": {
                      "Thickness": 0.1,
                      "MergeDistancePixels": 5.0,
                      "StandUp": false,
                      "Stackable": false
                    }
                  },
                  "LuaScript": "MIN_VALUE = -99\r\nMAX_VALUE = 999\r\n\r\nfunction onload(saved_data)\r\n    light_mode = true\r\n    val = 0\r\n\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        light_mode = loaded_data[1]\r\n        val = loaded_data[2]\r\n    end\r\n\r\n    createAll()\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = {light_mode, val}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction createAll()\r\n    s_color = {0,0,0,100}\r\n\r\n    if light_mode then\r\n        f_color = {1,1,1,100}\r\n    else\r\n        f_color = {0,0,0,100}\r\n    end\r\n\r\n\r\n\r\n    self.createButton({\r\n      label=tostring(val),\r\n      click_function=\"add_subtract\",\r\n      function_owner=self,\r\n      position={0,0.05,0.1},\r\n      height=600,\r\n      width=1000,\r\n      alignment = 3,\r\n      scale={x=1.5, y=1.5, z=1.5},\r\n      font_size=800,\r\n      font_color=f_color,\r\n      color={1,1,1,0}\r\n      })\r\n\r\n\r\n\r\n\r\n    if light_mode then\r\n        lightButtonText = \"[ Set dark ]\"\r\n    else\r\n        lightButtonText = \"[ Set light ]\"\r\n    end\r\n \r\nend\r\n\r\nfunction removeAll()\r\n    self.removeInput(0)\r\n    self.removeInput(1)\r\n    self.removeButton(0)\r\n    self.removeButton(1)\r\n    self.removeButton(2)\r\nend\r\n\r\nfunction reloadAll()\r\n    removeAll()\r\n    createAll()\r\n\r\n    updateSave()\r\nend\r\n\r\nfunction swap_fcolor(_obj, _color, alt_click)\r\n    light_mode = not light_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction swap_align(_obj, _color, alt_click)\r\n    center_mode = not center_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction editName(_obj, _string, value) \r\n    self.setName(value)\r\n    setTooltips()\r\nend\r\n\r\nfunction add_subtract(_obj, _color, alt_click)\r\n    mod = alt_click and -1 or 1\r\n    new_value = math.min(math.max(val + mod, MIN_VALUE), MAX_VALUE)\r\n    if val ~= new_value then\r\n        val = new_value\r\n      updateVal()\r\n        updateSave()\r\n    end\r\nend\r\n\r\nfunction updateVal()\r\n\r\n    self.editButton({\r\n        index = 0,\r\n        label = tostring(val),\r\n\r\n        })\r\nend\r\n\r\nfunction reset_val()\r\n    val = 0\r\n    updateVal()\r\n    updateSave()\r\nend\r\n\r\nfunction setTooltips()\r\n    self.editInput({\r\n        index = 0,\r\n        value = self.getName(),\r\n        tooltip = ttText\r\n        })\r\n    self.editButton({\r\n        index = 0,\r\n        value = tostring(val),\r\n        tooltip = ttText\r\n        })\r\nend\r\n\r\nfunction null()\r\nend\r\n\r\nfunction keepSample(_obj, _string, value) \r\n    reloadAll()\r\nend",
                  "LuaScriptState": "[true,0]",
                  "XmlUI": ""
                },
                {
                  "GUID": "77bfe4",
                  "Name": "Card",
                  "Transform": {
                    "posX": -26.00022,
                    "posY": 1.78360522,
                    "posZ": 7.99974537,
                    "rotX": -8.039289E-07,
                    "rotY": 180.034424,
                    "rotZ": -2.62433623E-05,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "La Fileuse dans les Ténèbres",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06352\",\n  \"traits\": \"Power.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 564517,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "5645": {
                      "FaceURL": "https://i.imgur.com/mxwsEYQ.jpg",
                      "BackURL": "https://i.imgur.com/sVmefR9.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "857b50",
                  "Name": "Custom_Token",
                  "Transform": {
                    "posX": 2.00000048,
                    "posY": 1.55453253,
                    "posZ": 7.49999952,
                    "rotX": 0.009750242,
                    "rotY": 119.996819,
                    "rotZ": 359.993042,
                    "scaleX": 0.215356961,
                    "scaleY": 1.0,
                    "scaleZ": 0.215356961
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/1985555189151960930/00A1A628755962098DD9D3154FAF9B121679F3B8/",
                    "ImageSecondaryURL": "",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomToken": {
                      "Thickness": 0.1,
                      "MergeDistancePixels": 5.0,
                      "StandUp": false,
                      "Stackable": false
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "93379a",
                  "Name": "Custom_Token",
                  "Transform": {
                    "posX": -6.183982E-07,
                    "posY": 1.55537045,
                    "posZ": 11.0,
                    "rotX": 0.01089884,
                    "rotY": 180.011276,
                    "rotZ": 0.00494384533,
                    "scaleX": 0.215356961,
                    "scaleY": 1.0,
                    "scaleZ": 0.215356961
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/1985555189151960930/00A1A628755962098DD9D3154FAF9B121679F3B8/",
                    "ImageSecondaryURL": "",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomToken": {
                      "Thickness": 0.1,
                      "MergeDistancePixels": 5.0,
                      "StandUp": false,
                      "Stackable": false
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "9a7469",
                  "Name": "Custom_Token",
                  "Transform": {
                    "posX": 1.99999964,
                    "posY": 1.556053,
                    "posZ": 15.5,
                    "rotX": 0.00116443424,
                    "rotY": 240.004852,
                    "rotZ": 0.0119070588,
                    "scaleX": 0.215356961,
                    "scaleY": 1.0,
                    "scaleZ": 0.215356961
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/1985555189151960930/00A1A628755962098DD9D3154FAF9B121679F3B8/",
                    "ImageSecondaryURL": "",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomToken": {
                      "Thickness": 0.1,
                      "MergeDistancePixels": 5.0,
                      "StandUp": false,
                      "Stackable": false
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "9d5f69",
                  "Name": "Card",
                  "Transform": {
                    "posX": 3.773858,
                    "posY": 1.51900589,
                    "posZ": 13.0044374,
                    "rotX": 0.0111394105,
                    "rotY": 180.0839,
                    "rotZ": 0.00333979074,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Pattes d'Atlach-Nacha",
                  "Description": "",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"health\": 3,\n  \"healthPerInv\": \"true\",\n  \"id\": \"06347\",\n  \"traits\": \"Ancient One. Spider. Elite.\",\n  \"type\": \"Enemy\",\n  \"victory\": 1\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": false,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 564510,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "5645": {
                      "FaceURL": "https://i.imgur.com/mxwsEYQ.jpg",
                      "BackURL": "https://i.imgur.com/sVmefR9.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "a88d34",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -5.500002,
                    "posY": 1.50689113,
                    "posZ": 16.5000038,
                    "rotX": 0.0108889379,
                    "rotY": 180.029724,
                    "rotZ": 0.004953995,
                    "scaleX": 1.3656503,
                    "scaleY": 1.0,
                    "scaleZ": 1.3656503
                  },
                  "Nickname": "Faire pivoter Atlach-Nacha",
                  "Description": "Click droit pour augmenter\nClick gauche pour diminer",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/1696129502531615566/5EEBE5EDB93947E2138C14A354A5669C3682256F/",
                    "ImageSecondaryURL": "https://steamusercontent-a.akamaihd.net/ugc/1696129502531615566/5EEBE5EDB93947E2138C14A354A5669C3682256F/",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 0,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "ENCOUNTER_DECK_POS = {-3.8, 1, 5.7}\nMIN_VALUE = 1\n\nfunction onload()\n    val = 1\n\n    self.createButton({\n        label=\"Tourner\",\n        click_function=\"doRotation\",\n        function_owner=self,\n        position={0,0.1,-0.4},\n        height=120,\n        width=450,\n        scale={x=1.75, y=1.75, z=1.75},\n        font_size=100\n    })\n\n    self.createButton({\n        label=val,\n        click_function=\"add_subtract\",\n        function_owner=self,\n        position={0,0.1,0.4},\n        height=120,\n        width=250,\n        scale={x=1.75, y=1.75, z=1.75},\n        font_size=100\n    })\nend\n\nfunction add_subtract(_obj, _color, alt_click)\n    local mod = alt_click and -1 or 1\n    new_value = math.max(val + mod, MIN_VALUE)\n    if val ~= new_value then\n        val = new_value\n        self.editButton({\n            index = 1,\n            label = tostring(val)\n        })\n    end\nend\n\nfunction doRotation(_obj, _color, alt_click)\n    if IS_ROTATING then return end\n\n    IS_ROTATING = true\n    local body = getObjectFromGUID(\"081cad\")\n    if body == nil then\n        printToColor(\"Placer d'abbord Atlach Nacha et rééssayez\", _color)\n    end\n\n    local objs = Physics.cast({\n        origin = body.getPosition(),\n        direction = {0,1,0},\n        type = 2,\n        size = { 6, 6, 6 },\n        max_distance = 0\n    })\n\n    local numAttachments = 0\n    for i,v in ipairs(objs) do\n        local obj = v.hit_object\n        if obj.getGUID() ~= \"081cad\" and (obj.tag == \"Card\" or obj.getGMNotes() == \"Damage\") then\n            numAttachments = numAttachments + 1\n            body.addAttachment(obj)\n        end\n    end\n\n    local r = body.getRotation()\n    body.setRotationSmooth({ r.x, r.y + (45 * val), r.z }, false, true)\n\n    Wait.time(|| detachLegs(body, numAttachments), 1)\nend\n\nfunction detachLegs(body, numAttachments)\n    for i = numAttachments-1,0,-1 do\n        body.removeAttachment(i)\n    end\n    Wait.time(function() IS_ROTATING = false end, 1)\nend\n",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "bfdf13",
                  "Name": "Custom_Token",
                  "Transform": {
                    "posX": 3.999893,
                    "posY": 1.58262634,
                    "posZ": 13.5001221,
                    "rotX": 0.0109245563,
                    "rotY": 179.982269,
                    "rotZ": 0.00399471,
                    "scaleX": 0.230000183,
                    "scaleY": 0.9999999,
                    "scaleZ": 0.230000108
                  },
                  "Nickname": "Dégâts",
                  "Description": "Click gauche - Ajouter\nClick droit - Soustraire",
                  "GMNotes": "Damage",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/949599153663402915/D881A5A0D8A370851B9A0055DD7834CDCE0F72BE/",
                    "ImageSecondaryURL": "",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomToken": {
                      "Thickness": 0.1,
                      "MergeDistancePixels": 5.0,
                      "StandUp": false,
                      "Stackable": false
                    }
                  },
                  "LuaScript": "MIN_VALUE = -99\r\nMAX_VALUE = 999\r\n\r\nfunction onload(saved_data)\r\n    light_mode = true\r\n    val = 0\r\n\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        light_mode = loaded_data[1]\r\n        val = loaded_data[2]\r\n    end\r\n\r\n    createAll()\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = {light_mode, val}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction createAll()\r\n    s_color = {0,0,0,100}\r\n\r\n    if light_mode then\r\n        f_color = {1,1,1,100}\r\n    else\r\n        f_color = {0,0,0,100}\r\n    end\r\n\r\n\r\n\r\n    self.createButton({\r\n      label=tostring(val),\r\n      click_function=\"add_subtract\",\r\n      function_owner=self,\r\n      position={0,0.05,0.1},\r\n      height=600,\r\n      width=1000,\r\n      alignment = 3,\r\n      scale={x=1.5, y=1.5, z=1.5},\r\n      font_size=800,\r\n      font_color=f_color,\r\n      color={1,1,1,0}\r\n      })\r\n\r\n\r\n\r\n\r\n    if light_mode then\r\n        lightButtonText = \"[ Set dark ]\"\r\n    else\r\n        lightButtonText = \"[ Set light ]\"\r\n    end\r\n \r\nend\r\n\r\nfunction removeAll()\r\n    self.removeInput(0)\r\n    self.removeInput(1)\r\n    self.removeButton(0)\r\n    self.removeButton(1)\r\n    self.removeButton(2)\r\nend\r\n\r\nfunction reloadAll()\r\n    removeAll()\r\n    createAll()\r\n\r\n    updateSave()\r\nend\r\n\r\nfunction swap_fcolor(_obj, _color, alt_click)\r\n    light_mode = not light_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction swap_align(_obj, _color, alt_click)\r\n    center_mode = not center_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction editName(_obj, _string, value) \r\n    self.setName(value)\r\n    setTooltips()\r\nend\r\n\r\nfunction add_subtract(_obj, _color, alt_click)\r\n    mod = alt_click and -1 or 1\r\n    new_value = math.min(math.max(val + mod, MIN_VALUE), MAX_VALUE)\r\n    if val ~= new_value then\r\n        val = new_value\r\n      updateVal()\r\n        updateSave()\r\n    end\r\nend\r\n\r\nfunction updateVal()\r\n\r\n    self.editButton({\r\n        index = 0,\r\n        label = tostring(val),\r\n\r\n        })\r\nend\r\n\r\nfunction reset_val()\r\n    val = 0\r\n    updateVal()\r\n    updateSave()\r\nend\r\n\r\nfunction setTooltips()\r\n    self.editInput({\r\n        index = 0,\r\n        value = self.getName(),\r\n        tooltip = ttText\r\n        })\r\n    self.editButton({\r\n        index = 0,\r\n        value = tostring(val),\r\n        tooltip = ttText\r\n        })\r\nend\r\n\r\nfunction null()\r\nend\r\n\r\nfunction keepSample(_obj, _string, value) \r\n    reloadAll()\r\nend",
                  "LuaScriptState": "[true,0]",
                  "XmlUI": ""
                },
                {
                  "GUID": "c6350a",
                  "Name": "Card",
                  "Transform": {
                    "posX": -5.309675E-08,
                    "posY": 1.52030587,
                    "posZ": 18.0,
                    "rotX": 0.01088969,
                    "rotY": 180.0214,
                    "rotZ": 180.004959,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "[]",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 1108500,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "11085": {
                      "FaceURL": "https://steamusercontent-a.akamaihd.net/ugc/1874088192656181477/79874E6695B40674EB042AE509B14E016AC3DB57/",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1874088192656181477/79874E6695B40674EB042AE509B14E016AC3DB57/",
                      "NumWidth": 1,
                      "NumHeight": 1,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "c6ab44",
                  "Name": "Card",
                  "Transform": {
                    "posX": 8.371223,
                    "posY": 1.51795971,
                    "posZ": 9.745587,
                    "rotX": 0.0114129893,
                    "rotY": 180.088852,
                    "rotZ": 0.00143008376,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Pattes d'Atlach-Nacha",
                  "Description": "",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"health\": 3,\n  \"healthPerInv\": \"true\",\n  \"id\": \"06350\",\n  \"traits\": \"Ancient One. Spider. Elite.\",\n  \"type\": \"Enemy\",\n  \"victory\": 1\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": false,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 564513,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "5645": {
                      "FaceURL": "https://i.imgur.com/mxwsEYQ.jpg",
                      "BackURL": "https://i.imgur.com/sVmefR9.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "ca83a4",
                  "Name": "Card",
                  "Transform": {
                    "posX": 12.0,
                    "posY": 1.51670337,
                    "posZ": 4.49999857,
                    "rotX": 0.0108897742,
                    "rotY": 180.019867,
                    "rotZ": 180.004959,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "[]",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 1108500,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "11085": {
                      "FaceURL": "https://steamusercontent-a.akamaihd.net/ugc/1874088192656181477/79874E6695B40674EB042AE509B14E016AC3DB57/",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1874088192656181477/79874E6695B40674EB042AE509B14E016AC3DB57/",
                      "NumWidth": 1,
                      "NumHeight": 1,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "cbfd62",
                  "Name": "Custom_Token",
                  "Transform": {
                    "posX": 10.000701,
                    "posY": 1.5537461,
                    "posZ": 6.99879932,
                    "rotX": -0.00137911667,
                    "rotY": 59.9764175,
                    "rotZ": 359.988068,
                    "scaleX": 0.215356961,
                    "scaleY": 1.0,
                    "scaleZ": 0.215356961
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/1985555189151960930/00A1A628755962098DD9D3154FAF9B121679F3B8/",
                    "ImageSecondaryURL": "",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomToken": {
                      "Thickness": 0.1,
                      "MergeDistancePixels": 5.0,
                      "StandUp": false,
                      "Stackable": false
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "dc6332",
                  "Name": "Custom_Token",
                  "Transform": {
                    "posX": 3.50301313,
                    "posY": 1.58163655,
                    "posZ": 9.002957,
                    "rotX": 0.016533358,
                    "rotY": 180.085678,
                    "rotZ": 0.0027340604,
                    "scaleX": 0.23000057,
                    "scaleY": 1.00000012,
                    "scaleZ": 0.230000556
                  },
                  "Nickname": "Dégâts",
                  "Description": "Click gauche - Ajouter\nClick droit - Soustraire",
                  "GMNotes": "Damage",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/949599153663402915/D881A5A0D8A370851B9A0055DD7834CDCE0F72BE/",
                    "ImageSecondaryURL": "",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomToken": {
                      "Thickness": 0.1,
                      "MergeDistancePixels": 5.0,
                      "StandUp": false,
                      "Stackable": false
                    }
                  },
                  "LuaScript": "MIN_VALUE = -99\r\nMAX_VALUE = 999\r\n\r\nfunction onload(saved_data)\r\n    light_mode = true\r\n    val = 0\r\n\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        light_mode = loaded_data[1]\r\n        val = loaded_data[2]\r\n    end\r\n\r\n    createAll()\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = {light_mode, val}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction createAll()\r\n    s_color = {0,0,0,100}\r\n\r\n    if light_mode then\r\n        f_color = {1,1,1,100}\r\n    else\r\n        f_color = {0,0,0,100}\r\n    end\r\n\r\n\r\n\r\n    self.createButton({\r\n      label=tostring(val),\r\n      click_function=\"add_subtract\",\r\n      function_owner=self,\r\n      position={0,0.05,0.1},\r\n      height=600,\r\n      width=1000,\r\n      alignment = 3,\r\n      scale={x=1.5, y=1.5, z=1.5},\r\n      font_size=800,\r\n      font_color=f_color,\r\n      color={1,1,1,0}\r\n      })\r\n\r\n\r\n\r\n\r\n    if light_mode then\r\n        lightButtonText = \"[ Set dark ]\"\r\n    else\r\n        lightButtonText = \"[ Set light ]\"\r\n    end\r\n \r\nend\r\n\r\nfunction removeAll()\r\n    self.removeInput(0)\r\n    self.removeInput(1)\r\n    self.removeButton(0)\r\n    self.removeButton(1)\r\n    self.removeButton(2)\r\nend\r\n\r\nfunction reloadAll()\r\n    removeAll()\r\n    createAll()\r\n\r\n    updateSave()\r\nend\r\n\r\nfunction swap_fcolor(_obj, _color, alt_click)\r\n    light_mode = not light_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction swap_align(_obj, _color, alt_click)\r\n    center_mode = not center_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction editName(_obj, _string, value) \r\n    self.setName(value)\r\n    setTooltips()\r\nend\r\n\r\nfunction add_subtract(_obj, _color, alt_click)\r\n    mod = alt_click and -1 or 1\r\n    new_value = math.min(math.max(val + mod, MIN_VALUE), MAX_VALUE)\r\n    if val ~= new_value then\r\n        val = new_value\r\n      updateVal()\r\n        updateSave()\r\n    end\r\nend\r\n\r\nfunction updateVal()\r\n\r\n    self.editButton({\r\n        index = 0,\r\n        label = tostring(val),\r\n\r\n        })\r\nend\r\n\r\nfunction reset_val()\r\n    val = 0\r\n    updateVal()\r\n    updateSave()\r\nend\r\n\r\nfunction setTooltips()\r\n    self.editInput({\r\n        index = 0,\r\n        value = self.getName(),\r\n        tooltip = ttText\r\n        })\r\n    self.editButton({\r\n        index = 0,\r\n        value = tostring(val),\r\n        tooltip = ttText\r\n        })\r\nend\r\n\r\nfunction null()\r\nend\r\n\r\nfunction keepSample(_obj, _string, value) \r\n    reloadAll()\r\nend",
                  "LuaScriptState": "[true,0]",
                  "XmlUI": ""
                },
                {
                  "GUID": "ee49d6",
                  "Name": "Custom_Token",
                  "Transform": {
                    "posX": 5.9974,
                    "posY": 1.5559932,
                    "posZ": 17.0008,
                    "rotX": -0.00495075248,
                    "rotY": 270.1228,
                    "rotZ": 0.0108795827,
                    "scaleX": 0.215356961,
                    "scaleY": 1.0,
                    "scaleZ": 0.215356961
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/1985555189151960930/00A1A628755962098DD9D3154FAF9B121679F3B8/",
                    "ImageSecondaryURL": "",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomToken": {
                      "Thickness": 0.1,
                      "MergeDistancePixels": 5.0,
                      "StandUp": false,
                      "Stackable": false
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "f585ad",
                  "Name": "Card",
                  "Transform": {
                    "posX": 6.0,
                    "posY": 1.51684129,
                    "posZ": 2.499999,
                    "rotX": 0.0108896587,
                    "rotY": 180.0224,
                    "rotZ": 180.004959,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "[]",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 1108500,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "11085": {
                      "FaceURL": "https://steamusercontent-a.akamaihd.net/ugc/1874088192656181477/79874E6695B40674EB042AE509B14E016AC3DB57/",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1874088192656181477/79874E6695B40674EB042AE509B14E016AC3DB57/",
                      "NumWidth": 1,
                      "NumHeight": 1,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              ]
            }
          ],
          "AttachedDecals": [
            {
              "Transform": {
                "posX": -0.0021877822,
                "posY": -0.08963572,
                "posZ": -0.00288731651,
                "rotX": 270.0,
                "rotY": 359.869568,
                "rotZ": 0.0,
                "scaleX": 2.00000215,
                "scaleY": 2.00000238,
                "scaleZ": 2.00000262
              },
              "CustomDecal": {
                "Name": "dunwich_back",
                "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/959719855119695911/931B9829687A20F4DEADB36DA57B7E6D76792231/",
                "Size": 7.4
              }
            }
          ]
        },
        {
          "GUID": "1139cf",
          "Name": "Custom_Model",
          "Transform": {
            "posX": -24.1899548,
            "posY": 1.770999,
            "posZ": 28.7271118,
            "rotX": 5.20925823E-06,
            "rotY": 0.0001744894,
            "rotZ": -1.55113739E-07,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "B",
          "Description": "",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "ColorDiffuse": {
            "r": 0.0,
            "g": 0.0,
            "b": 0.0,
            "a": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": false,
          "Tooltip": false,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomMesh": {
            "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/1478820768302617365/27883B7913E0E69143C3AA03493B7E7C4E8C29C0/",
            "DiffuseURL": "",
            "NormalURL": "",
            "ColliderURL": "",
            "Convex": true,
            "MaterialIndex": 1,
            "TypeIndex": 0,
            "CastShadows": true
          },
          "LuaScript": "-- Code for bag to identify text tool objects\r\nmovableTextTool_cowgoesmoo33 = true\r\n\r\n-- Number of characters before the text box width expands.\r\nEXPAND_INTERVAL = 20\r\n\r\n-- This table controls what is passed between save/load\r\ndata = {}\r\n\r\nfunction onLoad(saved_data)\r\n  if saved_data ~= '' then\r\n    data = JSON.decode(saved_data)\r\n    if data.text ~= '' then\r\n      self.interactable = data.interactable\r\n      staticMode()\r\n      return\r\n    end\r\n  else\r\n    data = {size=200, color=Color(0,0,0), text='', interactable=true,\r\n        enter_to_finish=false, autolock=false, autolift=false,\r\n        hover_height=0.05, box_transparency=1}\r\n  end\r\n\r\n  inputMode()\r\nend\r\n\r\n-- True if in the middle of delay after pressing Enter (with enter_to_finish on)\r\nfinishing = false\r\nfunction input_func(obj, color, input, stillEditing)\r\n  local params = getBox(input)\r\n  if params then\r\n    params.value = input\r\n    self.editInput(params)\r\n  end\r\n\r\n  if not stillEditing then\r\n    data.text = input\r\n    updateState()\r\n    if input ~= '' then staticMode(color) end\r\n  elseif data.enter_to_finish then\r\n    -- If enter is pressed: remove last newline and force finish\r\n    if not finishing and input:sub(-1) == '\\n' then\r\n      finishing = true\r\n      -- Delay to avoid user's Enter keypress being detected (opens chat box)\r\n      Wait.frames(function()\r\n        input = input:sub(1, -2)\r\n        data.text = input\r\n        updateState()\r\n        if input ~= '' then staticMode(color) else inputMode() end\r\n        finishing = false\r\n      end, 10)\r\n    end\r\n  end\r\nend\r\n\r\n-- When the inpupt box appears and lets the player type in it.\r\nfunction inputMode()\r\n  self.clearContextMenu()\r\n  self.clearInputs()\r\n  self.clearButtons()\r\n\r\n  local size = getBox(data.text, true)\r\n\r\n  self.createInput({\r\n    input_function = \"input_func\",\r\n    function_owner = self,\r\n    label          = \"Type Here\",\r\n    alignment      = 3,\r\n    position       = {x=0, y=data.hover_height, z=0},\r\n    rotation       = {0, 180, 0},\r\n    width          = size.width,\r\n    height         = size.height,\r\n    color          = getBackground(data.color),\r\n    font_color     = data.color,\r\n    font_size      = data.size,\r\n    value          = data.text,\r\n  })\r\n\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\nend\r\n\r\n-- When the input box disappears and displays the text.\r\nfunction staticMode(player)\r\n  self.clearContextMenu()\r\n  if data.autolock then\r\n    self.locked = true\r\n  end\r\n  if self.getInputs() and #self.getInputs() ~= 0 then\r\n    self.removeInput(0)\r\n  end\r\n\r\n  -- Clear from selecting player\r\n  if player then\r\n    self.removeFromPlayerSelection(player)\r\n  end\r\n\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  self.createButton({\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=self,\r\n    position={0,data.hover_height,0}, rotation={0,180,0}, height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  })\r\n\r\n  self.addContextMenuItem('Edit Text', function(color)\r\n    self.removeFromPlayerSelection(color)\r\n    inputMode()\r\n  end)\r\n  self.addContextMenuItem('Clear', function(color)\r\n    applyMultiple(color, 'clear', _, true)\r\n  end)\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\n  self.addContextMenuItem('Permanently Attach', attemptAttach)\r\n  self.addContextMenuItem('Permalock', function(color)\r\n    applyMultiple(color, 'permalock', _, true)\r\n  end)\r\nend\r\n\r\nfunction changeSize(params)\r\n  local delta = params[1]\r\n  local newSize = data.size + delta\r\n  if newSize > 800  or newSize < 50 then\r\n    return\r\n  end\r\n  data.size = newSize\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_size=data.size})\r\n  else\r\n    local size = getBox(data.text, true)\r\n    self.editInput({width=size.width, height=size.height, font_size=data.size})\r\n  end\r\nend\r\n\r\nfunction setColor(params)\r\n  if params and params[1] then\r\n    data.color = params[1]\r\n  else\r\n    data.color = self.getColorTint():setAt('a', 1) -- Take on color of object tint\r\n  end\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_color=data.color})\r\n  else\r\n    self.editInput({font_color=data.color, color=getBackground(data.color)})\r\n  end\r\nend\r\n\r\nfunction getBackground(color) --determines whether to use black or white depending on luminance\r\n  local r,g,b = Color(color):get()\r\n\r\n  local lum = 0.2126*r + 0.7152*g + 0.0722*b\r\n  if lum > 0.75 then\r\n    return {0.2,0.2,0.2, data.box_transparency}\r\n  else\r\n    return {1,1,1, data.box_transparency}\r\n  end\r\nend\r\n\r\nfunction clear()\r\n  data.text = ''\r\n  updateState()\r\n  inputMode()\r\nend\r\n\r\nfunction permalock()\r\n  self.interactable = false\r\n  data.interactable = false\r\n  updateState()\r\nend\r\n\r\nlocal target_script = [[\r\nfunction onLoad(script_state)\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    for _,entry in ipairs(state) do\r\n      self.createButton(entry)\r\n    end\r\n    self.addContextMenuItem('Clear All Text', function(color)\r\n      self.clearContextMenu()\r\n      self.clearButtons()\r\n      self.script_state = ''\r\n      self.script_code = ''\r\n    end)\r\n  end\r\nend\r\n]]\r\n\r\nfunction attemptAttach(player_color)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  local attachee\r\n  local attachers = {}\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if obj ~= self then\r\n        table.insert(attachers, obj)\r\n      end\r\n    else\r\n      if attachee then\r\n        broadcastToColor(\"More than one target selected.\", player_color)\r\n        return\r\n      else\r\n        attachee = obj\r\n      end\r\n    end\r\n  end\r\n  if attachee then\r\n    local code = attachee.script_code\r\n    if code and code ~= '' and code ~= target_script then\r\n      broadcastToColor(\"Warning: script on card has been overriden. Rewind time to undo.\", player_color)\r\n    end\r\n    for i,attacher in ipairs(attachers) do\r\n      attacher.call('attach', {target = attachee})\r\n    end\r\n    attach({target = attachee})\r\n    local type, flip = attachee.type, attachee.getRotation().z\r\n    if (type == 'Card' or type == 'Deck') and flip > 175 and flip < 185 then\r\n      broadcastToColor(\"Warning: text will not display if card or deck is facing down.\", player_color)\r\n    end\r\n  else\r\n    broadcastToColor(\"You must have a target object in your selection (using click-and-drag or Ctrl+Click) to use this option.\", player_color)\r\n  end\r\nend\r\n\r\nfunction attach(params)\r\n  local target = params.target\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  local textRotation = self.getRotation():sub(target.getRotation())\r\n    :add(Vector(180, 0, 180))\r\n\r\n  local textPosition = target.positionToLocal(\r\n    self.getPosition():add(Vector(0, data.hover_height, 0))\r\n  )\r\n  textPosition.x = -textPosition.x\r\n\r\n  local textScale = {}\r\n  textScale.x = self.getScale().x / target.getScale().x\r\n  textScale.y = self.getScale().x / target.getScale().y\r\n  textScale.z = self.getScale().x / target.getScale().z\r\n\r\n  local details = {\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=nil,\r\n    position=textPosition,\r\n    rotation=textRotation,\r\n    scale=textScale,\r\n    height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  }\r\n\r\n  target.createButton(details)\r\n\r\n  local script_state = target.script_state\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    table.insert(state, details)\r\n    target.script_state = JSON.encode(state)\r\n  else\r\n    target.script_state = JSON.encode({[1]=details})\r\n  end\r\n\r\n  target.script_code = target_script\r\n\r\n  self.destruct()\r\nend\r\n\r\nfunction applyMultiple(player_color, func_string, params, static_only)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if not static_only or obj.call('isStatic') then\r\n        obj.call(func_string, params)\r\n      end\r\n    end\r\n  end\r\nend\r\n\r\nfunction isStatic()\r\n  local input = self.getInputs()\r\n  return not input or #input == 0\r\nend\r\n\r\nfunction getBox(input, force)\r\n  local maxLength, lineCount = EXPAND_INTERVAL, 1\r\n  local lineLength = 0\r\n  for i = 1, #input do\r\n    local c = input:sub(i,i)\r\n    if c == '\\n' then\r\n      lineCount = lineCount + 1\r\n      if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n      lineLength = 0\r\n    else\r\n      lineLength = lineLength + 1\r\n    end\r\n  end\r\n  if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n\r\n  newWidth = data.size * maxLength * 0.9\r\n  newHeight = data.size * lineCount + 23\r\n\r\n  if force or boxWidth ~= newWidth or boxHeight ~= newHeight then\r\n    boxWidth, boxHeight = newWidth, newHeight\r\n    return {width = boxWidth, height = boxHeight}\r\n  end\r\n  return nil\r\nend\r\n\r\ntemp_lift = nil\r\nfunction onPickUp(player_color)\r\n  if data.autolift then\r\n    local player = Player[player_color]\r\n    temp_lift = player.lift_height\r\n    player.lift_height = 0\r\n  end\r\nend\r\n\r\nfunction onDrop(player_color)\r\n  if data.autolift and temp_lift then\r\n    Player[player_color].lift_height = temp_lift\r\n  end\r\nend\r\n\r\n-- Should be called every time data is modified, allows info to be saved on copy/paste\r\nfunction updateState()\r\n  self.script_state = JSON.encode(data)\r\nend\r\n\r\nfunction onSave()\r\n  self.script_state = JSON.encode(data)\r\n  return self.script_state\r\nend",
          "LuaScriptState": "{\"autolift\":false,\"autolock\":false,\"box_transparency\":1,\"color\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1},\"enter_to_finish\":false,\"hover_height\":0.05,\"interactable\":true,\"size\":550,\"text\":\"B\"}",
          "XmlUI": ""
        },
        {
          "GUID": "5338b3",
          "Name": "Custom_Model_Bag",
          "Transform": {
            "posX": -30.4999981,
            "posY": 1.77141213,
            "posZ": 26.0000038,
            "rotX": -4.57495526E-06,
            "rotY": 180.000458,
            "rotZ": 2.1213058E-08,
            "scaleX": 0.3505242,
            "scaleY": 0.0489516668,
            "scaleZ": 0.3505242
          },
          "Nickname": "La Quête Onirique [Campagne A]",
          "Description": "",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "CustomMesh": {
            "MeshURL": "https://raw.githubusercontent.com/RobMayer/TTSLibrary/master/advboxes/core_h_MSH.obj",
            "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/762723517669849292/9CD4BE220E1DE5294B1BC6301792920D213C98B3/",
            "NormalURL": "",
            "ColliderURL": "https://raw.githubusercontent.com/RobMayer/TTSLibrary/master/advboxes/core_h_COL.obj",
            "Convex": true,
            "MaterialIndex": 3,
            "TypeIndex": 6,
            "CustomShader": {
              "SpecularColor": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "SpecularIntensity": 0.0,
              "SpecularSharpness": 2.0,
              "FresnelStrength": 0.0
            },
            "CastShadows": true
          },
          "Bag": {
            "Order": 0
          },
          "LuaScript": "-- Utility memory bag by Directsun\r\n-- Version 2.7.0\r\n-- Fork of Memory Bag 2.0 by MrStump\r\n--\r\n-- Want to contribute? Create an issue or fork the code on GitHub and submit a pull request:\r\n-- https://github.com/sunflowermans/TTS-UtilityMemoryBag\r\n\r\n\r\nfunction updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction combineMemoryFromBagsWithin()\r\n    local bagObjList = self.getObjects()\r\n    for _, bagObj in ipairs(bagObjList) do\r\n        local data = bagObj.lua_script_state\r\n        if data ~= nil then\r\n            local j = JSON.decode(data)\r\n            if j ~= nil and j.ml ~= nil then\r\n                for guid, entry in pairs(j.ml) do\r\n                    memoryList[guid] = entry\r\n                end\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateMemoryWithMoves()\r\n    memoryList = memoryListBackup\r\n    --get the first transposed object's coordinates\r\n    local obj = getObjectFromGUID(moveGuid)\r\n\r\n    -- p1 is where needs to go, p2 is where it was\r\n    local refObjPos = memoryList[moveGuid].pos\r\n    local deltaPos = findOffsetDistance(obj.getPosition(), refObjPos, nil)\r\n    local movedRotation = obj.getRotation()\r\n    for guid, entry in pairs(memoryList) do\r\n        memoryList[guid].pos.x = entry.pos.x - deltaPos.x\r\n        memoryList[guid].pos.y = entry.pos.y - deltaPos.y\r\n        memoryList[guid].pos.z = entry.pos.z - deltaPos.z\r\n        -- memoryList[guid].rot.x = movedRotation.x\r\n        -- memoryList[guid].rot.y = movedRotation.y\r\n        -- memoryList[guid].rot.z = movedRotation.z\r\n    end\r\n\r\n    --theList[obj.getGUID()] = {\r\n    --    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n    --    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n    --    lock=obj.getLock()\r\n    --}\r\n    moveList = {}\r\nend\r\n\r\nfunction onload(saved_data)\r\n\r\n    fresh = true\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n\r\n    end\r\n\r\n    moveList = {}\r\n    moveGuid = nil\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        fresh = false\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\n function createSetupButton()\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.1,5}, rotation={0,0,0}, height=500, width=1200,\r\n        font_size=300, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by Transpose button\r\nfunction buttonClick_transpose()\r\n    moveGuid = nil\r\n    broadcastToAll(\"Select one object and move it- all objects will move relative to the new location\", {0.75, 0.75, 1})\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(true)\r\n    createSetupActionButtons(true)\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(false)\r\n    createSetupActionButtons(false)\r\nend\r\n\r\nfunction getAllObjectsInMemory()\r\n    local objTable = {}\r\n    local curObj = {}\r\n\r\n    for guid in pairs(memoryListBackup) do\r\n        curObj = getObjectFromGUID(guid)\r\n        table.insert(objTable, curObj)\r\n    end\r\n\r\n    return objTable\r\n    -- return getAllObjects()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects(move)\r\n    buttonIndexMap = {}\r\n    local howManyButtons = 0\r\n\r\n    local objsToHaveButtons = {}\r\n    if move == true then\r\n        objsToHaveButtons = getAllObjectsInMemory()\r\n    else\r\n        objsToHaveButtons = getAllObjects()\r\n    end\r\n\r\n    for _, obj in ipairs(objsToHaveButtons) do\r\n        if obj ~= self then\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1* 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor + 4\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Workaround for custom PDFs\r\n            if obj.Book then\r\n                objPos.y = objPos.y + 0.5\r\n            end\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(obj, move) end\r\n            local color = {0.75,0.25,0.25,0.6}\r\n            local colorMove = {0,0,1,0.6}\r\n            if move == true then\r\n                color = colorMove\r\n            end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color=color,\r\n            })\r\n            buttonIndexMap[obj.getGUID()] = howManyButtons\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons(move)\r\n    self.createButton({\r\n        label=\"Annuler\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n      position={-1.25,0.1,6}, rotation={0,0,0}, height=500, width=1200,\r\n        font_size=300, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    self.createButton({\r\n        label=\"Valider\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={-1.25,0.3,7}, rotation={0,0,0}, height=500, width=1200,\r\n        font_size=300, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    if move == false then\r\n      self.createButton({\r\n          label=\"Ajouter\", click_function=\"buttonClick_add\", function_owner=self,\r\n          position={1.25,0.3,6}, rotation={0,0,0}, height=500, width=1200,\r\n          font_size=300, color={0,0,0}, font_color={0.25,1,0.25}\r\n      })\r\n\r\n        self.createButton({\r\n            label=\"Sélection\", click_function=\"editDragSelection\", function_owner=self,\r\n            position={-1.25,0.3,8}, rotation={0,0,0}, height=500, width=1200,\r\n            font_size=250, color={0,0,0}, font_color={1,1,1}\r\n        })\r\n\r\n          if fresh == false then\r\n                self.createButton({\r\n                    label=\"Mise à jour\", click_function=\"buttonClick_setNew\", function_owner=self,\r\n                    position={1.25,0.3,8}, rotation={0,0,0}, height=500, width=1200,\r\n                    font_size=230, color={0,0,0}, font_color={0.75,0.75,1}\r\n                })\r\n                self.createButton({\r\n                    label=\"Retirer\", click_function=\"buttonClick_remove\", function_owner=self,\r\n                    position={1.25,0.3,7}, rotation={0,0,0}, height=500, width=1200,\r\n                    font_size=300, color={0,0,0}, font_color={1,0.25,0.25}\r\n                })\r\n            end\r\n        end\r\n\r\n        self.createButton({\r\n            label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n            position={0,0.3,-6}, rotation={0,0,0}, height=500, width=1200,\r\n            font_size=300, color={0,0,0}, font_color={1,1,1}\r\n        })\r\n    end\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(obj, move)\r\n    local index = buttonIndexMap[obj.getGUID()]\r\n    local colorMove = {0,0,1,0.6}\r\n    local color = {0,1,0,0.6}\r\n\r\n    previousGuid = selectedGuid\r\n    selectedGuid = obj.getGUID()\r\n\r\n    theList = memoryList\r\n    if move == true then\r\n        theList = moveList\r\n        if previousGuid ~= nil and previousGuid ~= selectedGuid then\r\n            local prevObj = getObjectFromGUID(previousGuid)\r\n            prevObj.highlightOff()\r\n            self.editButton({index=previousIndex, color=colorMove})\r\n            theList[previousGuid] = nil\r\n        end\r\n        previousIndex = index\r\n    end\r\n\r\n    if theList[selectedGuid] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        theList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock(),\r\n            tint=obj.getColorTint()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        if move == true then\r\n            color = colorMove\r\n        end\r\n        self.editButton({index=index, color=color})\r\n        theList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\nfunction editDragSelection(bagObj, player, remove)\r\n    local selectedObjs = Player[player].getSelectedObjects()\r\n    if not remove then\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            --Ignore if already in the memory list, or does not have a button\r\n            if index and not memoryList[obj.getGUID()] then\r\n                self.editButton({index=index, color={0,1,0,0.6}})\r\n                --Adding pos/rot to memory table\r\n                local pos, rot = obj.getPosition(), obj.getRotation()\r\n                --I need to add it like this or it won't save due to indexing issue\r\n                memoryList[obj.getGUID()] = {\r\n                    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n                    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n                    lock=obj.getLock(),\r\n                    tint=obj.getColorTint()\r\n                }\r\n                obj.highlightOn({0,1,0})\r\n            end\r\n        end\r\n    else\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            if index and memoryList[obj.getGUID()] then\r\n                color = {0.75,0.25,0.25,0.6}\r\n                self.editButton({index=index, color=color})\r\n                memoryList[obj.getGUID()] = nil\r\n                obj.highlightOff()\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Sélection annulée\", {1,1,1})\r\n    moveGuid = nil\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    fresh = false\r\n    if next(moveList) ~= nil then\r\n        for guid in pairs(moveList) do\r\n            moveGuid = guid\r\n        end\r\n        if memoryListBackup[moveGuid] == nil then\r\n            broadcastToAll(\"Item selected for moving is not already in memory\", {1, 0.25, 0.25})\r\n        else\r\n            broadcastToAll(\"Moving all items in memory relative to new objects position!\", {0.75, 0.75, 1})\r\n            self.clearButtons()\r\n            self.clearInputs()\r\n            createMemoryActionButtons()\r\n            local count = 0\r\n            for guid in pairs(moveList) do\r\n                moveGuid = guid\r\n                count = count + 1\r\n                local obj = getObjectFromGUID(guid)\r\n                if obj ~= nil then obj.highlightOff() end\r\n            end\r\n            updateMemoryWithMoves()\r\n            updateSave()\r\n            buttonClick_place()\r\n        end\r\n    elseif next(memoryList) == nil and moveGuid == nil then\r\n        memoryList = memoryListBackup\r\n        broadcastToAll(\"No selections made.\", {0.75, 0.25, 0.25})\r\n    end\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\n    moveGuid = nil\r\nend\r\n\r\nfunction combineTables(first_table, second_table)\r\n    for k,v in pairs(second_table) do first_table[k] = v end\r\nend\r\n\r\nfunction buttonClick_add()\r\n    fresh = false\r\n    combineTables(memoryList, memoryListBackup)\r\n    broadcastToAll(\"Adding internal bags and selections to existing memory\", {0.25, 0.75, 0.25})\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_remove()\r\n    broadcastToAll(\"Removing Selected Entries From Memory\", {1.0, 0.25, 0.25})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        memoryListBackup[guid] = nil\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Removed\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_setNew()\r\n    broadcastToAll(\"Setting new position relative to items in memory\", {0.75, 0.75, 1})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        guid = obj.guid\r\n        if memoryListBackup[guid] ~= nil then\r\n            count = count + 1\r\n            memoryListBackup[guid].pos = obj.getPosition()\r\n            memoryListBackup[guid].rot = obj.getRotation()\r\n            memoryListBackup[guid].lock = obj.getLock()\r\n            memoryListBackup[guid].tint = obj.getColorTint()\r\n        end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    fresh = true\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Placer\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={1.4,1,5.85}, rotation={0,0,0}, height=500, width=1200,\r\n        font_size=300, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Ranger\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={-1.4,1,5.85}, rotation={0,0,0}, height=500, width=1200,\r\n        font_size=300, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={5.85,0.1,0}, rotation={0,270,0}, height=500, width=1200,\r\n        font_size=300, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    ---    self.createButton({\r\n    ---      label=\"Bouger\", click_function=\"buttonClick_transpose\", function_owner=self,\r\n    ---      position={-2,0.3,0.8}, rotation={0,270,0}, height=350, width=800,\r\n    ---      font_size=250, color={0,0,0}, font_color={0.75,0.75,1}\r\n    ---\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n            obj.setColorTint(entry.tint)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot, smooth=false\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    item.setColorTint(entry.tint)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objets placés\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objets rangés\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local yOffset = 0\r\n    if obj ~= nil then\r\n        local bounds = obj.getBounds()\r\n        yOffset = (bounds.size.y - bounds.offset.y)\r\n    end\r\n    local deltaPos = {}\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + yOffset\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n    local objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n    local x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n    local z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n    --return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\nfunction rotateMyCoordinates(desiredPos, obj)\r\n    local angle = math.rad(obj.getRotation().y)\r\n    local x = desiredPos.x * math.sin(angle)\r\n    local z = desiredPos.z * math.cos(angle)\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n    local mult = 10^(dec or 0)\r\n    return math.floor(num * mult + 0.5) / mult\r\nend\r\n\r\n\r\n--[[\r\nThis object provides access to a variable stored on the \"Global script\".\r\nThe variable holds the GUIDs for every Utility Memory Bag in the scene.\r\nExample:\r\n{'805ebd', '35cc21', 'fc8886', 'f50264', '5f5f63'}\r\n--]]\r\nAllMemoryBagsInScene = {\r\n    NAME_OF_GLOBAL_VARIABLE = \"_UtilityMemoryBag_AllMemoryBagsInScene\"\r\n}\r\n\r\nfunction AllMemoryBagsInScene:add(guid)\r\n    local guids = Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\n    table.insert(guids, guid)\r\n    Global.setTable(self.NAME_OF_GLOBAL_VARIABLE, guids)\r\nend\r\n\r\nfunction AllMemoryBagsInScene:getGuidList()\r\n    return Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\nend",
          "LuaScriptState": "{\"ml\":{\"48d3a6\":{\"lock\":false,\"pos\":{\"x\":5.9994,\"y\":1.5006,\"z\":-5.5135},\"rot\":{\"x\":0.0928,\"y\":180.0312,\"z\":0.0715},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"aa0e7e\":{\"lock\":false,\"pos\":{\"x\":5.9994,\"y\":1.5006,\"z\":-5.5135},\"rot\":{\"x\":0.0928,\"y\":180.0309,\"z\":0.0715},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"b6088e\":{\"lock\":false,\"pos\":{\"x\":6,\"y\":1.5006,\"z\":-5.513},\"rot\":{\"x\":0.0923,\"y\":180.0055,\"z\":0.0744},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"e5b493\":{\"lock\":false,\"pos\":{\"x\":5.9994,\"y\":1.5006,\"z\":-5.5135},\"rot\":{\"x\":0.0928,\"y\":180.031,\"z\":0.0715},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"f40183\":{\"lock\":false,\"pos\":{\"x\":33.076,\"y\":1.4799,\"z\":12.8451},\"rot\":{\"x\":0,\"y\":179.9838,\"z\":0},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"fc0c90\":{\"lock\":false,\"pos\":{\"x\":3,\"y\":1.502,\"z\":-5.5},\"rot\":{\"x\":0.0109,\"y\":180.0129,\"z\":0.005},\"tint\":{\"a\":1,\"b\":0.701960802078247,\"g\":0.800000011920929,\"r\":0.874509811401367}}}}",
          "XmlUI": "",
          "ContainedObjects": [
            {
              "GUID": "f40183",
              "Name": "Custom_Tile",
              "Transform": {
                "posX": 33.076,
                "posY": 1.47985983,
                "posZ": 12.8451,
                "rotX": -5.08455962E-08,
                "rotY": 179.9838,
                "rotZ": -5.961617E-08,
                "scaleX": 6.013283,
                "scaleY": 1.0,
                "scaleZ": 6.013283
              },
              "Nickname": "Carnet de Campagne",
              "Description": "La Quête Onirique - Les Dévoreurs de Rêves",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": false,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/1831283363809413825/69F876C2268CFE186041A252C5E1638F8ADBA97A/",
                "ImageSecondaryURL": "https://steamusercontent-a.akamaihd.net/ugc/1831283363809397858/E690A44CBB2AB12D0E1095BAF1BAFF865CA4ABA7/",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomTile": {
                  "Type": 0,
                  "Thickness": 0.1,
                  "Stackable": false,
                  "Stretch": true
                }
              },
              "LuaScript": "--[[    Character Sheet Template    by: MrStump\r\n\r\nYou can set up your own character sheet if you follow these steps.\r\n\r\nStep 1) Change the character sheet image\r\n    -Right click on the character sheet, click Custom\r\n    -Replace the image URL with one for your character sheet\r\n    -Click import, make sure your sheet loads\r\n    -SAVE THE GAME (the table setup)\r\n    -LOAD FROM THAT SAVE YOU JUST MADE\r\n\r\nStep 2) Edit script to fit your character sheet\r\n    -Below you will see some general options, and then the big data table\r\n    -The data table is what determines how many of which buttons are made\r\n        -Checkboxes\r\n        -Counters\r\n        -Textboxes\r\n    -By default, there are 3 of each. You can add more or remove entries\r\n    -If you intend to add/remove, be sure only to add/remove ENTRIES\r\n        -This is what an entry looks like:\r\n            {\r\n                pos   = {-0.977,0.1,-0.589},\r\n                size  = 800,\r\n                state = false\r\n            },\r\n        -Deleting the whole thing would remove that specific item on the sheet\r\n        -Copy and pasting it after another entry would create another\r\n    -Each entry type has unique data points (pos, size, state, etc)\r\n        -Do not try to add in your own data points or remove them individually\r\n        -There is a summary of what each point does at the top of its category\r\n\r\nStep 3) Save and check script changes\r\n    -Hit Save & Apply in the script window to save your code\r\n    -You can edit your code as needed and Save+Apply as often as needed\r\n    -When you are finished, make disableSave = false below then Save+apply\r\n        -This enables saving, so your sheet will remember whats on it.\r\n\r\nBonus) Finding/Editing Positions for elements\r\n    I have included a tool to get positions for buttons in {x,y,z} form\r\n    Place it where you want the center of your element to be\r\n    Then copy the table from the notes (lower right of screen)\r\n        You can highlight it and CTRL+C\r\n    Paste it into the data table where needed (pos=)\r\n    If you want to manually tweek the values:\r\n        {0,0,0} is the center of the character sheet\r\n        {1,0,0} is right, {-1,0,0} is left\r\n        {0,0,-1} is up, {0,0,1} is down\r\n        0.1 for Y is the height off of the page.\r\n            If it was 0, it would be down inside the model of the sheet\r\n\r\nBegin editing below:    ]]\r\n\r\n--Set this to true while editing and false when you have finished\r\ndisableSave = false\r\n--Remember to set this to false once you are done making changes\r\n--Then, after you save & apply it, save your game too\r\n\r\n--Color information for button text (r,g,b, values of 0-1)\r\nbuttonFontColor = {0,0,0}\r\n--Color information for button background\r\nbuttonColor = {0.902,0.886,0.788}\r\n--Change scale of button (Avoid changing if possible)\r\nbuttonScale = {0.1,0.1,0.1}\r\n\r\n--This is the button placement information\r\ndefaultButtonData = {\r\n  --Add checkboxes\r\n  checkbox = {\r\n      --[[\r\n      pos   = the position (pasted from the helper tool)\r\n      size  = height/width/font_size for checkbox\r\n      state = default starting value for checkbox (true=checked, false=not)\r\n      ]]\r\n      --1 checkbox\r\n      {\r\n          pos   = {0.306,0.1,0.051},\r\n          size  = 250,\r\n          state = false\r\n      },\r\n      --2 checkbox\r\n      {\r\n          pos   = {0.35,0.1,0.114},\r\n          size  = 250,\r\n          state = false\r\n      },\r\n      --3 checkbox\r\n      {\r\n          pos   = {0.399,0.1,0.169},\r\n          size  = 250,\r\n          state = false\r\n      },\r\n      --4 checkbox\r\n      {\r\n          pos   = {0.455,0.1,0.221},\r\n          size  = 250,\r\n          state = false\r\n      },\r\n      --5 checkbox\r\n      {\r\n          pos   = {0.5,0.1,0.279},\r\n          size  = 250,\r\n          state = false\r\n      },\r\n      --6 checkbox\r\n      {\r\n          pos   = {0.54,0.1,0.334},\r\n          size  = 250,\r\n          state = false\r\n      },\r\n      --7 checkbox\r\n      {\r\n          pos   = {0.568,0.1,0.392},\r\n          size  = 250,\r\n          state = false\r\n      },\r\n      --8 checkbox\r\n      {\r\n          pos   = {0.604,0.1,0.457},\r\n          size  = 250,\r\n          state = false\r\n      },\r\n      --9 checkbox\r\n      {\r\n          pos   = {0.229,0.1,-0.007},\r\n          size  = 250,\r\n          state = false\r\n      },\r\n      --10 checkbox\r\n      {\r\n          pos   = {-0.816,0.1,0.02},\r\n          size  = 250,\r\n          state = false\r\n      },\r\n      --End of checkboxes\r\n  },\r\n    --Add counters that have a + and - button\r\n    counter = {\r\n        --[[\r\n        pos    = the position (pasted from the helper tool)\r\n        size   = height/width/font_size for counter\r\n        value  = default starting value for counter\r\n        hideBG = if background of counter is hidden (true=hidden, false=not)\r\n        ]]\r\n        --Slot one counter 1\r\n        {\r\n            pos    = {-0.7,0.1,-0.45},\r\n            size   = 400,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n        --Slot one counter 2\r\n        {\r\n            pos    = {-0.50,0.1,-0.45},\r\n            size   = 400,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n        --Slot one xp 1\r\n        {\r\n            pos    = {-0.517,0.1,-0.55},\r\n            size   = 300,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n        --Slot two counter 1\r\n        {\r\n            pos    = {-0.274,0.1,-0.445},\r\n            size   = 400,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n        --Slot two counter 2\r\n        {\r\n            pos    = {-0.06,0.1,-0.445},\r\n            size   = 400,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n        --Slot two xp 1\r\n        {\r\n            pos    = {-0.061,0.1,-0.54},\r\n            size   = 300,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n        --Slot three counter 1\r\n        {\r\n            pos    = {0.153,0.1,-0.44},\r\n            size   = 400,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n        --Slot three counter 2\r\n        {\r\n            pos    = {0.379,0.1,-0.44},\r\n            size   = 400,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n        --Slot three xp 1\r\n        {\r\n            pos    = {0.38,0.1,-0.54},\r\n            size   = 300,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n        --Slot four counter 1\r\n        {\r\n            pos    = {0.614,0.1,-0.44},\r\n            size   = 400,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n        --Slot four counter 2\r\n        {\r\n            pos    = {0.82,0.1,-0.44},\r\n            size   = 400,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n        --Slot four xp 1\r\n        {\r\n            pos    = {0.827,0.1,-0.54},\r\n            size   = 300,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n\r\n        --End of counters\r\n    },\r\n    --Add editable text boxes\r\n    textbox = {\r\n        --[[\r\n        pos       = the position (pasted from the helper tool)\r\n        rows      = how many lines of text you want for this box\r\n        width     = how wide the text box is\r\n        font_size = size of text. This and \"rows\" effect overall height\r\n        label     = what is shown when there is no text. \"\" = nothing\r\n        value     = text entered into box. \"\" = nothing\r\n        alignment = Number to indicate how you want text aligned\r\n                    (1=Automatic, 2=Left, 3=Center, 4=Right, 5=Justified)\r\n        ]]\r\n        --Slot one player\r\n        {\r\n            pos       = {-0.637,0.1,-0.70},\r\n            rows      = 1,\r\n            width     = 2000,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Slot one investigator\r\n        {\r\n            pos       = {-0.637,0.1,-0.625},\r\n            rows      = 1,\r\n            width     = 2000,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Slot one story\r\n        {\r\n            pos       = {-0.637,0.1,-0.27},\r\n            rows      = 9,\r\n            width     = 2000,\r\n            font_size = 100,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Slot two player\r\n        {\r\n            pos       = {-0.2,0.1,-0.70},\r\n            rows      = 1,\r\n            width     = 2000,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Slot two investigator\r\n        {\r\n            pos       = {-0.2,0.1,-0.625},\r\n            rows      = 1,\r\n            width     = 2000,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Slot two story\r\n        {\r\n            pos       = {-0.2,0.1,-0.27},\r\n            rows      = 9,\r\n            width     = 2000,\r\n            font_size = 100,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Slot three player\r\n        {\r\n            pos       = {0.241,0.1,-0.70},\r\n            rows      = 1,\r\n            width     = 2000,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Slot three investigator\r\n        {\r\n            pos       = {0.237,0.1,-0.62},\r\n            rows      = 1,\r\n            width     = 2000,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Slot three story\r\n        {\r\n            pos       = {0.24,0.1,-0.268},\r\n            rows      = 9,\r\n            width     = 2000,\r\n            font_size = 100,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Slot four player\r\n        {\r\n            pos       = {0.671,0.1,-0.70},\r\n            rows      = 1,\r\n            width     = 2000,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Slot four investigator\r\n        {\r\n            pos       = {0.671,0.1,-0.62},\r\n            rows      = 1,\r\n            width     = 2000,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Slot four story\r\n        {\r\n            pos       = {0.671,0.1,-0.265},\r\n            rows      = 9,\r\n            width     = 2000,\r\n            font_size = 100,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Campaign Notes\r\n        {\r\n            pos       = {-0.393,0.1,0.265},\r\n            rows      =10,\r\n            width     = 3200,\r\n            font_size = 200,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Killed Investigators\r\n        {\r\n            pos       = {-0.417,0.1,0.881},\r\n            rows      = 4,\r\n            width     = 3500,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Evidence of Kadath\r\n        {\r\n            pos       = {-0.388,0.1,0.676},\r\n            rows      = 2,\r\n            width     = 3500,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Réserve du Chaos\r\n        {\r\n            pos       = {0.782,0.1,0.8},\r\n            rows      = 10,\r\n            width     = 1500,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --End of textboxes\r\n    }\r\n}\r\n\r\n\r\n\r\n--Lua beyond this point, I recommend doing something more fun with your life\r\n\r\n\r\n\r\n--Save function\r\nfunction updateSave()\r\n    saved_data = JSON.encode(ref_buttonData)\r\n    if disableSave==true then saved_data=\"\" end\r\n    self.script_state = saved_data\r\nend\r\n\r\n--Startup procedure\r\nfunction onload(saved_data)\r\n    if disableSave==true then saved_data=\"\" end\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        ref_buttonData = loaded_data\r\n    else\r\n        ref_buttonData = defaultButtonData\r\n    end\r\n\r\n    spawnedButtonCount = 0\r\n    createCheckbox()\r\n    createCounter()\r\n    createTextbox()\r\nend\r\n\r\n\r\n\r\n--Click functions for buttons\r\n\r\n\r\n\r\n--Checks or unchecks the given box\r\nfunction click_checkbox(tableIndex, buttonIndex)\r\n    if ref_buttonData.checkbox[tableIndex].state == true then\r\n        ref_buttonData.checkbox[tableIndex].state = false\r\n        self.editButton({index=buttonIndex, label=\"\"})\r\n    else\r\n        ref_buttonData.checkbox[tableIndex].state = true\r\n        self.editButton({index=buttonIndex, label=string.char(10008)})\r\n    end\r\n    updateSave()\r\nend\r\n\r\n--Applies value to given counter display\r\nfunction click_counter(tableIndex, buttonIndex, amount)\r\n    ref_buttonData.counter[tableIndex].value = ref_buttonData.counter[tableIndex].value + amount\r\n    self.editButton({index=buttonIndex, label=ref_buttonData.counter[tableIndex].value})\r\n    updateSave()\r\nend\r\n\r\n--Updates saved value for given text box\r\nfunction click_textbox(i, value, selected)\r\n    if selected == false then\r\n        ref_buttonData.textbox[i].value = value\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Dud function for if you have a background on a counter\r\nfunction click_none() end\r\n\r\n\r\n\r\n--Button creation\r\n\r\n\r\n\r\n--Makes checkboxes\r\nfunction createCheckbox()\r\n    for i, data in ipairs(ref_buttonData.checkbox) do\r\n        --Sets up reference function\r\n        local buttonNumber = spawnedButtonCount\r\n        local funcName = \"checkbox\"..i\r\n        local func = function() click_checkbox(i, buttonNumber) end\r\n        self.setVar(funcName, func)\r\n        --Sets up label\r\n        local label = \"\"\r\n        if data.state==true then label=string.char(10008) end\r\n        --Creates button and counts it\r\n        self.createButton({\r\n            label=label, click_function=funcName, function_owner=self,\r\n            position=data.pos, height=data.size, width=data.size,\r\n            font_size=data.size, scale=buttonScale,\r\n            color=buttonColor, font_color=buttonFontColor\r\n        })\r\n        spawnedButtonCount = spawnedButtonCount + 1\r\n    end\r\nend\r\n\r\n--Makes counters\r\nfunction createCounter()\r\n    for i, data in ipairs(ref_buttonData.counter) do\r\n        --Sets up display\r\n        local displayNumber = spawnedButtonCount\r\n        --Sets up label\r\n        local label = data.value\r\n        --Sets height/width for display\r\n        local size = data.size\r\n        if data.hideBG == true then size = 0 end\r\n        --Creates button and counts it\r\n        self.createButton({\r\n            label=label, click_function=\"click_none\", function_owner=self,\r\n            position=data.pos, height=size, width=size,\r\n            font_size=data.size, scale=buttonScale,\r\n            color=buttonColor, font_color=buttonFontColor\r\n        })\r\n        spawnedButtonCount = spawnedButtonCount + 1\r\n\r\n        --Sets up add 1\r\n        local funcName = \"counterAdd\"..i\r\n        local func = function() click_counter(i, displayNumber, 1) end\r\n        self.setVar(funcName, func)\r\n        --Sets up label\r\n        local label = \"+\"\r\n        --Sets up position\r\n        local offsetDistance = (data.size/2 + data.size/4) * (buttonScale[1] * 0.002)\r\n        local pos = {data.pos[1] + offsetDistance, data.pos[2], data.pos[3]}\r\n        --Sets up size\r\n        local size = data.size / 2\r\n        --Creates button and counts it\r\n        self.createButton({\r\n            label=label, click_function=funcName, function_owner=self,\r\n            position=pos, height=size, width=size,\r\n            font_size=size, scale=buttonScale,\r\n            color=buttonColor, font_color=buttonFontColor\r\n        })\r\n        spawnedButtonCount = spawnedButtonCount + 1\r\n\r\n        --Sets up subtract 1\r\n        local funcName = \"counterSub\"..i\r\n        local func = function() click_counter(i, displayNumber, -1) end\r\n        self.setVar(funcName, func)\r\n        --Sets up label\r\n        local label = \"-\"\r\n        --Set up position\r\n        local pos = {data.pos[1] - offsetDistance, data.pos[2], data.pos[3]}\r\n        --Creates button and counts it\r\n        self.createButton({\r\n            label=label, click_function=funcName, function_owner=self,\r\n            position=pos, height=size, width=size,\r\n            font_size=size, scale=buttonScale,\r\n            color=buttonColor, font_color=buttonFontColor\r\n        })\r\n        spawnedButtonCount = spawnedButtonCount + 1\r\n    end\r\nend\r\n\r\nfunction createTextbox()\r\n    for i, data in ipairs(ref_buttonData.textbox) do\r\n        --Sets up reference function\r\n        local funcName = \"textbox\"..i\r\n        local func = function(_,_,val,sel) click_textbox(i,val,sel) end\r\n        self.setVar(funcName, func)\r\n\r\n        self.createInput({\r\n            input_function = funcName,\r\n            function_owner = self,\r\n            label          = data.label,\r\n            alignment      = data.alignment,\r\n            position       = data.pos,\r\n            scale          = buttonScale,\r\n            width          = data.width,\r\n            height         = (data.font_size*data.rows)+24,\r\n            font_size      = data.font_size,\r\n            color          = buttonColor,\r\n            font_color     = buttonFontColor,\r\n            value          = data.value,\r\n        })\r\n    end\r\nend",
              "LuaScriptState": "{\"checkbox\":[{\"pos\":[0.306,0.1,0.051],\"size\":250,\"state\":false},{\"pos\":[0.35,0.1,0.114],\"size\":250,\"state\":false},{\"pos\":[0.399,0.1,0.169],\"size\":250,\"state\":false},{\"pos\":[0.455,0.1,0.221],\"size\":250,\"state\":false},{\"pos\":[0.5,0.1,0.279],\"size\":250,\"state\":false},{\"pos\":[0.54,0.1,0.334],\"size\":250,\"state\":false},{\"pos\":[0.568,0.1,0.392],\"size\":250,\"state\":false},{\"pos\":[0.604,0.1,0.457],\"size\":250,\"state\":false},{\"pos\":[0.229,0.1,-0.007],\"size\":250,\"state\":false},{\"pos\":[-0.816,0.1,0.02],\"size\":250,\"state\":false}],\"counter\":[{\"hideBG\":true,\"pos\":[-0.7,0.1,-0.45],\"size\":400,\"value\":0},{\"hideBG\":true,\"pos\":[-0.5,0.1,-0.45],\"size\":400,\"value\":0},{\"hideBG\":true,\"pos\":[-0.517,0.1,-0.55],\"size\":300,\"value\":0},{\"hideBG\":true,\"pos\":[-0.274,0.1,-0.445],\"size\":400,\"value\":0},{\"hideBG\":true,\"pos\":[-0.06,0.1,-0.445],\"size\":400,\"value\":0},{\"hideBG\":true,\"pos\":[-0.061,0.1,-0.54],\"size\":300,\"value\":0},{\"hideBG\":true,\"pos\":[0.153,0.1,-0.44],\"size\":400,\"value\":0},{\"hideBG\":true,\"pos\":[0.379,0.1,-0.44],\"size\":400,\"value\":0},{\"hideBG\":true,\"pos\":[0.38,0.1,-0.54],\"size\":300,\"value\":0},{\"hideBG\":true,\"pos\":[0.614,0.1,-0.44],\"size\":400,\"value\":0},{\"hideBG\":true,\"pos\":[0.82,0.1,-0.44],\"size\":400,\"value\":0},{\"hideBG\":true,\"pos\":[0.827,0.1,-0.54],\"size\":300,\"value\":0}],\"textbox\":[{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[-0.637,0.1,-0.7],\"rows\":1,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[-0.637,0.1,-0.625],\"rows\":1,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":100,\"label\":\"Click to type\",\"pos\":[-0.637,0.1,-0.27],\"rows\":9,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[-0.2,0.1,-0.7],\"rows\":1,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[-0.2,0.1,-0.625],\"rows\":1,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":100,\"label\":\"Click to type\",\"pos\":[-0.2,0.1,-0.27],\"rows\":9,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[0.241,0.1,-0.7],\"rows\":1,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[0.237,0.1,-0.62],\"rows\":1,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":100,\"label\":\"Click to type\",\"pos\":[0.24,0.1,-0.268],\"rows\":9,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[0.671,0.1,-0.7],\"rows\":1,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[0.671,0.1,-0.62],\"rows\":1,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":100,\"label\":\"Click to type\",\"pos\":[0.671,0.1,-0.265],\"rows\":9,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":200,\"label\":\"Click to type\",\"pos\":[-0.393,0.1,0.265],\"rows\":10,\"value\":\"\",\"width\":3200},{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[-0.417,0.1,0.881],\"rows\":4,\"value\":\"\",\"width\":3500},{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[-0.388,0.1,0.676],\"rows\":2,\"value\":\"\",\"width\":3500},{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[0.782,0.1,0.8],\"rows\":10,\"value\":\"\",\"width\":1500}]}",
              "XmlUI": "",
              "States": {
                "2": {
                  "GUID": "4e2191",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": 33.076,
                    "posY": 1.47985983,
                    "posZ": 12.8451,
                    "rotX": -2.29133441E-08,
                    "rotY": 179.9838,
                    "rotZ": -5.26046762E-09,
                    "scaleX": 6.013283,
                    "scaleY": 1.0,
                    "scaleZ": 6.013283
                  },
                  "Nickname": "Carnet de Campagne",
                  "Description": "La Toile des Songes - Les Dévoreurs de Rêves",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/1831283363809415167/8540E9D595195322548CC40A4B989534B27EB94B/",
                    "ImageSecondaryURL": "https://steamusercontent-a.akamaihd.net/ugc/1831283363809397858/E690A44CBB2AB12D0E1095BAF1BAFF865CA4ABA7/",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 0,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "--[[    Character Sheet Template    by: MrStump\r\n\r\nYou can set up your own character sheet if you follow these steps.\r\n\r\nStep 1) Change the character sheet image\r\n    -Right click on the character sheet, click Custom\r\n    -Replace the image URL with one for your character sheet\r\n    -Click import, make sure your sheet loads\r\n    -SAVE THE GAME (the table setup)\r\n    -LOAD FROM THAT SAVE YOU JUST MADE\r\n\r\nStep 2) Edit script to fit your character sheet\r\n    -Below you will see some general options, and then the big data table\r\n    -The data table is what determines how many of which buttons are made\r\n        -Checkboxes\r\n        -Counters\r\n        -Textboxes\r\n    -By default, there are 3 of each. You can add more or remove entries\r\n    -If you intend to add/remove, be sure only to add/remove ENTRIES\r\n        -This is what an entry looks like:\r\n            {\r\n                pos   = {-0.977,0.1,-0.589},\r\n                size  = 800,\r\n                state = false\r\n            },\r\n        -Deleting the whole thing would remove that specific item on the sheet\r\n        -Copy and pasting it after another entry would create another\r\n    -Each entry type has unique data points (pos, size, state, etc)\r\n        -Do not try to add in your own data points or remove them individually\r\n        -There is a summary of what each point does at the top of its category\r\n\r\nStep 3) Save and check script changes\r\n    -Hit Save & Apply in the script window to save your code\r\n    -You can edit your code as needed and Save+Apply as often as needed\r\n    -When you are finished, make disableSave = false below then Save+apply\r\n        -This enables saving, so your sheet will remember whats on it.\r\n\r\nBonus) Finding/Editing Positions for elements\r\n    I have included a tool to get positions for buttons in {x,y,z} form\r\n    Place it where you want the center of your element to be\r\n    Then copy the table from the notes (lower right of screen)\r\n        You can highlight it and CTRL+C\r\n    Paste it into the data table where needed (pos=)\r\n    If you want to manually tweek the values:\r\n        {0,0,0} is the center of the character sheet\r\n        {1,0,0} is right, {-1,0,0} is left\r\n        {0,0,-1} is up, {0,0,1} is down\r\n        0.1 for Y is the height off of the page.\r\n            If it was 0, it would be down inside the model of the sheet\r\n\r\nBegin editing below:    ]]\r\n\r\n--Set this to true while editing and false when you have finished\r\ndisableSave = false\r\n--Remember to set this to false once you are done making changes\r\n--Then, after you save & apply it, save your game too\r\n\r\n--Color information for button text (r,g,b, values of 0-1)\r\nbuttonFontColor = {0,0,0}\r\n--Color information for button background\r\nbuttonColor = {0.902,0.886,0.788}\r\n--Change scale of button (Avoid changing if possible)\r\nbuttonScale = {0.1,0.1,0.1}\r\n\r\n--This is the button placement information\r\ndefaultButtonData = {\r\n  --Add checkboxes\r\n  checkbox = {\r\n      --[[\r\n      pos   = the position (pasted from the helper tool)\r\n      size  = height/width/font_size for checkbox\r\n      state = default starting value for checkbox (true=checked, false=not)\r\n      ]]\r\n      --1 checkbox\r\n      {\r\n          pos   = {-0.931,0.1,-0.006},\r\n          size  = 250,\r\n          state = false\r\n      },\r\n      --2 checkbox\r\n      {\r\n          pos   = {-0.928,0.1,0.076},\r\n          size  = 250,\r\n          state = false\r\n      },\r\n      --3 checkbox\r\n      {\r\n          pos   = {-0.924,0.1,0.154},\r\n          size  = 250,\r\n          state = false\r\n      },\r\n      --4 checkbox\r\n      {\r\n          pos   = {-0.919,0.1,0.232},\r\n          size  = 250,\r\n          state = false\r\n      },\r\n      --5 checkbox\r\n      {\r\n          pos   = {-0.919,0.1,0.313},\r\n          size  = 250,\r\n          state = false\r\n      },\r\n      --6 checkbox\r\n      {\r\n          pos   = {-0.914,0.1,0.388},\r\n          size  = 250,\r\n          state = false\r\n      },\r\n      --7 checkbox\r\n      {\r\n          pos   = {-0.914,0.1,0.471},\r\n          size  = 250,\r\n          state = false\r\n      },\r\n      --8 checkbox\r\n      {\r\n          pos   = {-0.915,0.1,0.548},\r\n          size  = 250,\r\n          state = false\r\n      },\r\n      --9 checkbox\r\n      {\r\n          pos   = {-0.915,0.1,0.624},\r\n          size  = 250,\r\n          state = false\r\n      },\r\n      --End of checkboxes\r\n  },\r\n    --Add counters that have a + and - button\r\n    counter = {\r\n        --[[\r\n        pos    = the position (pasted from the helper tool)\r\n        size   = height/width/font_size for counter\r\n        value  = default starting value for counter\r\n        hideBG = if background of counter is hidden (true=hidden, false=not)\r\n        ]]\r\n        --Slot one counter 1\r\n        {\r\n            pos    = {-0.74,0.1,-0.45},\r\n            size   = 400,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n        --Slot one counter 2\r\n        {\r\n            pos    = {-0.54,0.1,-0.45},\r\n            size   = 400,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n        --Slot one xp 1\r\n        {\r\n            pos    = {-0.54,0.1,-0.55},\r\n            size   = 300,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n        --Slot two counter 1\r\n        {\r\n            pos    = {-0.3,0.1,-0.445},\r\n            size   = 400,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n        --Slot two counter 2\r\n        {\r\n            pos    = {-0.09,0.1,-0.445},\r\n            size   = 400,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n        --Slot two xp 1\r\n        {\r\n            pos    = {-0.09,0.1,-0.54},\r\n            size   = 300,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n        --Slot three counter 1\r\n        {\r\n            pos    = {0.13,0.1,-0.44},\r\n            size   = 400,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n        --Slot three counter 2\r\n        {\r\n            pos    = {0.34,0.1,-0.44},\r\n            size   = 400,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n        --Slot three xp 1\r\n        {\r\n            pos    = {0.35,0.1,-0.54},\r\n            size   = 300,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n        --Slot four counter 1\r\n        {\r\n            pos    = {0.58,0.1,-0.44},\r\n            size   = 400,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n        --Slot four counter 2\r\n        {\r\n            pos    = {0.78,0.1,-0.44},\r\n            size   = 400,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n        --Slot four xp 1\r\n        {\r\n            pos    = {0.78,0.1,-0.54},\r\n            size   = 300,\r\n            value  = 0,\r\n            hideBG = true\r\n        },\r\n\r\n        --End of counters\r\n    },\r\n    --Add editable text boxes\r\n    textbox = {\r\n        --[[\r\n        pos       = the position (pasted from the helper tool)\r\n        rows      = how many lines of text you want for this box\r\n        width     = how wide the text box is\r\n        font_size = size of text. This and \"rows\" effect overall height\r\n        label     = what is shown when there is no text. \"\" = nothing\r\n        value     = text entered into box. \"\" = nothing\r\n        alignment = Number to indicate how you want text aligned\r\n                    (1=Automatic, 2=Left, 3=Center, 4=Right, 5=Justified)\r\n        ]]\r\n        --Slot one player\r\n        {\r\n            pos       = {-0.677,0.1,-0.70},\r\n            rows      = 1,\r\n            width     = 2000,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Slot one investigator\r\n        {\r\n            pos       = {-0.677,0.1,-0.625},\r\n            rows      = 1,\r\n            width     = 2000,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Slot one story\r\n        {\r\n            pos       = {-0.677,0.1,-0.27},\r\n            rows      = 9,\r\n            width     = 2000,\r\n            font_size = 100,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Slot two player\r\n        {\r\n            pos       = {-0.24,0.1,-0.70},\r\n            rows      = 1,\r\n            width     = 2000,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Slot two investigator\r\n        {\r\n            pos       = {-0.24,0.1,-0.625},\r\n            rows      = 1,\r\n            width     = 2000,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Slot two story\r\n        {\r\n            pos       = {-0.24,0.1,-0.27},\r\n            rows      = 9,\r\n            width     = 2000,\r\n            font_size = 100,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Slot three player\r\n        {\r\n            pos       = {0.21,0.1,-0.70},\r\n            rows      = 1,\r\n            width     = 2000,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Slot three investigator\r\n        {\r\n            pos       = {0.21,0.1,-0.62},\r\n            rows      = 1,\r\n            width     = 2000,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Slot three story\r\n        {\r\n            pos       = {0.21,0.1,-0.268},\r\n            rows      = 9,\r\n            width     = 2000,\r\n            font_size = 100,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Slot four player\r\n        {\r\n            pos       = {0.65,0.1,-0.70},\r\n            rows      = 1,\r\n            width     = 2000,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Slot four investigator\r\n        {\r\n            pos       = {0.65,0.1,-0.62},\r\n            rows      = 1,\r\n            width     = 2000,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Slot four story\r\n        {\r\n            pos       = {0.65,0.1,-0.265},\r\n            rows      = 9,\r\n            width     = 2000,\r\n            font_size = 100,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Campaign Notes 1\r\n        {\r\n            pos       = {0.33,0.1,0.273},\r\n            rows      = 10,\r\n            width     = 2500,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Campaign Notes 2\r\n        {\r\n            pos       = {0.48,0.1,0.632},\r\n            rows      = 8,\r\n            width     = 4000,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Killed Investigators\r\n        {\r\n            pos       = {-0.542,0.1,0.867},\r\n            rows      = 4,\r\n            width     = 3500,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Steps of the Bridge\r\n        {\r\n            pos       = {0.415,0.1,0.94},\r\n            rows      = 2,\r\n            width     = 3500,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --Réserve du Chaos\r\n        {\r\n            pos       = {0.797,0.1,0.26},\r\n            rows      = 10,\r\n            width     = 1500,\r\n            font_size = 150,\r\n            label     = \"Click to type\",\r\n            value     = \"\",\r\n            alignment = 2\r\n        },\r\n        --End of textboxes\r\n    }\r\n}\r\n\r\n\r\n\r\n--Lua beyond this point, I recommend doing something more fun with your life\r\n\r\n\r\n\r\n--Save function\r\nfunction updateSave()\r\n    saved_data = JSON.encode(ref_buttonData)\r\n    if disableSave==true then saved_data=\"\" end\r\n    self.script_state = saved_data\r\nend\r\n\r\n--Startup procedure\r\nfunction onload(saved_data)\r\n    if disableSave==true then saved_data=\"\" end\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        ref_buttonData = loaded_data\r\n    else\r\n        ref_buttonData = defaultButtonData\r\n    end\r\n\r\n    spawnedButtonCount = 0\r\n    createCheckbox()\r\n    createCounter()\r\n    createTextbox()\r\nend\r\n\r\n\r\n\r\n--Click functions for buttons\r\n\r\n\r\n\r\n--Checks or unchecks the given box\r\nfunction click_checkbox(tableIndex, buttonIndex)\r\n    if ref_buttonData.checkbox[tableIndex].state == true then\r\n        ref_buttonData.checkbox[tableIndex].state = false\r\n        self.editButton({index=buttonIndex, label=\"\"})\r\n    else\r\n        ref_buttonData.checkbox[tableIndex].state = true\r\n        self.editButton({index=buttonIndex, label=string.char(10008)})\r\n    end\r\n    updateSave()\r\nend\r\n\r\n--Applies value to given counter display\r\nfunction click_counter(tableIndex, buttonIndex, amount)\r\n    ref_buttonData.counter[tableIndex].value = ref_buttonData.counter[tableIndex].value + amount\r\n    self.editButton({index=buttonIndex, label=ref_buttonData.counter[tableIndex].value})\r\n    updateSave()\r\nend\r\n\r\n--Updates saved value for given text box\r\nfunction click_textbox(i, value, selected)\r\n    if selected == false then\r\n        ref_buttonData.textbox[i].value = value\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Dud function for if you have a background on a counter\r\nfunction click_none() end\r\n\r\n\r\n\r\n--Button creation\r\n\r\n\r\n\r\n--Makes checkboxes\r\nfunction createCheckbox()\r\n    for i, data in ipairs(ref_buttonData.checkbox) do\r\n        --Sets up reference function\r\n        local buttonNumber = spawnedButtonCount\r\n        local funcName = \"checkbox\"..i\r\n        local func = function() click_checkbox(i, buttonNumber) end\r\n        self.setVar(funcName, func)\r\n        --Sets up label\r\n        local label = \"\"\r\n        if data.state==true then label=string.char(10008) end\r\n        --Creates button and counts it\r\n        self.createButton({\r\n            label=label, click_function=funcName, function_owner=self,\r\n            position=data.pos, height=data.size, width=data.size,\r\n            font_size=data.size, scale=buttonScale,\r\n            color=buttonColor, font_color=buttonFontColor\r\n        })\r\n        spawnedButtonCount = spawnedButtonCount + 1\r\n    end\r\nend\r\n\r\n--Makes counters\r\nfunction createCounter()\r\n    for i, data in ipairs(ref_buttonData.counter) do\r\n        --Sets up display\r\n        local displayNumber = spawnedButtonCount\r\n        --Sets up label\r\n        local label = data.value\r\n        --Sets height/width for display\r\n        local size = data.size\r\n        if data.hideBG == true then size = 0 end\r\n        --Creates button and counts it\r\n        self.createButton({\r\n            label=label, click_function=\"click_none\", function_owner=self,\r\n            position=data.pos, height=size, width=size,\r\n            font_size=data.size, scale=buttonScale,\r\n            color=buttonColor, font_color=buttonFontColor\r\n        })\r\n        spawnedButtonCount = spawnedButtonCount + 1\r\n\r\n        --Sets up add 1\r\n        local funcName = \"counterAdd\"..i\r\n        local func = function() click_counter(i, displayNumber, 1) end\r\n        self.setVar(funcName, func)\r\n        --Sets up label\r\n        local label = \"+\"\r\n        --Sets up position\r\n        local offsetDistance = (data.size/2 + data.size/4) * (buttonScale[1] * 0.002)\r\n        local pos = {data.pos[1] + offsetDistance, data.pos[2], data.pos[3]}\r\n        --Sets up size\r\n        local size = data.size / 2\r\n        --Creates button and counts it\r\n        self.createButton({\r\n            label=label, click_function=funcName, function_owner=self,\r\n            position=pos, height=size, width=size,\r\n            font_size=size, scale=buttonScale,\r\n            color=buttonColor, font_color=buttonFontColor\r\n        })\r\n        spawnedButtonCount = spawnedButtonCount + 1\r\n\r\n        --Sets up subtract 1\r\n        local funcName = \"counterSub\"..i\r\n        local func = function() click_counter(i, displayNumber, -1) end\r\n        self.setVar(funcName, func)\r\n        --Sets up label\r\n        local label = \"-\"\r\n        --Set up position\r\n        local pos = {data.pos[1] - offsetDistance, data.pos[2], data.pos[3]}\r\n        --Creates button and counts it\r\n        self.createButton({\r\n            label=label, click_function=funcName, function_owner=self,\r\n            position=pos, height=size, width=size,\r\n            font_size=size, scale=buttonScale,\r\n            color=buttonColor, font_color=buttonFontColor\r\n        })\r\n        spawnedButtonCount = spawnedButtonCount + 1\r\n    end\r\nend\r\n\r\nfunction createTextbox()\r\n    for i, data in ipairs(ref_buttonData.textbox) do\r\n        --Sets up reference function\r\n        local funcName = \"textbox\"..i\r\n        local func = function(_,_,val,sel) click_textbox(i,val,sel) end\r\n        self.setVar(funcName, func)\r\n\r\n        self.createInput({\r\n            input_function = funcName,\r\n            function_owner = self,\r\n            label          = data.label,\r\n            alignment      = data.alignment,\r\n            position       = data.pos,\r\n            scale          = buttonScale,\r\n            width          = data.width,\r\n            height         = (data.font_size*data.rows)+24,\r\n            font_size      = data.font_size,\r\n            color          = buttonColor,\r\n            font_color     = buttonFontColor,\r\n            value          = data.value,\r\n        })\r\n    end\r\nend\r\n",
                  "LuaScriptState": "{\"checkbox\":[{\"pos\":[-0.931,0.1,-0.006],\"size\":250,\"state\":false},{\"pos\":[-0.928,0.1,0.076],\"size\":250,\"state\":false},{\"pos\":[-0.924,0.1,0.154],\"size\":250,\"state\":false},{\"pos\":[-0.919,0.1,0.232],\"size\":250,\"state\":false},{\"pos\":[-0.919,0.1,0.313],\"size\":250,\"state\":false},{\"pos\":[-0.914,0.1,0.388],\"size\":250,\"state\":false},{\"pos\":[-0.914,0.1,0.471],\"size\":250,\"state\":false},{\"pos\":[-0.915,0.1,0.548],\"size\":250,\"state\":false},{\"pos\":[-0.915,0.1,0.624],\"size\":250,\"state\":false}],\"counter\":[{\"hideBG\":true,\"pos\":[-0.74,0.1,-0.45],\"size\":400,\"value\":0},{\"hideBG\":true,\"pos\":[-0.54,0.1,-0.45],\"size\":400,\"value\":0},{\"hideBG\":true,\"pos\":[-0.54,0.1,-0.55],\"size\":300,\"value\":0},{\"hideBG\":true,\"pos\":[-0.3,0.1,-0.445],\"size\":400,\"value\":0},{\"hideBG\":true,\"pos\":[-0.09,0.1,-0.445],\"size\":400,\"value\":0},{\"hideBG\":true,\"pos\":[-0.09,0.1,-0.54],\"size\":300,\"value\":0},{\"hideBG\":true,\"pos\":[0.13,0.1,-0.44],\"size\":400,\"value\":0},{\"hideBG\":true,\"pos\":[0.34,0.1,-0.44],\"size\":400,\"value\":0},{\"hideBG\":true,\"pos\":[0.35,0.1,-0.54],\"size\":300,\"value\":0},{\"hideBG\":true,\"pos\":[0.58,0.1,-0.44],\"size\":400,\"value\":0},{\"hideBG\":true,\"pos\":[0.78,0.1,-0.44],\"size\":400,\"value\":0},{\"hideBG\":true,\"pos\":[0.78,0.1,-0.54],\"size\":300,\"value\":0}],\"textbox\":[{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[-0.677,0.1,-0.7],\"rows\":1,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[-0.677,0.1,-0.625],\"rows\":1,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":100,\"label\":\"Click to type\",\"pos\":[-0.677,0.1,-0.27],\"rows\":9,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[-0.24,0.1,-0.7],\"rows\":1,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[-0.24,0.1,-0.625],\"rows\":1,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":100,\"label\":\"Click to type\",\"pos\":[-0.24,0.1,-0.27],\"rows\":9,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[0.21,0.1,-0.7],\"rows\":1,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[0.21,0.1,-0.62],\"rows\":1,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":100,\"label\":\"Click to type\",\"pos\":[0.21,0.1,-0.268],\"rows\":9,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[0.65,0.1,-0.7],\"rows\":1,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[0.65,0.1,-0.62],\"rows\":1,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":100,\"label\":\"Click to type\",\"pos\":[0.65,0.1,-0.265],\"rows\":9,\"value\":\"\",\"width\":2000},{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[0.33,0.1,0.273],\"rows\":10,\"value\":\"\",\"width\":2500},{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[0.48,0.1,0.632],\"rows\":8,\"value\":\"\",\"width\":4000},{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[-0.542,0.1,0.867],\"rows\":4,\"value\":\"\",\"width\":3500},{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[0.415,0.1,0.94],\"rows\":2,\"value\":\"\",\"width\":3500},{\"alignment\":2,\"font_size\":150,\"label\":\"Click to type\",\"pos\":[0.797,0.1,0.26],\"rows\":10,\"value\":\"\",\"width\":1500}]}",
                  "XmlUI": ""
                }
              }
            },
            {
              "GUID": "fc0c90",
              "Name": "Custom_Tile",
              "Transform": {
                "posX": 2.99999976,
                "posY": 1.501975,
                "posZ": -5.50000048,
                "rotX": 0.0108903982,
                "rotY": 180.012878,
                "rotZ": 0.00495107053,
                "scaleX": 1.6428808,
                "scaleY": 1.0,
                "scaleZ": 1.6428808
              },
              "Nickname": "Mise en place du Chaos Bag",
              "Description": "Les Dévoreurs de Rêve - La Quête 0nirique de Kadath",
              "GMNotes": "{\"data\":\"TDE_A\",\"easy\":true,\"expert\":true,\"hard\":true,\"normal\":true,\"standalone\":false}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.8745098,
                "g": 0.8,
                "b": 0.7019608
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/2011456161884106028/81BF2DAD34FE18B6788B56E21F16B81E6525AD99/",
                "ImageSecondaryURL": "https://steamusercontent-a.akamaihd.net/ugc/2011456161884106028/81BF2DAD34FE18B6788B56E21F16B81E6525AD99/",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomTile": {
                  "Type": 3,
                  "Thickness": 0.1,
                  "Stackable": false,
                  "Stretch": true
                }
              },
              "LuaScript": "\r\njacqueline_guid = '42cd6e'\r\n\r\nbuttonparams = {\r\n   ['easy'] = {label = \"Facile\", click_function = 'modeEasy', z_i = -0.2},\r\n   ['normal'] = {label = \"Standard\", click_function = 'modeNormal', z_i = 0.1},\r\n   ['hard'] = {label = \"Difficile\", click_function = 'modeHard', z_i = 0.4},\r\n   ['expert'] = {label = \"Expert\", click_function = 'modeExpert', z_i = 0.7},\r\n   ['standalone'] = {label = \"Indépendant\", click_function = 'modeStandalone', z_i = 0},\r\n}\r\n\r\nfunction onLoad()\r\n\r\n    metadata = JSON.decode(self.getGMNotes())\r\n    buttontable = {}\r\n    for key, value in pairs(buttonparams) do\r\n        if metadata[key] == true then\r\n            table.insert(buttontable,value)\r\n        end\r\n        \r\n    end\r\n\r\n    for _, button in pairs(buttontable) do\r\n        local data = {\r\n            click_function = button.click_function, \r\n            function_owner = self, \r\n            label = button.label, \r\n            position = {0, 0.1, button.z_i}, \r\n            scale = {0.3, 0.5, 0.3}, \r\n            width = 1500, \r\n            height = 400, \r\n            font_size = 250, \r\n            tooltip = \"Chaos bag du mode \"..button.label,\r\n            color = {0.5647, 0.4627, 0.2353, 1}, \r\n            font_color = {0.9041, 0.8313, 0.7356, 1},\r\n            hover_color = {99/255, 85/255, 48/255},\r\n            press_color = {192/255, 152/255, 94/255} }\r\n        self.createButton(data)\r\n        \r\n    end\r\n    jacqueline = getObjectFromGUID(jacqueline_guid)\r\n    chaosdata = jacqueline.getTable('chaosdata')\r\nend\r\n\r\nfunction modeEasy()\r\n    local  params ={}\r\n     params.mode = 'easy'\r\n     params.data = metadata.data\r\n     jacqueline.call('setChaosBag', params)\r\n  \r\nend\r\n\r\nfunction modeNormal()\r\n      local  params ={}\r\n       params.mode = 'normal'\r\n       params.data = metadata.data\r\n       jacqueline.call('setChaosBag', params)\r\n    \r\nend\r\n\r\nfunction modeHard()\r\n    local  params ={}\r\n     params.mode = 'hard'\r\n     params.data = metadata.data\r\n     jacqueline.call('setChaosBag', params)\r\n  \r\nend\r\n\r\nfunction modeExpert()\r\n    local  params ={}\r\n     params.mode = 'expert'\r\n     params.data = metadata.data\r\n     jacqueline.call('setChaosBag', params)\r\n  \r\nend\r\n\r\nfunction modeStandalone()\r\n    local  params ={}\r\n     params.mode = 'standalone'\r\n     params.data = metadata.data\r\n     jacqueline.call('setChaosBag', params)\r\n  \r\nend",
              "LuaScriptState": "",
              "XmlUI": ""
            }
          ]
        },
        {
          "GUID": "54f4bd",
          "Name": "Custom_Model_Bag",
          "Transform": {
            "posX": 4.711134E-06,
            "posY": 0.979997456,
            "posZ": 46.5000038,
            "rotX": -4.794272E-06,
            "rotY": 180.0,
            "rotZ": 6.533915E-07,
            "scaleX": 1.493596,
            "scaleY": 0.310884237,
            "scaleZ": 1.63552141
          },
          "Nickname": "II-A : A la Recherche de Kadath",
          "Description": "Les Dévoreurs de Rêves",
          "GMNotes": "À la Recherche de Kadath",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "CustomMesh": {
            "MeshURL": "https://raw.githubusercontent.com/RobMayer/TTSLibrary/master/advboxes/tuckbox_h_MSH.obj",
            "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/780741189053435823/96C94958445E20B7DFB0D6B43AC86B4C491895B6/",
            "NormalURL": "",
            "ColliderURL": "",
            "Convex": true,
            "MaterialIndex": 3,
            "TypeIndex": 6,
            "CustomShader": {
              "SpecularColor": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "SpecularIntensity": 0.0,
              "SpecularSharpness": 2.0,
              "FresnelStrength": 0.0
            },
            "CastShadows": true
          },
          "Bag": {
            "Order": 0
          },
          "LuaScript": "-- Utility memory bag by Directsun\r\n-- Version 2.7.0\r\n-- Fork of Memory Bag 2.0 by MrStump\r\n--\r\n-- Want to contribute? Create an issue or fork the code on GitHub and submit a pull request:\r\n-- https://github.com/sunflowermans/TTS-UtilityMemoryBag\r\n\r\n\r\nfunction updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction combineMemoryFromBagsWithin()\r\n    local bagObjList = self.getObjects()\r\n    for _, bagObj in ipairs(bagObjList) do\r\n        local data = bagObj.lua_script_state\r\n        if data ~= nil then\r\n            local j = JSON.decode(data)\r\n            if j ~= nil and j.ml ~= nil then\r\n                for guid, entry in pairs(j.ml) do\r\n                    memoryList[guid] = entry\r\n                end\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateMemoryWithMoves()\r\n    memoryList = memoryListBackup\r\n    --get the first transposed object's coordinates\r\n    local obj = getObjectFromGUID(moveGuid)\r\n\r\n    -- p1 is where needs to go, p2 is where it was\r\n    local refObjPos = memoryList[moveGuid].pos\r\n    local deltaPos = findOffsetDistance(obj.getPosition(), refObjPos, nil)\r\n    local movedRotation = obj.getRotation()\r\n    for guid, entry in pairs(memoryList) do\r\n        memoryList[guid].pos.x = entry.pos.x - deltaPos.x\r\n        memoryList[guid].pos.y = entry.pos.y - deltaPos.y\r\n        memoryList[guid].pos.z = entry.pos.z - deltaPos.z\r\n        -- memoryList[guid].rot.x = movedRotation.x\r\n        -- memoryList[guid].rot.y = movedRotation.y\r\n        -- memoryList[guid].rot.z = movedRotation.z\r\n    end\r\n\r\n    --theList[obj.getGUID()] = {\r\n    --    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n    --    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n    --    lock=obj.getLock()\r\n    --}\r\n    moveList = {}\r\nend\r\n\r\nfunction onload(saved_data)\r\n\r\n    fresh = true\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n\r\n    end\r\n\r\n    moveList = {}\r\n    moveGuid = nil\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        fresh = false\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\n function createSetupButton()\r\n    self.createButton({\r\n      label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n      position={0,0.1,-2.1}, rotation={0,0,0}, height=275, width=625,\r\n      font_size=150, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n end\r\n\r\n--Triggered by Transpose button\r\nfunction buttonClick_transpose()\r\n    moveGuid = nil\r\n    broadcastToAll(\"Select one object and move it- all objects will move relative to the new location\", {0.75, 0.75, 1})\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(true)\r\n    createSetupActionButtons(true)\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(false)\r\n    createSetupActionButtons(false)\r\nend\r\n\r\nfunction getAllObjectsInMemory()\r\n    local objTable = {}\r\n    local curObj = {}\r\n\r\n    for guid in pairs(memoryListBackup) do\r\n        curObj = getObjectFromGUID(guid)\r\n        table.insert(objTable, curObj)\r\n    end\r\n\r\n    return objTable\r\n    -- return getAllObjects()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects(move)\r\n    buttonIndexMap = {}\r\n    local howManyButtons = 0\r\n\r\n    local objsToHaveButtons = {}\r\n    if move == true then\r\n        objsToHaveButtons = getAllObjectsInMemory()\r\n    else\r\n        objsToHaveButtons = getAllObjects()\r\n    end\r\n\r\n    for _, obj in ipairs(objsToHaveButtons) do\r\n        if obj ~= self then\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1* 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor + 2\r\n            objPos.z = objPos.z * globalScaleFactor * 0.9\r\n            --Workaround for custom PDFs\r\n            if obj.Book then\r\n                objPos.y = objPos.y + 0.5\r\n            end\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(obj, move) end\r\n            local color = {0.75,0.25,0.25,0.6}\r\n            local colorMove = {0,0,1,0.6}\r\n            if move == true then\r\n                color = colorMove\r\n            end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=500, width=500,\r\n                color=color,\r\n            })\r\n            buttonIndexMap[obj.getGUID()] = howManyButtons\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons(move)\r\n    self.createButton({\r\n        label=\"Annuler\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n      position={-0.7,0.1,2.1}, rotation={0,0,0}, height=275, width=625,\r\n      font_size=145, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    self.createButton({\r\n        label=\"Valider\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={-0.7,0.3,2.6}, rotation={0,0,0}, height=275, width=625,\r\n        font_size=140, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    if move == false then\r\n      self.createButton({\r\n          label=\"Ajouter\", click_function=\"buttonClick_add\", function_owner=self,\r\n          position={0.7,0.3,2.1}, rotation={0,0,0}, height=275, width=625,\r\n          font_size=140, color={0,0,0}, font_color={0.25,1,0.25}\r\n      })\r\n\r\n        self.createButton({\r\n            label=\"Sélection\", click_function=\"editDragSelection\", function_owner=self,\r\n            position={-0.7,0.3,3.1}, rotation={0,0,0}, height=275, width=625,\r\n            font_size=125, color={0,0,0}, font_color={1,1,1}\r\n        })\r\n\r\n        if fresh == false then\r\n                self.createButton({\r\n                    label=\"Mise à jour\", click_function=\"buttonClick_setNew\", function_owner=self,\r\n                    position={0.7,0.3,3.1}, rotation={0,0,0}, height=275, width=625,\r\n                    font_size=105, color={0,0,0}, font_color={0.75,0.75,1}\r\n                })\r\n                self.createButton({\r\n                    label=\"Retirer\", click_function=\"buttonClick_remove\", function_owner=self,\r\n                    position={0.7,0.3,2.6}, rotation={0,0,0}, height=275, width=625,\r\n                    font_size=140, color={0,0,0}, font_color={1,0.25,0.25}\r\n                })\r\n            end\r\n        end\r\n\r\n        self.createButton({\r\n            label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n            position={0,0.3,-2.1}, rotation={0,0,0}, height=275, width=625,\r\n            font_size=165, color={0,0,0}, font_color={1,1,1}\r\n        })\r\n    end\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(obj, move)\r\n    local index = buttonIndexMap[obj.getGUID()]\r\n    local colorMove = {0,0,1,0.6}\r\n    local color = {0,1,0,0.6}\r\n\r\n    previousGuid = selectedGuid\r\n    selectedGuid = obj.getGUID()\r\n\r\n    theList = memoryList\r\n    if move == true then\r\n        theList = moveList\r\n        if previousGuid ~= nil and previousGuid ~= selectedGuid then\r\n            local prevObj = getObjectFromGUID(previousGuid)\r\n            prevObj.highlightOff()\r\n            self.editButton({index=previousIndex, color=colorMove})\r\n            theList[previousGuid] = nil\r\n        end\r\n        previousIndex = index\r\n    end\r\n\r\n    if theList[selectedGuid] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        theList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock(),\r\n            tint=obj.getColorTint()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        if move == true then\r\n            color = colorMove\r\n        end\r\n        self.editButton({index=index, color=color})\r\n        theList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\nfunction editDragSelection(bagObj, player, remove)\r\n    local selectedObjs = Player[player].getSelectedObjects()\r\n    if not remove then\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            --Ignore if already in the memory list, or does not have a button\r\n            if index and not memoryList[obj.getGUID()] then\r\n                self.editButton({index=index, color={0,1,0,0.6}})\r\n                --Adding pos/rot to memory table\r\n                local pos, rot = obj.getPosition(), obj.getRotation()\r\n                --I need to add it like this or it won't save due to indexing issue\r\n                memoryList[obj.getGUID()] = {\r\n                    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n                    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n                    lock=obj.getLock(),\r\n                    tint=obj.getColorTint()\r\n                }\r\n                obj.highlightOn({0,1,0})\r\n            end\r\n        end\r\n    else\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            if index and memoryList[obj.getGUID()] then\r\n                color = {0.75,0.25,0.25,0.6}\r\n                self.editButton({index=index, color=color})\r\n                memoryList[obj.getGUID()] = nil\r\n                obj.highlightOff()\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Sélection annulée\", {1,1,1})\r\n    moveGuid = nil\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    fresh = false\r\n    if next(moveList) ~= nil then\r\n        for guid in pairs(moveList) do\r\n            moveGuid = guid\r\n        end\r\n        if memoryListBackup[moveGuid] == nil then\r\n            broadcastToAll(\"Item selected for moving is not already in memory\", {1, 0.25, 0.25})\r\n        else\r\n            broadcastToAll(\"Moving all items in memory relative to new objects position!\", {0.75, 0.75, 1})\r\n            self.clearButtons()\r\n            self.clearInputs()\r\n            createMemoryActionButtons()\r\n            local count = 0\r\n            for guid in pairs(moveList) do\r\n                moveGuid = guid\r\n                count = count + 1\r\n                local obj = getObjectFromGUID(guid)\r\n                if obj ~= nil then obj.highlightOff() end\r\n            end\r\n            updateMemoryWithMoves()\r\n            updateSave()\r\n            buttonClick_place()\r\n        end\r\n    elseif next(memoryList) == nil and moveGuid == nil then\r\n        memoryList = memoryListBackup\r\n        broadcastToAll(\"No selections made.\", {0.75, 0.25, 0.25})\r\n    end\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\n    moveGuid = nil\r\nend\r\n\r\nfunction combineTables(first_table, second_table)\r\n    for k,v in pairs(second_table) do first_table[k] = v end\r\nend\r\n\r\nfunction buttonClick_add()\r\n    fresh = false\r\n    combineTables(memoryList, memoryListBackup)\r\n    broadcastToAll(\"Adding internal bags and selections to existing memory\", {0.25, 0.75, 0.25})\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_remove()\r\n    broadcastToAll(\"Removing Selected Entries From Memory\", {1.0, 0.25, 0.25})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        memoryListBackup[guid] = nil\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Removed\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_setNew()\r\n    broadcastToAll(\"Setting new position relative to items in memory\", {0.75, 0.75, 1})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        guid = obj.guid\r\n        if memoryListBackup[guid] ~= nil then\r\n            count = count + 1\r\n            memoryListBackup[guid].pos = obj.getPosition()\r\n            memoryListBackup[guid].rot = obj.getRotation()\r\n            memoryListBackup[guid].lock = obj.getLock()\r\n            memoryListBackup[guid].tint = obj.getColorTint()\r\n        end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    fresh = true\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Placer\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0.7,0.1,2.2}, rotation={0,0,0}, height=275, width=625,\r\n        font_size=150, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Ranger\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={-0.7,0.1,2.2}, rotation={0,0,0}, height=275, width=625,\r\n        font_size=150, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.1,-2.2}, rotation={0,0,0}, height=275, width=625,\r\n        font_size=150, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    ---    self.createButton({\r\n    ---      label=\"Bouger\", click_function=\"buttonClick_transpose\", function_owner=self,\r\n    ---      position={-2,0.3,0.8}, rotation={0,270,0}, height=350, width=800,\r\n    ---      font_size=250, color={0,0,0}, font_color={0.75,0.75,1}\r\n    ---\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n            obj.setColorTint(entry.tint)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot, smooth=false\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    item.setColorTint(entry.tint)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objets placés\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objets rangés\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local yOffset = 0\r\n    if obj ~= nil then\r\n        local bounds = obj.getBounds()\r\n        yOffset = (bounds.size.y - bounds.offset.y)\r\n    end\r\n    local deltaPos = {}\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + yOffset\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n    local objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n    local x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n    local z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n    --return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\nfunction rotateMyCoordinates(desiredPos, obj)\r\n    local angle = math.rad(obj.getRotation().y)\r\n    local x = desiredPos.x * math.sin(angle)\r\n    local z = desiredPos.z * math.cos(angle)\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n    local mult = 10^(dec or 0)\r\n    return math.floor(num * mult + 0.5) / mult\r\nend\r\n\r\n\r\n--[[\r\nThis object provides access to a variable stored on the \"Global script\".\r\nThe variable holds the GUIDs for every Utility Memory Bag in the scene.\r\nExample:\r\n{'805ebd', '35cc21', 'fc8886', 'f50264', '5f5f63'}\r\n--]]\r\nAllMemoryBagsInScene = {\r\n    NAME_OF_GLOBAL_VARIABLE = \"_UtilityMemoryBag_AllMemoryBagsInScene\"\r\n}\r\n\r\nfunction AllMemoryBagsInScene:add(guid)\r\n    local guids = Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\n    table.insert(guids, guid)\r\n    Global.setTable(self.NAME_OF_GLOBAL_VARIABLE, guids)\r\nend\r\n\r\nfunction AllMemoryBagsInScene:getGuidList()\r\n    return Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\nend",
          "LuaScriptState": "{\"ml\":{\"050461\":{\"lock\":false,\"pos\":{\"x\":4.5,\"y\":1.5181,\"z\":8.4999},\"rot\":{\"x\":0.0109,\"y\":180.008,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"0836b8\":{\"lock\":false,\"pos\":{\"x\":-27.0000019073486,\"y\":1.76630091667175,\"z\":7.99999761581421},\"rot\":{\"x\":5.13163331561373E-06,\"y\":0.000311268959194422,\"z\":-3.14038288706797E-07},\"tint\":{\"a\":0,\"b\":0,\"g\":0,\"r\":0}},\"0927c4\":{\"lock\":false,\"pos\":{\"x\":-32.5001487731934,\"y\":1.79585933685303,\"z\":11.4998645782471},\"rot\":{\"x\":-4.9829063755169E-06,\"y\":179.991989135742,\"z\":-3.24625304415349E-08},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"0a2403\":{\"lock\":false,\"pos\":{\"x\":-1.00000166893005,\"y\":1.51839637756348,\"z\":7.50000333786011},\"rot\":{\"x\":0.010890856385231,\"y\":180.007904052734,\"z\":0.00494976341724396},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"0b8056\":{\"lock\":false,\"pos\":{\"x\":-1.00010621547699,\"y\":1.51722168922424,\"z\":1.49999189376831},\"rot\":{\"x\":0.0114438589662313,\"y\":180.007415771484,\"z\":0.00231111398898065},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"0d0a62\":{\"lock\":false,\"pos\":{\"x\":4.50038623809814,\"y\":1.58146786689758,\"z\":10.0007829666138},\"rot\":{\"x\":359.619964599609,\"y\":179.980758666992,\"z\":0.00781211908906698},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"119b6e\":{\"lock\":false,\"pos\":{\"x\":-27.0011043548584,\"y\":1.76630139350891,\"z\":3.02699613571167},\"rot\":{\"x\":4.70146505904268E-06,\"y\":0.00190672045573592,\"z\":-5.38094404589629E-08},\"tint\":{\"a\":0,\"b\":0,\"g\":0,\"r\":0}},\"13d628\":{\"lock\":false,\"pos\":{\"x\":4.5,\"y\":1.553,\"z\":0.5},\"rot\":{\"x\":0.0109,\"y\":179.9939,\"z\":0.005},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"18fbed\":{\"lock\":false,\"pos\":{\"x\":-1,\"y\":1.5537,\"z\":1.5},\"rot\":{\"x\":0.0109,\"y\":179.9941,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"190d33\":{\"lock\":false,\"pos\":{\"x\":-3.50000190734863,\"y\":1.51861226558685,\"z\":7.50000333786011},\"rot\":{\"x\":0.0108922896906734,\"y\":179.991088867188,\"z\":0.00494662998244166},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"1c0dc1\":{\"lock\":false,\"pos\":{\"x\":-26.5000038146973,\"y\":1.80067336559296,\"z\":11.4999837875366},\"rot\":{\"x\":-5.04679474033765E-06,\"y\":179.991760253906,\"z\":-9.66770414834173E-08},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"210c10\":{\"lock\":false,\"pos\":{\"x\":-6.50001287460327,\"y\":1.51907324790955,\"z\":8.50000095367432},\"rot\":{\"x\":0.0111447498202324,\"y\":180.008163452148,\"z\":0.00521878339350224},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"245b7f\":{\"lock\":false,\"pos\":{\"x\":-34.0000076293945,\"y\":1.76630139350891,\"z\":2.99999380111694},\"rot\":{\"x\":4.62301159132039E-06,\"y\":0.0022878001909703,\"z\":1.26860498994574E-07},\"tint\":{\"a\":0,\"b\":0,\"g\":0,\"r\":0}},\"27d185\":{\"lock\":false,\"pos\":{\"x\":23.5013008117676,\"y\":1.51380479335785,\"z\":-5.52289915084839},\"rot\":{\"x\":0.0108922813087702,\"y\":179.991149902344,\"z\":0.00494653824716806},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"282aff\":{\"lock\":false,\"pos\":{\"x\":-23.5000057220459,\"y\":1.83530116081238,\"z\":5.9999942779541},\"rot\":{\"x\":-6.44483952783048E-06,\"y\":179.985260009766,\"z\":9.19948661248782E-07},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"2971b7\":{\"lock\":false,\"pos\":{\"x\":-1.0004,\"y\":1.5805,\"z\":3},\"rot\":{\"x\":0.003,\"y\":180.0001,\"z\":0.0096},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"2ae1bf\":{\"lock\":false,\"pos\":{\"x\":3,\"y\":1.5018,\"z\":-6.5},\"rot\":{\"x\":0.0109,\"y\":180.009,\"z\":0.005},\"tint\":{\"a\":1,\"b\":0.701960802078247,\"g\":0.800000011920929,\"r\":0.874509811401367}},\"2c4d3a\":{\"lock\":false,\"pos\":{\"x\":-6.5005,\"y\":1.5823,\"z\":9.9998},\"rot\":{\"x\":0.0031,\"y\":180.0027,\"z\":0.0095},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"2ca875\":{\"lock\":false,\"pos\":{\"x\":-7.00000381469727,\"y\":1.51929473876953,\"z\":9.50000381469727},\"rot\":{\"x\":0.0108914468437433,\"y\":180.000640869141,\"z\":0.00494834454730153},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"2ccc93\":{\"lock\":false,\"pos\":{\"x\":-6.4998345375061,\"y\":1.5824111700058,\"z\":10.0003080368042},\"rot\":{\"x\":359.666717529297,\"y\":179.996200561523,\"z\":359.991973876953},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"31d3ed\":{\"lock\":false,\"pos\":{\"x\":-23.5000038146973,\"y\":1.76630139350891,\"z\":2.99999713897705},\"rot\":{\"x\":5.04812533108634E-06,\"y\":0.00219442346133292,\"z\":-3.37546453010873E-07},\"tint\":{\"a\":0,\"b\":0,\"g\":0,\"r\":0}},\"328486\":{\"lock\":false,\"pos\":{\"x\":17.5013,\"y\":1.5142,\"z\":-6.0196},\"rot\":{\"x\":0.005,\"y\":90.0205,\"z\":359.9891},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"334610\":{\"lock\":false,\"pos\":{\"x\":6.5003,\"y\":1.5813,\"z\":11.0002},\"rot\":{\"x\":359.9255,\"y\":180.1712,\"z\":359.9904},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"3639e2\":{\"lock\":false,\"pos\":{\"x\":-26.0001125335693,\"y\":1.84196937084198,\"z\":17.5002689361572},\"rot\":{\"x\":359.578491210938,\"y\":179.993118286133,\"z\":0.00592805631458759},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"3cc65d\":{\"lock\":false,\"pos\":{\"x\":9.99999809265137,\"y\":1.51744639873505,\"z\":7.50000333786011},\"rot\":{\"x\":0.0108909420669079,\"y\":180.008087158203,\"z\":0.00494991336017847},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"3de789\":{\"lock\":false,\"pos\":{\"x\":-6.508,\"y\":1.5825,\"z\":8.4835},\"rot\":{\"x\":0.0107,\"y\":179.9941,\"z\":0.0122},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"46e947\":{\"lock\":false,\"pos\":{\"x\":-0.8649,\"y\":1.5074,\"z\":12.1494},\"rot\":{\"x\":359.9891,\"y\":-0.0001,\"z\":-0.0049},\"tint\":{\"a\":0,\"b\":0.555448532104492,\"g\":0.677700459957123,\"r\":0}},\"472d90\":{\"lock\":false,\"pos\":{\"x\":30.5,\"y\":1.68099224567413,\"z\":-3.00009989738464},\"rot\":{\"x\":-0.000591106538195163,\"y\":180.002090454102,\"z\":180.001068115234},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"4b2442\":{\"lock\":false,\"pos\":{\"x\":-26,\"y\":1.77891623973846,\"z\":16.0000019073486},\"rot\":{\"x\":0.000269197364104912,\"y\":180.000259399414,\"z\":0.00020070634491276},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"4c78b4\":{\"lock\":false,\"pos\":{\"x\":1.4999,\"y\":1.517,\"z\":1.5},\"rot\":{\"x\":0.0112,\"y\":180.22,\"z\":0.0048},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"4d5b6d\":{\"lock\":false,\"pos\":{\"x\":4.49999856948853,\"y\":1.51659071445465,\"z\":0.500003397464752},\"rot\":{\"x\":0.010890819132328,\"y\":180.008193969727,\"z\":0.00494992127642035},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"4df2ac\":{\"lock\":false,\"pos\":{\"x\":-6.5001,\"y\":1.5823,\"z\":8.5001},\"rot\":{\"x\":0.0157,\"y\":179.9942,\"z\":0.0159},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"4dfe17\":{\"lock\":false,\"pos\":{\"x\":-19.4991874694824,\"y\":1.7789055109024,\"z\":11.5000095367432},\"rot\":{\"x\":-4.90346747028525E-06,\"y\":179.99885559082,\"z\":1.46260603628434E-08},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"4fb129\":{\"lock\":false,\"pos\":{\"x\":6.5,\"y\":1.5817,\"z\":9.5},\"rot\":{\"x\":0.0116,\"y\":179.9939,\"z\":0.0029},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"5513d0\":{\"lock\":false,\"pos\":{\"x\":18.5,\"y\":1.50329768657684,\"z\":8.5},\"rot\":{\"x\":0.00494635663926601,\"y\":89.9925003051758,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"569789\":{\"lock\":false,\"pos\":{\"x\":-1.0001,\"y\":1.5173,\"z\":1.5},\"rot\":{\"x\":0.0109,\"y\":180.0082,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"56f3f1\":{\"lock\":false,\"pos\":{\"x\":1,\"y\":1.505,\"z\":9.5},\"rot\":{\"x\":0.0049,\"y\":90.0116,\"z\":359.9891},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"57835a\":{\"lock\":false,\"pos\":{\"x\":12.4999980926514,\"y\":1.51723051071167,\"z\":7.50000286102295},\"rot\":{\"x\":0.010892323218286,\"y\":179.990982055664,\"z\":0.00494647212326527},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"57f0ff\":{\"lock\":false,\"pos\":{\"x\":4.5003,\"y\":1.5798,\"z\":1.9998},\"rot\":{\"x\":359.8688,\"y\":179.9975,\"z\":-0.0049},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"5fc2dd\":{\"lock\":false,\"pos\":{\"x\":4.5002,\"y\":1.5814,\"z\":9.9999},\"rot\":{\"x\":0.0039,\"y\":179.9985,\"z\":-0.0052},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"5fd668\":{\"lock\":false,\"pos\":{\"x\":-1.00010085105896,\"y\":1.51725578308105,\"z\":1.49999630451202},\"rot\":{\"x\":0.0108908778056502,\"y\":180.0078125,\"z\":0.00494968937709928},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"6eed99\":{\"lock\":false,\"pos\":{\"x\":4.5,\"y\":1.5545,\"z\":8.5},\"rot\":{\"x\":0.0109,\"y\":179.9942,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"720b6c\":{\"lock\":false,\"pos\":{\"x\":-0.999812543392181,\"y\":1.58046853542328,\"z\":2.99996161460876},\"rot\":{\"x\":359.870269775391,\"y\":180.000885009766,\"z\":0.00572740333154798},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"7234af\":{\"lock\":false,\"pos\":{\"x\":-1,\"y\":1.505,\"z\":8.5},\"rot\":{\"x\":0.005,\"y\":90.1902,\"z\":359.9891},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"725e1b\":{\"lock\":false,\"pos\":{\"x\":-29.5001239776611,\"y\":1.79585933685303,\"z\":11.4998769760132},\"rot\":{\"x\":-4.96910979563836E-06,\"y\":179.99137878418,\"z\":3.89920103316399E-07},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"76eb75\":{\"lock\":false,\"pos\":{\"x\":-30.9972057342529,\"y\":1.76705002784729,\"z\":18.3175945281982},\"rot\":{\"x\":4.81111419503577E-06,\"y\":-0.00034523374051787,\"z\":-1.13028939097148E-07},\"tint\":{\"a\":0,\"b\":0.555448532104492,\"g\":0.677700459957123,\"r\":0}},\"7e3752\":{\"lock\":false,\"pos\":{\"x\":17.5009918212891,\"y\":1.5142285823822,\"z\":-6.01959705352783},\"rot\":{\"x\":0.00495202140882611,\"y\":90.0204467773438,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"7e7e81\":{\"lock\":false,\"pos\":{\"x\":17.501,\"y\":1.5142,\"z\":-6.0196},\"rot\":{\"x\":0.0049,\"y\":90,\"z\":359.9891},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"81c641\":{\"lock\":false,\"pos\":{\"x\":-23,\"y\":1.82,\"z\":16},\"rot\":{\"x\":0,\"y\":179.9939,\"z\":0},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"8525cc\":{\"lock\":false,\"pos\":{\"x\":4.5,\"y\":1.51811134815216,\"z\":8.49989986419678},\"rot\":{\"x\":0.0108908619731665,\"y\":180.007781982422,\"z\":0.00494978716596961},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"8dc54d\":{\"lock\":false,\"pos\":{\"x\":4.5,\"y\":1.5545,\"z\":8.5},\"rot\":{\"x\":0.0109,\"y\":179.9954,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"900817\":{\"lock\":false,\"pos\":{\"x\":10,\"y\":1.5538,\"z\":7.5},\"rot\":{\"x\":0.0109,\"y\":179.9941,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"905d85\":{\"lock\":false,\"pos\":{\"x\":7.0001,\"y\":1.5813,\"z\":10.0003},\"rot\":{\"x\":359.6224,\"y\":179.9873,\"z\":0.0077},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"90f7b5\":{\"lock\":false,\"pos\":{\"x\":-27.0000076293945,\"y\":1.83530116081238,\"z\":5.99999237060547},\"rot\":{\"x\":-5.78958542973851E-06,\"y\":179.994720458984,\"z\":4.70271174890513E-07},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"925760\":{\"lock\":false,\"pos\":{\"x\":1.5003,\"y\":1.5804,\"z\":2.9998},\"rot\":{\"x\":359.5842,\"y\":180.2256,\"z\":359.9901},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"941c85\":{\"lock\":false,\"pos\":{\"x\":-32.5,\"y\":1.8006,\"z\":11.5},\"rot\":{\"x\":0,\"y\":180.0189,\"z\":0},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"9781fa\":{\"lock\":false,\"pos\":{\"x\":-23,\"y\":1.7789055109024,\"z\":11.4999980926514},\"rot\":{\"x\":-5.0520034164947E-06,\"y\":180,\"z\":-9.47965190789546E-08},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"9795b1\":{\"lock\":false,\"pos\":{\"x\":-20.0000019073486,\"y\":1.76630139350891,\"z\":2.99999856948853},\"rot\":{\"x\":4.74713851872366E-06,\"y\":0.00234315334819257,\"z\":4.23141237604341E-08},\"tint\":{\"a\":0,\"b\":0,\"g\":0,\"r\":0}},\"99eeff\":{\"lock\":false,\"pos\":{\"x\":9.99979972839355,\"y\":1.50403010845184,\"z\":8.49100017547607},\"rot\":{\"x\":0.00495974766090512,\"y\":90.0636749267578,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"9d33ba\":{\"lock\":false,\"pos\":{\"x\":-6.5,\"y\":1.5823,\"z\":9.9998},\"rot\":{\"x\":359.8777,\"y\":180.0009,\"z\":0.0057},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"9fc0ca\":{\"lock\":false,\"pos\":{\"x\":1.5,\"y\":1.5806,\"z\":1.5},\"rot\":{\"x\":0.0109,\"y\":179.9934,\"z\":0.0045},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"a07d8f\":{\"lock\":false,\"pos\":{\"x\":-1,\"y\":1.5537,\"z\":1.5},\"rot\":{\"x\":0.0109,\"y\":179.994,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"a195b9\":{\"lock\":false,\"pos\":{\"x\":-20,\"y\":1.83530116081238,\"z\":5.99999952316284},\"rot\":{\"x\":-5.51228504264145E-06,\"y\":179.985641479492,\"z\":-1.18292781792206E-07},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"a5402d\":{\"lock\":false,\"pos\":{\"x\":7,\"y\":1.5179,\"z\":8.5},\"rot\":{\"x\":0.0109,\"y\":179.9911,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"a5d521\":{\"lock\":false,\"pos\":{\"x\":-1,\"y\":1.5537,\"z\":1.5},\"rot\":{\"x\":0.0109,\"y\":179.9938,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"a79370\":{\"lock\":false,\"pos\":{\"x\":-23.0000839233398,\"y\":1.84184157848358,\"z\":17.4999561309814},\"rot\":{\"x\":359.990295410156,\"y\":179.989303588867,\"z\":0.00599141558632255},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"aadc9d\":{\"lock\":false,\"pos\":{\"x\":-22.9999008178711,\"y\":1.77891337871552,\"z\":16.000114440918},\"rot\":{\"x\":0.000266597024165094,\"y\":180.008529663086,\"z\":5.19494169566315E-05},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"ab4e80\":{\"lock\":false,\"pos\":{\"x\":6.5,\"y\":1.5181,\"z\":9.5},\"rot\":{\"x\":0.0111,\"y\":180.126,\"z\":0.0052},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"ac78b4\":{\"lock\":false,\"pos\":{\"x\":-2.5,\"y\":1.5045,\"z\":5.5},\"rot\":{\"x\":0.0112,\"y\":135.0001,\"z\":-0.0042},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"b07782\":{\"lock\":false,\"pos\":{\"x\":-4,\"y\":1.5046,\"z\":5},\"rot\":{\"x\":0.0112,\"y\":135,\"z\":-0.0042},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"b24037\":{\"lock\":false,\"pos\":{\"x\":17.5009994506836,\"y\":1.5142285823822,\"z\":-6.01959991455078},\"rot\":{\"x\":0.00495327915996313,\"y\":90.0269012451172,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"b85b53\":{\"lock\":false,\"pos\":{\"x\":-1.0003,\"y\":1.5805,\"z\":2.9999},\"rot\":{\"x\":0.003,\"y\":179.9958,\"z\":0.0096},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"c45685\":{\"lock\":false,\"pos\":{\"x\":-19.5,\"y\":1.7836,\"z\":16},\"rot\":{\"x\":0,\"y\":179.9993,\"z\":0},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"ce6b6a\":{\"lock\":false,\"pos\":{\"x\":-34.0000114440918,\"y\":1.83530116081238,\"z\":5.99998950958252},\"rot\":{\"x\":-6.89237685946864E-06,\"y\":179.98664855957,\"z\":6.11741540978983E-07},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"d4f4a8\":{\"lock\":false,\"pos\":{\"x\":6.49999856948853,\"y\":1.5167031288147,\"z\":2.00000309944153},\"rot\":{\"x\":0.0108922990038991,\"y\":179.991027832031,\"z\":0.00494676735252142},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"d808e8\":{\"lock\":false,\"pos\":{\"x\":-30.5000114440918,\"y\":1.83530116081238,\"z\":5.99998807907104},\"rot\":{\"x\":-5.3710564316134E-06,\"y\":179.985260009766,\"z\":-2.42705311848113E-07},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"dcae02\":{\"lock\":false,\"pos\":{\"x\":-6.50000381469727,\"y\":1.51906144618988,\"z\":8.5},\"rot\":{\"x\":0.01089081261307,\"y\":180.007858276367,\"z\":0.00494977971538901},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"decb94\":{\"lock\":false,\"pos\":{\"x\":-4.5,\"y\":1.5191,\"z\":9.5},\"rot\":{\"x\":0.0109,\"y\":180.0078,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"e16ed6\":{\"lock\":false,\"pos\":{\"x\":-6.5,\"y\":1.5191,\"z\":8.5},\"rot\":{\"x\":0.0109,\"y\":180.0079,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"e23149\":{\"lock\":true,\"pos\":{\"x\":17.5,\"y\":1.51479995250702,\"z\":-3},\"rot\":{\"x\":-0.00490000052377582,\"y\":269.999938964844,\"z\":180.010894775391},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"e6ee6b\":{\"lock\":false,\"pos\":{\"x\":6.41620016098022,\"y\":1.50439286231995,\"z\":-0.43369996547699},\"rot\":{\"x\":359.989105224609,\"y\":0.0114962086081505,\"z\":-0.00495040509849787},\"tint\":{\"a\":0,\"b\":0.555448532104492,\"g\":0.677700459957123,\"r\":0}},\"e9d5e8\":{\"lock\":false,\"pos\":{\"x\":-31.0000057220459,\"y\":1.74158442020416,\"z\":15.4999952316284},\"rot\":{\"x\":4.80740345665254E-06,\"y\":0.000333056988893077,\"z\":6.43141959244531E-07},\"tint\":{\"a\":1,\"b\":0.5,\"g\":0.5,\"r\":0.5}},\"ebf492\":{\"lock\":false,\"pos\":{\"x\":10.0002,\"y\":1.5807,\"z\":8.9998},\"rot\":{\"x\":359.8704,\"y\":180,\"z\":-0.005},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"ec264a\":{\"lock\":false,\"pos\":{\"x\":4.5,\"y\":1.5545,\"z\":8.5},\"rot\":{\"x\":0.0109,\"y\":179.994,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"f9b57a\":{\"lock\":false,\"pos\":{\"x\":2,\"y\":1.5041,\"z\":5},\"rot\":{\"x\":0.0042,\"y\":225,\"z\":0.0112},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"fabf0a\":{\"lock\":false,\"pos\":{\"x\":4.49999094009399,\"y\":1.51812100410461,\"z\":8.49990844726563},\"rot\":{\"x\":0.0111657194793224,\"y\":180.000274658203,\"z\":0.00506524462252855},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"fb44a9\":{\"lock\":false,\"pos\":{\"x\":17.5009994506836,\"y\":1.5142285823822,\"z\":-6.01959991455078},\"rot\":{\"x\":0.00495194457471371,\"y\":90.0202026367188,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"fb5f4c\":{\"lock\":false,\"pos\":{\"x\":12.5010004043579,\"y\":1.53161466121674,\"z\":-6.01679992675781},\"rot\":{\"x\":0.00495304726064205,\"y\":90.0261535644531,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"fe70b4\":{\"lock\":false,\"pos\":{\"x\":-30.5000038146973,\"y\":1.76630139350891,\"z\":2.99999523162842},\"rot\":{\"x\":5.01185013490613E-06,\"y\":0.00199951184913516,\"z\":8.89088767053181E-08},\"tint\":{\"a\":0,\"b\":0,\"g\":0,\"r\":0}}}}",
          "XmlUI": "",
          "ContainedObjects": [
            {
              "GUID": "941c85",
              "Name": "Deck",
              "Transform": {
                "posX": -32.5000038,
                "posY": 1.80055916,
                "posZ": 11.4999962,
                "rotX": -4.86507724E-06,
                "rotY": 180.018951,
                "rotZ": -2.88603474E-07,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Corsaire de Leng",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": false,
              "SidewaysCard": false,
              "DeckIDs": [
                1143900,
                1143800
              ],
              "CustomDeck": {
                "11439": {
                  "FaceURL": "https://steamusercontent-a.akamaihd.net/ugc/2074526368858655918/DB37E3A35BCF382384E62B817E1641A54D1B3A84/",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1835784131957489171/6E3F1D1BAA5FBB7101D3F84B5E8502CD0F7E299E/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                },
                "11438": {
                  "FaceURL": "https://steamusercontent-a.akamaihd.net/ugc/2074526368858656576/5CCB84292B9909B910F4B66334ECE5F150A7BD13/",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1835784131957489171/6E3F1D1BAA5FBB7101D3F84B5E8502CD0F7E299E/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "4b4507",
                  "Name": "Card",
                  "Transform": {
                    "posX": -32.50001,
                    "posY": 1.78360236,
                    "posZ": 11.4999924,
                    "rotX": 2.44655548E-05,
                    "rotY": 180.018753,
                    "rotZ": -0.00019746006,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Corsaire de Leng",
                  "Description": "Humanoïde. Monstre.",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 4,\n  \"id\": \"06105\",\n  \"traits\": \"Humanoid. Monster.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 1143900,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "11439": {
                      "FaceURL": "https://steamusercontent-a.akamaihd.net/ugc/2074526368858655918/DB37E3A35BCF382384E62B817E1641A54D1B3A84/",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1835784131957489171/6E3F1D1BAA5FBB7101D3F84B5E8502CD0F7E299E/",
                      "NumWidth": 1,
                      "NumHeight": 1,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "bc5262",
                  "Name": "Card",
                  "Transform": {
                    "posX": -32.5,
                    "posY": 1.82938719,
                    "posZ": 11.5,
                    "rotX": 0.0005253833,
                    "rotY": 180.008087,
                    "rotZ": -0.000263310474,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Corsaire de Leng",
                  "Description": "Humanoïde. Monstre",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 4,\n  \"id\": \"06105\",\n  \"traits\": \"Humanoid. Monster.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 1143800,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "11438": {
                      "FaceURL": "https://steamusercontent-a.akamaihd.net/ugc/2074526368858656576/5CCB84292B9909B910F4B66334ECE5F150A7BD13/",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1835784131957489171/6E3F1D1BAA5FBB7101D3F84B5E8502CD0F7E299E/",
                      "NumWidth": 1,
                      "NumHeight": 1,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "c45685",
              "Name": "Card",
              "Transform": {
                "posX": -19.4999981,
                "posY": 1.783605,
                "posZ": 16.0000019,
                "rotX": -5.03134E-06,
                "rotY": 179.9993,
                "rotZ": -2.80784178E-08,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Virgil Gray",
              "Description": "Écrit de Drôles d'Histoires",
              "GMNotes": "{\n  \"class\": \"Neutral\",\n  \"cycle\": \"Standalone\",\n  \"health\": 1,\n  \"id\": \"06144\",\n  \"sanity\": 3,\n  \"traits\": \"Ally. Dreamer.\",\n  \"type\": \"Asset\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": true,
              "CardID": 1123223,
              "SidewaysCard": false,
              "CustomDeck": {
                "11232": {
                  "FaceURL": "https://steamusercontent-a.akamaihd.net/ugc/2451717972207832532/3699F2613CB3A2B3CBF947914ABCD6F77B4F5FDB/",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/2451717972207833919/3C33B71E75368AE2E8D575D7F6477ACF5271CBE3/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "0836b8",
              "Name": "Custom_Model",
              "Transform": {
                "posX": -27.0000038,
                "posY": 1.77100074,
                "posZ": 7.99999571,
                "rotX": 4.67726341E-06,
                "rotY": 0.000295006146,
                "rotZ": 2.54053845E-07,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Text Tool",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.0,
                "g": 0.0,
                "b": 0.0,
                "a": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": false,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": false,
              "Tooltip": false,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/1478820768302617365/27883B7913E0E69143C3AA03493B7E7C4E8C29C0/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 1,
                "TypeIndex": 0,
                "CastShadows": true
              },
              "LuaScript": "-- Code for bag to identify text tool objects\r\nmovableTextTool_cowgoesmoo33 = true\r\n\r\n-- Number of characters before the text box width expands.\r\nEXPAND_INTERVAL = 20\r\n\r\n-- This table controls what is passed between save/load\r\ndata = {}\r\n\r\nfunction onLoad(saved_data)\r\n  if saved_data ~= '' then\r\n    data = JSON.decode(saved_data)\r\n    if data.text ~= '' then\r\n      self.interactable = data.interactable\r\n      staticMode()\r\n      return\r\n    end\r\n  else\r\n    data = {size=200, color=Color(0,0,0), text='', interactable=true,\r\n        enter_to_finish=false, autolock=false, autolift=false,\r\n        hover_height=0.05, box_transparency=1}\r\n  end\r\n\r\n  inputMode()\r\nend\r\n\r\n-- True if in the middle of delay after pressing Enter (with enter_to_finish on)\r\nfinishing = false\r\nfunction input_func(obj, color, input, stillEditing)\r\n  local params = getBox(input)\r\n  if params then\r\n    params.value = input\r\n    self.editInput(params)\r\n  end\r\n\r\n  if not stillEditing then\r\n    data.text = input\r\n    updateState()\r\n    if input ~= '' then staticMode(color) end\r\n  elseif data.enter_to_finish then\r\n    -- If enter is pressed: remove last newline and force finish\r\n    if not finishing and input:sub(-1) == '\\n' then\r\n      finishing = true\r\n      -- Delay to avoid user's Enter keypress being detected (opens chat box)\r\n      Wait.frames(function()\r\n        input = input:sub(1, -2)\r\n        data.text = input\r\n        updateState()\r\n        if input ~= '' then staticMode(color) else inputMode() end\r\n        finishing = false\r\n      end, 10)\r\n    end\r\n  end\r\nend\r\n\r\n-- When the inpupt box appears and lets the player type in it.\r\nfunction inputMode()\r\n  self.clearContextMenu()\r\n  self.clearInputs()\r\n  self.clearButtons()\r\n\r\n  local size = getBox(data.text, true)\r\n\r\n  self.createInput({\r\n    input_function = \"input_func\",\r\n    function_owner = self,\r\n    label          = \"Type Here\",\r\n    alignment      = 3,\r\n    position       = {x=0, y=data.hover_height, z=0},\r\n    rotation       = {0, 180, 0},\r\n    width          = size.width,\r\n    height         = size.height,\r\n    color          = getBackground(data.color),\r\n    font_color     = data.color,\r\n    font_size      = data.size,\r\n    value          = data.text,\r\n  })\r\n\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\nend\r\n\r\n-- When the input box disappears and displays the text.\r\nfunction staticMode(player)\r\n  self.clearContextMenu()\r\n  if data.autolock then\r\n    self.locked = true\r\n  end\r\n  if self.getInputs() and #self.getInputs() ~= 0 then\r\n    self.removeInput(0)\r\n  end\r\n\r\n  -- Clear from selecting player\r\n  if player then\r\n    self.removeFromPlayerSelection(player)\r\n  end\r\n\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  self.createButton({\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=self,\r\n    position={0,data.hover_height,0}, rotation={0,180,0}, height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  })\r\n\r\n  self.addContextMenuItem('Edit Text', function(color)\r\n    self.removeFromPlayerSelection(color)\r\n    inputMode()\r\n  end)\r\n  self.addContextMenuItem('Clear', function(color)\r\n    applyMultiple(color, 'clear', _, true)\r\n  end)\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\n  self.addContextMenuItem('Permanently Attach', attemptAttach)\r\n  self.addContextMenuItem('Permalock', function(color)\r\n    applyMultiple(color, 'permalock', _, true)\r\n  end)\r\nend\r\n\r\nfunction changeSize(params)\r\n  local delta = params[1]\r\n  local newSize = data.size + delta\r\n  if newSize > 800  or newSize < 50 then\r\n    return\r\n  end\r\n  data.size = newSize\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_size=data.size})\r\n  else\r\n    local size = getBox(data.text, true)\r\n    self.editInput({width=size.width, height=size.height, font_size=data.size})\r\n  end\r\nend\r\n\r\nfunction setColor(params)\r\n  if params and params[1] then\r\n    data.color = params[1]\r\n  else\r\n    data.color = self.getColorTint():setAt('a', 1) -- Take on color of object tint\r\n  end\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_color=data.color})\r\n  else\r\n    self.editInput({font_color=data.color, color=getBackground(data.color)})\r\n  end\r\nend\r\n\r\nfunction getBackground(color) --determines whether to use black or white depending on luminance\r\n  local r,g,b = Color(color):get()\r\n\r\n  local lum = 0.2126*r + 0.7152*g + 0.0722*b\r\n  if lum > 0.75 then\r\n    return {0.2,0.2,0.2, data.box_transparency}\r\n  else\r\n    return {1,1,1, data.box_transparency}\r\n  end\r\nend\r\n\r\nfunction clear()\r\n  data.text = ''\r\n  updateState()\r\n  inputMode()\r\nend\r\n\r\nfunction permalock()\r\n  self.interactable = false\r\n  data.interactable = false\r\n  updateState()\r\nend\r\n\r\nlocal target_script = [[\r\nfunction onLoad(script_state)\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    for _,entry in ipairs(state) do\r\n      self.createButton(entry)\r\n    end\r\n    self.addContextMenuItem('Clear All Text', function(color)\r\n      self.clearContextMenu()\r\n      self.clearButtons()\r\n      self.script_state = ''\r\n      self.script_code = ''\r\n    end)\r\n  end\r\nend\r\n]]\r\n\r\nfunction attemptAttach(player_color)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  local attachee\r\n  local attachers = {}\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if obj ~= self then\r\n        table.insert(attachers, obj)\r\n      end\r\n    else\r\n      if attachee then\r\n        broadcastToColor(\"More than one target selected.\", player_color)\r\n        return\r\n      else\r\n        attachee = obj\r\n      end\r\n    end\r\n  end\r\n  if attachee then\r\n    local code = attachee.script_code\r\n    if code and code ~= '' and code ~= target_script then\r\n      broadcastToColor(\"Warning: script on card has been overriden. Rewind time to undo.\", player_color)\r\n    end\r\n    for i,attacher in ipairs(attachers) do\r\n      attacher.call('attach', {target = attachee})\r\n    end\r\n    attach({target = attachee})\r\n    local type, flip = attachee.type, attachee.getRotation().z\r\n    if (type == 'Card' or type == 'Deck') and flip > 175 and flip < 185 then\r\n      broadcastToColor(\"Warning: text will not display if card or deck is facing down.\", player_color)\r\n    end\r\n  else\r\n    broadcastToColor(\"You must have a target object in your selection (using click-and-drag or Ctrl+Click) to use this option.\", player_color)\r\n  end\r\nend\r\n\r\nfunction attach(params)\r\n  local target = params.target\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  local textRotation = self.getRotation():sub(target.getRotation())\r\n    :add(Vector(180, 0, 180))\r\n\r\n  local textPosition = target.positionToLocal(\r\n    self.getPosition():add(Vector(0, data.hover_height, 0))\r\n  )\r\n  textPosition.x = -textPosition.x\r\n\r\n  local textScale = {}\r\n  textScale.x = self.getScale().x / target.getScale().x\r\n  textScale.y = self.getScale().x / target.getScale().y\r\n  textScale.z = self.getScale().x / target.getScale().z\r\n\r\n  local details = {\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=nil,\r\n    position=textPosition,\r\n    rotation=textRotation,\r\n    scale=textScale,\r\n    height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  }\r\n\r\n  target.createButton(details)\r\n\r\n  local script_state = target.script_state\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    table.insert(state, details)\r\n    target.script_state = JSON.encode(state)\r\n  else\r\n    target.script_state = JSON.encode({[1]=details})\r\n  end\r\n\r\n  target.script_code = target_script\r\n\r\n  self.destruct()\r\nend\r\n\r\nfunction applyMultiple(player_color, func_string, params, static_only)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if not static_only or obj.call('isStatic') then\r\n        obj.call(func_string, params)\r\n      end\r\n    end\r\n  end\r\nend\r\n\r\nfunction isStatic()\r\n  local input = self.getInputs()\r\n  return not input or #input == 0\r\nend\r\n\r\nfunction getBox(input, force)\r\n  local maxLength, lineCount = EXPAND_INTERVAL, 1\r\n  local lineLength = 0\r\n  for i = 1, #input do\r\n    local c = input:sub(i,i)\r\n    if c == '\\n' then\r\n      lineCount = lineCount + 1\r\n      if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n      lineLength = 0\r\n    else\r\n      lineLength = lineLength + 1\r\n    end\r\n  end\r\n  if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n\r\n  newWidth = data.size * maxLength * 0.9\r\n  newHeight = data.size * lineCount + 23\r\n\r\n  if force or boxWidth ~= newWidth or boxHeight ~= newHeight then\r\n    boxWidth, boxHeight = newWidth, newHeight\r\n    return {width = boxWidth, height = boxHeight}\r\n  end\r\n  return nil\r\nend\r\n\r\ntemp_lift = nil\r\nfunction onPickUp(player_color)\r\n  if data.autolift then\r\n    local player = Player[player_color]\r\n    temp_lift = player.lift_height\r\n    player.lift_height = 0\r\n  end\r\nend\r\n\r\nfunction onDrop(player_color)\r\n  if data.autolift and temp_lift then\r\n    Player[player_color].lift_height = temp_lift\r\n  end\r\nend\r\n\r\n-- Should be called every time data is modified, allows info to be saved on copy/paste\r\nfunction updateState()\r\n  self.script_state = JSON.encode(data)\r\nend\r\n\r\nfunction onSave()\r\n  self.script_state = JSON.encode(data)\r\n  return self.script_state\r\nend",
              "LuaScriptState": "{\"autolift\":false,\"autolock\":false,\"box_transparency\":1,\"color\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1},\"enter_to_finish\":false,\"hover_height\":0.05,\"interactable\":true,\"size\":350,\"text\":\"Placer ou ranger les différentes destinations\"}",
              "XmlUI": ""
            },
            {
              "GUID": "119b6e",
              "Name": "Custom_Model",
              "Transform": {
                "posX": -27.0011082,
                "posY": 1.77100122,
                "posZ": 3.02699161,
                "rotX": 4.477842E-06,
                "rotY": 0.00181061239,
                "rotZ": 9.270775E-08,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Text Tool",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.0,
                "g": 0.0,
                "b": 0.0,
                "a": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": false,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": false,
              "Tooltip": false,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/1478820768302617365/27883B7913E0E69143C3AA03493B7E7C4E8C29C0/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 1,
                "TypeIndex": 0,
                "CastShadows": true
              },
              "LuaScript": "-- Code for bag to identify text tool objects\r\nmovableTextTool_cowgoesmoo33 = true\r\n\r\n-- Number of characters before the text box width expands.\r\nEXPAND_INTERVAL = 20\r\n\r\n-- This table controls what is passed between save/load\r\ndata = {}\r\n\r\nfunction onLoad(saved_data)\r\n  if saved_data ~= '' then\r\n    data = JSON.decode(saved_data)\r\n    if data.text ~= '' then\r\n      self.interactable = data.interactable\r\n      staticMode()\r\n      return\r\n    end\r\n  else\r\n    data = {size=200, color=Color(0,0,0), text='', interactable=true,\r\n        enter_to_finish=false, autolock=false, autolift=false,\r\n        hover_height=0.05, box_transparency=1}\r\n  end\r\n\r\n  inputMode()\r\nend\r\n\r\n-- True if in the middle of delay after pressing Enter (with enter_to_finish on)\r\nfinishing = false\r\nfunction input_func(obj, color, input, stillEditing)\r\n  local params = getBox(input)\r\n  if params then\r\n    params.value = input\r\n    self.editInput(params)\r\n  end\r\n\r\n  if not stillEditing then\r\n    data.text = input\r\n    updateState()\r\n    if input ~= '' then staticMode(color) end\r\n  elseif data.enter_to_finish then\r\n    -- If enter is pressed: remove last newline and force finish\r\n    if not finishing and input:sub(-1) == '\\n' then\r\n      finishing = true\r\n      -- Delay to avoid user's Enter keypress being detected (opens chat box)\r\n      Wait.frames(function()\r\n        input = input:sub(1, -2)\r\n        data.text = input\r\n        updateState()\r\n        if input ~= '' then staticMode(color) else inputMode() end\r\n        finishing = false\r\n      end, 10)\r\n    end\r\n  end\r\nend\r\n\r\n-- When the inpupt box appears and lets the player type in it.\r\nfunction inputMode()\r\n  self.clearContextMenu()\r\n  self.clearInputs()\r\n  self.clearButtons()\r\n\r\n  local size = getBox(data.text, true)\r\n\r\n  self.createInput({\r\n    input_function = \"input_func\",\r\n    function_owner = self,\r\n    label          = \"Type Here\",\r\n    alignment      = 3,\r\n    position       = {x=0, y=data.hover_height, z=0},\r\n    rotation       = {0, 180, 0},\r\n    width          = size.width,\r\n    height         = size.height,\r\n    color          = getBackground(data.color),\r\n    font_color     = data.color,\r\n    font_size      = data.size,\r\n    value          = data.text,\r\n  })\r\n\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\nend\r\n\r\n-- When the input box disappears and displays the text.\r\nfunction staticMode(player)\r\n  self.clearContextMenu()\r\n  if data.autolock then\r\n    self.locked = true\r\n  end\r\n  if self.getInputs() and #self.getInputs() ~= 0 then\r\n    self.removeInput(0)\r\n  end\r\n\r\n  -- Clear from selecting player\r\n  if player then\r\n    self.removeFromPlayerSelection(player)\r\n  end\r\n\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  self.createButton({\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=self,\r\n    position={0,data.hover_height,0}, rotation={0,180,0}, height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  })\r\n\r\n  self.addContextMenuItem('Edit Text', function(color)\r\n    self.removeFromPlayerSelection(color)\r\n    inputMode()\r\n  end)\r\n  self.addContextMenuItem('Clear', function(color)\r\n    applyMultiple(color, 'clear', _, true)\r\n  end)\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\n  self.addContextMenuItem('Permanently Attach', attemptAttach)\r\n  self.addContextMenuItem('Permalock', function(color)\r\n    applyMultiple(color, 'permalock', _, true)\r\n  end)\r\nend\r\n\r\nfunction changeSize(params)\r\n  local delta = params[1]\r\n  local newSize = data.size + delta\r\n  if newSize > 800  or newSize < 50 then\r\n    return\r\n  end\r\n  data.size = newSize\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_size=data.size})\r\n  else\r\n    local size = getBox(data.text, true)\r\n    self.editInput({width=size.width, height=size.height, font_size=data.size})\r\n  end\r\nend\r\n\r\nfunction setColor(params)\r\n  if params and params[1] then\r\n    data.color = params[1]\r\n  else\r\n    data.color = self.getColorTint():setAt('a', 1) -- Take on color of object tint\r\n  end\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_color=data.color})\r\n  else\r\n    self.editInput({font_color=data.color, color=getBackground(data.color)})\r\n  end\r\nend\r\n\r\nfunction getBackground(color) --determines whether to use black or white depending on luminance\r\n  local r,g,b = Color(color):get()\r\n\r\n  local lum = 0.2126*r + 0.7152*g + 0.0722*b\r\n  if lum > 0.75 then\r\n    return {0.2,0.2,0.2, data.box_transparency}\r\n  else\r\n    return {1,1,1, data.box_transparency}\r\n  end\r\nend\r\n\r\nfunction clear()\r\n  data.text = ''\r\n  updateState()\r\n  inputMode()\r\nend\r\n\r\nfunction permalock()\r\n  self.interactable = false\r\n  data.interactable = false\r\n  updateState()\r\nend\r\n\r\nlocal target_script = [[\r\nfunction onLoad(script_state)\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    for _,entry in ipairs(state) do\r\n      self.createButton(entry)\r\n    end\r\n    self.addContextMenuItem('Clear All Text', function(color)\r\n      self.clearContextMenu()\r\n      self.clearButtons()\r\n      self.script_state = ''\r\n      self.script_code = ''\r\n    end)\r\n  end\r\nend\r\n]]\r\n\r\nfunction attemptAttach(player_color)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  local attachee\r\n  local attachers = {}\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if obj ~= self then\r\n        table.insert(attachers, obj)\r\n      end\r\n    else\r\n      if attachee then\r\n        broadcastToColor(\"More than one target selected.\", player_color)\r\n        return\r\n      else\r\n        attachee = obj\r\n      end\r\n    end\r\n  end\r\n  if attachee then\r\n    local code = attachee.script_code\r\n    if code and code ~= '' and code ~= target_script then\r\n      broadcastToColor(\"Warning: script on card has been overriden. Rewind time to undo.\", player_color)\r\n    end\r\n    for i,attacher in ipairs(attachers) do\r\n      attacher.call('attach', {target = attachee})\r\n    end\r\n    attach({target = attachee})\r\n    local type, flip = attachee.type, attachee.getRotation().z\r\n    if (type == 'Card' or type == 'Deck') and flip > 175 and flip < 185 then\r\n      broadcastToColor(\"Warning: text will not display if card or deck is facing down.\", player_color)\r\n    end\r\n  else\r\n    broadcastToColor(\"You must have a target object in your selection (using click-and-drag or Ctrl+Click) to use this option.\", player_color)\r\n  end\r\nend\r\n\r\nfunction attach(params)\r\n  local target = params.target\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  local textRotation = self.getRotation():sub(target.getRotation())\r\n    :add(Vector(180, 0, 180))\r\n\r\n  local textPosition = target.positionToLocal(\r\n    self.getPosition():add(Vector(0, data.hover_height, 0))\r\n  )\r\n  textPosition.x = -textPosition.x\r\n\r\n  local textScale = {}\r\n  textScale.x = self.getScale().x / target.getScale().x\r\n  textScale.y = self.getScale().x / target.getScale().y\r\n  textScale.z = self.getScale().x / target.getScale().z\r\n\r\n  local details = {\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=nil,\r\n    position=textPosition,\r\n    rotation=textRotation,\r\n    scale=textScale,\r\n    height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  }\r\n\r\n  target.createButton(details)\r\n\r\n  local script_state = target.script_state\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    table.insert(state, details)\r\n    target.script_state = JSON.encode(state)\r\n  else\r\n    target.script_state = JSON.encode({[1]=details})\r\n  end\r\n\r\n  target.script_code = target_script\r\n\r\n  self.destruct()\r\nend\r\n\r\nfunction applyMultiple(player_color, func_string, params, static_only)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if not static_only or obj.call('isStatic') then\r\n        obj.call(func_string, params)\r\n      end\r\n    end\r\n  end\r\nend\r\n\r\nfunction isStatic()\r\n  local input = self.getInputs()\r\n  return not input or #input == 0\r\nend\r\n\r\nfunction getBox(input, force)\r\n  local maxLength, lineCount = EXPAND_INTERVAL, 1\r\n  local lineLength = 0\r\n  for i = 1, #input do\r\n    local c = input:sub(i,i)\r\n    if c == '\\n' then\r\n      lineCount = lineCount + 1\r\n      if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n      lineLength = 0\r\n    else\r\n      lineLength = lineLength + 1\r\n    end\r\n  end\r\n  if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n\r\n  newWidth = data.size * maxLength * 0.9\r\n  newHeight = data.size * lineCount + 23\r\n\r\n  if force or boxWidth ~= newWidth or boxHeight ~= newHeight then\r\n    boxWidth, boxHeight = newWidth, newHeight\r\n    return {width = boxWidth, height = boxHeight}\r\n  end\r\n  return nil\r\nend\r\n\r\ntemp_lift = nil\r\nfunction onPickUp(player_color)\r\n  if data.autolift then\r\n    local player = Player[player_color]\r\n    temp_lift = player.lift_height\r\n    player.lift_height = 0\r\n  end\r\nend\r\n\r\nfunction onDrop(player_color)\r\n  if data.autolift and temp_lift then\r\n    Player[player_color].lift_height = temp_lift\r\n  end\r\nend\r\n\r\n-- Should be called every time data is modified, allows info to be saved on copy/paste\r\nfunction updateState()\r\n  self.script_state = JSON.encode(data)\r\nend\r\n\r\nfunction onSave()\r\n  self.script_state = JSON.encode(data)\r\n  return self.script_state\r\nend",
              "LuaScriptState": "{\"autolift\":false,\"autolock\":false,\"box_transparency\":1,\"color\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1},\"enter_to_finish\":false,\"hover_height\":0.05,\"interactable\":true,\"size\":250,\"text\":\"Oriab\"}",
              "XmlUI": ""
            },
            {
              "GUID": "1c0dc1",
              "Name": "Deck",
              "Transform": {
                "posX": -26.5000057,
                "posY": 1.80537319,
                "posZ": 11.4999838,
                "rotX": -4.88514934E-06,
                "rotY": 179.9918,
                "rotZ": 1.66882018E-07,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Prêtre d'un Millier de Masques",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": false,
              "SidewaysCard": false,
              "DeckIDs": [
                276227,
                276228,
                276226
              ],
              "CustomDeck": {
                "2762": {
                  "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "92a545",
                  "Name": "Card",
                  "Transform": {
                    "posX": -26.5005989,
                    "posY": 5.69458961,
                    "posZ": 11.4999838,
                    "rotX": -4.904948E-06,
                    "rotY": 179.986176,
                    "rotZ": 1.76680533E-06,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Prêtre d'un Millier de Masques",
                  "Description": "",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"health\": 2,\n  \"id\": \"06149\",\n  \"traits\": \"Humanoid. Cultist.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276227,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "f73656",
                  "Name": "Card",
                  "Transform": {
                    "posX": -26.5005989,
                    "posY": 5.89458942,
                    "posZ": 11.4999838,
                    "rotX": -4.904948E-06,
                    "rotY": 179.986176,
                    "rotZ": 1.76680533E-06,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Prêtre d'un Millier de Masques",
                  "Description": "",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"health\": 2,\n  \"id\": \"06149\",\n  \"traits\": \"Humanoid. Cultist.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276228,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "499f2c",
                  "Name": "Card",
                  "Transform": {
                    "posX": -26.5005989,
                    "posY": 1.94665945,
                    "posZ": 11.4999838,
                    "rotX": 0.002072678,
                    "rotY": 179.986176,
                    "rotZ": -0.00189651537,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Prêtre d'un Millier de Masques",
                  "Description": "",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"health\": 2,\n  \"id\": \"06149\",\n  \"traits\": \"Humanoid. Cultist.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276226,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "245b7f",
              "Name": "Custom_Model",
              "Transform": {
                "posX": -34.00001,
                "posY": 1.77100122,
                "posZ": 2.99999046,
                "rotX": 4.51273036E-06,
                "rotY": 0.00209871074,
                "rotZ": 9.40884E-08,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Text Tool",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.0,
                "g": 0.0,
                "b": 0.0,
                "a": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": false,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": false,
              "Tooltip": false,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/1478820768302617365/27883B7913E0E69143C3AA03493B7E7C4E8C29C0/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 1,
                "TypeIndex": 0,
                "CastShadows": true
              },
              "LuaScript": "-- Code for bag to identify text tool objects\r\nmovableTextTool_cowgoesmoo33 = true\r\n\r\n-- Number of characters before the text box width expands.\r\nEXPAND_INTERVAL = 20\r\n\r\n-- This table controls what is passed between save/load\r\ndata = {}\r\n\r\nfunction onLoad(saved_data)\r\n  if saved_data ~= '' then\r\n    data = JSON.decode(saved_data)\r\n    if data.text ~= '' then\r\n      self.interactable = data.interactable\r\n      staticMode()\r\n      return\r\n    end\r\n  else\r\n    data = {size=200, color=Color(0,0,0), text='', interactable=true,\r\n        enter_to_finish=false, autolock=false, autolift=false,\r\n        hover_height=0.05, box_transparency=1}\r\n  end\r\n\r\n  inputMode()\r\nend\r\n\r\n-- True if in the middle of delay after pressing Enter (with enter_to_finish on)\r\nfinishing = false\r\nfunction input_func(obj, color, input, stillEditing)\r\n  local params = getBox(input)\r\n  if params then\r\n    params.value = input\r\n    self.editInput(params)\r\n  end\r\n\r\n  if not stillEditing then\r\n    data.text = input\r\n    updateState()\r\n    if input ~= '' then staticMode(color) end\r\n  elseif data.enter_to_finish then\r\n    -- If enter is pressed: remove last newline and force finish\r\n    if not finishing and input:sub(-1) == '\\n' then\r\n      finishing = true\r\n      -- Delay to avoid user's Enter keypress being detected (opens chat box)\r\n      Wait.frames(function()\r\n        input = input:sub(1, -2)\r\n        data.text = input\r\n        updateState()\r\n        if input ~= '' then staticMode(color) else inputMode() end\r\n        finishing = false\r\n      end, 10)\r\n    end\r\n  end\r\nend\r\n\r\n-- When the inpupt box appears and lets the player type in it.\r\nfunction inputMode()\r\n  self.clearContextMenu()\r\n  self.clearInputs()\r\n  self.clearButtons()\r\n\r\n  local size = getBox(data.text, true)\r\n\r\n  self.createInput({\r\n    input_function = \"input_func\",\r\n    function_owner = self,\r\n    label          = \"Type Here\",\r\n    alignment      = 3,\r\n    position       = {x=0, y=data.hover_height, z=0},\r\n    rotation       = {0, 180, 0},\r\n    width          = size.width,\r\n    height         = size.height,\r\n    color          = getBackground(data.color),\r\n    font_color     = data.color,\r\n    font_size      = data.size,\r\n    value          = data.text,\r\n  })\r\n\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\nend\r\n\r\n-- When the input box disappears and displays the text.\r\nfunction staticMode(player)\r\n  self.clearContextMenu()\r\n  if data.autolock then\r\n    self.locked = true\r\n  end\r\n  if self.getInputs() and #self.getInputs() ~= 0 then\r\n    self.removeInput(0)\r\n  end\r\n\r\n  -- Clear from selecting player\r\n  if player then\r\n    self.removeFromPlayerSelection(player)\r\n  end\r\n\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  self.createButton({\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=self,\r\n    position={0,data.hover_height,0}, rotation={0,180,0}, height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  })\r\n\r\n  self.addContextMenuItem('Edit Text', function(color)\r\n    self.removeFromPlayerSelection(color)\r\n    inputMode()\r\n  end)\r\n  self.addContextMenuItem('Clear', function(color)\r\n    applyMultiple(color, 'clear', _, true)\r\n  end)\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\n  self.addContextMenuItem('Permanently Attach', attemptAttach)\r\n  self.addContextMenuItem('Permalock', function(color)\r\n    applyMultiple(color, 'permalock', _, true)\r\n  end)\r\nend\r\n\r\nfunction changeSize(params)\r\n  local delta = params[1]\r\n  local newSize = data.size + delta\r\n  if newSize > 800  or newSize < 50 then\r\n    return\r\n  end\r\n  data.size = newSize\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_size=data.size})\r\n  else\r\n    local size = getBox(data.text, true)\r\n    self.editInput({width=size.width, height=size.height, font_size=data.size})\r\n  end\r\nend\r\n\r\nfunction setColor(params)\r\n  if params and params[1] then\r\n    data.color = params[1]\r\n  else\r\n    data.color = self.getColorTint():setAt('a', 1) -- Take on color of object tint\r\n  end\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_color=data.color})\r\n  else\r\n    self.editInput({font_color=data.color, color=getBackground(data.color)})\r\n  end\r\nend\r\n\r\nfunction getBackground(color) --determines whether to use black or white depending on luminance\r\n  local r,g,b = Color(color):get()\r\n\r\n  local lum = 0.2126*r + 0.7152*g + 0.0722*b\r\n  if lum > 0.75 then\r\n    return {0.2,0.2,0.2, data.box_transparency}\r\n  else\r\n    return {1,1,1, data.box_transparency}\r\n  end\r\nend\r\n\r\nfunction clear()\r\n  data.text = ''\r\n  updateState()\r\n  inputMode()\r\nend\r\n\r\nfunction permalock()\r\n  self.interactable = false\r\n  data.interactable = false\r\n  updateState()\r\nend\r\n\r\nlocal target_script = [[\r\nfunction onLoad(script_state)\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    for _,entry in ipairs(state) do\r\n      self.createButton(entry)\r\n    end\r\n    self.addContextMenuItem('Clear All Text', function(color)\r\n      self.clearContextMenu()\r\n      self.clearButtons()\r\n      self.script_state = ''\r\n      self.script_code = ''\r\n    end)\r\n  end\r\nend\r\n]]\r\n\r\nfunction attemptAttach(player_color)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  local attachee\r\n  local attachers = {}\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if obj ~= self then\r\n        table.insert(attachers, obj)\r\n      end\r\n    else\r\n      if attachee then\r\n        broadcastToColor(\"More than one target selected.\", player_color)\r\n        return\r\n      else\r\n        attachee = obj\r\n      end\r\n    end\r\n  end\r\n  if attachee then\r\n    local code = attachee.script_code\r\n    if code and code ~= '' and code ~= target_script then\r\n      broadcastToColor(\"Warning: script on card has been overriden. Rewind time to undo.\", player_color)\r\n    end\r\n    for i,attacher in ipairs(attachers) do\r\n      attacher.call('attach', {target = attachee})\r\n    end\r\n    attach({target = attachee})\r\n    local type, flip = attachee.type, attachee.getRotation().z\r\n    if (type == 'Card' or type == 'Deck') and flip > 175 and flip < 185 then\r\n      broadcastToColor(\"Warning: text will not display if card or deck is facing down.\", player_color)\r\n    end\r\n  else\r\n    broadcastToColor(\"You must have a target object in your selection (using click-and-drag or Ctrl+Click) to use this option.\", player_color)\r\n  end\r\nend\r\n\r\nfunction attach(params)\r\n  local target = params.target\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  local textRotation = self.getRotation():sub(target.getRotation())\r\n    :add(Vector(180, 0, 180))\r\n\r\n  local textPosition = target.positionToLocal(\r\n    self.getPosition():add(Vector(0, data.hover_height, 0))\r\n  )\r\n  textPosition.x = -textPosition.x\r\n\r\n  local textScale = {}\r\n  textScale.x = self.getScale().x / target.getScale().x\r\n  textScale.y = self.getScale().x / target.getScale().y\r\n  textScale.z = self.getScale().x / target.getScale().z\r\n\r\n  local details = {\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=nil,\r\n    position=textPosition,\r\n    rotation=textRotation,\r\n    scale=textScale,\r\n    height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  }\r\n\r\n  target.createButton(details)\r\n\r\n  local script_state = target.script_state\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    table.insert(state, details)\r\n    target.script_state = JSON.encode(state)\r\n  else\r\n    target.script_state = JSON.encode({[1]=details})\r\n  end\r\n\r\n  target.script_code = target_script\r\n\r\n  self.destruct()\r\nend\r\n\r\nfunction applyMultiple(player_color, func_string, params, static_only)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if not static_only or obj.call('isStatic') then\r\n        obj.call(func_string, params)\r\n      end\r\n    end\r\n  end\r\nend\r\n\r\nfunction isStatic()\r\n  local input = self.getInputs()\r\n  return not input or #input == 0\r\nend\r\n\r\nfunction getBox(input, force)\r\n  local maxLength, lineCount = EXPAND_INTERVAL, 1\r\n  local lineLength = 0\r\n  for i = 1, #input do\r\n    local c = input:sub(i,i)\r\n    if c == '\\n' then\r\n      lineCount = lineCount + 1\r\n      if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n      lineLength = 0\r\n    else\r\n      lineLength = lineLength + 1\r\n    end\r\n  end\r\n  if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n\r\n  newWidth = data.size * maxLength * 0.9\r\n  newHeight = data.size * lineCount + 23\r\n\r\n  if force or boxWidth ~= newWidth or boxHeight ~= newHeight then\r\n    boxWidth, boxHeight = newWidth, newHeight\r\n    return {width = boxWidth, height = boxHeight}\r\n  end\r\n  return nil\r\nend\r\n\r\ntemp_lift = nil\r\nfunction onPickUp(player_color)\r\n  if data.autolift then\r\n    local player = Player[player_color]\r\n    temp_lift = player.lift_height\r\n    player.lift_height = 0\r\n  end\r\nend\r\n\r\nfunction onDrop(player_color)\r\n  if data.autolift and temp_lift then\r\n    Player[player_color].lift_height = temp_lift\r\n  end\r\nend\r\n\r\n-- Should be called every time data is modified, allows info to be saved on copy/paste\r\nfunction updateState()\r\n  self.script_state = JSON.encode(data)\r\nend\r\n\r\nfunction onSave()\r\n  self.script_state = JSON.encode(data)\r\n  return self.script_state\r\nend",
              "LuaScriptState": "{\"autolift\":false,\"autolock\":false,\"box_transparency\":1,\"color\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1},\"enter_to_finish\":false,\"hover_height\":0.05,\"interactable\":true,\"size\":250,\"text\":\"Royaume \\nde la Skai\"}",
              "XmlUI": ""
            },
            {
              "GUID": "27d185",
              "Name": "Card",
              "Transform": {
                "posX": 23.5013,
                "posY": 1.51380479,
                "posZ": -5.52289963,
                "rotX": 0.0108922757,
                "rotY": 179.991135,
                "rotZ": 0.004946504,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Référence",
              "Description": "À la Recherche de Kadath",
              "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"id\": \"06119\",\n  \"type\": \"ScenarioReference\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276401,
              "SidewaysCard": false,
              "CustomDeck": {
                "2764": {
                  "FaceURL": "https://i.imgur.com/lxSjMsf.jpg",
                  "BackURL": "https://i.imgur.com/IhTn2aA.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "282aff",
              "Name": "Custom_Model_Bag",
              "Transform": {
                "posX": -23.5000076,
                "posY": 1.84000087,
                "posZ": 5.99999332,
                "rotX": -5.17349463E-06,
                "rotY": 179.9853,
                "rotZ": 4.59326344E-07,
                "scaleX": 0.7,
                "scaleY": 0.7,
                "scaleZ": 0.7
              },
              "Nickname": "Mise en place pour le Royaume Intemporel",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "CustomMesh": {
                "MeshURL": "https://pastebin.com/raw/ALrYhQGb",
                "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/1985555189151509268/020353C2D28152718B1FA9AF1DF30ABA507D07DD/",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 6,
                "CustomShader": {
                  "SpecularColor": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "SpecularIntensity": 0.0,
                  "SpecularSharpness": 2.0,
                  "FresnelStrength": 0.0
                },
                "CastShadows": true
              },
              "Bag": {
                "Order": 0
              },
              "LuaScript": "-- Utility memory bag by Directsun\r\n-- Version 2.7.0\r\n-- Fork of Memory Bag 2.0 by MrStump\r\n--\r\n-- Want to contribute? Create an issue or fork the code on GitHub and submit a pull request:\r\n-- https://github.com/sunflowermans/TTS-UtilityMemoryBag\r\n\r\n\r\nfunction updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction combineMemoryFromBagsWithin()\r\n    local bagObjList = self.getObjects()\r\n    for _, bagObj in ipairs(bagObjList) do\r\n        local data = bagObj.lua_script_state\r\n        if data ~= nil then\r\n            local j = JSON.decode(data)\r\n            if j ~= nil and j.ml ~= nil then\r\n                for guid, entry in pairs(j.ml) do\r\n                    memoryList[guid] = entry\r\n                end\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateMemoryWithMoves()\r\n    memoryList = memoryListBackup\r\n    --get the first transposed object's coordinates\r\n    local obj = getObjectFromGUID(moveGuid)\r\n\r\n    -- p1 is where needs to go, p2 is where it was\r\n    local refObjPos = memoryList[moveGuid].pos\r\n    local deltaPos = findOffsetDistance(obj.getPosition(), refObjPos, nil)\r\n    local movedRotation = obj.getRotation()\r\n    for guid, entry in pairs(memoryList) do\r\n        memoryList[guid].pos.x = entry.pos.x - deltaPos.x\r\n        memoryList[guid].pos.y = entry.pos.y - deltaPos.y\r\n        memoryList[guid].pos.z = entry.pos.z - deltaPos.z\r\n        -- memoryList[guid].rot.x = movedRotation.x\r\n        -- memoryList[guid].rot.y = movedRotation.y\r\n        -- memoryList[guid].rot.z = movedRotation.z\r\n    end\r\n\r\n    --theList[obj.getGUID()] = {\r\n    --    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n    --    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n    --    lock=obj.getLock()\r\n    --}\r\n    moveList = {}\r\nend\r\n\r\nfunction onload(saved_data)\r\n\r\n    fresh = true\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n\r\n    end\r\n\r\n    moveList = {}\r\n    moveGuid = nil\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        fresh = false\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,2}, rotation={0,0,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by Transpose button\r\nfunction buttonClick_transpose()\r\n    moveGuid = nil\r\n    broadcastToAll(\"Select one object and move it- all objects will move relative to the new location\", {0.75, 0.75, 1})\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(true)\r\n    createSetupActionButtons(true)\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(false)\r\n    createSetupActionButtons(false)\r\nend\r\n\r\nfunction getAllObjectsInMemory()\r\n    local objTable = {}\r\n    local curObj = {}\r\n\r\n    for guid in pairs(memoryListBackup) do\r\n        curObj = getObjectFromGUID(guid)\r\n        table.insert(objTable, curObj)\r\n    end\r\n\r\n    return objTable\r\n    -- return getAllObjects()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects(move)\r\n    buttonIndexMap = {}\r\n    local howManyButtons = 0\r\n\r\n    local objsToHaveButtons = {}\r\n    if move == true then\r\n        objsToHaveButtons = getAllObjectsInMemory()\r\n    else\r\n        objsToHaveButtons = getAllObjects()\r\n    end\r\n\r\n    for _, obj in ipairs(objsToHaveButtons) do\r\n        if obj ~= self then\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor +2\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Workaround for custom PDFs\r\n            if obj.Book then\r\n                objPos.y = objPos.y + 0.5\r\n            end\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(obj, move) end\r\n            local color = {0.75,0.25,0.25,0.6}\r\n            local colorMove = {0,0,1,0.6}\r\n            if move == true then\r\n                color = colorMove\r\n            end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color=color,\r\n            })\r\n            buttonIndexMap[obj.getGUID()] = howManyButtons\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons(move)\r\n    self.createButton({\r\n       label=\"Annuler\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n       position={-1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n       font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    self.createButton({\r\n      label=\"Valider\", click_function=\"buttonClick_submit\", function_owner=self,\r\n      position={-1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n      font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    if move == false then\r\n      self.createButton({\r\n          label=\"Ajouter\", click_function=\"buttonClick_add\", function_owner=self,\r\n          position={1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n          font_size=250, color={0,0,0}, font_color={0.25,1,0.25}\r\n        })\r\n\r\n        self.createButton({\r\n            label=\"Sélection\", click_function=\"editDragSelection\", function_owner=self,\r\n            position={-1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n            font_size=250, color={0,0,0}, font_color={1,1,1}\r\n        })\r\n\r\n        if fresh == false then\r\n            self.createButton({\r\n                label=\"Mise à Jour\", click_function=\"buttonClick_setNew\", function_owner=self,\r\n                position={1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n                font_size=180, color={0,0,0}, font_color={0.75,0.75,1}\r\n            })\r\n            self.createButton({\r\n                label=\"Retirer\", click_function=\"buttonClick_remove\", function_owner=self,\r\n                position={1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n                font_size=250, color={0,0,0}, font_color={1,0.25,0.25}\r\n            })\r\n        end\r\n    end\r\n\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,0,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(obj, move)\r\n    local index = buttonIndexMap[obj.getGUID()]\r\n    local colorMove = {0,0,1,0.6}\r\n    local color = {0,1,0,0.6}\r\n\r\n    previousGuid = selectedGuid\r\n    selectedGuid = obj.getGUID()\r\n\r\n    theList = memoryList\r\n    if move == true then\r\n        theList = moveList\r\n        if previousGuid ~= nil and previousGuid ~= selectedGuid then\r\n            local prevObj = getObjectFromGUID(previousGuid)\r\n            prevObj.highlightOff()\r\n            self.editButton({index=previousIndex, color=colorMove})\r\n            theList[previousGuid] = nil\r\n        end\r\n        previousIndex = index\r\n    end\r\n\r\n    if theList[selectedGuid] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        theList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock(),\r\n            tint=obj.getColorTint()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        if move == true then\r\n            color = colorMove\r\n        end\r\n        self.editButton({index=index, color=color})\r\n        theList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\nfunction editDragSelection(bagObj, player, remove)\r\n    local selectedObjs = Player[player].getSelectedObjects()\r\n    if not remove then\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            --Ignore if already in the memory list, or does not have a button\r\n            if index and not memoryList[obj.getGUID()] then\r\n                self.editButton({index=index, color={0,1,0,0.6}})\r\n                --Adding pos/rot to memory table\r\n                local pos, rot = obj.getPosition(), obj.getRotation()\r\n                --I need to add it like this or it won't save due to indexing issue\r\n                memoryList[obj.getGUID()] = {\r\n                    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n                    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n                    lock=obj.getLock(),\r\n                    tint=obj.getColorTint()\r\n                }\r\n                obj.highlightOn({0,1,0})\r\n            end\r\n        end\r\n    else\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            if index and memoryList[obj.getGUID()] then\r\n                color = {0.75,0.25,0.25,0.6}\r\n                self.editButton({index=index, color=color})\r\n                memoryList[obj.getGUID()] = nil\r\n                obj.highlightOff()\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Sélection annulée\", {1,1,1})\r\n    moveGuid = nil\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    fresh = false\r\n    if next(moveList) ~= nil then\r\n        for guid in pairs(moveList) do\r\n            moveGuid = guid\r\n        end\r\n        if memoryListBackup[moveGuid] == nil then\r\n            broadcastToAll(\"Item selected for moving is not already in memory\", {1, 0.25, 0.25})\r\n        else\r\n            broadcastToAll(\"Moving all items in memory relative to new objects position!\", {0.75, 0.75, 1})\r\n            self.clearButtons()\r\n            self.clearInputs()\r\n            createMemoryActionButtons()\r\n            local count = 0\r\n            for guid in pairs(moveList) do\r\n                moveGuid = guid\r\n                count = count + 1\r\n                local obj = getObjectFromGUID(guid)\r\n                if obj ~= nil then obj.highlightOff() end\r\n            end\r\n            updateMemoryWithMoves()\r\n            updateSave()\r\n            buttonClick_place()\r\n        end\r\n    elseif next(memoryList) == nil and moveGuid == nil then\r\n        memoryList = memoryListBackup\r\n        broadcastToAll(\"No selections made.\", {0.75, 0.25, 0.25})\r\n    end\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\n    moveGuid = nil\r\nend\r\n\r\nfunction combineTables(first_table, second_table)\r\n    for k,v in pairs(second_table) do first_table[k] = v end\r\nend\r\n\r\nfunction buttonClick_add()\r\n    fresh = false\r\n    combineTables(memoryList, memoryListBackup)\r\n    broadcastToAll(\"Adding internal bags and selections to existing memory\", {0.25, 0.75, 0.25})\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_remove()\r\n    broadcastToAll(\"Removing Selected Entries From Memory\", {1.0, 0.25, 0.25})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        memoryListBackup[guid] = nil\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Removed\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_setNew()\r\n    broadcastToAll(\"Setting new position relative to items in memory\", {0.75, 0.75, 1})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        guid = obj.guid\r\n        if memoryListBackup[guid] ~= nil then\r\n            count = count + 1\r\n            memoryListBackup[guid].pos = obj.getPosition()\r\n            memoryListBackup[guid].rot = obj.getRotation()\r\n            memoryListBackup[guid].lock = obj.getLock()\r\n            memoryListBackup[guid].tint = obj.getColorTint()\r\n        end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    fresh = true\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Placer\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,2}, rotation={0,0,0}, height=350, width=1000,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Ranger\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,2.8}, rotation={0,0,0}, height=350, width=1000,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={2,0.3,0}, rotation={0,90,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    ---    self.createButton({\r\n    ---      label=\"Bouger\", click_function=\"buttonClick_transpose\", function_owner=self,\r\n    ---      position={-2,0.3,0.8}, rotation={0,270,0}, height=350, width=800,\r\n    ---      font_size=250, color={0,0,0}, font_color={0.75,0.75,1}\r\n    ---  \r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n            obj.setColorTint(entry.tint)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot, smooth=false\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    item.setColorTint(entry.tint)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objets placés\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objets rangés\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local yOffset = 0\r\n    if obj ~= nil then\r\n        local bounds = obj.getBounds()\r\n        yOffset = (bounds.size.y - bounds.offset.y)\r\n    end\r\n    local deltaPos = {}\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + yOffset\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n    local objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n    local x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n    local z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n    --return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\nfunction rotateMyCoordinates(desiredPos, obj)\r\n    local angle = math.rad(obj.getRotation().y)\r\n    local x = desiredPos.x * math.sin(angle)\r\n    local z = desiredPos.z * math.cos(angle)\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n    local mult = 10^(dec or 0)\r\n    return math.floor(num * mult + 0.5) / mult\r\nend\r\n\r\n\r\n--[[\r\nThis object provides access to a variable stored on the \"Global script\".\r\nThe variable holds the GUIDs for every Utility Memory Bag in the scene.\r\nExample:\r\n{'805ebd', '35cc21', 'fc8886', 'f50264', '5f5f63'}\r\n--]]\r\nAllMemoryBagsInScene = {\r\n    NAME_OF_GLOBAL_VARIABLE = \"_UtilityMemoryBag_AllMemoryBagsInScene\"\r\n}\r\n\r\nfunction AllMemoryBagsInScene:add(guid)\r\n    local guids = Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\n    table.insert(guids, guid)\r\n    Global.setTable(self.NAME_OF_GLOBAL_VARIABLE, guids)\r\nend\r\n\r\nfunction AllMemoryBagsInScene:getGuidList()\r\n    return Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\nend",
              "LuaScriptState": "{\"ml\":{\"0b8056\":{\"lock\":false,\"pos\":{\"x\":-1.00010621547699,\"y\":1.51722168922424,\"z\":1.49999189376831},\"rot\":{\"x\":0.0114438589662313,\"y\":180.007415771484,\"z\":0.00231111398898065},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"210c10\":{\"lock\":false,\"pos\":{\"x\":-6.50001287460327,\"y\":1.51907324790955,\"z\":8.50000095367432},\"rot\":{\"x\":0.0111447498202324,\"y\":180.008163452148,\"z\":0.00521878339350224},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"3de789\":{\"lock\":false,\"pos\":{\"x\":-6.508,\"y\":1.5825,\"z\":8.4835},\"rot\":{\"x\":0.0107,\"y\":179.9941,\"z\":0.0122},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"46e947\":{\"lock\":false,\"pos\":{\"x\":-0.851087272167206,\"y\":1.50751483440399,\"z\":12.6880111694336},\"rot\":{\"x\":359.989105224609,\"y\":-8.96177662070841E-05,\"z\":-0.00494824629276991},\"tint\":{\"a\":0,\"b\":0.555448532104492,\"g\":0.677700459957123,\"r\":0}},\"4b2442\":{\"lock\":false,\"pos\":{\"x\":-26,\"y\":1.77891623973846,\"z\":16.0000019073486},\"rot\":{\"x\":0.000269197364104912,\"y\":180.000259399414,\"z\":0.00020070634491276},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"4df2ac\":{\"lock\":false,\"pos\":{\"x\":-26,\"y\":1.82,\"z\":16},\"rot\":{\"x\":0,\"y\":179.9941,\"z\":0},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"5513d0\":{\"lock\":false,\"pos\":{\"x\":18.5,\"y\":1.50329768657684,\"z\":8.5},\"rot\":{\"x\":0.00494635663926601,\"y\":89.9925003051758,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"6eed99\":{\"lock\":false,\"pos\":{\"x\":4.5,\"y\":1.5545,\"z\":8.5},\"rot\":{\"x\":0.0109,\"y\":179.9942,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"81c641\":{\"lock\":false,\"pos\":{\"x\":-23,\"y\":1.82,\"z\":16},\"rot\":{\"x\":0,\"y\":179.9939,\"z\":0},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"99eeff\":{\"lock\":false,\"pos\":{\"x\":9.99979972839355,\"y\":1.50403010845184,\"z\":8.49100017547607},\"rot\":{\"x\":0.00495974766090512,\"y\":90.0636749267578,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"a07d8f\":{\"lock\":false,\"pos\":{\"x\":-1,\"y\":1.5537,\"z\":1.5},\"rot\":{\"x\":0.0109,\"y\":179.994,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"aadc9d\":{\"lock\":false,\"pos\":{\"x\":-22.9999008178711,\"y\":1.77891337871552,\"z\":16.000114440918},\"rot\":{\"x\":0.000266597024165094,\"y\":180.008529663086,\"z\":5.19494169566315E-05},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"b07782\":{\"lock\":false,\"pos\":{\"x\":-4,\"y\":1.50457561016083,\"z\":4.99999952316284},\"rot\":{\"x\":0.011200862005353,\"y\":135,\"z\":-0.00420438731089234},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"d4f4a8\":{\"lock\":false,\"pos\":{\"x\":6.49999856948853,\"y\":1.5167031288147,\"z\":2.00000309944153},\"rot\":{\"x\":0.0108922990038991,\"y\":179.991027832031,\"z\":0.00494676735252142},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"e6ee6b\":{\"lock\":false,\"pos\":{\"x\":6.41620016098022,\"y\":1.50439286231995,\"z\":-0.43369996547699},\"rot\":{\"x\":359.989105224609,\"y\":0.0114962086081505,\"z\":-0.00495040509849787},\"tint\":{\"a\":0,\"b\":0.555448532104492,\"g\":0.677700459957123,\"r\":0}},\"f9b57a\":{\"lock\":false,\"pos\":{\"x\":2,\"y\":1.50405728816986,\"z\":4.99999952316284},\"rot\":{\"x\":0.00420321337878704,\"y\":224.999969482422,\"z\":0.0112067377194762},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"fabf0a\":{\"lock\":false,\"pos\":{\"x\":4.49999094009399,\"y\":1.51812100410461,\"z\":8.49990844726563},\"rot\":{\"x\":0.0111657194793224,\"y\":180.000274658203,\"z\":0.00506524462252855},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"fb44a9\":{\"lock\":false,\"pos\":{\"x\":17.5009994506836,\"y\":1.5142285823822,\"z\":-6.01959991455078},\"rot\":{\"x\":0.00495194457471371,\"y\":90.0202026367188,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}}}}",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "0b8056",
                  "Name": "Card",
                  "Transform": {
                    "posX": -1.00010622,
                    "posY": 1.51723921,
                    "posZ": 1.49999,
                    "rotX": 0.0110618547,
                    "rotY": 180.007431,
                    "rotZ": 0.00380478613,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Céléphaïs",
                  "Description": "Ooth-Nargai. Ville. Port.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06139\",\n  \"locationFront\": {\n    \"connections\": \"Crescent|Plus\",\n    \"icons\": \"Hourglass\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    },\n    \"victory\": 1\n  },\n  \"traits\": \"Ooth-Nargai. City. Port.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276414,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2764": {
                      "FaceURL": "https://i.imgur.com/lxSjMsf.jpg",
                      "BackURL": "https://i.imgur.com/IhTn2aA.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "210c10",
                  "Name": "Card",
                  "Transform": {
                    "posX": -6.49997044,
                    "posY": 1.5448333,
                    "posZ": 8.499961,
                    "rotX": 0.0595597252,
                    "rotY": 180.00824,
                    "rotZ": 0.0498625636,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Serannian",
                  "Description": "Ooth-Nargai. Ville. Port.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06140\",\n  \"locationFront\": {\n    \"connections\": \"Hourglass\",\n    \"icons\": \"Crescent\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    },\n    \"victory\": 1\n  },\n  \"traits\": \"Ooth-Nargai. City. Port.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276415,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2764": {
                      "FaceURL": "https://i.imgur.com/lxSjMsf.jpg",
                      "BackURL": "https://i.imgur.com/IhTn2aA.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "46e947",
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -0.8510872,
                    "posY": 1.50751483,
                    "posZ": 12.6880112,
                    "rotX": 359.9891,
                    "rotY": -8.768928E-05,
                    "rotZ": -0.004948104,
                    "scaleX": 1.74999952,
                    "scaleY": 1.74999952,
                    "scaleZ": 1.74999952
                  },
                  "Nickname": "Royaume Intemporel",
                  "Description": "Mise en place du Royaume Intemporel",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.0,
                    "g": 0.67770046,
                    "b": 0.555448532,
                    "a": 0.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": false,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": false,
                  "Tooltip": false,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/1478820768302617365/27883B7913E0E69143C3AA03493B7E7C4E8C29C0/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "",
                    "Convex": true,
                    "MaterialIndex": 1,
                    "TypeIndex": 0,
                    "CastShadows": true
                  },
                  "LuaScript": "-- Code for bag to identify text tool objects\r\nmovableTextTool_cowgoesmoo33 = true\r\n\r\n-- Number of characters before the text box width expands.\r\nEXPAND_INTERVAL = 20\r\n\r\n-- This table controls what is passed between save/load\r\ndata = {}\r\n\r\nfunction onLoad(saved_data)\r\n  if saved_data ~= '' then\r\n    data = JSON.decode(saved_data)\r\n    if data.text ~= '' then\r\n      self.interactable = data.interactable\r\n      staticMode()\r\n      return\r\n    end\r\n  else\r\n    data = {size=200, color=Color(0,0,0), text='', interactable=true,\r\n        enter_to_finish=false, autolock=false, autolift=false,\r\n        hover_height=0.05, box_transparency=1}\r\n  end\r\n\r\n  inputMode()\r\nend\r\n\r\n-- True if in the middle of delay after pressing Enter (with enter_to_finish on)\r\nfinishing = false\r\nfunction input_func(obj, color, input, stillEditing)\r\n  local params = getBox(input)\r\n  if params then\r\n    params.value = input\r\n    self.editInput(params)\r\n  end\r\n\r\n  if not stillEditing then\r\n    data.text = input\r\n    updateState()\r\n    if input ~= '' then staticMode(color) end\r\n  elseif data.enter_to_finish then\r\n    -- If enter is pressed: remove last newline and force finish\r\n    if not finishing and input:sub(-1) == '\\n' then\r\n      finishing = true\r\n      -- Delay to avoid user's Enter keypress being detected (opens chat box)\r\n      Wait.frames(function()\r\n        input = input:sub(1, -2)\r\n        data.text = input\r\n        updateState()\r\n        if input ~= '' then staticMode(color) else inputMode() end\r\n        finishing = false\r\n      end, 10)\r\n    end\r\n  end\r\nend\r\n\r\n-- When the inpupt box appears and lets the player type in it.\r\nfunction inputMode()\r\n  self.clearContextMenu()\r\n  self.clearInputs()\r\n  self.clearButtons()\r\n\r\n  local size = getBox(data.text, true)\r\n\r\n  self.createInput({\r\n    input_function = \"input_func\",\r\n    function_owner = self,\r\n    label          = \"Type Here\",\r\n    alignment      = 3,\r\n    position       = {x=0, y=data.hover_height, z=0},\r\n    rotation       = {0, 180, 0},\r\n    width          = size.width,\r\n    height         = size.height,\r\n    color          = getBackground(data.color),\r\n    font_color     = data.color,\r\n    font_size      = data.size,\r\n    value          = data.text,\r\n  })\r\n\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\nend\r\n\r\n-- When the input box disappears and displays the text.\r\nfunction staticMode(player)\r\n  self.clearContextMenu()\r\n  if data.autolock then\r\n    self.locked = true\r\n  end\r\n  if self.getInputs() and #self.getInputs() ~= 0 then\r\n    self.removeInput(0)\r\n  end\r\n\r\n  -- Clear from selecting player\r\n  if player then\r\n    self.removeFromPlayerSelection(player)\r\n  end\r\n\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  self.createButton({\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=self,\r\n    position={0,data.hover_height,0}, rotation={0,180,0}, height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  })\r\n\r\n  self.addContextMenuItem('Edit Text', function(color)\r\n    self.removeFromPlayerSelection(color)\r\n    inputMode()\r\n  end)\r\n  self.addContextMenuItem('Clear', function(color)\r\n    applyMultiple(color, 'clear', _, true)\r\n  end)\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\n  self.addContextMenuItem('Permanently Attach', attemptAttach)\r\n  self.addContextMenuItem('Permalock', function(color)\r\n    applyMultiple(color, 'permalock', _, true)\r\n  end)\r\nend\r\n\r\nfunction changeSize(params)\r\n  local delta = params[1]\r\n  local newSize = data.size + delta\r\n  if newSize > 800  or newSize < 50 then\r\n    return\r\n  end\r\n  data.size = newSize\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_size=data.size})\r\n  else\r\n    local size = getBox(data.text, true)\r\n    self.editInput({width=size.width, height=size.height, font_size=data.size})\r\n  end\r\nend\r\n\r\nfunction setColor(params)\r\n  if params and params[1] then\r\n    data.color = params[1]\r\n  else\r\n    data.color = self.getColorTint():setAt('a', 1) -- Take on color of object tint\r\n  end\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_color=data.color})\r\n  else\r\n    self.editInput({font_color=data.color, color=getBackground(data.color)})\r\n  end\r\nend\r\n\r\nfunction getBackground(color) --determines whether to use black or white depending on luminance\r\n  local r,g,b = Color(color):get()\r\n\r\n  local lum = 0.2126*r + 0.7152*g + 0.0722*b\r\n  if lum > 0.75 then\r\n    return {0.2,0.2,0.2, data.box_transparency}\r\n  else\r\n    return {1,1,1, data.box_transparency}\r\n  end\r\nend\r\n\r\nfunction clear()\r\n  data.text = ''\r\n  updateState()\r\n  inputMode()\r\nend\r\n\r\nfunction permalock()\r\n  self.interactable = false\r\n  data.interactable = false\r\n  updateState()\r\nend\r\n\r\nlocal target_script = [[\r\nfunction onLoad(script_state)\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    for _,entry in ipairs(state) do\r\n      self.createButton(entry)\r\n    end\r\n    self.addContextMenuItem('Clear All Text', function(color)\r\n      self.clearContextMenu()\r\n      self.clearButtons()\r\n      self.script_state = ''\r\n      self.script_code = ''\r\n    end)\r\n  end\r\nend\r\n]]\r\n\r\nfunction attemptAttach(player_color)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  local attachee\r\n  local attachers = {}\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if obj ~= self then\r\n        table.insert(attachers, obj)\r\n      end\r\n    else\r\n      if attachee then\r\n        broadcastToColor(\"More than one target selected.\", player_color)\r\n        return\r\n      else\r\n        attachee = obj\r\n      end\r\n    end\r\n  end\r\n  if attachee then\r\n    local code = attachee.script_code\r\n    if code and code ~= '' and code ~= target_script then\r\n      broadcastToColor(\"Warning: script on card has been overriden. Rewind time to undo.\", player_color)\r\n    end\r\n    for i,attacher in ipairs(attachers) do\r\n      attacher.call('attach', {target = attachee})\r\n    end\r\n    attach({target = attachee})\r\n    local type, flip = attachee.type, attachee.getRotation().z\r\n    if (type == 'Card' or type == 'Deck') and flip > 175 and flip < 185 then\r\n      broadcastToColor(\"Warning: text will not display if card or deck is facing down.\", player_color)\r\n    end\r\n  else\r\n    broadcastToColor(\"You must have a target object in your selection (using click-and-drag or Ctrl+Click) to use this option.\", player_color)\r\n  end\r\nend\r\n\r\nfunction attach(params)\r\n  local target = params.target\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  local textRotation = self.getRotation():sub(target.getRotation())\r\n    :add(Vector(180, 0, 180))\r\n\r\n  local textPosition = target.positionToLocal(\r\n    self.getPosition():add(Vector(0, data.hover_height, 0))\r\n  )\r\n  textPosition.x = -textPosition.x\r\n\r\n  local textScale = {}\r\n  textScale.x = self.getScale().x / target.getScale().x\r\n  textScale.y = self.getScale().x / target.getScale().y\r\n  textScale.z = self.getScale().x / target.getScale().z\r\n\r\n  local details = {\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=nil,\r\n    position=textPosition,\r\n    rotation=textRotation,\r\n    scale=textScale,\r\n    height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  }\r\n\r\n  target.createButton(details)\r\n\r\n  local script_state = target.script_state\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    table.insert(state, details)\r\n    target.script_state = JSON.encode(state)\r\n  else\r\n    target.script_state = JSON.encode({[1]=details})\r\n  end\r\n\r\n  target.script_code = target_script\r\n\r\n  self.destruct()\r\nend\r\n\r\nfunction applyMultiple(player_color, func_string, params, static_only)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if not static_only or obj.call('isStatic') then\r\n        obj.call(func_string, params)\r\n      end\r\n    end\r\n  end\r\nend\r\n\r\nfunction isStatic()\r\n  local input = self.getInputs()\r\n  return not input or #input == 0\r\nend\r\n\r\nfunction getBox(input, force)\r\n  local maxLength, lineCount = EXPAND_INTERVAL, 1\r\n  local lineLength = 0\r\n  for i = 1, #input do\r\n    local c = input:sub(i,i)\r\n    if c == '\\n' then\r\n      lineCount = lineCount + 1\r\n      if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n      lineLength = 0\r\n    else\r\n      lineLength = lineLength + 1\r\n    end\r\n  end\r\n  if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n\r\n  newWidth = data.size * maxLength * 0.9\r\n  newHeight = data.size * lineCount + 23\r\n\r\n  if force or boxWidth ~= newWidth or boxHeight ~= newHeight then\r\n    boxWidth, boxHeight = newWidth, newHeight\r\n    return {width = boxWidth, height = boxHeight}\r\n  end\r\n  return nil\r\nend\r\n\r\ntemp_lift = nil\r\nfunction onPickUp(player_color)\r\n  if data.autolift then\r\n    local player = Player[player_color]\r\n    temp_lift = player.lift_height\r\n    player.lift_height = 0\r\n  end\r\nend\r\n\r\nfunction onDrop(player_color)\r\n  if data.autolift and temp_lift then\r\n    Player[player_color].lift_height = temp_lift\r\n  end\r\nend\r\n\r\n-- Should be called every time data is modified, allows info to be saved on copy/paste\r\nfunction updateState()\r\n  self.script_state = JSON.encode(data)\r\nend\r\n\r\nfunction onSave()\r\n  self.script_state = JSON.encode(data)\r\n  return self.script_state\r\nend",
                  "LuaScriptState": "{\"autolift\":false,\"autolock\":false,\"box_transparency\":1,\"color\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1},\"enter_to_finish\":false,\"hover_height\":0.05,\"interactable\":true,\"size\":250,\"text\":\"Royaume Intemporel\"}",
                  "XmlUI": ""
                },
                {
                  "GUID": "4b2442",
                  "Name": "Card",
                  "Transform": {
                    "posX": -26.0,
                    "posY": 1.78359389,
                    "posZ": 16.0000038,
                    "rotX": 0.00010789957,
                    "rotY": 180.000244,
                    "rotZ": -0.0007609612,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Temple des Désirs Inaccessibles",
                  "Description": "Ooth-Nargai. Temple.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06142\",\n  \"locationFront\": {\n    \"connections\": \"Plus|Star\",\n    \"icons\": \"Tee\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    },\n    \"victory\": 1\n  },\n  \"traits\": \"Ooth-Nargai. Temple.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276417,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2764": {
                      "FaceURL": "https://i.imgur.com/lxSjMsf.jpg",
                      "BackURL": "https://i.imgur.com/IhTn2aA.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "5513d0",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": 18.5000019,
                    "posY": 1.50329769,
                    "posZ": 8.5,
                    "rotX": 0.00494648842,
                    "rotY": 89.9926,
                    "rotZ": 359.9891,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/vppt2my.png",
                    "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "States": {
                    "2": {
                      "GUID": "44b0c5",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -39.7933121,
                        "posY": 1.63758957,
                        "posZ": 2.038383,
                        "rotX": 359.9201,
                        "rotY": 269.9961,
                        "rotZ": 0.0168742146,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    "3": {
                      "GUID": "5b38c6",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -38.8217163,
                        "posY": 1.99356019,
                        "posZ": 0.4159239,
                        "rotX": 359.9201,
                        "rotY": 272.9828,
                        "rotZ": 0.01687373,
                        "scaleX": 0.8,
                        "scaleY": 1.0,
                        "scaleZ": 0.8
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  }
                },
                {
                  "GUID": "99eeff",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": 9.9998,
                    "posY": 1.50403011,
                    "posZ": 8.491,
                    "rotX": 0.00495977141,
                    "rotY": 90.06362,
                    "rotZ": 359.9891,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/vppt2my.png",
                    "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "States": {
                    "2": {
                      "GUID": "44b0c5",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -39.7933121,
                        "posY": 1.63758957,
                        "posZ": 2.038383,
                        "rotX": 359.9201,
                        "rotY": 269.9961,
                        "rotZ": 0.0168742146,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    "3": {
                      "GUID": "5b38c6",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -38.8217163,
                        "posY": 1.99356019,
                        "posZ": 0.4159239,
                        "rotX": 359.9201,
                        "rotY": 272.9828,
                        "rotZ": 0.01687373,
                        "scaleX": 0.8,
                        "scaleY": 1.0,
                        "scaleZ": 0.8
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  }
                },
                {
                  "GUID": "aadc9d",
                  "Name": "Card",
                  "Transform": {
                    "posX": -22.9998989,
                    "posY": 1.78359079,
                    "posZ": 16.0001183,
                    "rotX": 0.000141378478,
                    "rotY": 180.008575,
                    "rotZ": -0.0009830375,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "La-Cité-Qui-N'Apparaît-Sur-Aucune-Carte",
                  "Description": "Ville. Autre Monde.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06143\",\n  \"locationFront\": {\n    \"connections\": \"Tee\",\n    \"icons\": \"Star\",\n    \"uses\": {\n      \"countPerInvestigator\": 2,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    },\n    \"victory\": 2\n  },\n  \"traits\": \"City. Otherworld.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276418,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2764": {
                      "FaceURL": "https://i.imgur.com/lxSjMsf.jpg",
                      "BackURL": "https://i.imgur.com/IhTn2aA.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "b07782",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -4.0,
                    "posY": 1.50457549,
                    "posZ": 4.999999,
                    "rotX": 0.011200821,
                    "rotY": 135.0,
                    "rotZ": -0.004204358,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/vppt2my.png",
                    "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "States": {
                    "2": {
                      "GUID": "44b0c5",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -39.7933121,
                        "posY": 1.63758957,
                        "posZ": 2.038383,
                        "rotX": 359.9201,
                        "rotY": 269.9961,
                        "rotZ": 0.0168742146,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    "3": {
                      "GUID": "5b38c6",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -38.8217163,
                        "posY": 1.99356019,
                        "posZ": 0.4159239,
                        "rotX": 359.9201,
                        "rotY": 272.9828,
                        "rotZ": 0.01687373,
                        "scaleX": 0.8,
                        "scaleY": 1.0,
                        "scaleZ": 0.8
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  }
                },
                {
                  "GUID": "d4f4a8",
                  "Name": "Card",
                  "Transform": {
                    "posX": 6.49999857,
                    "posY": 1.51670313,
                    "posZ": 2.000003,
                    "rotX": 0.010892258,
                    "rotY": 179.991028,
                    "rotZ": 0.004946516,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "La Brume Rampante",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 5,\n  \"id\": \"06086\",\n  \"traits\": \"Monster. Avatar.\",\n  \"type\": \"Enemy\",\n  \"victory\": 1\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 304552,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "3045": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "e6ee6b",
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": 6.4162,
                    "posY": 1.50439286,
                    "posZ": -0.433699965,
                    "rotX": 359.9891,
                    "rotY": 0.0115033612,
                    "rotZ": -0.00495029,
                    "scaleX": 1.74999952,
                    "scaleY": 1.74999952,
                    "scaleZ": 1.74999952
                  },
                  "Nickname": "Carte ennemi",
                  "Description": "À mélanger dans le deck rencontre",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.0,
                    "g": 0.67770046,
                    "b": 0.555448532,
                    "a": 0.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": false,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": false,
                  "Tooltip": false,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/1478820768302617365/27883B7913E0E69143C3AA03493B7E7C4E8C29C0/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "",
                    "Convex": true,
                    "MaterialIndex": 1,
                    "TypeIndex": 0,
                    "CastShadows": true
                  },
                  "LuaScript": "-- Code for bag to identify text tool objects\r\nmovableTextTool_cowgoesmoo33 = true\r\n\r\n-- Number of characters before the text box width expands.\r\nEXPAND_INTERVAL = 20\r\n\r\n-- This table controls what is passed between save/load\r\ndata = {}\r\n\r\nfunction onLoad(saved_data)\r\n  if saved_data ~= '' then\r\n    data = JSON.decode(saved_data)\r\n    if data.text ~= '' then\r\n      self.interactable = data.interactable\r\n      staticMode()\r\n      return\r\n    end\r\n  else\r\n    data = {size=200, color=Color(0,0,0), text='', interactable=true,\r\n        enter_to_finish=false, autolock=false, autolift=false,\r\n        hover_height=0.05, box_transparency=1}\r\n  end\r\n\r\n  inputMode()\r\nend\r\n\r\n-- True if in the middle of delay after pressing Enter (with enter_to_finish on)\r\nfinishing = false\r\nfunction input_func(obj, color, input, stillEditing)\r\n  local params = getBox(input)\r\n  if params then\r\n    params.value = input\r\n    self.editInput(params)\r\n  end\r\n\r\n  if not stillEditing then\r\n    data.text = input\r\n    updateState()\r\n    if input ~= '' then staticMode(color) end\r\n  elseif data.enter_to_finish then\r\n    -- If enter is pressed: remove last newline and force finish\r\n    if not finishing and input:sub(-1) == '\\n' then\r\n      finishing = true\r\n      -- Delay to avoid user's Enter keypress being detected (opens chat box)\r\n      Wait.frames(function()\r\n        input = input:sub(1, -2)\r\n        data.text = input\r\n        updateState()\r\n        if input ~= '' then staticMode(color) else inputMode() end\r\n        finishing = false\r\n      end, 10)\r\n    end\r\n  end\r\nend\r\n\r\n-- When the inpupt box appears and lets the player type in it.\r\nfunction inputMode()\r\n  self.clearContextMenu()\r\n  self.clearInputs()\r\n  self.clearButtons()\r\n\r\n  local size = getBox(data.text, true)\r\n\r\n  self.createInput({\r\n    input_function = \"input_func\",\r\n    function_owner = self,\r\n    label          = \"Type Here\",\r\n    alignment      = 3,\r\n    position       = {x=0, y=data.hover_height, z=0},\r\n    rotation       = {0, 180, 0},\r\n    width          = size.width,\r\n    height         = size.height,\r\n    color          = getBackground(data.color),\r\n    font_color     = data.color,\r\n    font_size      = data.size,\r\n    value          = data.text,\r\n  })\r\n\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\nend\r\n\r\n-- When the input box disappears and displays the text.\r\nfunction staticMode(player)\r\n  self.clearContextMenu()\r\n  if data.autolock then\r\n    self.locked = true\r\n  end\r\n  if self.getInputs() and #self.getInputs() ~= 0 then\r\n    self.removeInput(0)\r\n  end\r\n\r\n  -- Clear from selecting player\r\n  if player then\r\n    self.removeFromPlayerSelection(player)\r\n  end\r\n\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  self.createButton({\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=self,\r\n    position={0,data.hover_height,0}, rotation={0,180,0}, height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  })\r\n\r\n  self.addContextMenuItem('Edit Text', function(color)\r\n    self.removeFromPlayerSelection(color)\r\n    inputMode()\r\n  end)\r\n  self.addContextMenuItem('Clear', function(color)\r\n    applyMultiple(color, 'clear', _, true)\r\n  end)\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\n  self.addContextMenuItem('Permanently Attach', attemptAttach)\r\n  self.addContextMenuItem('Permalock', function(color)\r\n    applyMultiple(color, 'permalock', _, true)\r\n  end)\r\nend\r\n\r\nfunction changeSize(params)\r\n  local delta = params[1]\r\n  local newSize = data.size + delta\r\n  if newSize > 800  or newSize < 50 then\r\n    return\r\n  end\r\n  data.size = newSize\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_size=data.size})\r\n  else\r\n    local size = getBox(data.text, true)\r\n    self.editInput({width=size.width, height=size.height, font_size=data.size})\r\n  end\r\nend\r\n\r\nfunction setColor(params)\r\n  if params and params[1] then\r\n    data.color = params[1]\r\n  else\r\n    data.color = self.getColorTint():setAt('a', 1) -- Take on color of object tint\r\n  end\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_color=data.color})\r\n  else\r\n    self.editInput({font_color=data.color, color=getBackground(data.color)})\r\n  end\r\nend\r\n\r\nfunction getBackground(color) --determines whether to use black or white depending on luminance\r\n  local r,g,b = Color(color):get()\r\n\r\n  local lum = 0.2126*r + 0.7152*g + 0.0722*b\r\n  if lum > 0.75 then\r\n    return {0.2,0.2,0.2, data.box_transparency}\r\n  else\r\n    return {1,1,1, data.box_transparency}\r\n  end\r\nend\r\n\r\nfunction clear()\r\n  data.text = ''\r\n  updateState()\r\n  inputMode()\r\nend\r\n\r\nfunction permalock()\r\n  self.interactable = false\r\n  data.interactable = false\r\n  updateState()\r\nend\r\n\r\nlocal target_script = [[\r\nfunction onLoad(script_state)\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    for _,entry in ipairs(state) do\r\n      self.createButton(entry)\r\n    end\r\n    self.addContextMenuItem('Clear All Text', function(color)\r\n      self.clearContextMenu()\r\n      self.clearButtons()\r\n      self.script_state = ''\r\n      self.script_code = ''\r\n    end)\r\n  end\r\nend\r\n]]\r\n\r\nfunction attemptAttach(player_color)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  local attachee\r\n  local attachers = {}\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if obj ~= self then\r\n        table.insert(attachers, obj)\r\n      end\r\n    else\r\n      if attachee then\r\n        broadcastToColor(\"More than one target selected.\", player_color)\r\n        return\r\n      else\r\n        attachee = obj\r\n      end\r\n    end\r\n  end\r\n  if attachee then\r\n    local code = attachee.script_code\r\n    if code and code ~= '' and code ~= target_script then\r\n      broadcastToColor(\"Warning: script on card has been overriden. Rewind time to undo.\", player_color)\r\n    end\r\n    for i,attacher in ipairs(attachers) do\r\n      attacher.call('attach', {target = attachee})\r\n    end\r\n    attach({target = attachee})\r\n    local type, flip = attachee.type, attachee.getRotation().z\r\n    if (type == 'Card' or type == 'Deck') and flip > 175 and flip < 185 then\r\n      broadcastToColor(\"Warning: text will not display if card or deck is facing down.\", player_color)\r\n    end\r\n  else\r\n    broadcastToColor(\"You must have a target object in your selection (using click-and-drag or Ctrl+Click) to use this option.\", player_color)\r\n  end\r\nend\r\n\r\nfunction attach(params)\r\n  local target = params.target\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  local textRotation = self.getRotation():sub(target.getRotation())\r\n    :add(Vector(180, 0, 180))\r\n\r\n  local textPosition = target.positionToLocal(\r\n    self.getPosition():add(Vector(0, data.hover_height, 0))\r\n  )\r\n  textPosition.x = -textPosition.x\r\n\r\n  local textScale = {}\r\n  textScale.x = self.getScale().x / target.getScale().x\r\n  textScale.y = self.getScale().x / target.getScale().y\r\n  textScale.z = self.getScale().x / target.getScale().z\r\n\r\n  local details = {\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=nil,\r\n    position=textPosition,\r\n    rotation=textRotation,\r\n    scale=textScale,\r\n    height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  }\r\n\r\n  target.createButton(details)\r\n\r\n  local script_state = target.script_state\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    table.insert(state, details)\r\n    target.script_state = JSON.encode(state)\r\n  else\r\n    target.script_state = JSON.encode({[1]=details})\r\n  end\r\n\r\n  target.script_code = target_script\r\n\r\n  self.destruct()\r\nend\r\n\r\nfunction applyMultiple(player_color, func_string, params, static_only)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if not static_only or obj.call('isStatic') then\r\n        obj.call(func_string, params)\r\n      end\r\n    end\r\n  end\r\nend\r\n\r\nfunction isStatic()\r\n  local input = self.getInputs()\r\n  return not input or #input == 0\r\nend\r\n\r\nfunction getBox(input, force)\r\n  local maxLength, lineCount = EXPAND_INTERVAL, 1\r\n  local lineLength = 0\r\n  for i = 1, #input do\r\n    local c = input:sub(i,i)\r\n    if c == '\\n' then\r\n      lineCount = lineCount + 1\r\n      if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n      lineLength = 0\r\n    else\r\n      lineLength = lineLength + 1\r\n    end\r\n  end\r\n  if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n\r\n  newWidth = data.size * maxLength * 0.9\r\n  newHeight = data.size * lineCount + 23\r\n\r\n  if force or boxWidth ~= newWidth or boxHeight ~= newHeight then\r\n    boxWidth, boxHeight = newWidth, newHeight\r\n    return {width = boxWidth, height = boxHeight}\r\n  end\r\n  return nil\r\nend\r\n\r\ntemp_lift = nil\r\nfunction onPickUp(player_color)\r\n  if data.autolift then\r\n    local player = Player[player_color]\r\n    temp_lift = player.lift_height\r\n    player.lift_height = 0\r\n  end\r\nend\r\n\r\nfunction onDrop(player_color)\r\n  if data.autolift and temp_lift then\r\n    Player[player_color].lift_height = temp_lift\r\n  end\r\nend\r\n\r\n-- Should be called every time data is modified, allows info to be saved on copy/paste\r\nfunction updateState()\r\n  self.script_state = JSON.encode(data)\r\nend\r\n\r\nfunction onSave()\r\n  self.script_state = JSON.encode(data)\r\n  return self.script_state\r\nend",
                  "LuaScriptState": "{\"autolift\":false,\"autolock\":false,\"box_transparency\":1,\"color\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1},\"enter_to_finish\":false,\"hover_height\":0.05,\"interactable\":true,\"size\":100,\"text\":\"Ennemi à mélanger dans\\nle deck rencontre\"}",
                  "XmlUI": ""
                },
                {
                  "GUID": "f9b57a",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": 2.0,
                    "posY": 1.50405729,
                    "posZ": 4.99999952,
                    "rotX": 0.00420290744,
                    "rotY": 224.999954,
                    "rotZ": 0.0112021938,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/vppt2my.png",
                    "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "States": {
                    "2": {
                      "GUID": "44b0c5",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -39.7933121,
                        "posY": 1.63758957,
                        "posZ": 2.038383,
                        "rotX": 359.9201,
                        "rotY": 269.9961,
                        "rotZ": 0.0168742146,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    "3": {
                      "GUID": "5b38c6",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -38.8217163,
                        "posY": 1.99356019,
                        "posZ": 0.4159239,
                        "rotX": 359.9201,
                        "rotY": 272.9828,
                        "rotZ": 0.01687373,
                        "scaleX": 0.8,
                        "scaleY": 1.0,
                        "scaleZ": 0.8
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  }
                },
                {
                  "GUID": "fabf0a",
                  "Name": "Card",
                  "Transform": {
                    "posX": 4.499991,
                    "posY": 1.51809454,
                    "posZ": 8.499908,
                    "rotX": 0.011064956,
                    "rotY": 180.000259,
                    "rotZ": 0.00378562533,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Hazuth-Kleg",
                  "Description": "Ooth-Nargai. Ville.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06141\",\n  \"locationFront\": {\n    \"connections\": \"Hourglass|Tee\",\n    \"icons\": \"Plus\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    }\n  },\n  \"traits\": \"Ooth-Nargai. City.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276416,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2764": {
                      "FaceURL": "https://i.imgur.com/lxSjMsf.jpg",
                      "BackURL": "https://i.imgur.com/IhTn2aA.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "fb44a9",
                  "Name": "Card",
                  "Transform": {
                    "posX": 17.501,
                    "posY": 1.51422858,
                    "posZ": -6.0196,
                    "rotX": 0.004951989,
                    "rotY": 90.0202,
                    "rotZ": 359.9891,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Le Décret du Roi",
                  "Description": "Acte 2a",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06126\",\n  \"type\": \"Act\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276306,
                  "SidewaysCard": true,
                  "CustomDeck": {
                    "2763": {
                      "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                      "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "4df2ac",
                  "Name": "Custom_Token",
                  "Transform": {
                    "posX": -26.0000114,
                    "posY": 1.82000017,
                    "posZ": 16.0000038,
                    "rotX": -4.489877E-06,
                    "rotY": 179.994141,
                    "rotZ": -3.93171E-06,
                    "scaleX": 0.23,
                    "scaleY": 1.0,
                    "scaleZ": 0.225
                  },
                  "Nickname": "Indices",
                  "Description": "Click gauche - Ajouter\nClick droit - Soustraire",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/784129913444610342/7903BA89870C1656A003FD69C79BFA99BD1AAC24/",
                    "ImageSecondaryURL": "",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomToken": {
                      "Thickness": 0.1,
                      "MergeDistancePixels": 5.0,
                      "StandUp": false,
                      "Stackable": false
                    }
                  },
                  "LuaScript": "MIN_VALUE = -99\r\nMAX_VALUE = 999\r\nlocal ZONE_HANDLER_GUID = 'ef3980'\r\nzoneHandler = getObjectFromGUID(ZONE_HANDLER_GUID)\r\nfunction onload(saved_data)\r\n    light_mode = true\r\n    val = 0\r\n\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        light_mode = loaded_data[1]\r\n        val = loaded_data[2]\r\n    end\r\n\r\n    createAll()\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = { light_mode, val }\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction createAll()\r\n    s_color = { 0, 0, 0, 100 }\r\n\r\n    if light_mode then\r\n        f_color = { 1, 1, 1, 100 }\r\n    else\r\n        f_color = { 0, 0, 0, 100 }\r\n    end\r\n\r\n\r\n\r\n    self.createButton({\r\n        label = tostring(val),\r\n        click_function = \"clickOrAlt_click\",\r\n        function_owner = self,\r\n        position = { 0, 0.05, 0.1 },\r\n        height = 600,\r\n        width = 1000,\r\n        alignment = 3,\r\n        scale = { x = 1.5, y = 1.5, z = 1.5 },\r\n        font_size = 800,\r\n        font_color = f_color,\r\n        color = { 1, 1, 1, 0 }\r\n    })\r\n\r\n\r\n    self.createButton({\r\n        click_function = \"takeClue\",\r\n        function_owner = self,\r\n        label = \"Prendre\",\r\n        position = { 3.5, 0.1, 0 },\r\n        rotation = { 0, 270, 0 },\r\n        scale = { 1.6, 1, 1.6 },\r\n        width = 1600,\r\n        height = 500,\r\n        font_size = 400,\r\n        font_color = { 1, 1, 1 },\r\n        color = { 0, 0, 0 },\r\n        tooltip = \"Prendre un indice (click droit pour reposer)\"\r\n    })\r\n\r\n\r\n\r\n    if light_mode then\r\n        lightButtonText = \"[ Set dark ]\"\r\n    else\r\n        lightButtonText = \"[ Set light ]\"\r\n    end\r\nend\r\n\r\nfunction removeAll()\r\n    self.removeInput(0)\r\n    self.removeInput(1)\r\n    self.removeButton(0)\r\n    self.removeButton(1)\r\n    self.removeButton(2)\r\nend\r\n\r\nfunction reloadAll()\r\n    removeAll()\r\n    createAll()\r\n\r\n    updateSave()\r\nend\r\n\r\nfunction swap_fcolor(_obj, _color, alt_click)\r\n    light_mode = not light_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction swap_align(_obj, _color, alt_click)\r\n    center_mode = not center_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction editName(_obj, _string, value)\r\n    self.setName(value)\r\n    setTooltips()\r\nend\r\n\r\nfunction clickOrAlt_click(_obj, _color, alt_click)\r\n    if alt_click then\r\n        substract()\r\n    else\r\n        add()\r\n    end\r\nend\r\n\r\nfunction substract()\r\n    add_subtract(-1)\r\nend\r\n\r\nfunction add()\r\n    add_subtract(1)\r\nend\r\n\r\nfunction add_subtract(mod)\r\n    new_value = math.min(math.max(val + mod, MIN_VALUE), MAX_VALUE)\r\n    if val ~= new_value then\r\n        val = new_value\r\n        updateVal()\r\n        updateSave()\r\n    end\r\nend\r\n\r\nfunction takeClue(_, color, alt_click)\r\n    if alt_click then\r\n        add()\r\n    else\r\n        substract()\r\n    end\r\n    local params = {}\r\n    params.playerColor = color\r\n    params.zone = 'CounterZone'\r\n    local objects = zoneHandler.call('getObjectsInPlayerZone', params)\r\n    for _, token in ipairs(objects) do\r\n        if token.getName() == \"Indices\" and token.getDescription() == \"Compteur de Joueur\" then\r\n            local cluecounter = token\r\n            if alt_click then\r\n                cluecounter.call('substract')\r\n            else\r\n                cluecounter.call('add')\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateVal()\r\n    self.editButton({\r\n        index = 0,\r\n        label = tostring(val),\r\n    })\r\nend\r\n\r\nfunction reset_val()\r\n    val = 0\r\n    updateVal()\r\n    updateSave()\r\nend\r\n\r\nfunction setTooltips()\r\n    self.editInput({\r\n        index = 0,\r\n        value = self.getName(),\r\n        tooltip = ttText\r\n    })\r\n    self.editButton({\r\n        index = 0,\r\n        value = tostring(val),\r\n        tooltip = ttText\r\n    })\r\nend\r\n\r\nfunction null()\r\nend\r\n\r\nfunction keepSample(_obj, _string, value)\r\n    reloadAll()\r\nend\r\n",
                  "LuaScriptState": "[true,0]",
                  "XmlUI": ""
                },
                {
                  "GUID": "81c641",
                  "Name": "Custom_Token",
                  "Transform": {
                    "posX": -23.00001,
                    "posY": 1.82,
                    "posZ": 16.00001,
                    "rotX": 3.445051E-05,
                    "rotY": 179.993866,
                    "rotZ": -4.794949E-05,
                    "scaleX": 0.23,
                    "scaleY": 1.0,
                    "scaleZ": 0.225
                  },
                  "Nickname": "Indices",
                  "Description": "Click gauche - Ajouter\nClick droit - Soustraire",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/784129913444610342/7903BA89870C1656A003FD69C79BFA99BD1AAC24/",
                    "ImageSecondaryURL": "",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomToken": {
                      "Thickness": 0.1,
                      "MergeDistancePixels": 5.0,
                      "StandUp": false,
                      "Stackable": false
                    }
                  },
                  "LuaScript": "MIN_VALUE = -99\r\nMAX_VALUE = 999\r\nlocal ZONE_HANDLER_GUID = 'ef3980'\r\nzoneHandler = getObjectFromGUID(ZONE_HANDLER_GUID)\r\nfunction onload(saved_data)\r\n    light_mode = true\r\n    val = 0\r\n\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        light_mode = loaded_data[1]\r\n        val = loaded_data[2]\r\n    end\r\n\r\n    createAll()\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = { light_mode, val }\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction createAll()\r\n    s_color = { 0, 0, 0, 100 }\r\n\r\n    if light_mode then\r\n        f_color = { 1, 1, 1, 100 }\r\n    else\r\n        f_color = { 0, 0, 0, 100 }\r\n    end\r\n\r\n\r\n\r\n    self.createButton({\r\n        label = tostring(val),\r\n        click_function = \"clickOrAlt_click\",\r\n        function_owner = self,\r\n        position = { 0, 0.05, 0.1 },\r\n        height = 600,\r\n        width = 1000,\r\n        alignment = 3,\r\n        scale = { x = 1.5, y = 1.5, z = 1.5 },\r\n        font_size = 800,\r\n        font_color = f_color,\r\n        color = { 1, 1, 1, 0 }\r\n    })\r\n\r\n\r\n    self.createButton({\r\n        click_function = \"takeClue\",\r\n        function_owner = self,\r\n        label = \"Prendre\",\r\n        position = { 3.5, 0.1, 0 },\r\n        rotation = { 0, 270, 0 },\r\n        scale = { 1.6, 1, 1.6 },\r\n        width = 1600,\r\n        height = 500,\r\n        font_size = 400,\r\n        font_color = { 1, 1, 1 },\r\n        color = { 0, 0, 0 },\r\n        tooltip = \"Prendre un indice (click droit pour reposer)\"\r\n    })\r\n\r\n\r\n\r\n    if light_mode then\r\n        lightButtonText = \"[ Set dark ]\"\r\n    else\r\n        lightButtonText = \"[ Set light ]\"\r\n    end\r\nend\r\n\r\nfunction removeAll()\r\n    self.removeInput(0)\r\n    self.removeInput(1)\r\n    self.removeButton(0)\r\n    self.removeButton(1)\r\n    self.removeButton(2)\r\nend\r\n\r\nfunction reloadAll()\r\n    removeAll()\r\n    createAll()\r\n\r\n    updateSave()\r\nend\r\n\r\nfunction swap_fcolor(_obj, _color, alt_click)\r\n    light_mode = not light_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction swap_align(_obj, _color, alt_click)\r\n    center_mode = not center_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction editName(_obj, _string, value)\r\n    self.setName(value)\r\n    setTooltips()\r\nend\r\n\r\nfunction clickOrAlt_click(_obj, _color, alt_click)\r\n    if alt_click then\r\n        substract()\r\n    else\r\n        add()\r\n    end\r\nend\r\n\r\nfunction substract()\r\n    add_subtract(-1)\r\nend\r\n\r\nfunction add()\r\n    add_subtract(1)\r\nend\r\n\r\nfunction add_subtract(mod)\r\n    new_value = math.min(math.max(val + mod, MIN_VALUE), MAX_VALUE)\r\n    if val ~= new_value then\r\n        val = new_value\r\n        updateVal()\r\n        updateSave()\r\n    end\r\nend\r\n\r\nfunction takeClue(_, color, alt_click)\r\n    if alt_click then\r\n        add()\r\n    else\r\n        substract()\r\n    end\r\n    local params = {}\r\n    params.playerColor = color\r\n    params.zone = 'CounterZone'\r\n    local objects = zoneHandler.call('getObjectsInPlayerZone', params)\r\n    for _, token in ipairs(objects) do\r\n        if token.getName() == \"Indices\" and token.getDescription() == \"Compteur de Joueur\" then\r\n            local cluecounter = token\r\n            if alt_click then\r\n                cluecounter.call('substract')\r\n            else\r\n                cluecounter.call('add')\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateVal()\r\n    self.editButton({\r\n        index = 0,\r\n        label = tostring(val),\r\n    })\r\nend\r\n\r\nfunction reset_val()\r\n    val = 0\r\n    updateVal()\r\n    updateSave()\r\nend\r\n\r\nfunction setTooltips()\r\n    self.editInput({\r\n        index = 0,\r\n        value = self.getName(),\r\n        tooltip = ttText\r\n    })\r\n    self.editButton({\r\n        index = 0,\r\n        value = tostring(val),\r\n        tooltip = ttText\r\n    })\r\nend\r\n\r\nfunction null()\r\nend\r\n\r\nfunction keepSample(_obj, _string, value)\r\n    reloadAll()\r\nend\r\n",
                  "LuaScriptState": "[true,0]",
                  "XmlUI": ""
                },
                {
                  "GUID": "3de789",
                  "Name": "Custom_Token",
                  "Transform": {
                    "posX": -6.50800037,
                    "posY": 1.58245957,
                    "posZ": 8.48354,
                    "rotX": 0.0106561184,
                    "rotY": 179.9941,
                    "rotZ": 0.0122271394,
                    "scaleX": 0.23,
                    "scaleY": 1.0,
                    "scaleZ": 0.225
                  },
                  "Nickname": "Indices",
                  "Description": "Click gauche - Ajouter\nClick droit - Soustraire",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/784129913444610342/7903BA89870C1656A003FD69C79BFA99BD1AAC24/",
                    "ImageSecondaryURL": "",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomToken": {
                      "Thickness": 0.1,
                      "MergeDistancePixels": 5.0,
                      "StandUp": false,
                      "Stackable": false
                    }
                  },
                  "LuaScript": "MIN_VALUE = -99\r\nMAX_VALUE = 999\r\nlocal ZONE_HANDLER_GUID = 'ef3980'\r\nzoneHandler = getObjectFromGUID(ZONE_HANDLER_GUID)\r\nfunction onload(saved_data)\r\n    light_mode = true\r\n    val = 0\r\n\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        light_mode = loaded_data[1]\r\n        val = loaded_data[2]\r\n    end\r\n\r\n    createAll()\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = { light_mode, val }\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction createAll()\r\n    s_color = { 0, 0, 0, 100 }\r\n\r\n    if light_mode then\r\n        f_color = { 1, 1, 1, 100 }\r\n    else\r\n        f_color = { 0, 0, 0, 100 }\r\n    end\r\n\r\n\r\n\r\n    self.createButton({\r\n        label = tostring(val),\r\n        click_function = \"clickOrAlt_click\",\r\n        function_owner = self,\r\n        position = { 0, 0.05, 0.1 },\r\n        height = 600,\r\n        width = 1000,\r\n        alignment = 3,\r\n        scale = { x = 1.5, y = 1.5, z = 1.5 },\r\n        font_size = 800,\r\n        font_color = f_color,\r\n        color = { 1, 1, 1, 0 }\r\n    })\r\n\r\n\r\n    self.createButton({\r\n        click_function = \"takeClue\",\r\n        function_owner = self,\r\n        label = \"Prendre\",\r\n        position = { 3.5, 0.1, 0 },\r\n        rotation = { 0, 270, 0 },\r\n        scale = { 1.6, 1, 1.6 },\r\n        width = 1600,\r\n        height = 500,\r\n        font_size = 400,\r\n        font_color = { 1, 1, 1 },\r\n        color = { 0, 0, 0 },\r\n        tooltip = \"Prendre un indice (click droit pour reposer)\"\r\n    })\r\n\r\n\r\n\r\n    if light_mode then\r\n        lightButtonText = \"[ Set dark ]\"\r\n    else\r\n        lightButtonText = \"[ Set light ]\"\r\n    end\r\nend\r\n\r\nfunction removeAll()\r\n    self.removeInput(0)\r\n    self.removeInput(1)\r\n    self.removeButton(0)\r\n    self.removeButton(1)\r\n    self.removeButton(2)\r\nend\r\n\r\nfunction reloadAll()\r\n    removeAll()\r\n    createAll()\r\n\r\n    updateSave()\r\nend\r\n\r\nfunction swap_fcolor(_obj, _color, alt_click)\r\n    light_mode = not light_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction swap_align(_obj, _color, alt_click)\r\n    center_mode = not center_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction editName(_obj, _string, value)\r\n    self.setName(value)\r\n    setTooltips()\r\nend\r\n\r\nfunction clickOrAlt_click(_obj, _color, alt_click)\r\n    if alt_click then\r\n        substract()\r\n    else\r\n        add()\r\n    end\r\nend\r\n\r\nfunction substract()\r\n    add_subtract(-1)\r\nend\r\n\r\nfunction add()\r\n    add_subtract(1)\r\nend\r\n\r\nfunction add_subtract(mod)\r\n    new_value = math.min(math.max(val + mod, MIN_VALUE), MAX_VALUE)\r\n    if val ~= new_value then\r\n        val = new_value\r\n        updateVal()\r\n        updateSave()\r\n    end\r\nend\r\n\r\nfunction takeClue(_, color, alt_click)\r\n    if alt_click then\r\n        add()\r\n    else\r\n        substract()\r\n    end\r\n    local params = {}\r\n    params.playerColor = color\r\n    params.zone = 'CounterZone'\r\n    local objects = zoneHandler.call('getObjectsInPlayerZone', params)\r\n    for _, token in ipairs(objects) do\r\n        if token.getName() == \"Indices\" and token.getDescription() == \"Compteur de Joueur\" then\r\n            local cluecounter = token\r\n            if alt_click then\r\n                cluecounter.call('substract')\r\n            else\r\n                cluecounter.call('add')\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateVal()\r\n    self.editButton({\r\n        index = 0,\r\n        label = tostring(val),\r\n    })\r\nend\r\n\r\nfunction reset_val()\r\n    val = 0\r\n    updateVal()\r\n    updateSave()\r\nend\r\n\r\nfunction setTooltips()\r\n    self.editInput({\r\n        index = 0,\r\n        value = self.getName(),\r\n        tooltip = ttText\r\n    })\r\n    self.editButton({\r\n        index = 0,\r\n        value = tostring(val),\r\n        tooltip = ttText\r\n    })\r\nend\r\n\r\nfunction null()\r\nend\r\n\r\nfunction keepSample(_obj, _string, value)\r\n    reloadAll()\r\nend\r\n",
                  "LuaScriptState": "[true,0]",
                  "XmlUI": ""
                },
                {
                  "GUID": "6eed99",
                  "Name": "Custom_Token",
                  "Transform": {
                    "posX": 4.499989,
                    "posY": 1.55450654,
                    "posZ": 8.499997,
                    "rotX": 0.0108928913,
                    "rotY": 179.994171,
                    "rotZ": 0.004936229,
                    "scaleX": 0.23,
                    "scaleY": 1.0,
                    "scaleZ": 0.225
                  },
                  "Nickname": "Indices",
                  "Description": "Click gauche - Ajouter\nClick droit - Soustraire",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/784129913444610342/7903BA89870C1656A003FD69C79BFA99BD1AAC24/",
                    "ImageSecondaryURL": "",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomToken": {
                      "Thickness": 0.1,
                      "MergeDistancePixels": 5.0,
                      "StandUp": false,
                      "Stackable": false
                    }
                  },
                  "LuaScript": "MIN_VALUE = -99\r\nMAX_VALUE = 999\r\nlocal ZONE_HANDLER_GUID = 'ef3980'\r\nzoneHandler = getObjectFromGUID(ZONE_HANDLER_GUID)\r\nfunction onload(saved_data)\r\n    light_mode = true\r\n    val = 0\r\n\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        light_mode = loaded_data[1]\r\n        val = loaded_data[2]\r\n    end\r\n\r\n    createAll()\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = { light_mode, val }\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction createAll()\r\n    s_color = { 0, 0, 0, 100 }\r\n\r\n    if light_mode then\r\n        f_color = { 1, 1, 1, 100 }\r\n    else\r\n        f_color = { 0, 0, 0, 100 }\r\n    end\r\n\r\n\r\n\r\n    self.createButton({\r\n        label = tostring(val),\r\n        click_function = \"clickOrAlt_click\",\r\n        function_owner = self,\r\n        position = { 0, 0.05, 0.1 },\r\n        height = 600,\r\n        width = 1000,\r\n        alignment = 3,\r\n        scale = { x = 1.5, y = 1.5, z = 1.5 },\r\n        font_size = 800,\r\n        font_color = f_color,\r\n        color = { 1, 1, 1, 0 }\r\n    })\r\n\r\n\r\n    self.createButton({\r\n        click_function = \"takeClue\",\r\n        function_owner = self,\r\n        label = \"Prendre\",\r\n        position = { 3.5, 0.1, 0 },\r\n        rotation = { 0, 270, 0 },\r\n        scale = { 1.6, 1, 1.6 },\r\n        width = 1600,\r\n        height = 500,\r\n        font_size = 400,\r\n        font_color = { 1, 1, 1 },\r\n        color = { 0, 0, 0 },\r\n        tooltip = \"Prendre un indice (click droit pour reposer)\"\r\n    })\r\n\r\n\r\n\r\n    if light_mode then\r\n        lightButtonText = \"[ Set dark ]\"\r\n    else\r\n        lightButtonText = \"[ Set light ]\"\r\n    end\r\nend\r\n\r\nfunction removeAll()\r\n    self.removeInput(0)\r\n    self.removeInput(1)\r\n    self.removeButton(0)\r\n    self.removeButton(1)\r\n    self.removeButton(2)\r\nend\r\n\r\nfunction reloadAll()\r\n    removeAll()\r\n    createAll()\r\n\r\n    updateSave()\r\nend\r\n\r\nfunction swap_fcolor(_obj, _color, alt_click)\r\n    light_mode = not light_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction swap_align(_obj, _color, alt_click)\r\n    center_mode = not center_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction editName(_obj, _string, value)\r\n    self.setName(value)\r\n    setTooltips()\r\nend\r\n\r\nfunction clickOrAlt_click(_obj, _color, alt_click)\r\n    if alt_click then\r\n        substract()\r\n    else\r\n        add()\r\n    end\r\nend\r\n\r\nfunction substract()\r\n    add_subtract(-1)\r\nend\r\n\r\nfunction add()\r\n    add_subtract(1)\r\nend\r\n\r\nfunction add_subtract(mod)\r\n    new_value = math.min(math.max(val + mod, MIN_VALUE), MAX_VALUE)\r\n    if val ~= new_value then\r\n        val = new_value\r\n        updateVal()\r\n        updateSave()\r\n    end\r\nend\r\n\r\nfunction takeClue(_, color, alt_click)\r\n    if alt_click then\r\n        add()\r\n    else\r\n        substract()\r\n    end\r\n    local params = {}\r\n    params.playerColor = color\r\n    params.zone = 'CounterZone'\r\n    local objects = zoneHandler.call('getObjectsInPlayerZone', params)\r\n    for _, token in ipairs(objects) do\r\n        if token.getName() == \"Indices\" and token.getDescription() == \"Compteur de Joueur\" then\r\n            local cluecounter = token\r\n            if alt_click then\r\n                cluecounter.call('substract')\r\n            else\r\n                cluecounter.call('add')\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateVal()\r\n    self.editButton({\r\n        index = 0,\r\n        label = tostring(val),\r\n    })\r\nend\r\n\r\nfunction reset_val()\r\n    val = 0\r\n    updateVal()\r\n    updateSave()\r\nend\r\n\r\nfunction setTooltips()\r\n    self.editInput({\r\n        index = 0,\r\n        value = self.getName(),\r\n        tooltip = ttText\r\n    })\r\n    self.editButton({\r\n        index = 0,\r\n        value = tostring(val),\r\n        tooltip = ttText\r\n    })\r\nend\r\n\r\nfunction null()\r\nend\r\n\r\nfunction keepSample(_obj, _string, value)\r\n    reloadAll()\r\nend\r\n",
                  "LuaScriptState": "[true,0]",
                  "XmlUI": ""
                },
                {
                  "GUID": "a07d8f",
                  "Name": "Custom_Token",
                  "Transform": {
                    "posX": -1.00001252,
                    "posY": 1.553651,
                    "posZ": 1.5,
                    "rotX": 0.0108760251,
                    "rotY": 179.994049,
                    "rotZ": 0.00494060153,
                    "scaleX": 0.23,
                    "scaleY": 1.0,
                    "scaleZ": 0.225
                  },
                  "Nickname": "Indices",
                  "Description": "Click gauche - Ajouter\nClick droit - Soustraire",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/784129913444610342/7903BA89870C1656A003FD69C79BFA99BD1AAC24/",
                    "ImageSecondaryURL": "",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomToken": {
                      "Thickness": 0.1,
                      "MergeDistancePixels": 5.0,
                      "StandUp": false,
                      "Stackable": false
                    }
                  },
                  "LuaScript": "MIN_VALUE = -99\r\nMAX_VALUE = 999\r\nlocal ZONE_HANDLER_GUID = 'ef3980'\r\nzoneHandler = getObjectFromGUID(ZONE_HANDLER_GUID)\r\nfunction onload(saved_data)\r\n    light_mode = true\r\n    val = 0\r\n\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        light_mode = loaded_data[1]\r\n        val = loaded_data[2]\r\n    end\r\n\r\n    createAll()\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = { light_mode, val }\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction createAll()\r\n    s_color = { 0, 0, 0, 100 }\r\n\r\n    if light_mode then\r\n        f_color = { 1, 1, 1, 100 }\r\n    else\r\n        f_color = { 0, 0, 0, 100 }\r\n    end\r\n\r\n\r\n\r\n    self.createButton({\r\n        label = tostring(val),\r\n        click_function = \"clickOrAlt_click\",\r\n        function_owner = self,\r\n        position = { 0, 0.05, 0.1 },\r\n        height = 600,\r\n        width = 1000,\r\n        alignment = 3,\r\n        scale = { x = 1.5, y = 1.5, z = 1.5 },\r\n        font_size = 800,\r\n        font_color = f_color,\r\n        color = { 1, 1, 1, 0 }\r\n    })\r\n\r\n\r\n    self.createButton({\r\n        click_function = \"takeClue\",\r\n        function_owner = self,\r\n        label = \"Prendre\",\r\n        position = { 3.5, 0.1, 0 },\r\n        rotation = { 0, 270, 0 },\r\n        scale = { 1.6, 1, 1.6 },\r\n        width = 1600,\r\n        height = 500,\r\n        font_size = 400,\r\n        font_color = { 1, 1, 1 },\r\n        color = { 0, 0, 0 },\r\n        tooltip = \"Prendre un indice (click droit pour reposer)\"\r\n    })\r\n\r\n\r\n\r\n    if light_mode then\r\n        lightButtonText = \"[ Set dark ]\"\r\n    else\r\n        lightButtonText = \"[ Set light ]\"\r\n    end\r\nend\r\n\r\nfunction removeAll()\r\n    self.removeInput(0)\r\n    self.removeInput(1)\r\n    self.removeButton(0)\r\n    self.removeButton(1)\r\n    self.removeButton(2)\r\nend\r\n\r\nfunction reloadAll()\r\n    removeAll()\r\n    createAll()\r\n\r\n    updateSave()\r\nend\r\n\r\nfunction swap_fcolor(_obj, _color, alt_click)\r\n    light_mode = not light_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction swap_align(_obj, _color, alt_click)\r\n    center_mode = not center_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction editName(_obj, _string, value)\r\n    self.setName(value)\r\n    setTooltips()\r\nend\r\n\r\nfunction clickOrAlt_click(_obj, _color, alt_click)\r\n    if alt_click then\r\n        substract()\r\n    else\r\n        add()\r\n    end\r\nend\r\n\r\nfunction substract()\r\n    add_subtract(-1)\r\nend\r\n\r\nfunction add()\r\n    add_subtract(1)\r\nend\r\n\r\nfunction add_subtract(mod)\r\n    new_value = math.min(math.max(val + mod, MIN_VALUE), MAX_VALUE)\r\n    if val ~= new_value then\r\n        val = new_value\r\n        updateVal()\r\n        updateSave()\r\n    end\r\nend\r\n\r\nfunction takeClue(_, color, alt_click)\r\n    if alt_click then\r\n        add()\r\n    else\r\n        substract()\r\n    end\r\n    local params = {}\r\n    params.playerColor = color\r\n    params.zone = 'CounterZone'\r\n    local objects = zoneHandler.call('getObjectsInPlayerZone', params)\r\n    for _, token in ipairs(objects) do\r\n        if token.getName() == \"Indices\" and token.getDescription() == \"Compteur de Joueur\" then\r\n            local cluecounter = token\r\n            if alt_click then\r\n                cluecounter.call('substract')\r\n            else\r\n                cluecounter.call('add')\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateVal()\r\n    self.editButton({\r\n        index = 0,\r\n        label = tostring(val),\r\n    })\r\nend\r\n\r\nfunction reset_val()\r\n    val = 0\r\n    updateVal()\r\n    updateSave()\r\nend\r\n\r\nfunction setTooltips()\r\n    self.editInput({\r\n        index = 0,\r\n        value = self.getName(),\r\n        tooltip = ttText\r\n    })\r\n    self.editButton({\r\n        index = 0,\r\n        value = tostring(val),\r\n        tooltip = ttText\r\n    })\r\nend\r\n\r\nfunction null()\r\nend\r\n\r\nfunction keepSample(_obj, _string, value)\r\n    reloadAll()\r\nend\r\n",
                  "LuaScriptState": "[true,0]",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "2ae1bf",
              "Name": "Custom_Tile",
              "Transform": {
                "posX": 3.0,
                "posY": 1.50178492,
                "posZ": -6.49999952,
                "rotX": 0.0108907791,
                "rotY": 180.009,
                "rotZ": 0.004950072,
                "scaleX": 1.6428808,
                "scaleY": 1.0,
                "scaleZ": 1.6428808
              },
              "Nickname": "Mise en place du Chaos Bag",
              "Description": "II-A : A la Recherche de Kadath",
              "GMNotes": "{\"data\":\"The Search For Kadath\",\"easy\":false,\"expert\":false,\"hard\":false,\"normal\":false,\"standalone\":true}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.8745098,
                "g": 0.8,
                "b": 0.7019608
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/2011456161884106028/81BF2DAD34FE18B6788B56E21F16B81E6525AD99/",
                "ImageSecondaryURL": "https://steamusercontent-a.akamaihd.net/ugc/2011456161884106028/81BF2DAD34FE18B6788B56E21F16B81E6525AD99/",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomTile": {
                  "Type": 3,
                  "Thickness": 0.1,
                  "Stackable": false,
                  "Stretch": true
                }
              },
              "LuaScript": "\r\njacqueline_guid = '42cd6e'\r\n\r\nbuttonparams = {\r\n   ['easy'] = {label = \"Facile\", click_function = 'modeEasy', z_i = -0.2},\r\n   ['normal'] = {label = \"Standard\", click_function = 'modeNormal', z_i = 0.1},\r\n   ['hard'] = {label = \"Difficile\", click_function = 'modeHard', z_i = 0.4},\r\n   ['expert'] = {label = \"Expert\", click_function = 'modeExpert', z_i = 0.7},\r\n   ['standalone'] = {label = \"Indépendant\", click_function = 'modeStandalone', z_i = 0},\r\n}\r\n\r\nfunction onLoad()\r\n\r\n    metadata = JSON.decode(self.getGMNotes())\r\n    buttontable = {}\r\n    for key, value in pairs(buttonparams) do\r\n        if metadata[key] == true then\r\n            table.insert(buttontable,value)\r\n        end\r\n        \r\n    end\r\n\r\n    for _, button in pairs(buttontable) do\r\n        local data = {\r\n            click_function = button.click_function, \r\n            function_owner = self, \r\n            label = button.label, \r\n            position = {0, 0.1, button.z_i}, \r\n            scale = {0.3, 0.5, 0.3}, \r\n            width = 1500, \r\n            height = 400, \r\n            font_size = 250, \r\n            tooltip = \"Chaos bag du mode \"..button.label,\r\n            color = {0.5647, 0.4627, 0.2353, 1}, \r\n            font_color = {0.9041, 0.8313, 0.7356, 1},\r\n            hover_color = {99/255, 85/255, 48/255},\r\n            press_color = {192/255, 152/255, 94/255} }\r\n        self.createButton(data)\r\n        \r\n    end\r\n    jacqueline = getObjectFromGUID(jacqueline_guid)\r\n    chaosdata = jacqueline.getTable('chaosdata')\r\nend\r\n\r\nfunction modeEasy()\r\n    local  params ={}\r\n     params.mode = 'easy'\r\n     params.data = metadata.data\r\n     jacqueline.call('setChaosBag', params)\r\n  \r\nend\r\n\r\nfunction modeNormal()\r\n      local  params ={}\r\n       params.mode = 'normal'\r\n       params.data = metadata.data\r\n       jacqueline.call('setChaosBag', params)\r\n    \r\nend\r\n\r\nfunction modeHard()\r\n    local  params ={}\r\n     params.mode = 'hard'\r\n     params.data = metadata.data\r\n     jacqueline.call('setChaosBag', params)\r\n  \r\nend\r\n\r\nfunction modeExpert()\r\n    local  params ={}\r\n     params.mode = 'expert'\r\n     params.data = metadata.data\r\n     jacqueline.call('setChaosBag', params)\r\n  \r\nend\r\n\r\nfunction modeStandalone()\r\n    local  params ={}\r\n     params.mode = 'standalone'\r\n     params.data = metadata.data\r\n     jacqueline.call('setChaosBag', params)\r\n  \r\nend",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "2ca875",
              "Name": "Card",
              "Transform": {
                "posX": -7.00000429,
                "posY": 1.51929474,
                "posZ": 9.500004,
                "rotX": 0.0108914543,
                "rotY": 180.000641,
                "rotZ": 0.00494833849,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Meute de Vooniths",
              "Description": "",
              "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 2,\n  \"id\": \"06151\",\n  \"traits\": \"Creature. Monster.\",\n  \"type\": \"Enemy\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276222,
              "SidewaysCard": false,
              "CustomDeck": {
                "2762": {
                  "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "31d3ed",
              "Name": "Custom_Model",
              "Transform": {
                "posX": -23.5000076,
                "posY": 1.77100122,
                "posZ": 2.99999452,
                "rotX": 5.47362652E-06,
                "rotY": 0.002255694,
                "rotZ": -1.40897015E-07,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Text Tool",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.0,
                "g": 0.0,
                "b": 0.0,
                "a": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": false,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": false,
              "Tooltip": false,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/1478820768302617365/27883B7913E0E69143C3AA03493B7E7C4E8C29C0/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 1,
                "TypeIndex": 0,
                "CastShadows": true
              },
              "LuaScript": "-- Code for bag to identify text tool objects\r\nmovableTextTool_cowgoesmoo33 = true\r\n\r\n-- Number of characters before the text box width expands.\r\nEXPAND_INTERVAL = 20\r\n\r\n-- This table controls what is passed between save/load\r\ndata = {}\r\n\r\nfunction onLoad(saved_data)\r\n  if saved_data ~= '' then\r\n    data = JSON.decode(saved_data)\r\n    if data.text ~= '' then\r\n      self.interactable = data.interactable\r\n      staticMode()\r\n      return\r\n    end\r\n  else\r\n    data = {size=200, color=Color(0,0,0), text='', interactable=true,\r\n        enter_to_finish=false, autolock=false, autolift=false,\r\n        hover_height=0.05, box_transparency=1}\r\n  end\r\n\r\n  inputMode()\r\nend\r\n\r\n-- True if in the middle of delay after pressing Enter (with enter_to_finish on)\r\nfinishing = false\r\nfunction input_func(obj, color, input, stillEditing)\r\n  local params = getBox(input)\r\n  if params then\r\n    params.value = input\r\n    self.editInput(params)\r\n  end\r\n\r\n  if not stillEditing then\r\n    data.text = input\r\n    updateState()\r\n    if input ~= '' then staticMode(color) end\r\n  elseif data.enter_to_finish then\r\n    -- If enter is pressed: remove last newline and force finish\r\n    if not finishing and input:sub(-1) == '\\n' then\r\n      finishing = true\r\n      -- Delay to avoid user's Enter keypress being detected (opens chat box)\r\n      Wait.frames(function()\r\n        input = input:sub(1, -2)\r\n        data.text = input\r\n        updateState()\r\n        if input ~= '' then staticMode(color) else inputMode() end\r\n        finishing = false\r\n      end, 10)\r\n    end\r\n  end\r\nend\r\n\r\n-- When the inpupt box appears and lets the player type in it.\r\nfunction inputMode()\r\n  self.clearContextMenu()\r\n  self.clearInputs()\r\n  self.clearButtons()\r\n\r\n  local size = getBox(data.text, true)\r\n\r\n  self.createInput({\r\n    input_function = \"input_func\",\r\n    function_owner = self,\r\n    label          = \"Type Here\",\r\n    alignment      = 3,\r\n    position       = {x=0, y=data.hover_height, z=0},\r\n    rotation       = {0, 180, 0},\r\n    width          = size.width,\r\n    height         = size.height,\r\n    color          = getBackground(data.color),\r\n    font_color     = data.color,\r\n    font_size      = data.size,\r\n    value          = data.text,\r\n  })\r\n\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\nend\r\n\r\n-- When the input box disappears and displays the text.\r\nfunction staticMode(player)\r\n  self.clearContextMenu()\r\n  if data.autolock then\r\n    self.locked = true\r\n  end\r\n  if self.getInputs() and #self.getInputs() ~= 0 then\r\n    self.removeInput(0)\r\n  end\r\n\r\n  -- Clear from selecting player\r\n  if player then\r\n    self.removeFromPlayerSelection(player)\r\n  end\r\n\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  self.createButton({\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=self,\r\n    position={0,data.hover_height,0}, rotation={0,180,0}, height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  })\r\n\r\n  self.addContextMenuItem('Edit Text', function(color)\r\n    self.removeFromPlayerSelection(color)\r\n    inputMode()\r\n  end)\r\n  self.addContextMenuItem('Clear', function(color)\r\n    applyMultiple(color, 'clear', _, true)\r\n  end)\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\n  self.addContextMenuItem('Permanently Attach', attemptAttach)\r\n  self.addContextMenuItem('Permalock', function(color)\r\n    applyMultiple(color, 'permalock', _, true)\r\n  end)\r\nend\r\n\r\nfunction changeSize(params)\r\n  local delta = params[1]\r\n  local newSize = data.size + delta\r\n  if newSize > 800  or newSize < 50 then\r\n    return\r\n  end\r\n  data.size = newSize\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_size=data.size})\r\n  else\r\n    local size = getBox(data.text, true)\r\n    self.editInput({width=size.width, height=size.height, font_size=data.size})\r\n  end\r\nend\r\n\r\nfunction setColor(params)\r\n  if params and params[1] then\r\n    data.color = params[1]\r\n  else\r\n    data.color = self.getColorTint():setAt('a', 1) -- Take on color of object tint\r\n  end\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_color=data.color})\r\n  else\r\n    self.editInput({font_color=data.color, color=getBackground(data.color)})\r\n  end\r\nend\r\n\r\nfunction getBackground(color) --determines whether to use black or white depending on luminance\r\n  local r,g,b = Color(color):get()\r\n\r\n  local lum = 0.2126*r + 0.7152*g + 0.0722*b\r\n  if lum > 0.75 then\r\n    return {0.2,0.2,0.2, data.box_transparency}\r\n  else\r\n    return {1,1,1, data.box_transparency}\r\n  end\r\nend\r\n\r\nfunction clear()\r\n  data.text = ''\r\n  updateState()\r\n  inputMode()\r\nend\r\n\r\nfunction permalock()\r\n  self.interactable = false\r\n  data.interactable = false\r\n  updateState()\r\nend\r\n\r\nlocal target_script = [[\r\nfunction onLoad(script_state)\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    for _,entry in ipairs(state) do\r\n      self.createButton(entry)\r\n    end\r\n    self.addContextMenuItem('Clear All Text', function(color)\r\n      self.clearContextMenu()\r\n      self.clearButtons()\r\n      self.script_state = ''\r\n      self.script_code = ''\r\n    end)\r\n  end\r\nend\r\n]]\r\n\r\nfunction attemptAttach(player_color)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  local attachee\r\n  local attachers = {}\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if obj ~= self then\r\n        table.insert(attachers, obj)\r\n      end\r\n    else\r\n      if attachee then\r\n        broadcastToColor(\"More than one target selected.\", player_color)\r\n        return\r\n      else\r\n        attachee = obj\r\n      end\r\n    end\r\n  end\r\n  if attachee then\r\n    local code = attachee.script_code\r\n    if code and code ~= '' and code ~= target_script then\r\n      broadcastToColor(\"Warning: script on card has been overriden. Rewind time to undo.\", player_color)\r\n    end\r\n    for i,attacher in ipairs(attachers) do\r\n      attacher.call('attach', {target = attachee})\r\n    end\r\n    attach({target = attachee})\r\n    local type, flip = attachee.type, attachee.getRotation().z\r\n    if (type == 'Card' or type == 'Deck') and flip > 175 and flip < 185 then\r\n      broadcastToColor(\"Warning: text will not display if card or deck is facing down.\", player_color)\r\n    end\r\n  else\r\n    broadcastToColor(\"You must have a target object in your selection (using click-and-drag or Ctrl+Click) to use this option.\", player_color)\r\n  end\r\nend\r\n\r\nfunction attach(params)\r\n  local target = params.target\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  local textRotation = self.getRotation():sub(target.getRotation())\r\n    :add(Vector(180, 0, 180))\r\n\r\n  local textPosition = target.positionToLocal(\r\n    self.getPosition():add(Vector(0, data.hover_height, 0))\r\n  )\r\n  textPosition.x = -textPosition.x\r\n\r\n  local textScale = {}\r\n  textScale.x = self.getScale().x / target.getScale().x\r\n  textScale.y = self.getScale().x / target.getScale().y\r\n  textScale.z = self.getScale().x / target.getScale().z\r\n\r\n  local details = {\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=nil,\r\n    position=textPosition,\r\n    rotation=textRotation,\r\n    scale=textScale,\r\n    height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  }\r\n\r\n  target.createButton(details)\r\n\r\n  local script_state = target.script_state\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    table.insert(state, details)\r\n    target.script_state = JSON.encode(state)\r\n  else\r\n    target.script_state = JSON.encode({[1]=details})\r\n  end\r\n\r\n  target.script_code = target_script\r\n\r\n  self.destruct()\r\nend\r\n\r\nfunction applyMultiple(player_color, func_string, params, static_only)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if not static_only or obj.call('isStatic') then\r\n        obj.call(func_string, params)\r\n      end\r\n    end\r\n  end\r\nend\r\n\r\nfunction isStatic()\r\n  local input = self.getInputs()\r\n  return not input or #input == 0\r\nend\r\n\r\nfunction getBox(input, force)\r\n  local maxLength, lineCount = EXPAND_INTERVAL, 1\r\n  local lineLength = 0\r\n  for i = 1, #input do\r\n    local c = input:sub(i,i)\r\n    if c == '\\n' then\r\n      lineCount = lineCount + 1\r\n      if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n      lineLength = 0\r\n    else\r\n      lineLength = lineLength + 1\r\n    end\r\n  end\r\n  if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n\r\n  newWidth = data.size * maxLength * 0.9\r\n  newHeight = data.size * lineCount + 23\r\n\r\n  if force or boxWidth ~= newWidth or boxHeight ~= newHeight then\r\n    boxWidth, boxHeight = newWidth, newHeight\r\n    return {width = boxWidth, height = boxHeight}\r\n  end\r\n  return nil\r\nend\r\n\r\ntemp_lift = nil\r\nfunction onPickUp(player_color)\r\n  if data.autolift then\r\n    local player = Player[player_color]\r\n    temp_lift = player.lift_height\r\n    player.lift_height = 0\r\n  end\r\nend\r\n\r\nfunction onDrop(player_color)\r\n  if data.autolift and temp_lift then\r\n    Player[player_color].lift_height = temp_lift\r\n  end\r\nend\r\n\r\n-- Should be called every time data is modified, allows info to be saved on copy/paste\r\nfunction updateState()\r\n  self.script_state = JSON.encode(data)\r\nend\r\n\r\nfunction onSave()\r\n  self.script_state = JSON.encode(data)\r\n  return self.script_state\r\nend",
              "LuaScriptState": "{\"autolift\":false,\"autolock\":false,\"box_transparency\":1,\"color\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1},\"enter_to_finish\":false,\"hover_height\":0.05,\"interactable\":true,\"size\":250,\"text\":\"Royaume\\nIntemporel\"}",
              "XmlUI": ""
            },
            {
              "GUID": "472d90",
              "Name": "Deck",
              "Transform": {
                "posX": 30.5,
                "posY": 1.636536,
                "posZ": -3.00010014,
                "rotX": -0.0005909509,
                "rotY": 180.00209,
                "rotZ": 180.001068,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Deck Rencontre",
              "Description": "À la Recherche de Kadath",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": false,
              "SidewaysCard": false,
              "DeckIDs": [
                276218,
                276643,
                276216,
                304547,
                279309,
                304553,
                276645,
                279307,
                276217,
                279308,
                276219,
                278931,
                276220,
                278929,
                278932,
                276644,
                279310,
                278930,
                276616,
                276615,
                276221,
                279311,
                279314,
                304546
              ],
              "CustomDeck": {
                "2762": {
                  "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                },
                "2766": {
                  "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                },
                "3045": {
                  "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                },
                "2793": {
                  "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                },
                "2789": {
                  "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "594ce7",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.50411,
                    "posY": 10.7749071,
                    "posZ": -3.00721836,
                    "rotX": -0.0005939421,
                    "rotY": 180.166779,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Chant de l'Oiseau Magah",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06153\",\n  \"traits\": \"Curse.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276218,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "2b562d",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.50411,
                    "posY": 10.5749073,
                    "posZ": -3.00721836,
                    "rotX": -0.0005939421,
                    "rotY": 180.166779,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Murmures d'Hypnos",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06090\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276643,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "81c4f4",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.50411,
                    "posY": 10.3749075,
                    "posZ": -3.00721836,
                    "rotX": -0.0005939421,
                    "rotY": 180.166779,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Contrée Merveilleuse",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06154\",\n  \"traits\": \"Power.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276216,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "b43290",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.50411,
                    "posY": 10.1749077,
                    "posZ": -3.00721836,
                    "rotX": -0.0005939421,
                    "rotY": 180.166779,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Loi de 'Ygiroth (Discorde)",
                  "Description": "",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"hidden\": \"true\",\n  \"id\": \"06088\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 304547,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "3045": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "8d9e36",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.50411,
                    "posY": 9.637421,
                    "posZ": -3.00721812,
                    "rotX": -0.0005939936,
                    "rotY": 180.166779,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Zoog Discret",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 1,\n  \"id\": \"06107\",\n  \"traits\": \"Creature. Zoog.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 279309,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2793": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "fd8f43",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.50411,
                    "posY": 9.774907,
                    "posZ": -3.00721836,
                    "rotX": -0.0005939421,
                    "rotY": 180.166779,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Loi de 'Ygiroth (Chaos)",
                  "Description": "",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"hidden\": \"true\",\n  \"id\": \"06087\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 304553,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "3045": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "7e2db0",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.50411,
                    "posY": 9.574907,
                    "posZ": -3.00721836,
                    "rotX": -0.0005939421,
                    "rotY": 180.166779,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Murmures d'Hypnos",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06090\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276645,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "df8eab",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.50411,
                    "posY": 9.037421,
                    "posZ": -3.00721812,
                    "rotX": -0.000593884732,
                    "rotY": 180.166779,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Terrier de Zoog",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 1,\n  \"id\": \"06108\",\n  \"traits\": \"Creature. Zoog.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 279307,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2793": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "7a398a",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.50411,
                    "posY": 9.174908,
                    "posZ": -3.00721836,
                    "rotX": -0.0005939421,
                    "rotY": 180.166779,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Contrée Merveilleuse",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06154\",\n  \"traits\": \"Power.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276217,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "3c5635",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.50411,
                    "posY": 8.974908,
                    "posZ": -3.00721836,
                    "rotX": -0.0005939421,
                    "rotY": 180.166779,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Zoog Imperceptible",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 1,\n  \"id\": \"06108\",\n  \"traits\": \"Creature. Zoog.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 279308,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2793": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "81a444",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.50411,
                    "posY": 8.774907,
                    "posZ": -3.00721836,
                    "rotX": -0.0005939421,
                    "rotY": 180.166779,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Chant de l'Oiseau Magah",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06153\",\n  \"traits\": \"Curse.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276219,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "2a737a",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.50411,
                    "posY": 8.174908,
                    "posZ": -3.00721836,
                    "rotX": -0.0005939421,
                    "rotY": 180.166779,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Éclipse dans les Contrées du Rêve",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06096\",\n  \"traits\": \"Power.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 278931,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2789": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "95301e",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.50411,
                    "posY": 7.77490664,
                    "posZ": -3.00721836,
                    "rotX": -0.0005939421,
                    "rotY": 180.166779,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Traqueurs Nocturnes",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 2,\n  \"id\": \"06152\",\n  \"traits\": \"Creature. Monster.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276220,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "7c3bfd",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.50411,
                    "posY": 7.574907,
                    "posZ": -3.00721836,
                    "rotX": -0.0005939421,
                    "rotY": 180.166779,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Phénomène Prismatique",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06097\",\n  \"traits\": \"Power.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 278929,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2789": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "58cc46",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.50411,
                    "posY": 7.37490749,
                    "posZ": -3.00721836,
                    "rotX": -0.0005939421,
                    "rotY": 180.166779,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Éclipse dans les Contrées du Rêve",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06096\",\n  \"traits\": \"Power.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 278932,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2789": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "10e85a",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.50411,
                    "posY": 7.17490768,
                    "posZ": -3.00721836,
                    "rotX": -0.0005939421,
                    "rotY": 180.166779,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Murmures d'Hypnos",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06090\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276644,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "44709f",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.50411,
                    "posY": 6.97490835,
                    "posZ": -3.00721836,
                    "rotX": -0.0005939421,
                    "rotY": 180.166779,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Zoog Discret",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 1,\n  \"id\": \"06107\",\n  \"traits\": \"Creature. Zoog.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 279310,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2793": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "c36efb",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.50411,
                    "posY": 6.77490854,
                    "posZ": -3.00721836,
                    "rotX": -0.0005939421,
                    "rotY": 180.166779,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Phénomène Prismatique",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06097\",\n  \"traits\": \"Power.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 278930,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2789": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "8badb9",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.50411,
                    "posY": 6.57490826,
                    "posZ": -3.00721836,
                    "rotX": -0.0005939421,
                    "rotY": 180.166779,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Poursuivis par les Corsaires",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06104\",\n  \"traits\": \"Scheme.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276616,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "ddd1b2",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.50411,
                    "posY": 6.37490845,
                    "posZ": -3.00721836,
                    "rotX": -0.0005939421,
                    "rotY": 180.166779,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Poursuivis par les Corsaires",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06104\",\n  \"traits\": \"Scheme.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276615,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "2580bf",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.50411,
                    "posY": 6.17490864,
                    "posZ": -3.00721836,
                    "rotX": -0.0005939421,
                    "rotY": 180.166779,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Traqueurs Nocturnes",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 2,\n  \"id\": \"06152\",\n  \"traits\": \"Creature. Monster.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276221,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "6bace1",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.50411,
                    "posY": 5.97490835,
                    "posZ": -3.00721836,
                    "rotX": -0.0005939421,
                    "rotY": 180.166779,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Zoog Furtif",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 1,\n  \"id\": \"06106\",\n  \"traits\": \"Creature. Zoog.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 279311,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2793": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "71f665",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.50411,
                    "posY": 5.77490854,
                    "posZ": -3.00721836,
                    "rotX": -0.0005939421,
                    "rotY": 180.166779,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Zoog Furtif",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 1,\n  \"id\": \"06106\",\n  \"traits\": \"Creature. Zoog.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 279314,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2793": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "6fbd44",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.50411,
                    "posY": 5.57490826,
                    "posZ": -3.00721836,
                    "rotX": -0.0005939421,
                    "rotY": 180.166779,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Loi de 'Ygiroth (Pandémonium)",
                  "Description": "",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"hidden\": \"true\",\n  \"id\": \"06089\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 304546,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "3045": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "4dfe17",
              "Name": "Card",
              "Transform": {
                "posX": -19.4991856,
                "posY": 1.78360534,
                "posZ": 11.5000105,
                "rotX": -5.04831223E-06,
                "rotY": 179.998871,
                "rotZ": 3.691088E-08,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Meute de Vooniths",
              "Description": "",
              "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 2,\n  \"id\": \"06151\",\n  \"traits\": \"Creature. Monster.\",\n  \"type\": \"Enemy\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276223,
              "SidewaysCard": false,
              "CustomDeck": {
                "2762": {
                  "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "725e1b",
              "Name": "Deck",
              "Transform": {
                "posX": -29.5001259,
                "posY": 1.80055916,
                "posZ": 11.4998751,
                "rotX": -5.10836E-06,
                "rotY": 179.991333,
                "rotZ": -2.73833258E-08,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Maigre Bête de la Nuit Ténébreuse",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": false,
              "SidewaysCard": false,
              "DeckIDs": [
                276225,
                276224
              ],
              "CustomDeck": {
                "2762": {
                  "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "86556c",
                  "Name": "Card",
                  "Transform": {
                    "posX": -29.49735,
                    "posY": 5.68977547,
                    "posZ": 11.5002756,
                    "rotX": -4.82721862E-06,
                    "rotY": 179.981857,
                    "rotZ": 1.08480253E-06,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Maigre Bête de la Nuit Ténébreuse",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 4,\n  \"id\": \"06150\",\n  \"traits\": \"Monster. Nightgaunt.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276225,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "39bb91",
                  "Name": "Card",
                  "Transform": {
                    "posX": -29.49735,
                    "posY": 1.93799436,
                    "posZ": 11.5002756,
                    "rotX": 0.002059085,
                    "rotY": 179.981857,
                    "rotZ": -0.001832819,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Maigre Bête de la Nuit Ténébreuse",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 4,\n  \"id\": \"06150\",\n  \"traits\": \"Monster. Nightgaunt.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276224,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "76eb75",
              "Name": "Custom_Model",
              "Transform": {
                "posX": -30.9972076,
                "posY": 1.77174985,
                "posZ": 18.3175926,
                "rotX": 5.12661472E-06,
                "rotY": -0.000370356953,
                "rotZ": -8.982424E-08,
                "scaleX": 1.74999952,
                "scaleY": 1.74999952,
                "scaleZ": 1.74999952
              },
              "Nickname": "Coffre de rangement",
              "Description": "Ranger dans le coffre les cartes retirées de la partie.",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.0,
                "g": 0.67770046,
                "b": 0.555448532,
                "a": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": false,
              "Snap": false,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": false,
              "Tooltip": false,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/1478820768302617365/27883B7913E0E69143C3AA03493B7E7C4E8C29C0/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 1,
                "TypeIndex": 0,
                "CastShadows": true
              },
              "LuaScript": "-- Code for bag to identify text tool objects\r\nmovableTextTool_cowgoesmoo33 = true\r\n\r\n-- Number of characters before the text box width expands.\r\nEXPAND_INTERVAL = 20\r\n\r\n-- This table controls what is passed between save/load\r\ndata = {}\r\n\r\nfunction onLoad(saved_data)\r\n  if saved_data ~= '' then\r\n    data = JSON.decode(saved_data)\r\n    if data.text ~= '' then\r\n      self.interactable = data.interactable\r\n      staticMode()\r\n      return\r\n    end\r\n  else\r\n    data = {size=200, color=Color(0,0,0), text='', interactable=true,\r\n        enter_to_finish=false, autolock=false, autolift=false,\r\n        hover_height=0.05, box_transparency=1}\r\n  end\r\n\r\n  inputMode()\r\nend\r\n\r\n-- True if in the middle of delay after pressing Enter (with enter_to_finish on)\r\nfinishing = false\r\nfunction input_func(obj, color, input, stillEditing)\r\n  local params = getBox(input)\r\n  if params then\r\n    params.value = input\r\n    self.editInput(params)\r\n  end\r\n\r\n  if not stillEditing then\r\n    data.text = input\r\n    updateState()\r\n    if input ~= '' then staticMode(color) end\r\n  elseif data.enter_to_finish then\r\n    -- If enter is pressed: remove last newline and force finish\r\n    if not finishing and input:sub(-1) == '\\n' then\r\n      finishing = true\r\n      -- Delay to avoid user's Enter keypress being detected (opens chat box)\r\n      Wait.frames(function()\r\n        input = input:sub(1, -2)\r\n        data.text = input\r\n        updateState()\r\n        if input ~= '' then staticMode(color) else inputMode() end\r\n        finishing = false\r\n      end, 10)\r\n    end\r\n  end\r\nend\r\n\r\n-- When the inpupt box appears and lets the player type in it.\r\nfunction inputMode()\r\n  self.clearContextMenu()\r\n  self.clearInputs()\r\n  self.clearButtons()\r\n\r\n  local size = getBox(data.text, true)\r\n\r\n  self.createInput({\r\n    input_function = \"input_func\",\r\n    function_owner = self,\r\n    label          = \"Type Here\",\r\n    alignment      = 3,\r\n    position       = {x=0, y=data.hover_height, z=0},\r\n    rotation       = {0, 180, 0},\r\n    width          = size.width,\r\n    height         = size.height,\r\n    color          = getBackground(data.color),\r\n    font_color     = data.color,\r\n    font_size      = data.size,\r\n    value          = data.text,\r\n  })\r\n\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\nend\r\n\r\n-- When the input box disappears and displays the text.\r\nfunction staticMode(player)\r\n  self.clearContextMenu()\r\n  if data.autolock then\r\n    self.locked = true\r\n  end\r\n  if self.getInputs() and #self.getInputs() ~= 0 then\r\n    self.removeInput(0)\r\n  end\r\n\r\n  -- Clear from selecting player\r\n  if player then\r\n    self.removeFromPlayerSelection(player)\r\n  end\r\n\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  self.createButton({\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=self,\r\n    position={0,data.hover_height,0}, rotation={0,180,0}, height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  })\r\n\r\n  self.addContextMenuItem('Edit Text', function(color)\r\n    self.removeFromPlayerSelection(color)\r\n    inputMode()\r\n  end)\r\n  self.addContextMenuItem('Clear', function(color)\r\n    applyMultiple(color, 'clear', _, true)\r\n  end)\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\n  self.addContextMenuItem('Permanently Attach', attemptAttach)\r\n  self.addContextMenuItem('Permalock', function(color)\r\n    applyMultiple(color, 'permalock', _, true)\r\n  end)\r\nend\r\n\r\nfunction changeSize(params)\r\n  local delta = params[1]\r\n  local newSize = data.size + delta\r\n  if newSize > 800  or newSize < 50 then\r\n    return\r\n  end\r\n  data.size = newSize\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_size=data.size})\r\n  else\r\n    local size = getBox(data.text, true)\r\n    self.editInput({width=size.width, height=size.height, font_size=data.size})\r\n  end\r\nend\r\n\r\nfunction setColor(params)\r\n  if params and params[1] then\r\n    data.color = params[1]\r\n  else\r\n    data.color = self.getColorTint():setAt('a', 1) -- Take on color of object tint\r\n  end\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_color=data.color})\r\n  else\r\n    self.editInput({font_color=data.color, color=getBackground(data.color)})\r\n  end\r\nend\r\n\r\nfunction getBackground(color) --determines whether to use black or white depending on luminance\r\n  local r,g,b = Color(color):get()\r\n\r\n  local lum = 0.2126*r + 0.7152*g + 0.0722*b\r\n  if lum > 0.75 then\r\n    return {0.2,0.2,0.2, data.box_transparency}\r\n  else\r\n    return {1,1,1, data.box_transparency}\r\n  end\r\nend\r\n\r\nfunction clear()\r\n  data.text = ''\r\n  updateState()\r\n  inputMode()\r\nend\r\n\r\nfunction permalock()\r\n  self.interactable = false\r\n  data.interactable = false\r\n  updateState()\r\nend\r\n\r\nlocal target_script = [[\r\nfunction onLoad(script_state)\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    for _,entry in ipairs(state) do\r\n      self.createButton(entry)\r\n    end\r\n    self.addContextMenuItem('Clear All Text', function(color)\r\n      self.clearContextMenu()\r\n      self.clearButtons()\r\n      self.script_state = ''\r\n      self.script_code = ''\r\n    end)\r\n  end\r\nend\r\n]]\r\n\r\nfunction attemptAttach(player_color)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  local attachee\r\n  local attachers = {}\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if obj ~= self then\r\n        table.insert(attachers, obj)\r\n      end\r\n    else\r\n      if attachee then\r\n        broadcastToColor(\"More than one target selected.\", player_color)\r\n        return\r\n      else\r\n        attachee = obj\r\n      end\r\n    end\r\n  end\r\n  if attachee then\r\n    local code = attachee.script_code\r\n    if code and code ~= '' and code ~= target_script then\r\n      broadcastToColor(\"Warning: script on card has been overriden. Rewind time to undo.\", player_color)\r\n    end\r\n    for i,attacher in ipairs(attachers) do\r\n      attacher.call('attach', {target = attachee})\r\n    end\r\n    attach({target = attachee})\r\n    local type, flip = attachee.type, attachee.getRotation().z\r\n    if (type == 'Card' or type == 'Deck') and flip > 175 and flip < 185 then\r\n      broadcastToColor(\"Warning: text will not display if card or deck is facing down.\", player_color)\r\n    end\r\n  else\r\n    broadcastToColor(\"You must have a target object in your selection (using click-and-drag or Ctrl+Click) to use this option.\", player_color)\r\n  end\r\nend\r\n\r\nfunction attach(params)\r\n  local target = params.target\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  local textRotation = self.getRotation():sub(target.getRotation())\r\n    :add(Vector(180, 0, 180))\r\n\r\n  local textPosition = target.positionToLocal(\r\n    self.getPosition():add(Vector(0, data.hover_height, 0))\r\n  )\r\n  textPosition.x = -textPosition.x\r\n\r\n  local textScale = {}\r\n  textScale.x = self.getScale().x / target.getScale().x\r\n  textScale.y = self.getScale().x / target.getScale().y\r\n  textScale.z = self.getScale().x / target.getScale().z\r\n\r\n  local details = {\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=nil,\r\n    position=textPosition,\r\n    rotation=textRotation,\r\n    scale=textScale,\r\n    height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  }\r\n\r\n  target.createButton(details)\r\n\r\n  local script_state = target.script_state\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    table.insert(state, details)\r\n    target.script_state = JSON.encode(state)\r\n  else\r\n    target.script_state = JSON.encode({[1]=details})\r\n  end\r\n\r\n  target.script_code = target_script\r\n\r\n  self.destruct()\r\nend\r\n\r\nfunction applyMultiple(player_color, func_string, params, static_only)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if not static_only or obj.call('isStatic') then\r\n        obj.call(func_string, params)\r\n      end\r\n    end\r\n  end\r\nend\r\n\r\nfunction isStatic()\r\n  local input = self.getInputs()\r\n  return not input or #input == 0\r\nend\r\n\r\nfunction getBox(input, force)\r\n  local maxLength, lineCount = EXPAND_INTERVAL, 1\r\n  local lineLength = 0\r\n  for i = 1, #input do\r\n    local c = input:sub(i,i)\r\n    if c == '\\n' then\r\n      lineCount = lineCount + 1\r\n      if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n      lineLength = 0\r\n    else\r\n      lineLength = lineLength + 1\r\n    end\r\n  end\r\n  if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n\r\n  newWidth = data.size * maxLength * 0.9\r\n  newHeight = data.size * lineCount + 23\r\n\r\n  if force or boxWidth ~= newWidth or boxHeight ~= newHeight then\r\n    boxWidth, boxHeight = newWidth, newHeight\r\n    return {width = boxWidth, height = boxHeight}\r\n  end\r\n  return nil\r\nend\r\n\r\ntemp_lift = nil\r\nfunction onPickUp(player_color)\r\n  if data.autolift then\r\n    local player = Player[player_color]\r\n    temp_lift = player.lift_height\r\n    player.lift_height = 0\r\n  end\r\nend\r\n\r\nfunction onDrop(player_color)\r\n  if data.autolift and temp_lift then\r\n    Player[player_color].lift_height = temp_lift\r\n  end\r\nend\r\n\r\n-- Should be called every time data is modified, allows info to be saved on copy/paste\r\nfunction updateState()\r\n  self.script_state = JSON.encode(data)\r\nend\r\n\r\nfunction onSave()\r\n  self.script_state = JSON.encode(data)\r\n  return self.script_state\r\nend",
              "LuaScriptState": "{\"autolift\":false,\"autolock\":false,\"box_transparency\":1,\"color\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1},\"enter_to_finish\":false,\"hover_height\":0.05,\"interactable\":true,\"size\":200,\"text\":\"Ranger ici les cartes retirées\\nde la partie...\"}",
              "XmlUI": ""
            },
            {
              "GUID": "90f7b5",
              "Name": "Custom_Model_Bag",
              "Transform": {
                "posX": -27.0000114,
                "posY": 1.84000087,
                "posZ": 5.999989,
                "rotX": -4.640201E-06,
                "rotY": 179.9947,
                "rotZ": 2.339212E-07,
                "scaleX": 0.7,
                "scaleY": 0.7,
                "scaleZ": 0.7
              },
              "Nickname": "Mise en place pour Oriab",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "CustomMesh": {
                "MeshURL": "https://pastebin.com/raw/ALrYhQGb",
                "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/1985555189151509268/020353C2D28152718B1FA9AF1DF30ABA507D07DD/",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 6,
                "CustomShader": {
                  "SpecularColor": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "SpecularIntensity": 0.0,
                  "SpecularSharpness": 2.0,
                  "FresnelStrength": 0.0
                },
                "CastShadows": true
              },
              "Bag": {
                "Order": 0
              },
              "LuaScript": "-- Utility memory bag by Directsun\r\n-- Version 2.7.0\r\n-- Fork of Memory Bag 2.0 by MrStump\r\n--\r\n-- Want to contribute? Create an issue or fork the code on GitHub and submit a pull request:\r\n-- https://github.com/sunflowermans/TTS-UtilityMemoryBag\r\n\r\n\r\nfunction updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction combineMemoryFromBagsWithin()\r\n    local bagObjList = self.getObjects()\r\n    for _, bagObj in ipairs(bagObjList) do\r\n        local data = bagObj.lua_script_state\r\n        if data ~= nil then\r\n            local j = JSON.decode(data)\r\n            if j ~= nil and j.ml ~= nil then\r\n                for guid, entry in pairs(j.ml) do\r\n                    memoryList[guid] = entry\r\n                end\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateMemoryWithMoves()\r\n    memoryList = memoryListBackup\r\n    --get the first transposed object's coordinates\r\n    local obj = getObjectFromGUID(moveGuid)\r\n\r\n    -- p1 is where needs to go, p2 is where it was\r\n    local refObjPos = memoryList[moveGuid].pos\r\n    local deltaPos = findOffsetDistance(obj.getPosition(), refObjPos, nil)\r\n    local movedRotation = obj.getRotation()\r\n    for guid, entry in pairs(memoryList) do\r\n        memoryList[guid].pos.x = entry.pos.x - deltaPos.x\r\n        memoryList[guid].pos.y = entry.pos.y - deltaPos.y\r\n        memoryList[guid].pos.z = entry.pos.z - deltaPos.z\r\n        -- memoryList[guid].rot.x = movedRotation.x\r\n        -- memoryList[guid].rot.y = movedRotation.y\r\n        -- memoryList[guid].rot.z = movedRotation.z\r\n    end\r\n\r\n    --theList[obj.getGUID()] = {\r\n    --    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n    --    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n    --    lock=obj.getLock()\r\n    --}\r\n    moveList = {}\r\nend\r\n\r\nfunction onload(saved_data)\r\n\r\n    fresh = true\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n\r\n    end\r\n\r\n    moveList = {}\r\n    moveGuid = nil\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        fresh = false\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,2}, rotation={0,0,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by Transpose button\r\nfunction buttonClick_transpose()\r\n    moveGuid = nil\r\n    broadcastToAll(\"Select one object and move it- all objects will move relative to the new location\", {0.75, 0.75, 1})\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(true)\r\n    createSetupActionButtons(true)\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(false)\r\n    createSetupActionButtons(false)\r\nend\r\n\r\nfunction getAllObjectsInMemory()\r\n    local objTable = {}\r\n    local curObj = {}\r\n\r\n    for guid in pairs(memoryListBackup) do\r\n        curObj = getObjectFromGUID(guid)\r\n        table.insert(objTable, curObj)\r\n    end\r\n\r\n    return objTable\r\n    -- return getAllObjects()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects(move)\r\n    buttonIndexMap = {}\r\n    local howManyButtons = 0\r\n\r\n    local objsToHaveButtons = {}\r\n    if move == true then\r\n        objsToHaveButtons = getAllObjectsInMemory()\r\n    else\r\n        objsToHaveButtons = getAllObjects()\r\n    end\r\n\r\n    for _, obj in ipairs(objsToHaveButtons) do\r\n        if obj ~= self then\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor +2\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Workaround for custom PDFs\r\n            if obj.Book then\r\n                objPos.y = objPos.y + 0.5\r\n            end\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(obj, move) end\r\n            local color = {0.75,0.25,0.25,0.6}\r\n            local colorMove = {0,0,1,0.6}\r\n            if move == true then\r\n                color = colorMove\r\n            end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color=color,\r\n            })\r\n            buttonIndexMap[obj.getGUID()] = howManyButtons\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons(move)\r\n    self.createButton({\r\n       label=\"Annuler\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n       position={-1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n       font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    self.createButton({\r\n      label=\"Valider\", click_function=\"buttonClick_submit\", function_owner=self,\r\n      position={-1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n      font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    if move == false then\r\n      self.createButton({\r\n          label=\"Ajouter\", click_function=\"buttonClick_add\", function_owner=self,\r\n          position={1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n          font_size=250, color={0,0,0}, font_color={0.25,1,0.25}\r\n        })\r\n\r\n        self.createButton({\r\n            label=\"Sélection\", click_function=\"editDragSelection\", function_owner=self,\r\n            position={-1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n            font_size=250, color={0,0,0}, font_color={1,1,1}\r\n        })\r\n\r\n        if fresh == false then\r\n            self.createButton({\r\n                label=\"Mise à Jour\", click_function=\"buttonClick_setNew\", function_owner=self,\r\n                position={1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n                font_size=180, color={0,0,0}, font_color={0.75,0.75,1}\r\n            })\r\n            self.createButton({\r\n                label=\"Retirer\", click_function=\"buttonClick_remove\", function_owner=self,\r\n                position={1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n                font_size=250, color={0,0,0}, font_color={1,0.25,0.25}\r\n            })\r\n        end\r\n    end\r\n\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,0,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(obj, move)\r\n    local index = buttonIndexMap[obj.getGUID()]\r\n    local colorMove = {0,0,1,0.6}\r\n    local color = {0,1,0,0.6}\r\n\r\n    previousGuid = selectedGuid\r\n    selectedGuid = obj.getGUID()\r\n\r\n    theList = memoryList\r\n    if move == true then\r\n        theList = moveList\r\n        if previousGuid ~= nil and previousGuid ~= selectedGuid then\r\n            local prevObj = getObjectFromGUID(previousGuid)\r\n            prevObj.highlightOff()\r\n            self.editButton({index=previousIndex, color=colorMove})\r\n            theList[previousGuid] = nil\r\n        end\r\n        previousIndex = index\r\n    end\r\n\r\n    if theList[selectedGuid] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        theList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock(),\r\n            tint=obj.getColorTint()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        if move == true then\r\n            color = colorMove\r\n        end\r\n        self.editButton({index=index, color=color})\r\n        theList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\nfunction editDragSelection(bagObj, player, remove)\r\n    local selectedObjs = Player[player].getSelectedObjects()\r\n    if not remove then\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            --Ignore if already in the memory list, or does not have a button\r\n            if index and not memoryList[obj.getGUID()] then\r\n                self.editButton({index=index, color={0,1,0,0.6}})\r\n                --Adding pos/rot to memory table\r\n                local pos, rot = obj.getPosition(), obj.getRotation()\r\n                --I need to add it like this or it won't save due to indexing issue\r\n                memoryList[obj.getGUID()] = {\r\n                    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n                    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n                    lock=obj.getLock(),\r\n                    tint=obj.getColorTint()\r\n                }\r\n                obj.highlightOn({0,1,0})\r\n            end\r\n        end\r\n    else\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            if index and memoryList[obj.getGUID()] then\r\n                color = {0.75,0.25,0.25,0.6}\r\n                self.editButton({index=index, color=color})\r\n                memoryList[obj.getGUID()] = nil\r\n                obj.highlightOff()\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Sélection annulée\", {1,1,1})\r\n    moveGuid = nil\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    fresh = false\r\n    if next(moveList) ~= nil then\r\n        for guid in pairs(moveList) do\r\n            moveGuid = guid\r\n        end\r\n        if memoryListBackup[moveGuid] == nil then\r\n            broadcastToAll(\"Item selected for moving is not already in memory\", {1, 0.25, 0.25})\r\n        else\r\n            broadcastToAll(\"Moving all items in memory relative to new objects position!\", {0.75, 0.75, 1})\r\n            self.clearButtons()\r\n            self.clearInputs()\r\n            createMemoryActionButtons()\r\n            local count = 0\r\n            for guid in pairs(moveList) do\r\n                moveGuid = guid\r\n                count = count + 1\r\n                local obj = getObjectFromGUID(guid)\r\n                if obj ~= nil then obj.highlightOff() end\r\n            end\r\n            updateMemoryWithMoves()\r\n            updateSave()\r\n            buttonClick_place()\r\n        end\r\n    elseif next(memoryList) == nil and moveGuid == nil then\r\n        memoryList = memoryListBackup\r\n        broadcastToAll(\"No selections made.\", {0.75, 0.25, 0.25})\r\n    end\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\n    moveGuid = nil\r\nend\r\n\r\nfunction combineTables(first_table, second_table)\r\n    for k,v in pairs(second_table) do first_table[k] = v end\r\nend\r\n\r\nfunction buttonClick_add()\r\n    fresh = false\r\n    combineTables(memoryList, memoryListBackup)\r\n    broadcastToAll(\"Adding internal bags and selections to existing memory\", {0.25, 0.75, 0.25})\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_remove()\r\n    broadcastToAll(\"Removing Selected Entries From Memory\", {1.0, 0.25, 0.25})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        memoryListBackup[guid] = nil\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Removed\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_setNew()\r\n    broadcastToAll(\"Setting new position relative to items in memory\", {0.75, 0.75, 1})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        guid = obj.guid\r\n        if memoryListBackup[guid] ~= nil then\r\n            count = count + 1\r\n            memoryListBackup[guid].pos = obj.getPosition()\r\n            memoryListBackup[guid].rot = obj.getRotation()\r\n            memoryListBackup[guid].lock = obj.getLock()\r\n            memoryListBackup[guid].tint = obj.getColorTint()\r\n        end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    fresh = true\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Placer\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,2}, rotation={0,0,0}, height=350, width=1000,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Ranger\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,2.8}, rotation={0,0,0}, height=350, width=1000,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={2,0.3,0}, rotation={0,90,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    ---    self.createButton({\r\n    ---      label=\"Bouger\", click_function=\"buttonClick_transpose\", function_owner=self,\r\n    ---      position={-2,0.3,0.8}, rotation={0,270,0}, height=350, width=800,\r\n    ---      font_size=250, color={0,0,0}, font_color={0.75,0.75,1}\r\n    ---  \r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n            obj.setColorTint(entry.tint)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot, smooth=false\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    item.setColorTint(entry.tint)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objets placés\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objets rangés\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local yOffset = 0\r\n    if obj ~= nil then\r\n        local bounds = obj.getBounds()\r\n        yOffset = (bounds.size.y - bounds.offset.y)\r\n    end\r\n    local deltaPos = {}\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + yOffset\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n    local objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n    local x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n    local z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n    --return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\nfunction rotateMyCoordinates(desiredPos, obj)\r\n    local angle = math.rad(obj.getRotation().y)\r\n    local x = desiredPos.x * math.sin(angle)\r\n    local z = desiredPos.z * math.cos(angle)\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n    local mult = 10^(dec or 0)\r\n    return math.floor(num * mult + 0.5) / mult\r\nend\r\n\r\n\r\n--[[\r\nThis object provides access to a variable stored on the \"Global script\".\r\nThe variable holds the GUIDs for every Utility Memory Bag in the scene.\r\nExample:\r\n{'805ebd', '35cc21', 'fc8886', 'f50264', '5f5f63'}\r\n--]]\r\nAllMemoryBagsInScene = {\r\n    NAME_OF_GLOBAL_VARIABLE = \"_UtilityMemoryBag_AllMemoryBagsInScene\"\r\n}\r\n\r\nfunction AllMemoryBagsInScene:add(guid)\r\n    local guids = Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\n    table.insert(guids, guid)\r\n    Global.setTable(self.NAME_OF_GLOBAL_VARIABLE, guids)\r\nend\r\n\r\nfunction AllMemoryBagsInScene:getGuidList()\r\n    return Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\nend",
              "LuaScriptState": "{\"ml\":{\"46e947\":{\"lock\":false,\"pos\":{\"x\":-0.8164,\"y\":1.5074,\"z\":12.0891},\"rot\":{\"x\":359.9891,\"y\":-0.0002,\"z\":-0.0049},\"tint\":{\"a\":0,\"b\":0.555448532104492,\"g\":0.677700459957123,\"r\":0}},\"4df2ac\":{\"lock\":false,\"pos\":{\"x\":-6.5001,\"y\":1.5824,\"z\":8.5001},\"rot\":{\"x\":0.0291,\"y\":179.994,\"z\":0.0247},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"5fd668\":{\"lock\":false,\"pos\":{\"x\":-1.00010085105896,\"y\":1.51725578308105,\"z\":1.49999630451202},\"rot\":{\"x\":0.0108908778056502,\"y\":180.0078125,\"z\":0.00494968937709928},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"7234af\":{\"lock\":false,\"pos\":{\"x\":-1.00000023841858,\"y\":1.50498175621033,\"z\":8.5},\"rot\":{\"x\":0.00495002325624228,\"y\":90.0120010375977,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"7e3752\":{\"lock\":false,\"pos\":{\"x\":17.5009918212891,\"y\":1.5142285823822,\"z\":-6.01959705352783},\"rot\":{\"x\":0.00495202140882611,\"y\":90.0204467773438,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"8525cc\":{\"lock\":false,\"pos\":{\"x\":4.5,\"y\":1.51811134815216,\"z\":8.49989986419678},\"rot\":{\"x\":0.0108908619731665,\"y\":180.007781982422,\"z\":0.00494978716596961},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"a5d521\":{\"lock\":false,\"pos\":{\"x\":-1,\"y\":1.5537,\"z\":1.5},\"rot\":{\"x\":0.0109,\"y\":179.9938,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"b07782\":{\"lock\":false,\"pos\":{\"x\":-4,\"y\":1.50457549095154,\"z\":4.99999952316284},\"rot\":{\"x\":0.0112007167190313,\"y\":134.999877929688,\"z\":-0.00420458940789104},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"dcae02\":{\"lock\":false,\"pos\":{\"x\":-6.50000381469727,\"y\":1.51906144618988,\"z\":8.5},\"rot\":{\"x\":0.01089081261307,\"y\":180.007858276367,\"z\":0.00494977971538901},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"ec264a\":{\"lock\":false,\"pos\":{\"x\":4.5,\"y\":1.5545,\"z\":8.5},\"rot\":{\"x\":0.0109,\"y\":179.994,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"f9b57a\":{\"lock\":false,\"pos\":{\"x\":2,\"y\":1.50405728816986,\"z\":4.99999952316284},\"rot\":{\"x\":0.00420323712751269,\"y\":224.999969482422,\"z\":0.0112062664702535},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}}}}",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "46e947",
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -0.8164004,
                    "posY": 1.50739789,
                    "posZ": 12.0891,
                    "rotX": 359.9891,
                    "rotY": -0.0002012164,
                    "rotZ": -0.00494820951,
                    "scaleX": 1.74999952,
                    "scaleY": 1.74999952,
                    "scaleZ": 1.74999952
                  },
                  "Nickname": "Oriab",
                  "Description": "Mise en place de Oriab",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.0,
                    "g": 0.67770046,
                    "b": 0.555448532,
                    "a": 0.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": false,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": false,
                  "Tooltip": false,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/1478820768302617365/27883B7913E0E69143C3AA03493B7E7C4E8C29C0/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "",
                    "Convex": true,
                    "MaterialIndex": 1,
                    "TypeIndex": 0,
                    "CastShadows": true
                  },
                  "LuaScript": "-- Code for bag to identify text tool objects\r\nmovableTextTool_cowgoesmoo33 = true\r\n\r\n-- Number of characters before the text box width expands.\r\nEXPAND_INTERVAL = 20\r\n\r\n-- This table controls what is passed between save/load\r\ndata = {}\r\n\r\nfunction onLoad(saved_data)\r\n  if saved_data ~= '' then\r\n    data = JSON.decode(saved_data)\r\n    if data.text ~= '' then\r\n      self.interactable = data.interactable\r\n      staticMode()\r\n      return\r\n    end\r\n  else\r\n    data = {size=200, color=Color(0,0,0), text='', interactable=true,\r\n        enter_to_finish=false, autolock=false, autolift=false,\r\n        hover_height=0.05, box_transparency=1}\r\n  end\r\n\r\n  inputMode()\r\nend\r\n\r\n-- True if in the middle of delay after pressing Enter (with enter_to_finish on)\r\nfinishing = false\r\nfunction input_func(obj, color, input, stillEditing)\r\n  local params = getBox(input)\r\n  if params then\r\n    params.value = input\r\n    self.editInput(params)\r\n  end\r\n\r\n  if not stillEditing then\r\n    data.text = input\r\n    updateState()\r\n    if input ~= '' then staticMode(color) end\r\n  elseif data.enter_to_finish then\r\n    -- If enter is pressed: remove last newline and force finish\r\n    if not finishing and input:sub(-1) == '\\n' then\r\n      finishing = true\r\n      -- Delay to avoid user's Enter keypress being detected (opens chat box)\r\n      Wait.frames(function()\r\n        input = input:sub(1, -2)\r\n        data.text = input\r\n        updateState()\r\n        if input ~= '' then staticMode(color) else inputMode() end\r\n        finishing = false\r\n      end, 10)\r\n    end\r\n  end\r\nend\r\n\r\n-- When the inpupt box appears and lets the player type in it.\r\nfunction inputMode()\r\n  self.clearContextMenu()\r\n  self.clearInputs()\r\n  self.clearButtons()\r\n\r\n  local size = getBox(data.text, true)\r\n\r\n  self.createInput({\r\n    input_function = \"input_func\",\r\n    function_owner = self,\r\n    label          = \"Type Here\",\r\n    alignment      = 3,\r\n    position       = {x=0, y=data.hover_height, z=0},\r\n    rotation       = {0, 180, 0},\r\n    width          = size.width,\r\n    height         = size.height,\r\n    color          = getBackground(data.color),\r\n    font_color     = data.color,\r\n    font_size      = data.size,\r\n    value          = data.text,\r\n  })\r\n\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\nend\r\n\r\n-- When the input box disappears and displays the text.\r\nfunction staticMode(player)\r\n  self.clearContextMenu()\r\n  if data.autolock then\r\n    self.locked = true\r\n  end\r\n  if self.getInputs() and #self.getInputs() ~= 0 then\r\n    self.removeInput(0)\r\n  end\r\n\r\n  -- Clear from selecting player\r\n  if player then\r\n    self.removeFromPlayerSelection(player)\r\n  end\r\n\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  self.createButton({\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=self,\r\n    position={0,data.hover_height,0}, rotation={0,180,0}, height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  })\r\n\r\n  self.addContextMenuItem('Edit Text', function(color)\r\n    self.removeFromPlayerSelection(color)\r\n    inputMode()\r\n  end)\r\n  self.addContextMenuItem('Clear', function(color)\r\n    applyMultiple(color, 'clear', _, true)\r\n  end)\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\n  self.addContextMenuItem('Permanently Attach', attemptAttach)\r\n  self.addContextMenuItem('Permalock', function(color)\r\n    applyMultiple(color, 'permalock', _, true)\r\n  end)\r\nend\r\n\r\nfunction changeSize(params)\r\n  local delta = params[1]\r\n  local newSize = data.size + delta\r\n  if newSize > 800  or newSize < 50 then\r\n    return\r\n  end\r\n  data.size = newSize\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_size=data.size})\r\n  else\r\n    local size = getBox(data.text, true)\r\n    self.editInput({width=size.width, height=size.height, font_size=data.size})\r\n  end\r\nend\r\n\r\nfunction setColor(params)\r\n  if params and params[1] then\r\n    data.color = params[1]\r\n  else\r\n    data.color = self.getColorTint():setAt('a', 1) -- Take on color of object tint\r\n  end\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_color=data.color})\r\n  else\r\n    self.editInput({font_color=data.color, color=getBackground(data.color)})\r\n  end\r\nend\r\n\r\nfunction getBackground(color) --determines whether to use black or white depending on luminance\r\n  local r,g,b = Color(color):get()\r\n\r\n  local lum = 0.2126*r + 0.7152*g + 0.0722*b\r\n  if lum > 0.75 then\r\n    return {0.2,0.2,0.2, data.box_transparency}\r\n  else\r\n    return {1,1,1, data.box_transparency}\r\n  end\r\nend\r\n\r\nfunction clear()\r\n  data.text = ''\r\n  updateState()\r\n  inputMode()\r\nend\r\n\r\nfunction permalock()\r\n  self.interactable = false\r\n  data.interactable = false\r\n  updateState()\r\nend\r\n\r\nlocal target_script = [[\r\nfunction onLoad(script_state)\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    for _,entry in ipairs(state) do\r\n      self.createButton(entry)\r\n    end\r\n    self.addContextMenuItem('Clear All Text', function(color)\r\n      self.clearContextMenu()\r\n      self.clearButtons()\r\n      self.script_state = ''\r\n      self.script_code = ''\r\n    end)\r\n  end\r\nend\r\n]]\r\n\r\nfunction attemptAttach(player_color)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  local attachee\r\n  local attachers = {}\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if obj ~= self then\r\n        table.insert(attachers, obj)\r\n      end\r\n    else\r\n      if attachee then\r\n        broadcastToColor(\"More than one target selected.\", player_color)\r\n        return\r\n      else\r\n        attachee = obj\r\n      end\r\n    end\r\n  end\r\n  if attachee then\r\n    local code = attachee.script_code\r\n    if code and code ~= '' and code ~= target_script then\r\n      broadcastToColor(\"Warning: script on card has been overriden. Rewind time to undo.\", player_color)\r\n    end\r\n    for i,attacher in ipairs(attachers) do\r\n      attacher.call('attach', {target = attachee})\r\n    end\r\n    attach({target = attachee})\r\n    local type, flip = attachee.type, attachee.getRotation().z\r\n    if (type == 'Card' or type == 'Deck') and flip > 175 and flip < 185 then\r\n      broadcastToColor(\"Warning: text will not display if card or deck is facing down.\", player_color)\r\n    end\r\n  else\r\n    broadcastToColor(\"You must have a target object in your selection (using click-and-drag or Ctrl+Click) to use this option.\", player_color)\r\n  end\r\nend\r\n\r\nfunction attach(params)\r\n  local target = params.target\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  local textRotation = self.getRotation():sub(target.getRotation())\r\n    :add(Vector(180, 0, 180))\r\n\r\n  local textPosition = target.positionToLocal(\r\n    self.getPosition():add(Vector(0, data.hover_height, 0))\r\n  )\r\n  textPosition.x = -textPosition.x\r\n\r\n  local textScale = {}\r\n  textScale.x = self.getScale().x / target.getScale().x\r\n  textScale.y = self.getScale().x / target.getScale().y\r\n  textScale.z = self.getScale().x / target.getScale().z\r\n\r\n  local details = {\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=nil,\r\n    position=textPosition,\r\n    rotation=textRotation,\r\n    scale=textScale,\r\n    height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  }\r\n\r\n  target.createButton(details)\r\n\r\n  local script_state = target.script_state\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    table.insert(state, details)\r\n    target.script_state = JSON.encode(state)\r\n  else\r\n    target.script_state = JSON.encode({[1]=details})\r\n  end\r\n\r\n  target.script_code = target_script\r\n\r\n  self.destruct()\r\nend\r\n\r\nfunction applyMultiple(player_color, func_string, params, static_only)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if not static_only or obj.call('isStatic') then\r\n        obj.call(func_string, params)\r\n      end\r\n    end\r\n  end\r\nend\r\n\r\nfunction isStatic()\r\n  local input = self.getInputs()\r\n  return not input or #input == 0\r\nend\r\n\r\nfunction getBox(input, force)\r\n  local maxLength, lineCount = EXPAND_INTERVAL, 1\r\n  local lineLength = 0\r\n  for i = 1, #input do\r\n    local c = input:sub(i,i)\r\n    if c == '\\n' then\r\n      lineCount = lineCount + 1\r\n      if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n      lineLength = 0\r\n    else\r\n      lineLength = lineLength + 1\r\n    end\r\n  end\r\n  if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n\r\n  newWidth = data.size * maxLength * 0.9\r\n  newHeight = data.size * lineCount + 23\r\n\r\n  if force or boxWidth ~= newWidth or boxHeight ~= newHeight then\r\n    boxWidth, boxHeight = newWidth, newHeight\r\n    return {width = boxWidth, height = boxHeight}\r\n  end\r\n  return nil\r\nend\r\n\r\ntemp_lift = nil\r\nfunction onPickUp(player_color)\r\n  if data.autolift then\r\n    local player = Player[player_color]\r\n    temp_lift = player.lift_height\r\n    player.lift_height = 0\r\n  end\r\nend\r\n\r\nfunction onDrop(player_color)\r\n  if data.autolift and temp_lift then\r\n    Player[player_color].lift_height = temp_lift\r\n  end\r\nend\r\n\r\n-- Should be called every time data is modified, allows info to be saved on copy/paste\r\nfunction updateState()\r\n  self.script_state = JSON.encode(data)\r\nend\r\n\r\nfunction onSave()\r\n  self.script_state = JSON.encode(data)\r\n  return self.script_state\r\nend",
                  "LuaScriptState": "{\"autolift\":false,\"autolock\":false,\"box_transparency\":1,\"color\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1},\"enter_to_finish\":false,\"hover_height\":0.05,\"interactable\":true,\"size\":250,\"text\":\"Oriab\"}",
                  "XmlUI": ""
                },
                {
                  "GUID": "5fd668",
                  "Name": "Card",
                  "Transform": {
                    "posX": -1.00010157,
                    "posY": 1.51724041,
                    "posZ": 1.49999332,
                    "rotX": 0.0110495789,
                    "rotY": 180.007828,
                    "rotZ": 0.00388662564,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Baharna",
                  "Description": "Oriab. Ville. Port.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06136\",\n  \"locationFront\": {\n    \"connections\": \"Square|Diamond\",\n    \"icons\": \"Circle\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    },\n    \"victory\": 1\n  },\n  \"traits\": \"Oriab. City. Port.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276411,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2764": {
                      "FaceURL": "https://i.imgur.com/lxSjMsf.jpg",
                      "BackURL": "https://i.imgur.com/IhTn2aA.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "7234af",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -1.00000036,
                    "posY": 1.50498176,
                    "posZ": 8.5,
                    "rotX": 0.00494997,
                    "rotY": 90.012,
                    "rotZ": 359.9891,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/vppt2my.png",
                    "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "States": {
                    "2": {
                      "GUID": "44b0c5",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -39.7933121,
                        "posY": 1.63758957,
                        "posZ": 2.038383,
                        "rotX": 359.9201,
                        "rotY": 269.9961,
                        "rotZ": 0.0168742146,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    "3": {
                      "GUID": "5b38c6",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -38.8217163,
                        "posY": 1.99356019,
                        "posZ": 0.4159239,
                        "rotX": 359.9201,
                        "rotY": 272.9828,
                        "rotZ": 0.01687373,
                        "scaleX": 0.8,
                        "scaleY": 1.0,
                        "scaleZ": 0.8
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  }
                },
                {
                  "GUID": "7e3752",
                  "Name": "Card",
                  "Transform": {
                    "posX": 17.5009918,
                    "posY": 1.51422858,
                    "posZ": -6.019597,
                    "rotX": 0.004952017,
                    "rotY": 90.02048,
                    "rotZ": 359.9891,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "L'Île d'Oriab",
                  "Description": "Acte 2a",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06123\",\n  \"type\": \"Act\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276303,
                  "SidewaysCard": true,
                  "CustomDeck": {
                    "2763": {
                      "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                      "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "8525cc",
                  "Name": "Card",
                  "Transform": {
                    "posX": 4.5,
                    "posY": 1.51809645,
                    "posZ": 8.4999,
                    "rotX": 0.0110450163,
                    "rotY": 180.007767,
                    "rotZ": 0.003919576,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Mont Ngranek",
                  "Description": "Oriab. Montagne.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06137\",\n  \"locationFront\": {\n    \"connections\": \"Circle|Diamond\",\n    \"icons\": \"Square\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    },\n    \"victory\": 1\n  },\n  \"traits\": \"Oriab. Mountain.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276412,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2764": {
                      "FaceURL": "https://i.imgur.com/lxSjMsf.jpg",
                      "BackURL": "https://i.imgur.com/IhTn2aA.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "b07782",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -4.0,
                    "posY": 1.50457549,
                    "posZ": 4.999999,
                    "rotX": 0.0112007121,
                    "rotY": 134.999878,
                    "rotZ": -0.00420445437,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/vppt2my.png",
                    "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "States": {
                    "2": {
                      "GUID": "44b0c5",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -39.7933121,
                        "posY": 1.63758957,
                        "posZ": 2.038383,
                        "rotX": 359.9201,
                        "rotY": 269.9961,
                        "rotZ": 0.0168742146,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    "3": {
                      "GUID": "5b38c6",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -38.8217163,
                        "posY": 1.99356019,
                        "posZ": 0.4159239,
                        "rotX": 359.9201,
                        "rotY": 272.9828,
                        "rotZ": 0.01687373,
                        "scaleX": 0.8,
                        "scaleY": 1.0,
                        "scaleZ": 0.8
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  }
                },
                {
                  "GUID": "dcae02",
                  "Name": "Card",
                  "Transform": {
                    "posX": -6.4999423,
                    "posY": 1.54483473,
                    "posZ": 8.499923,
                    "rotX": 0.0592450276,
                    "rotY": 180.009277,
                    "rotZ": 0.0496313758,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Ruines sans Nom",
                  "Description": "Oriab. Antique. Ruines.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06138\",\n  \"locationFront\": {\n    \"connections\": \"Circle|Square\",\n    \"icons\": \"Diamond\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    },\n    \"victory\": 1\n  },\n  \"traits\": \"Oriab. Ancient. Ruins.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276413,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2764": {
                      "FaceURL": "https://i.imgur.com/lxSjMsf.jpg",
                      "BackURL": "https://i.imgur.com/IhTn2aA.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "f9b57a",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": 2.0,
                    "posY": 1.50405729,
                    "posZ": 4.99999952,
                    "rotX": 0.00420281338,
                    "rotY": 224.999954,
                    "rotZ": 0.0112021528,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/vppt2my.png",
                    "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "States": {
                    "2": {
                      "GUID": "44b0c5",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -39.7933121,
                        "posY": 1.63758957,
                        "posZ": 2.038383,
                        "rotX": 359.9201,
                        "rotY": 269.9961,
                        "rotZ": 0.0168742146,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    "3": {
                      "GUID": "5b38c6",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -38.8217163,
                        "posY": 1.99356019,
                        "posZ": 0.4159239,
                        "rotX": 359.9201,
                        "rotY": 272.9828,
                        "rotZ": 0.01687373,
                        "scaleX": 0.8,
                        "scaleY": 1.0,
                        "scaleZ": 0.8
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  }
                },
                {
                  "GUID": "4df2ac",
                  "Name": "Custom_Token",
                  "Transform": {
                    "posX": -6.500058,
                    "posY": 1.58236837,
                    "posZ": 8.500091,
                    "rotX": 0.0290745478,
                    "rotY": 179.994034,
                    "rotZ": 0.0246614162,
                    "scaleX": 0.23,
                    "scaleY": 1.0,
                    "scaleZ": 0.225
                  },
                  "Nickname": "Indices",
                  "Description": "Click gauche - Ajouter\nClick droit - Soustraire",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/784129913444610342/7903BA89870C1656A003FD69C79BFA99BD1AAC24/",
                    "ImageSecondaryURL": "",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomToken": {
                      "Thickness": 0.1,
                      "MergeDistancePixels": 5.0,
                      "StandUp": false,
                      "Stackable": false
                    }
                  },
                  "LuaScript": "MIN_VALUE = -99\r\nMAX_VALUE = 999\r\nlocal ZONE_HANDLER_GUID = 'ef3980'\r\nzoneHandler = getObjectFromGUID(ZONE_HANDLER_GUID)\r\nfunction onload(saved_data)\r\n    light_mode = true\r\n    val = 0\r\n\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        light_mode = loaded_data[1]\r\n        val = loaded_data[2]\r\n    end\r\n\r\n    createAll()\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = { light_mode, val }\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction createAll()\r\n    s_color = { 0, 0, 0, 100 }\r\n\r\n    if light_mode then\r\n        f_color = { 1, 1, 1, 100 }\r\n    else\r\n        f_color = { 0, 0, 0, 100 }\r\n    end\r\n\r\n\r\n\r\n    self.createButton({\r\n        label = tostring(val),\r\n        click_function = \"clickOrAlt_click\",\r\n        function_owner = self,\r\n        position = { 0, 0.05, 0.1 },\r\n        height = 600,\r\n        width = 1000,\r\n        alignment = 3,\r\n        scale = { x = 1.5, y = 1.5, z = 1.5 },\r\n        font_size = 800,\r\n        font_color = f_color,\r\n        color = { 1, 1, 1, 0 }\r\n    })\r\n\r\n\r\n    self.createButton({\r\n        click_function = \"takeClue\",\r\n        function_owner = self,\r\n        label = \"Prendre\",\r\n        position = { 3.5, 0.1, 0 },\r\n        rotation = { 0, 270, 0 },\r\n        scale = { 1.6, 1, 1.6 },\r\n        width = 1600,\r\n        height = 500,\r\n        font_size = 400,\r\n        font_color = { 1, 1, 1 },\r\n        color = { 0, 0, 0 },\r\n        tooltip = \"Prendre un indice (click droit pour reposer)\"\r\n    })\r\n\r\n\r\n\r\n    if light_mode then\r\n        lightButtonText = \"[ Set dark ]\"\r\n    else\r\n        lightButtonText = \"[ Set light ]\"\r\n    end\r\nend\r\n\r\nfunction removeAll()\r\n    self.removeInput(0)\r\n    self.removeInput(1)\r\n    self.removeButton(0)\r\n    self.removeButton(1)\r\n    self.removeButton(2)\r\nend\r\n\r\nfunction reloadAll()\r\n    removeAll()\r\n    createAll()\r\n\r\n    updateSave()\r\nend\r\n\r\nfunction swap_fcolor(_obj, _color, alt_click)\r\n    light_mode = not light_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction swap_align(_obj, _color, alt_click)\r\n    center_mode = not center_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction editName(_obj, _string, value)\r\n    self.setName(value)\r\n    setTooltips()\r\nend\r\n\r\nfunction clickOrAlt_click(_obj, _color, alt_click)\r\n    if alt_click then\r\n        substract()\r\n    else\r\n        add()\r\n    end\r\nend\r\n\r\nfunction substract()\r\n    add_subtract(-1)\r\nend\r\n\r\nfunction add()\r\n    add_subtract(1)\r\nend\r\n\r\nfunction add_subtract(mod)\r\n    new_value = math.min(math.max(val + mod, MIN_VALUE), MAX_VALUE)\r\n    if val ~= new_value then\r\n        val = new_value\r\n        updateVal()\r\n        updateSave()\r\n    end\r\nend\r\n\r\nfunction takeClue(_, color, alt_click)\r\n    if alt_click then\r\n        add()\r\n    else\r\n        substract()\r\n    end\r\n    local params = {}\r\n    params.playerColor = color\r\n    params.zone = 'CounterZone'\r\n    local objects = zoneHandler.call('getObjectsInPlayerZone', params)\r\n    for _, token in ipairs(objects) do\r\n        if token.getName() == \"Indices\" and token.getDescription() == \"Compteur de Joueur\" then\r\n            local cluecounter = token\r\n            if alt_click then\r\n                cluecounter.call('substract')\r\n            else\r\n                cluecounter.call('add')\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateVal()\r\n    self.editButton({\r\n        index = 0,\r\n        label = tostring(val),\r\n    })\r\nend\r\n\r\nfunction reset_val()\r\n    val = 0\r\n    updateVal()\r\n    updateSave()\r\nend\r\n\r\nfunction setTooltips()\r\n    self.editInput({\r\n        index = 0,\r\n        value = self.getName(),\r\n        tooltip = ttText\r\n    })\r\n    self.editButton({\r\n        index = 0,\r\n        value = tostring(val),\r\n        tooltip = ttText\r\n    })\r\nend\r\n\r\nfunction null()\r\nend\r\n\r\nfunction keepSample(_obj, _string, value)\r\n    reloadAll()\r\nend\r\n",
                  "LuaScriptState": "[true,0]",
                  "XmlUI": ""
                },
                {
                  "GUID": "ec264a",
                  "Name": "Custom_Token",
                  "Transform": {
                    "posX": 4.49999,
                    "posY": 1.55450654,
                    "posZ": 8.500002,
                    "rotX": 0.0108782183,
                    "rotY": 179.994,
                    "rotZ": 0.00494494755,
                    "scaleX": 0.23,
                    "scaleY": 1.0,
                    "scaleZ": 0.225
                  },
                  "Nickname": "Indices",
                  "Description": "Click gauche - Ajouter\nClick droit - Soustraire",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/784129913444610342/7903BA89870C1656A003FD69C79BFA99BD1AAC24/",
                    "ImageSecondaryURL": "",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomToken": {
                      "Thickness": 0.1,
                      "MergeDistancePixels": 5.0,
                      "StandUp": false,
                      "Stackable": false
                    }
                  },
                  "LuaScript": "MIN_VALUE = -99\r\nMAX_VALUE = 999\r\nlocal ZONE_HANDLER_GUID = 'ef3980'\r\nzoneHandler = getObjectFromGUID(ZONE_HANDLER_GUID)\r\nfunction onload(saved_data)\r\n    light_mode = true\r\n    val = 0\r\n\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        light_mode = loaded_data[1]\r\n        val = loaded_data[2]\r\n    end\r\n\r\n    createAll()\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = { light_mode, val }\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction createAll()\r\n    s_color = { 0, 0, 0, 100 }\r\n\r\n    if light_mode then\r\n        f_color = { 1, 1, 1, 100 }\r\n    else\r\n        f_color = { 0, 0, 0, 100 }\r\n    end\r\n\r\n\r\n\r\n    self.createButton({\r\n        label = tostring(val),\r\n        click_function = \"clickOrAlt_click\",\r\n        function_owner = self,\r\n        position = { 0, 0.05, 0.1 },\r\n        height = 600,\r\n        width = 1000,\r\n        alignment = 3,\r\n        scale = { x = 1.5, y = 1.5, z = 1.5 },\r\n        font_size = 800,\r\n        font_color = f_color,\r\n        color = { 1, 1, 1, 0 }\r\n    })\r\n\r\n\r\n    self.createButton({\r\n        click_function = \"takeClue\",\r\n        function_owner = self,\r\n        label = \"Prendre\",\r\n        position = { 3.5, 0.1, 0 },\r\n        rotation = { 0, 270, 0 },\r\n        scale = { 1.6, 1, 1.6 },\r\n        width = 1600,\r\n        height = 500,\r\n        font_size = 400,\r\n        font_color = { 1, 1, 1 },\r\n        color = { 0, 0, 0 },\r\n        tooltip = \"Prendre un indice (click droit pour reposer)\"\r\n    })\r\n\r\n\r\n\r\n    if light_mode then\r\n        lightButtonText = \"[ Set dark ]\"\r\n    else\r\n        lightButtonText = \"[ Set light ]\"\r\n    end\r\nend\r\n\r\nfunction removeAll()\r\n    self.removeInput(0)\r\n    self.removeInput(1)\r\n    self.removeButton(0)\r\n    self.removeButton(1)\r\n    self.removeButton(2)\r\nend\r\n\r\nfunction reloadAll()\r\n    removeAll()\r\n    createAll()\r\n\r\n    updateSave()\r\nend\r\n\r\nfunction swap_fcolor(_obj, _color, alt_click)\r\n    light_mode = not light_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction swap_align(_obj, _color, alt_click)\r\n    center_mode = not center_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction editName(_obj, _string, value)\r\n    self.setName(value)\r\n    setTooltips()\r\nend\r\n\r\nfunction clickOrAlt_click(_obj, _color, alt_click)\r\n    if alt_click then\r\n        substract()\r\n    else\r\n        add()\r\n    end\r\nend\r\n\r\nfunction substract()\r\n    add_subtract(-1)\r\nend\r\n\r\nfunction add()\r\n    add_subtract(1)\r\nend\r\n\r\nfunction add_subtract(mod)\r\n    new_value = math.min(math.max(val + mod, MIN_VALUE), MAX_VALUE)\r\n    if val ~= new_value then\r\n        val = new_value\r\n        updateVal()\r\n        updateSave()\r\n    end\r\nend\r\n\r\nfunction takeClue(_, color, alt_click)\r\n    if alt_click then\r\n        add()\r\n    else\r\n        substract()\r\n    end\r\n    local params = {}\r\n    params.playerColor = color\r\n    params.zone = 'CounterZone'\r\n    local objects = zoneHandler.call('getObjectsInPlayerZone', params)\r\n    for _, token in ipairs(objects) do\r\n        if token.getName() == \"Indices\" and token.getDescription() == \"Compteur de Joueur\" then\r\n            local cluecounter = token\r\n            if alt_click then\r\n                cluecounter.call('substract')\r\n            else\r\n                cluecounter.call('add')\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateVal()\r\n    self.editButton({\r\n        index = 0,\r\n        label = tostring(val),\r\n    })\r\nend\r\n\r\nfunction reset_val()\r\n    val = 0\r\n    updateVal()\r\n    updateSave()\r\nend\r\n\r\nfunction setTooltips()\r\n    self.editInput({\r\n        index = 0,\r\n        value = self.getName(),\r\n        tooltip = ttText\r\n    })\r\n    self.editButton({\r\n        index = 0,\r\n        value = tostring(val),\r\n        tooltip = ttText\r\n    })\r\nend\r\n\r\nfunction null()\r\nend\r\n\r\nfunction keepSample(_obj, _string, value)\r\n    reloadAll()\r\nend\r\n",
                  "LuaScriptState": "[true,0]",
                  "XmlUI": ""
                },
                {
                  "GUID": "a5d521",
                  "Name": "Custom_Token",
                  "Transform": {
                    "posX": -1.00000691,
                    "posY": 1.553651,
                    "posZ": 1.50000167,
                    "rotX": 0.0108533427,
                    "rotY": 179.99382,
                    "rotZ": 0.00494573964,
                    "scaleX": 0.23,
                    "scaleY": 1.0,
                    "scaleZ": 0.225
                  },
                  "Nickname": "Indices",
                  "Description": "Click gauche - Ajouter\nClick droit - Soustraire",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/784129913444610342/7903BA89870C1656A003FD69C79BFA99BD1AAC24/",
                    "ImageSecondaryURL": "",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomToken": {
                      "Thickness": 0.1,
                      "MergeDistancePixels": 5.0,
                      "StandUp": false,
                      "Stackable": false
                    }
                  },
                  "LuaScript": "MIN_VALUE = -99\r\nMAX_VALUE = 999\r\nlocal ZONE_HANDLER_GUID = 'ef3980'\r\nzoneHandler = getObjectFromGUID(ZONE_HANDLER_GUID)\r\nfunction onload(saved_data)\r\n    light_mode = true\r\n    val = 0\r\n\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        light_mode = loaded_data[1]\r\n        val = loaded_data[2]\r\n    end\r\n\r\n    createAll()\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = { light_mode, val }\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction createAll()\r\n    s_color = { 0, 0, 0, 100 }\r\n\r\n    if light_mode then\r\n        f_color = { 1, 1, 1, 100 }\r\n    else\r\n        f_color = { 0, 0, 0, 100 }\r\n    end\r\n\r\n\r\n\r\n    self.createButton({\r\n        label = tostring(val),\r\n        click_function = \"clickOrAlt_click\",\r\n        function_owner = self,\r\n        position = { 0, 0.05, 0.1 },\r\n        height = 600,\r\n        width = 1000,\r\n        alignment = 3,\r\n        scale = { x = 1.5, y = 1.5, z = 1.5 },\r\n        font_size = 800,\r\n        font_color = f_color,\r\n        color = { 1, 1, 1, 0 }\r\n    })\r\n\r\n\r\n    self.createButton({\r\n        click_function = \"takeClue\",\r\n        function_owner = self,\r\n        label = \"Prendre\",\r\n        position = { 3.5, 0.1, 0 },\r\n        rotation = { 0, 270, 0 },\r\n        scale = { 1.6, 1, 1.6 },\r\n        width = 1600,\r\n        height = 500,\r\n        font_size = 400,\r\n        font_color = { 1, 1, 1 },\r\n        color = { 0, 0, 0 },\r\n        tooltip = \"Prendre un indice (click droit pour reposer)\"\r\n    })\r\n\r\n\r\n\r\n    if light_mode then\r\n        lightButtonText = \"[ Set dark ]\"\r\n    else\r\n        lightButtonText = \"[ Set light ]\"\r\n    end\r\nend\r\n\r\nfunction removeAll()\r\n    self.removeInput(0)\r\n    self.removeInput(1)\r\n    self.removeButton(0)\r\n    self.removeButton(1)\r\n    self.removeButton(2)\r\nend\r\n\r\nfunction reloadAll()\r\n    removeAll()\r\n    createAll()\r\n\r\n    updateSave()\r\nend\r\n\r\nfunction swap_fcolor(_obj, _color, alt_click)\r\n    light_mode = not light_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction swap_align(_obj, _color, alt_click)\r\n    center_mode = not center_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction editName(_obj, _string, value)\r\n    self.setName(value)\r\n    setTooltips()\r\nend\r\n\r\nfunction clickOrAlt_click(_obj, _color, alt_click)\r\n    if alt_click then\r\n        substract()\r\n    else\r\n        add()\r\n    end\r\nend\r\n\r\nfunction substract()\r\n    add_subtract(-1)\r\nend\r\n\r\nfunction add()\r\n    add_subtract(1)\r\nend\r\n\r\nfunction add_subtract(mod)\r\n    new_value = math.min(math.max(val + mod, MIN_VALUE), MAX_VALUE)\r\n    if val ~= new_value then\r\n        val = new_value\r\n        updateVal()\r\n        updateSave()\r\n    end\r\nend\r\n\r\nfunction takeClue(_, color, alt_click)\r\n    if alt_click then\r\n        add()\r\n    else\r\n        substract()\r\n    end\r\n    local params = {}\r\n    params.playerColor = color\r\n    params.zone = 'CounterZone'\r\n    local objects = zoneHandler.call('getObjectsInPlayerZone', params)\r\n    for _, token in ipairs(objects) do\r\n        if token.getName() == \"Indices\" and token.getDescription() == \"Compteur de Joueur\" then\r\n            local cluecounter = token\r\n            if alt_click then\r\n                cluecounter.call('substract')\r\n            else\r\n                cluecounter.call('add')\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateVal()\r\n    self.editButton({\r\n        index = 0,\r\n        label = tostring(val),\r\n    })\r\nend\r\n\r\nfunction reset_val()\r\n    val = 0\r\n    updateVal()\r\n    updateSave()\r\nend\r\n\r\nfunction setTooltips()\r\n    self.editInput({\r\n        index = 0,\r\n        value = self.getName(),\r\n        tooltip = ttText\r\n    })\r\n    self.editButton({\r\n        index = 0,\r\n        value = tostring(val),\r\n        tooltip = ttText\r\n    })\r\nend\r\n\r\nfunction null()\r\nend\r\n\r\nfunction keepSample(_obj, _string, value)\r\n    reloadAll()\r\nend\r\n",
                  "LuaScriptState": "[true,0]",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "9781fa",
              "Name": "Card",
              "Transform": {
                "posX": -23.0,
                "posY": 1.78360534,
                "posZ": 11.4999971,
                "rotX": -5.00406941E-06,
                "rotY": 180.000031,
                "rotZ": 1.23401776E-07,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Chats d'Ulthar",
              "Description": "",
              "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 1,\n  \"id\": \"06145\",\n  \"traits\": \"Creature. Elite.\",\n  \"type\": \"Enemy\",\n  \"victory\": 1\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276230,
              "SidewaysCard": false,
              "CustomDeck": {
                "2762": {
                  "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "9795b1",
              "Name": "Custom_Model",
              "Transform": {
                "posX": -20.0000038,
                "posY": 1.77100122,
                "posZ": 2.99999619,
                "rotX": 4.77621552E-06,
                "rotY": 0.002299886,
                "rotZ": 1.2393973E-08,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Text Tool",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.0,
                "g": 0.0,
                "b": 0.0,
                "a": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": false,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": false,
              "Tooltip": false,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/1478820768302617365/27883B7913E0E69143C3AA03493B7E7C4E8C29C0/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 1,
                "TypeIndex": 0,
                "CastShadows": true
              },
              "LuaScript": "-- Code for bag to identify text tool objects\r\nmovableTextTool_cowgoesmoo33 = true\r\n\r\n-- Number of characters before the text box width expands.\r\nEXPAND_INTERVAL = 20\r\n\r\n-- This table controls what is passed between save/load\r\ndata = {}\r\n\r\nfunction onLoad(saved_data)\r\n  if saved_data ~= '' then\r\n    data = JSON.decode(saved_data)\r\n    if data.text ~= '' then\r\n      self.interactable = data.interactable\r\n      staticMode()\r\n      return\r\n    end\r\n  else\r\n    data = {size=200, color=Color(0,0,0), text='', interactable=true,\r\n        enter_to_finish=false, autolock=false, autolift=false,\r\n        hover_height=0.05, box_transparency=1}\r\n  end\r\n\r\n  inputMode()\r\nend\r\n\r\n-- True if in the middle of delay after pressing Enter (with enter_to_finish on)\r\nfinishing = false\r\nfunction input_func(obj, color, input, stillEditing)\r\n  local params = getBox(input)\r\n  if params then\r\n    params.value = input\r\n    self.editInput(params)\r\n  end\r\n\r\n  if not stillEditing then\r\n    data.text = input\r\n    updateState()\r\n    if input ~= '' then staticMode(color) end\r\n  elseif data.enter_to_finish then\r\n    -- If enter is pressed: remove last newline and force finish\r\n    if not finishing and input:sub(-1) == '\\n' then\r\n      finishing = true\r\n      -- Delay to avoid user's Enter keypress being detected (opens chat box)\r\n      Wait.frames(function()\r\n        input = input:sub(1, -2)\r\n        data.text = input\r\n        updateState()\r\n        if input ~= '' then staticMode(color) else inputMode() end\r\n        finishing = false\r\n      end, 10)\r\n    end\r\n  end\r\nend\r\n\r\n-- When the inpupt box appears and lets the player type in it.\r\nfunction inputMode()\r\n  self.clearContextMenu()\r\n  self.clearInputs()\r\n  self.clearButtons()\r\n\r\n  local size = getBox(data.text, true)\r\n\r\n  self.createInput({\r\n    input_function = \"input_func\",\r\n    function_owner = self,\r\n    label          = \"Type Here\",\r\n    alignment      = 3,\r\n    position       = {x=0, y=data.hover_height, z=0},\r\n    rotation       = {0, 180, 0},\r\n    width          = size.width,\r\n    height         = size.height,\r\n    color          = getBackground(data.color),\r\n    font_color     = data.color,\r\n    font_size      = data.size,\r\n    value          = data.text,\r\n  })\r\n\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\nend\r\n\r\n-- When the input box disappears and displays the text.\r\nfunction staticMode(player)\r\n  self.clearContextMenu()\r\n  if data.autolock then\r\n    self.locked = true\r\n  end\r\n  if self.getInputs() and #self.getInputs() ~= 0 then\r\n    self.removeInput(0)\r\n  end\r\n\r\n  -- Clear from selecting player\r\n  if player then\r\n    self.removeFromPlayerSelection(player)\r\n  end\r\n\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  self.createButton({\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=self,\r\n    position={0,data.hover_height,0}, rotation={0,180,0}, height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  })\r\n\r\n  self.addContextMenuItem('Edit Text', function(color)\r\n    self.removeFromPlayerSelection(color)\r\n    inputMode()\r\n  end)\r\n  self.addContextMenuItem('Clear', function(color)\r\n    applyMultiple(color, 'clear', _, true)\r\n  end)\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\n  self.addContextMenuItem('Permanently Attach', attemptAttach)\r\n  self.addContextMenuItem('Permalock', function(color)\r\n    applyMultiple(color, 'permalock', _, true)\r\n  end)\r\nend\r\n\r\nfunction changeSize(params)\r\n  local delta = params[1]\r\n  local newSize = data.size + delta\r\n  if newSize > 800  or newSize < 50 then\r\n    return\r\n  end\r\n  data.size = newSize\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_size=data.size})\r\n  else\r\n    local size = getBox(data.text, true)\r\n    self.editInput({width=size.width, height=size.height, font_size=data.size})\r\n  end\r\nend\r\n\r\nfunction setColor(params)\r\n  if params and params[1] then\r\n    data.color = params[1]\r\n  else\r\n    data.color = self.getColorTint():setAt('a', 1) -- Take on color of object tint\r\n  end\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_color=data.color})\r\n  else\r\n    self.editInput({font_color=data.color, color=getBackground(data.color)})\r\n  end\r\nend\r\n\r\nfunction getBackground(color) --determines whether to use black or white depending on luminance\r\n  local r,g,b = Color(color):get()\r\n\r\n  local lum = 0.2126*r + 0.7152*g + 0.0722*b\r\n  if lum > 0.75 then\r\n    return {0.2,0.2,0.2, data.box_transparency}\r\n  else\r\n    return {1,1,1, data.box_transparency}\r\n  end\r\nend\r\n\r\nfunction clear()\r\n  data.text = ''\r\n  updateState()\r\n  inputMode()\r\nend\r\n\r\nfunction permalock()\r\n  self.interactable = false\r\n  data.interactable = false\r\n  updateState()\r\nend\r\n\r\nlocal target_script = [[\r\nfunction onLoad(script_state)\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    for _,entry in ipairs(state) do\r\n      self.createButton(entry)\r\n    end\r\n    self.addContextMenuItem('Clear All Text', function(color)\r\n      self.clearContextMenu()\r\n      self.clearButtons()\r\n      self.script_state = ''\r\n      self.script_code = ''\r\n    end)\r\n  end\r\nend\r\n]]\r\n\r\nfunction attemptAttach(player_color)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  local attachee\r\n  local attachers = {}\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if obj ~= self then\r\n        table.insert(attachers, obj)\r\n      end\r\n    else\r\n      if attachee then\r\n        broadcastToColor(\"More than one target selected.\", player_color)\r\n        return\r\n      else\r\n        attachee = obj\r\n      end\r\n    end\r\n  end\r\n  if attachee then\r\n    local code = attachee.script_code\r\n    if code and code ~= '' and code ~= target_script then\r\n      broadcastToColor(\"Warning: script on card has been overriden. Rewind time to undo.\", player_color)\r\n    end\r\n    for i,attacher in ipairs(attachers) do\r\n      attacher.call('attach', {target = attachee})\r\n    end\r\n    attach({target = attachee})\r\n    local type, flip = attachee.type, attachee.getRotation().z\r\n    if (type == 'Card' or type == 'Deck') and flip > 175 and flip < 185 then\r\n      broadcastToColor(\"Warning: text will not display if card or deck is facing down.\", player_color)\r\n    end\r\n  else\r\n    broadcastToColor(\"You must have a target object in your selection (using click-and-drag or Ctrl+Click) to use this option.\", player_color)\r\n  end\r\nend\r\n\r\nfunction attach(params)\r\n  local target = params.target\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  local textRotation = self.getRotation():sub(target.getRotation())\r\n    :add(Vector(180, 0, 180))\r\n\r\n  local textPosition = target.positionToLocal(\r\n    self.getPosition():add(Vector(0, data.hover_height, 0))\r\n  )\r\n  textPosition.x = -textPosition.x\r\n\r\n  local textScale = {}\r\n  textScale.x = self.getScale().x / target.getScale().x\r\n  textScale.y = self.getScale().x / target.getScale().y\r\n  textScale.z = self.getScale().x / target.getScale().z\r\n\r\n  local details = {\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=nil,\r\n    position=textPosition,\r\n    rotation=textRotation,\r\n    scale=textScale,\r\n    height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  }\r\n\r\n  target.createButton(details)\r\n\r\n  local script_state = target.script_state\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    table.insert(state, details)\r\n    target.script_state = JSON.encode(state)\r\n  else\r\n    target.script_state = JSON.encode({[1]=details})\r\n  end\r\n\r\n  target.script_code = target_script\r\n\r\n  self.destruct()\r\nend\r\n\r\nfunction applyMultiple(player_color, func_string, params, static_only)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if not static_only or obj.call('isStatic') then\r\n        obj.call(func_string, params)\r\n      end\r\n    end\r\n  end\r\nend\r\n\r\nfunction isStatic()\r\n  local input = self.getInputs()\r\n  return not input or #input == 0\r\nend\r\n\r\nfunction getBox(input, force)\r\n  local maxLength, lineCount = EXPAND_INTERVAL, 1\r\n  local lineLength = 0\r\n  for i = 1, #input do\r\n    local c = input:sub(i,i)\r\n    if c == '\\n' then\r\n      lineCount = lineCount + 1\r\n      if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n      lineLength = 0\r\n    else\r\n      lineLength = lineLength + 1\r\n    end\r\n  end\r\n  if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n\r\n  newWidth = data.size * maxLength * 0.9\r\n  newHeight = data.size * lineCount + 23\r\n\r\n  if force or boxWidth ~= newWidth or boxHeight ~= newHeight then\r\n    boxWidth, boxHeight = newWidth, newHeight\r\n    return {width = boxWidth, height = boxHeight}\r\n  end\r\n  return nil\r\nend\r\n\r\ntemp_lift = nil\r\nfunction onPickUp(player_color)\r\n  if data.autolift then\r\n    local player = Player[player_color]\r\n    temp_lift = player.lift_height\r\n    player.lift_height = 0\r\n  end\r\nend\r\n\r\nfunction onDrop(player_color)\r\n  if data.autolift and temp_lift then\r\n    Player[player_color].lift_height = temp_lift\r\n  end\r\nend\r\n\r\n-- Should be called every time data is modified, allows info to be saved on copy/paste\r\nfunction updateState()\r\n  self.script_state = JSON.encode(data)\r\nend\r\n\r\nfunction onSave()\r\n  self.script_state = JSON.encode(data)\r\n  return self.script_state\r\nend",
              "LuaScriptState": "{\"autolift\":false,\"autolock\":false,\"box_transparency\":1,\"color\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1},\"enter_to_finish\":false,\"hover_height\":0.05,\"interactable\":true,\"size\":250,\"text\":\"Terres\\nInterdites\"}",
              "XmlUI": ""
            },
            {
              "GUID": "a195b9",
              "Name": "Custom_Model_Bag",
              "Transform": {
                "posX": -20.0000019,
                "posY": 1.840001,
                "posZ": 5.999998,
                "rotX": -5.10997825E-06,
                "rotY": 179.985611,
                "rotZ": -5.623127E-07,
                "scaleX": 0.7,
                "scaleY": 0.7,
                "scaleZ": 0.7
              },
              "Nickname": "Mise en place pour les Terres Interdites",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "CustomMesh": {
                "MeshURL": "https://pastebin.com/raw/ALrYhQGb",
                "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/1985555189151509268/020353C2D28152718B1FA9AF1DF30ABA507D07DD/",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 6,
                "CustomShader": {
                  "SpecularColor": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "SpecularIntensity": 0.0,
                  "SpecularSharpness": 2.0,
                  "FresnelStrength": 0.0
                },
                "CastShadows": true
              },
              "Bag": {
                "Order": 0
              },
              "LuaScript": "-- Utility memory bag by Directsun\r\n-- Version 2.7.0\r\n-- Fork of Memory Bag 2.0 by MrStump\r\n--\r\n-- Want to contribute? Create an issue or fork the code on GitHub and submit a pull request:\r\n-- https://github.com/sunflowermans/TTS-UtilityMemoryBag\r\n\r\n\r\nfunction updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction combineMemoryFromBagsWithin()\r\n    local bagObjList = self.getObjects()\r\n    for _, bagObj in ipairs(bagObjList) do\r\n        local data = bagObj.lua_script_state\r\n        if data ~= nil then\r\n            local j = JSON.decode(data)\r\n            if j ~= nil and j.ml ~= nil then\r\n                for guid, entry in pairs(j.ml) do\r\n                    memoryList[guid] = entry\r\n                end\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateMemoryWithMoves()\r\n    memoryList = memoryListBackup\r\n    --get the first transposed object's coordinates\r\n    local obj = getObjectFromGUID(moveGuid)\r\n\r\n    -- p1 is where needs to go, p2 is where it was\r\n    local refObjPos = memoryList[moveGuid].pos\r\n    local deltaPos = findOffsetDistance(obj.getPosition(), refObjPos, nil)\r\n    local movedRotation = obj.getRotation()\r\n    for guid, entry in pairs(memoryList) do\r\n        memoryList[guid].pos.x = entry.pos.x - deltaPos.x\r\n        memoryList[guid].pos.y = entry.pos.y - deltaPos.y\r\n        memoryList[guid].pos.z = entry.pos.z - deltaPos.z\r\n        -- memoryList[guid].rot.x = movedRotation.x\r\n        -- memoryList[guid].rot.y = movedRotation.y\r\n        -- memoryList[guid].rot.z = movedRotation.z\r\n    end\r\n\r\n    --theList[obj.getGUID()] = {\r\n    --    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n    --    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n    --    lock=obj.getLock()\r\n    --}\r\n    moveList = {}\r\nend\r\n\r\nfunction onload(saved_data)\r\n\r\n    fresh = true\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n\r\n    end\r\n\r\n    moveList = {}\r\n    moveGuid = nil\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        fresh = false\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,2}, rotation={0,0,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by Transpose button\r\nfunction buttonClick_transpose()\r\n    moveGuid = nil\r\n    broadcastToAll(\"Select one object and move it- all objects will move relative to the new location\", {0.75, 0.75, 1})\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(true)\r\n    createSetupActionButtons(true)\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(false)\r\n    createSetupActionButtons(false)\r\nend\r\n\r\nfunction getAllObjectsInMemory()\r\n    local objTable = {}\r\n    local curObj = {}\r\n\r\n    for guid in pairs(memoryListBackup) do\r\n        curObj = getObjectFromGUID(guid)\r\n        table.insert(objTable, curObj)\r\n    end\r\n\r\n    return objTable\r\n    -- return getAllObjects()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects(move)\r\n    buttonIndexMap = {}\r\n    local howManyButtons = 0\r\n\r\n    local objsToHaveButtons = {}\r\n    if move == true then\r\n        objsToHaveButtons = getAllObjectsInMemory()\r\n    else\r\n        objsToHaveButtons = getAllObjects()\r\n    end\r\n\r\n    for _, obj in ipairs(objsToHaveButtons) do\r\n        if obj ~= self then\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor +2\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Workaround for custom PDFs\r\n            if obj.Book then\r\n                objPos.y = objPos.y + 0.5\r\n            end\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(obj, move) end\r\n            local color = {0.75,0.25,0.25,0.6}\r\n            local colorMove = {0,0,1,0.6}\r\n            if move == true then\r\n                color = colorMove\r\n            end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color=color,\r\n            })\r\n            buttonIndexMap[obj.getGUID()] = howManyButtons\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons(move)\r\n    self.createButton({\r\n       label=\"Annuler\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n       position={-1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n       font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    self.createButton({\r\n      label=\"Valider\", click_function=\"buttonClick_submit\", function_owner=self,\r\n      position={-1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n      font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    if move == false then\r\n      self.createButton({\r\n          label=\"Ajouter\", click_function=\"buttonClick_add\", function_owner=self,\r\n          position={1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n          font_size=250, color={0,0,0}, font_color={0.25,1,0.25}\r\n        })\r\n\r\n        self.createButton({\r\n            label=\"Sélection\", click_function=\"editDragSelection\", function_owner=self,\r\n            position={-1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n            font_size=250, color={0,0,0}, font_color={1,1,1}\r\n        })\r\n\r\n        if fresh == false then\r\n            self.createButton({\r\n                label=\"Mise à Jour\", click_function=\"buttonClick_setNew\", function_owner=self,\r\n                position={1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n                font_size=180, color={0,0,0}, font_color={0.75,0.75,1}\r\n            })\r\n            self.createButton({\r\n                label=\"Retirer\", click_function=\"buttonClick_remove\", function_owner=self,\r\n                position={1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n                font_size=250, color={0,0,0}, font_color={1,0.25,0.25}\r\n            })\r\n        end\r\n    end\r\n\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,0,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(obj, move)\r\n    local index = buttonIndexMap[obj.getGUID()]\r\n    local colorMove = {0,0,1,0.6}\r\n    local color = {0,1,0,0.6}\r\n\r\n    previousGuid = selectedGuid\r\n    selectedGuid = obj.getGUID()\r\n\r\n    theList = memoryList\r\n    if move == true then\r\n        theList = moveList\r\n        if previousGuid ~= nil and previousGuid ~= selectedGuid then\r\n            local prevObj = getObjectFromGUID(previousGuid)\r\n            prevObj.highlightOff()\r\n            self.editButton({index=previousIndex, color=colorMove})\r\n            theList[previousGuid] = nil\r\n        end\r\n        previousIndex = index\r\n    end\r\n\r\n    if theList[selectedGuid] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        theList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock(),\r\n            tint=obj.getColorTint()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        if move == true then\r\n            color = colorMove\r\n        end\r\n        self.editButton({index=index, color=color})\r\n        theList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\nfunction editDragSelection(bagObj, player, remove)\r\n    local selectedObjs = Player[player].getSelectedObjects()\r\n    if not remove then\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            --Ignore if already in the memory list, or does not have a button\r\n            if index and not memoryList[obj.getGUID()] then\r\n                self.editButton({index=index, color={0,1,0,0.6}})\r\n                --Adding pos/rot to memory table\r\n                local pos, rot = obj.getPosition(), obj.getRotation()\r\n                --I need to add it like this or it won't save due to indexing issue\r\n                memoryList[obj.getGUID()] = {\r\n                    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n                    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n                    lock=obj.getLock(),\r\n                    tint=obj.getColorTint()\r\n                }\r\n                obj.highlightOn({0,1,0})\r\n            end\r\n        end\r\n    else\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            if index and memoryList[obj.getGUID()] then\r\n                color = {0.75,0.25,0.25,0.6}\r\n                self.editButton({index=index, color=color})\r\n                memoryList[obj.getGUID()] = nil\r\n                obj.highlightOff()\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Sélection annulée\", {1,1,1})\r\n    moveGuid = nil\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    fresh = false\r\n    if next(moveList) ~= nil then\r\n        for guid in pairs(moveList) do\r\n            moveGuid = guid\r\n        end\r\n        if memoryListBackup[moveGuid] == nil then\r\n            broadcastToAll(\"Item selected for moving is not already in memory\", {1, 0.25, 0.25})\r\n        else\r\n            broadcastToAll(\"Moving all items in memory relative to new objects position!\", {0.75, 0.75, 1})\r\n            self.clearButtons()\r\n            self.clearInputs()\r\n            createMemoryActionButtons()\r\n            local count = 0\r\n            for guid in pairs(moveList) do\r\n                moveGuid = guid\r\n                count = count + 1\r\n                local obj = getObjectFromGUID(guid)\r\n                if obj ~= nil then obj.highlightOff() end\r\n            end\r\n            updateMemoryWithMoves()\r\n            updateSave()\r\n            buttonClick_place()\r\n        end\r\n    elseif next(memoryList) == nil and moveGuid == nil then\r\n        memoryList = memoryListBackup\r\n        broadcastToAll(\"No selections made.\", {0.75, 0.25, 0.25})\r\n    end\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\n    moveGuid = nil\r\nend\r\n\r\nfunction combineTables(first_table, second_table)\r\n    for k,v in pairs(second_table) do first_table[k] = v end\r\nend\r\n\r\nfunction buttonClick_add()\r\n    fresh = false\r\n    combineTables(memoryList, memoryListBackup)\r\n    broadcastToAll(\"Adding internal bags and selections to existing memory\", {0.25, 0.75, 0.25})\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_remove()\r\n    broadcastToAll(\"Removing Selected Entries From Memory\", {1.0, 0.25, 0.25})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        memoryListBackup[guid] = nil\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Removed\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_setNew()\r\n    broadcastToAll(\"Setting new position relative to items in memory\", {0.75, 0.75, 1})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        guid = obj.guid\r\n        if memoryListBackup[guid] ~= nil then\r\n            count = count + 1\r\n            memoryListBackup[guid].pos = obj.getPosition()\r\n            memoryListBackup[guid].rot = obj.getRotation()\r\n            memoryListBackup[guid].lock = obj.getLock()\r\n            memoryListBackup[guid].tint = obj.getColorTint()\r\n        end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    fresh = true\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Placer\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,2}, rotation={0,0,0}, height=350, width=1000,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Ranger\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,2.8}, rotation={0,0,0}, height=350, width=1000,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={2,0.3,0}, rotation={0,90,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    ---    self.createButton({\r\n    ---      label=\"Bouger\", click_function=\"buttonClick_transpose\", function_owner=self,\r\n    ---      position={-2,0.3,0.8}, rotation={0,270,0}, height=350, width=800,\r\n    ---      font_size=250, color={0,0,0}, font_color={0.75,0.75,1}\r\n    ---  \r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n            obj.setColorTint(entry.tint)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot, smooth=false\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    item.setColorTint(entry.tint)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objets placés\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objets rangés\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local yOffset = 0\r\n    if obj ~= nil then\r\n        local bounds = obj.getBounds()\r\n        yOffset = (bounds.size.y - bounds.offset.y)\r\n    end\r\n    local deltaPos = {}\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + yOffset\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n    local objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n    local x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n    local z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n    --return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\nfunction rotateMyCoordinates(desiredPos, obj)\r\n    local angle = math.rad(obj.getRotation().y)\r\n    local x = desiredPos.x * math.sin(angle)\r\n    local z = desiredPos.z * math.cos(angle)\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n    local mult = 10^(dec or 0)\r\n    return math.floor(num * mult + 0.5) / mult\r\nend\r\n\r\n\r\n--[[\r\nThis object provides access to a variable stored on the \"Global script\".\r\nThe variable holds the GUIDs for every Utility Memory Bag in the scene.\r\nExample:\r\n{'805ebd', '35cc21', 'fc8886', 'f50264', '5f5f63'}\r\n--]]\r\nAllMemoryBagsInScene = {\r\n    NAME_OF_GLOBAL_VARIABLE = \"_UtilityMemoryBag_AllMemoryBagsInScene\"\r\n}\r\n\r\nfunction AllMemoryBagsInScene:add(guid)\r\n    local guids = Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\n    table.insert(guids, guid)\r\n    Global.setTable(self.NAME_OF_GLOBAL_VARIABLE, guids)\r\nend\r\n\r\nfunction AllMemoryBagsInScene:getGuidList()\r\n    return Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\nend",
              "LuaScriptState": "{\"ml\":{\"0a2403\":{\"lock\":false,\"pos\":{\"x\":-1.00000166893005,\"y\":1.51839637756348,\"z\":7.50000333786011},\"rot\":{\"x\":0.010890856385231,\"y\":180.007904052734,\"z\":0.00494976341724396},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"13d628\":{\"lock\":false,\"pos\":{\"x\":4.5,\"y\":1.553,\"z\":0.5},\"rot\":{\"x\":0.0109,\"y\":179.9939,\"z\":0.005},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"190d33\":{\"lock\":false,\"pos\":{\"x\":-3.50000190734863,\"y\":1.51861226558685,\"z\":7.50000333786011},\"rot\":{\"x\":0.0108922896906734,\"y\":179.991088867188,\"z\":0.00494662998244166},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"3cc65d\":{\"lock\":false,\"pos\":{\"x\":9.99999809265137,\"y\":1.51744639873505,\"z\":7.50000333786011},\"rot\":{\"x\":0.0108909420669079,\"y\":180.008087158203,\"z\":0.00494991336017847},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"46e947\":{\"lock\":false,\"pos\":{\"x\":4.4763,\"y\":1.5067,\"z\":10.6189},\"rot\":{\"x\":359.9891,\"y\":-0.0001,\"z\":-0.0049},\"tint\":{\"a\":0,\"b\":0.555448532104492,\"g\":0.677700459957123,\"r\":0}},\"4d5b6d\":{\"lock\":false,\"pos\":{\"x\":4.49999856948853,\"y\":1.51659071445465,\"z\":0.500003397464752},\"rot\":{\"x\":0.010890819132328,\"y\":180.008193969727,\"z\":0.00494992127642035},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"4df2ac\":{\"lock\":false,\"pos\":{\"x\":-1,\"y\":1.5548,\"z\":7.5},\"rot\":{\"x\":0.0109,\"y\":179.9935,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"57835a\":{\"lock\":false,\"pos\":{\"x\":12.4999980926514,\"y\":1.51723051071167,\"z\":7.50000286102295},\"rot\":{\"x\":0.010892323218286,\"y\":179.990982055664,\"z\":0.00494647212326527},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"7234af\":{\"lock\":false,\"pos\":{\"x\":4.49999856948853,\"y\":1.50431668758392,\"z\":7.50000286102295},\"rot\":{\"x\":0.00494994362816215,\"y\":90.0126495361328,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"900817\":{\"lock\":false,\"pos\":{\"x\":10,\"y\":1.5538,\"z\":7.5},\"rot\":{\"x\":0.0109,\"y\":179.9941,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"b07782\":{\"lock\":false,\"pos\":{\"x\":1.49999845027924,\"y\":1.50391042232513,\"z\":4.00000333786011},\"rot\":{\"x\":0.0112007604911923,\"y\":134.999984741211,\"z\":-0.00420433096587658},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"b24037\":{\"lock\":false,\"pos\":{\"x\":17.5009994506836,\"y\":1.5142285823822,\"z\":-6.01959991455078},\"rot\":{\"x\":0.00495327915996313,\"y\":90.0269012451172,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}}}}",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "0a2403",
                  "Name": "Card",
                  "Transform": {
                    "posX": -1.00000226,
                    "posY": 1.51838136,
                    "posZ": 7.50000334,
                    "rotX": 0.01104562,
                    "rotY": 180.007919,
                    "rotZ": 0.003913123,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Terres Interdites",
                  "Description": "Interdit. Dévastations.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06134\",\n  \"locationFront\": {\n    \"connections\": \"Circle|Square\",\n    \"icons\": \"Diamond\"\n  },\n  \"traits\": \"Forbidden. Wastes.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276409,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2764": {
                      "FaceURL": "https://i.imgur.com/lxSjMsf.jpg",
                      "BackURL": "https://i.imgur.com/IhTn2aA.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "190d33",
                  "Name": "Card",
                  "Transform": {
                    "posX": -3.50000238,
                    "posY": 1.51861227,
                    "posZ": 7.50000334,
                    "rotX": 0.0108923586,
                    "rotY": 179.991074,
                    "rotZ": 0.00494657457,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Manticore Agressive",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 3,\n  \"healthPerInv\": \"true\",\n  \"id\": \"06146\",\n  \"traits\": \"Creature. Monster. Elite.\",\n  \"type\": \"Enemy\",\n  \"victory\": 1\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276231,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "3cc65d",
                  "Name": "Card",
                  "Transform": {
                    "posX": 9.999999,
                    "posY": 1.51743007,
                    "posZ": 7.50000334,
                    "rotX": 0.0110584,
                    "rotY": 180.008087,
                    "rotZ": 0.00382632785,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Zulan-Thek",
                  "Description": "Interdit. Ville.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06135\",\n  \"locationFront\": {\n    \"connections\": \"Diamond\",\n    \"icons\": \"Square\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    }\n  },\n  \"traits\": \"Forbidden. City.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276410,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2764": {
                      "FaceURL": "https://i.imgur.com/lxSjMsf.jpg",
                      "BackURL": "https://i.imgur.com/IhTn2aA.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "46e947",
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": 4.4763,
                    "posY": 1.50666142,
                    "posZ": 10.6189,
                    "rotX": 359.9891,
                    "rotY": -8.87652059E-05,
                    "rotZ": -0.004948186,
                    "scaleX": 1.74999952,
                    "scaleY": 1.74999952,
                    "scaleZ": 1.74999952
                  },
                  "Nickname": "Terres Interdites",
                  "Description": "Mise en place des Terres Interdites",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.0,
                    "g": 0.67770046,
                    "b": 0.555448532,
                    "a": 0.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": false,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": false,
                  "Tooltip": false,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/1478820768302617365/27883B7913E0E69143C3AA03493B7E7C4E8C29C0/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "",
                    "Convex": true,
                    "MaterialIndex": 1,
                    "TypeIndex": 0,
                    "CastShadows": true
                  },
                  "LuaScript": "-- Code for bag to identify text tool objects\r\nmovableTextTool_cowgoesmoo33 = true\r\n\r\n-- Number of characters before the text box width expands.\r\nEXPAND_INTERVAL = 20\r\n\r\n-- This table controls what is passed between save/load\r\ndata = {}\r\n\r\nfunction onLoad(saved_data)\r\n  if saved_data ~= '' then\r\n    data = JSON.decode(saved_data)\r\n    if data.text ~= '' then\r\n      self.interactable = data.interactable\r\n      staticMode()\r\n      return\r\n    end\r\n  else\r\n    data = {size=200, color=Color(0,0,0), text='', interactable=true,\r\n        enter_to_finish=false, autolock=false, autolift=false,\r\n        hover_height=0.05, box_transparency=1}\r\n  end\r\n\r\n  inputMode()\r\nend\r\n\r\n-- True if in the middle of delay after pressing Enter (with enter_to_finish on)\r\nfinishing = false\r\nfunction input_func(obj, color, input, stillEditing)\r\n  local params = getBox(input)\r\n  if params then\r\n    params.value = input\r\n    self.editInput(params)\r\n  end\r\n\r\n  if not stillEditing then\r\n    data.text = input\r\n    updateState()\r\n    if input ~= '' then staticMode(color) end\r\n  elseif data.enter_to_finish then\r\n    -- If enter is pressed: remove last newline and force finish\r\n    if not finishing and input:sub(-1) == '\\n' then\r\n      finishing = true\r\n      -- Delay to avoid user's Enter keypress being detected (opens chat box)\r\n      Wait.frames(function()\r\n        input = input:sub(1, -2)\r\n        data.text = input\r\n        updateState()\r\n        if input ~= '' then staticMode(color) else inputMode() end\r\n        finishing = false\r\n      end, 10)\r\n    end\r\n  end\r\nend\r\n\r\n-- When the inpupt box appears and lets the player type in it.\r\nfunction inputMode()\r\n  self.clearContextMenu()\r\n  self.clearInputs()\r\n  self.clearButtons()\r\n\r\n  local size = getBox(data.text, true)\r\n\r\n  self.createInput({\r\n    input_function = \"input_func\",\r\n    function_owner = self,\r\n    label          = \"Type Here\",\r\n    alignment      = 3,\r\n    position       = {x=0, y=data.hover_height, z=0},\r\n    rotation       = {0, 180, 0},\r\n    width          = size.width,\r\n    height         = size.height,\r\n    color          = getBackground(data.color),\r\n    font_color     = data.color,\r\n    font_size      = data.size,\r\n    value          = data.text,\r\n  })\r\n\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\nend\r\n\r\n-- When the input box disappears and displays the text.\r\nfunction staticMode(player)\r\n  self.clearContextMenu()\r\n  if data.autolock then\r\n    self.locked = true\r\n  end\r\n  if self.getInputs() and #self.getInputs() ~= 0 then\r\n    self.removeInput(0)\r\n  end\r\n\r\n  -- Clear from selecting player\r\n  if player then\r\n    self.removeFromPlayerSelection(player)\r\n  end\r\n\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  self.createButton({\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=self,\r\n    position={0,data.hover_height,0}, rotation={0,180,0}, height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  })\r\n\r\n  self.addContextMenuItem('Edit Text', function(color)\r\n    self.removeFromPlayerSelection(color)\r\n    inputMode()\r\n  end)\r\n  self.addContextMenuItem('Clear', function(color)\r\n    applyMultiple(color, 'clear', _, true)\r\n  end)\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\n  self.addContextMenuItem('Permanently Attach', attemptAttach)\r\n  self.addContextMenuItem('Permalock', function(color)\r\n    applyMultiple(color, 'permalock', _, true)\r\n  end)\r\nend\r\n\r\nfunction changeSize(params)\r\n  local delta = params[1]\r\n  local newSize = data.size + delta\r\n  if newSize > 800  or newSize < 50 then\r\n    return\r\n  end\r\n  data.size = newSize\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_size=data.size})\r\n  else\r\n    local size = getBox(data.text, true)\r\n    self.editInput({width=size.width, height=size.height, font_size=data.size})\r\n  end\r\nend\r\n\r\nfunction setColor(params)\r\n  if params and params[1] then\r\n    data.color = params[1]\r\n  else\r\n    data.color = self.getColorTint():setAt('a', 1) -- Take on color of object tint\r\n  end\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_color=data.color})\r\n  else\r\n    self.editInput({font_color=data.color, color=getBackground(data.color)})\r\n  end\r\nend\r\n\r\nfunction getBackground(color) --determines whether to use black or white depending on luminance\r\n  local r,g,b = Color(color):get()\r\n\r\n  local lum = 0.2126*r + 0.7152*g + 0.0722*b\r\n  if lum > 0.75 then\r\n    return {0.2,0.2,0.2, data.box_transparency}\r\n  else\r\n    return {1,1,1, data.box_transparency}\r\n  end\r\nend\r\n\r\nfunction clear()\r\n  data.text = ''\r\n  updateState()\r\n  inputMode()\r\nend\r\n\r\nfunction permalock()\r\n  self.interactable = false\r\n  data.interactable = false\r\n  updateState()\r\nend\r\n\r\nlocal target_script = [[\r\nfunction onLoad(script_state)\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    for _,entry in ipairs(state) do\r\n      self.createButton(entry)\r\n    end\r\n    self.addContextMenuItem('Clear All Text', function(color)\r\n      self.clearContextMenu()\r\n      self.clearButtons()\r\n      self.script_state = ''\r\n      self.script_code = ''\r\n    end)\r\n  end\r\nend\r\n]]\r\n\r\nfunction attemptAttach(player_color)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  local attachee\r\n  local attachers = {}\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if obj ~= self then\r\n        table.insert(attachers, obj)\r\n      end\r\n    else\r\n      if attachee then\r\n        broadcastToColor(\"More than one target selected.\", player_color)\r\n        return\r\n      else\r\n        attachee = obj\r\n      end\r\n    end\r\n  end\r\n  if attachee then\r\n    local code = attachee.script_code\r\n    if code and code ~= '' and code ~= target_script then\r\n      broadcastToColor(\"Warning: script on card has been overriden. Rewind time to undo.\", player_color)\r\n    end\r\n    for i,attacher in ipairs(attachers) do\r\n      attacher.call('attach', {target = attachee})\r\n    end\r\n    attach({target = attachee})\r\n    local type, flip = attachee.type, attachee.getRotation().z\r\n    if (type == 'Card' or type == 'Deck') and flip > 175 and flip < 185 then\r\n      broadcastToColor(\"Warning: text will not display if card or deck is facing down.\", player_color)\r\n    end\r\n  else\r\n    broadcastToColor(\"You must have a target object in your selection (using click-and-drag or Ctrl+Click) to use this option.\", player_color)\r\n  end\r\nend\r\n\r\nfunction attach(params)\r\n  local target = params.target\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  local textRotation = self.getRotation():sub(target.getRotation())\r\n    :add(Vector(180, 0, 180))\r\n\r\n  local textPosition = target.positionToLocal(\r\n    self.getPosition():add(Vector(0, data.hover_height, 0))\r\n  )\r\n  textPosition.x = -textPosition.x\r\n\r\n  local textScale = {}\r\n  textScale.x = self.getScale().x / target.getScale().x\r\n  textScale.y = self.getScale().x / target.getScale().y\r\n  textScale.z = self.getScale().x / target.getScale().z\r\n\r\n  local details = {\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=nil,\r\n    position=textPosition,\r\n    rotation=textRotation,\r\n    scale=textScale,\r\n    height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  }\r\n\r\n  target.createButton(details)\r\n\r\n  local script_state = target.script_state\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    table.insert(state, details)\r\n    target.script_state = JSON.encode(state)\r\n  else\r\n    target.script_state = JSON.encode({[1]=details})\r\n  end\r\n\r\n  target.script_code = target_script\r\n\r\n  self.destruct()\r\nend\r\n\r\nfunction applyMultiple(player_color, func_string, params, static_only)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if not static_only or obj.call('isStatic') then\r\n        obj.call(func_string, params)\r\n      end\r\n    end\r\n  end\r\nend\r\n\r\nfunction isStatic()\r\n  local input = self.getInputs()\r\n  return not input or #input == 0\r\nend\r\n\r\nfunction getBox(input, force)\r\n  local maxLength, lineCount = EXPAND_INTERVAL, 1\r\n  local lineLength = 0\r\n  for i = 1, #input do\r\n    local c = input:sub(i,i)\r\n    if c == '\\n' then\r\n      lineCount = lineCount + 1\r\n      if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n      lineLength = 0\r\n    else\r\n      lineLength = lineLength + 1\r\n    end\r\n  end\r\n  if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n\r\n  newWidth = data.size * maxLength * 0.9\r\n  newHeight = data.size * lineCount + 23\r\n\r\n  if force or boxWidth ~= newWidth or boxHeight ~= newHeight then\r\n    boxWidth, boxHeight = newWidth, newHeight\r\n    return {width = boxWidth, height = boxHeight}\r\n  end\r\n  return nil\r\nend\r\n\r\ntemp_lift = nil\r\nfunction onPickUp(player_color)\r\n  if data.autolift then\r\n    local player = Player[player_color]\r\n    temp_lift = player.lift_height\r\n    player.lift_height = 0\r\n  end\r\nend\r\n\r\nfunction onDrop(player_color)\r\n  if data.autolift and temp_lift then\r\n    Player[player_color].lift_height = temp_lift\r\n  end\r\nend\r\n\r\n-- Should be called every time data is modified, allows info to be saved on copy/paste\r\nfunction updateState()\r\n  self.script_state = JSON.encode(data)\r\nend\r\n\r\nfunction onSave()\r\n  self.script_state = JSON.encode(data)\r\n  return self.script_state\r\nend",
                  "LuaScriptState": "{\"autolift\":false,\"autolock\":false,\"box_transparency\":1,\"color\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1},\"enter_to_finish\":false,\"hover_height\":0.05,\"interactable\":true,\"size\":250,\"text\":\"Terres Interdites\"}",
                  "XmlUI": ""
                },
                {
                  "GUID": "4d5b6d",
                  "Name": "Card",
                  "Transform": {
                    "posX": 4.49999857,
                    "posY": 1.51657689,
                    "posZ": 0.500003338,
                    "rotX": 0.01103287,
                    "rotY": 180.0082,
                    "rotZ": 0.003997484,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Ilek-Vad",
                  "Description": "Interdit. Ville. Port.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06133\",\n  \"locationFront\": {\n    \"connections\": \"Diamond\",\n    \"icons\": \"Circle\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    },\n    \"victory\": 1\n  },\n  \"traits\": \"Forbidden. City. Port.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276408,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2764": {
                      "FaceURL": "https://i.imgur.com/lxSjMsf.jpg",
                      "BackURL": "https://i.imgur.com/IhTn2aA.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "57835a",
                  "Name": "Card",
                  "Transform": {
                    "posX": 12.4999981,
                    "posY": 1.51723051,
                    "posZ": 7.500003,
                    "rotX": 0.0108923567,
                    "rotY": 179.990967,
                    "rotZ": 0.004946521,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Horde de la Nuit",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 1,\n  \"id\": \"06147\",\n  \"traits\": \"Monster. Elite.\",\n  \"type\": \"Enemy\",\n  \"victory\": 1\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276232,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "7234af",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": 4.49999857,
                    "posY": 1.50431669,
                    "posZ": 7.50000238,
                    "rotX": 0.00495031243,
                    "rotY": 90.01267,
                    "rotZ": 359.9891,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/vppt2my.png",
                    "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "States": {
                    "2": {
                      "GUID": "44b0c5",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -39.7933121,
                        "posY": 1.63758957,
                        "posZ": 2.038383,
                        "rotX": 359.9201,
                        "rotY": 269.9961,
                        "rotZ": 0.0168742146,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    "3": {
                      "GUID": "5b38c6",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -38.8217163,
                        "posY": 1.99356019,
                        "posZ": 0.4159239,
                        "rotX": 359.9201,
                        "rotY": 272.9828,
                        "rotZ": 0.01687373,
                        "scaleX": 0.8,
                        "scaleY": 1.0,
                        "scaleZ": 0.8
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  }
                },
                {
                  "GUID": "b07782",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": 1.49999833,
                    "posY": 1.50391042,
                    "posZ": 4.00000334,
                    "rotX": 0.0112006571,
                    "rotY": 135.0,
                    "rotZ": -0.00420425925,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/vppt2my.png",
                    "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "States": {
                    "2": {
                      "GUID": "44b0c5",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -39.7933121,
                        "posY": 1.63758957,
                        "posZ": 2.038383,
                        "rotX": 359.9201,
                        "rotY": 269.9961,
                        "rotZ": 0.0168742146,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    "3": {
                      "GUID": "5b38c6",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -38.8217163,
                        "posY": 1.99356019,
                        "posZ": 0.4159239,
                        "rotX": 359.9201,
                        "rotY": 272.9828,
                        "rotZ": 0.01687373,
                        "scaleX": 0.8,
                        "scaleY": 1.0,
                        "scaleZ": 0.8
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  }
                },
                {
                  "GUID": "b24037",
                  "Name": "Card",
                  "Transform": {
                    "posX": 17.501,
                    "posY": 1.51422858,
                    "posZ": -6.0196,
                    "rotX": 0.00495323725,
                    "rotY": 90.0269,
                    "rotZ": 359.9891,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Chercher la Nuit",
                  "Description": "Acte 2a",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06125\",\n  \"type\": \"Act\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276305,
                  "SidewaysCard": true,
                  "CustomDeck": {
                    "2763": {
                      "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                      "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "4df2ac",
                  "Name": "Custom_Token",
                  "Transform": {
                    "posX": -1.00001347,
                    "posY": 1.55479145,
                    "posZ": 7.500008,
                    "rotX": 0.0108958371,
                    "rotY": 179.993546,
                    "rotZ": 0.004937357,
                    "scaleX": 0.23,
                    "scaleY": 1.0,
                    "scaleZ": 0.225
                  },
                  "Nickname": "Indices",
                  "Description": "Click gauche - Ajouter\nClick droit - Soustraire",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/784129913444610342/7903BA89870C1656A003FD69C79BFA99BD1AAC24/",
                    "ImageSecondaryURL": "",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomToken": {
                      "Thickness": 0.1,
                      "MergeDistancePixels": 5.0,
                      "StandUp": false,
                      "Stackable": false
                    }
                  },
                  "LuaScript": "MIN_VALUE = -99\r\nMAX_VALUE = 999\r\nlocal ZONE_HANDLER_GUID = 'ef3980'\r\nzoneHandler = getObjectFromGUID(ZONE_HANDLER_GUID)\r\nfunction onload(saved_data)\r\n    light_mode = true\r\n    val = 0\r\n\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        light_mode = loaded_data[1]\r\n        val = loaded_data[2]\r\n    end\r\n\r\n    createAll()\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = { light_mode, val }\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction createAll()\r\n    s_color = { 0, 0, 0, 100 }\r\n\r\n    if light_mode then\r\n        f_color = { 1, 1, 1, 100 }\r\n    else\r\n        f_color = { 0, 0, 0, 100 }\r\n    end\r\n\r\n\r\n\r\n    self.createButton({\r\n        label = tostring(val),\r\n        click_function = \"clickOrAlt_click\",\r\n        function_owner = self,\r\n        position = { 0, 0.05, 0.1 },\r\n        height = 600,\r\n        width = 1000,\r\n        alignment = 3,\r\n        scale = { x = 1.5, y = 1.5, z = 1.5 },\r\n        font_size = 800,\r\n        font_color = f_color,\r\n        color = { 1, 1, 1, 0 }\r\n    })\r\n\r\n\r\n    self.createButton({\r\n        click_function = \"takeClue\",\r\n        function_owner = self,\r\n        label = \"Prendre\",\r\n        position = { 3.5, 0.1, 0 },\r\n        rotation = { 0, 270, 0 },\r\n        scale = { 1.6, 1, 1.6 },\r\n        width = 1600,\r\n        height = 500,\r\n        font_size = 400,\r\n        font_color = { 1, 1, 1 },\r\n        color = { 0, 0, 0 },\r\n        tooltip = \"Prendre un indice (click droit pour reposer)\"\r\n    })\r\n\r\n\r\n\r\n    if light_mode then\r\n        lightButtonText = \"[ Set dark ]\"\r\n    else\r\n        lightButtonText = \"[ Set light ]\"\r\n    end\r\nend\r\n\r\nfunction removeAll()\r\n    self.removeInput(0)\r\n    self.removeInput(1)\r\n    self.removeButton(0)\r\n    self.removeButton(1)\r\n    self.removeButton(2)\r\nend\r\n\r\nfunction reloadAll()\r\n    removeAll()\r\n    createAll()\r\n\r\n    updateSave()\r\nend\r\n\r\nfunction swap_fcolor(_obj, _color, alt_click)\r\n    light_mode = not light_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction swap_align(_obj, _color, alt_click)\r\n    center_mode = not center_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction editName(_obj, _string, value)\r\n    self.setName(value)\r\n    setTooltips()\r\nend\r\n\r\nfunction clickOrAlt_click(_obj, _color, alt_click)\r\n    if alt_click then\r\n        substract()\r\n    else\r\n        add()\r\n    end\r\nend\r\n\r\nfunction substract()\r\n    add_subtract(-1)\r\nend\r\n\r\nfunction add()\r\n    add_subtract(1)\r\nend\r\n\r\nfunction add_subtract(mod)\r\n    new_value = math.min(math.max(val + mod, MIN_VALUE), MAX_VALUE)\r\n    if val ~= new_value then\r\n        val = new_value\r\n        updateVal()\r\n        updateSave()\r\n    end\r\nend\r\n\r\nfunction takeClue(_, color, alt_click)\r\n    if alt_click then\r\n        add()\r\n    else\r\n        substract()\r\n    end\r\n    local params = {}\r\n    params.playerColor = color\r\n    params.zone = 'CounterZone'\r\n    local objects = zoneHandler.call('getObjectsInPlayerZone', params)\r\n    for _, token in ipairs(objects) do\r\n        if token.getName() == \"Indices\" and token.getDescription() == \"Compteur de Joueur\" then\r\n            local cluecounter = token\r\n            if alt_click then\r\n                cluecounter.call('substract')\r\n            else\r\n                cluecounter.call('add')\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateVal()\r\n    self.editButton({\r\n        index = 0,\r\n        label = tostring(val),\r\n    })\r\nend\r\n\r\nfunction reset_val()\r\n    val = 0\r\n    updateVal()\r\n    updateSave()\r\nend\r\n\r\nfunction setTooltips()\r\n    self.editInput({\r\n        index = 0,\r\n        value = self.getName(),\r\n        tooltip = ttText\r\n    })\r\n    self.editButton({\r\n        index = 0,\r\n        value = tostring(val),\r\n        tooltip = ttText\r\n    })\r\nend\r\n\r\nfunction null()\r\nend\r\n\r\nfunction keepSample(_obj, _string, value)\r\n    reloadAll()\r\nend\r\n",
                  "LuaScriptState": "[true,0]",
                  "XmlUI": ""
                },
                {
                  "GUID": "900817",
                  "Name": "Custom_Token",
                  "Transform": {
                    "posX": 9.999994,
                    "posY": 1.55384147,
                    "posZ": 7.500007,
                    "rotX": 0.0108900107,
                    "rotY": 179.99411,
                    "rotZ": 0.004937353,
                    "scaleX": 0.23,
                    "scaleY": 1.0,
                    "scaleZ": 0.225
                  },
                  "Nickname": "Indices",
                  "Description": "Click gauche - Ajouter\nClick droit - Soustraire",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/784129913444610342/7903BA89870C1656A003FD69C79BFA99BD1AAC24/",
                    "ImageSecondaryURL": "",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomToken": {
                      "Thickness": 0.1,
                      "MergeDistancePixels": 5.0,
                      "StandUp": false,
                      "Stackable": false
                    }
                  },
                  "LuaScript": "MIN_VALUE = -99\r\nMAX_VALUE = 999\r\nlocal ZONE_HANDLER_GUID = 'ef3980'\r\nzoneHandler = getObjectFromGUID(ZONE_HANDLER_GUID)\r\nfunction onload(saved_data)\r\n    light_mode = true\r\n    val = 0\r\n\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        light_mode = loaded_data[1]\r\n        val = loaded_data[2]\r\n    end\r\n\r\n    createAll()\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = { light_mode, val }\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction createAll()\r\n    s_color = { 0, 0, 0, 100 }\r\n\r\n    if light_mode then\r\n        f_color = { 1, 1, 1, 100 }\r\n    else\r\n        f_color = { 0, 0, 0, 100 }\r\n    end\r\n\r\n\r\n\r\n    self.createButton({\r\n        label = tostring(val),\r\n        click_function = \"clickOrAlt_click\",\r\n        function_owner = self,\r\n        position = { 0, 0.05, 0.1 },\r\n        height = 600,\r\n        width = 1000,\r\n        alignment = 3,\r\n        scale = { x = 1.5, y = 1.5, z = 1.5 },\r\n        font_size = 800,\r\n        font_color = f_color,\r\n        color = { 1, 1, 1, 0 }\r\n    })\r\n\r\n\r\n    self.createButton({\r\n        click_function = \"takeClue\",\r\n        function_owner = self,\r\n        label = \"Prendre\",\r\n        position = { 3.5, 0.1, 0 },\r\n        rotation = { 0, 270, 0 },\r\n        scale = { 1.6, 1, 1.6 },\r\n        width = 1600,\r\n        height = 500,\r\n        font_size = 400,\r\n        font_color = { 1, 1, 1 },\r\n        color = { 0, 0, 0 },\r\n        tooltip = \"Prendre un indice (click droit pour reposer)\"\r\n    })\r\n\r\n\r\n\r\n    if light_mode then\r\n        lightButtonText = \"[ Set dark ]\"\r\n    else\r\n        lightButtonText = \"[ Set light ]\"\r\n    end\r\nend\r\n\r\nfunction removeAll()\r\n    self.removeInput(0)\r\n    self.removeInput(1)\r\n    self.removeButton(0)\r\n    self.removeButton(1)\r\n    self.removeButton(2)\r\nend\r\n\r\nfunction reloadAll()\r\n    removeAll()\r\n    createAll()\r\n\r\n    updateSave()\r\nend\r\n\r\nfunction swap_fcolor(_obj, _color, alt_click)\r\n    light_mode = not light_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction swap_align(_obj, _color, alt_click)\r\n    center_mode = not center_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction editName(_obj, _string, value)\r\n    self.setName(value)\r\n    setTooltips()\r\nend\r\n\r\nfunction clickOrAlt_click(_obj, _color, alt_click)\r\n    if alt_click then\r\n        substract()\r\n    else\r\n        add()\r\n    end\r\nend\r\n\r\nfunction substract()\r\n    add_subtract(-1)\r\nend\r\n\r\nfunction add()\r\n    add_subtract(1)\r\nend\r\n\r\nfunction add_subtract(mod)\r\n    new_value = math.min(math.max(val + mod, MIN_VALUE), MAX_VALUE)\r\n    if val ~= new_value then\r\n        val = new_value\r\n        updateVal()\r\n        updateSave()\r\n    end\r\nend\r\n\r\nfunction takeClue(_, color, alt_click)\r\n    if alt_click then\r\n        add()\r\n    else\r\n        substract()\r\n    end\r\n    local params = {}\r\n    params.playerColor = color\r\n    params.zone = 'CounterZone'\r\n    local objects = zoneHandler.call('getObjectsInPlayerZone', params)\r\n    for _, token in ipairs(objects) do\r\n        if token.getName() == \"Indices\" and token.getDescription() == \"Compteur de Joueur\" then\r\n            local cluecounter = token\r\n            if alt_click then\r\n                cluecounter.call('substract')\r\n            else\r\n                cluecounter.call('add')\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateVal()\r\n    self.editButton({\r\n        index = 0,\r\n        label = tostring(val),\r\n    })\r\nend\r\n\r\nfunction reset_val()\r\n    val = 0\r\n    updateVal()\r\n    updateSave()\r\nend\r\n\r\nfunction setTooltips()\r\n    self.editInput({\r\n        index = 0,\r\n        value = self.getName(),\r\n        tooltip = ttText\r\n    })\r\n    self.editButton({\r\n        index = 0,\r\n        value = tostring(val),\r\n        tooltip = ttText\r\n    })\r\nend\r\n\r\nfunction null()\r\nend\r\n\r\nfunction keepSample(_obj, _string, value)\r\n    reloadAll()\r\nend\r\n",
                  "LuaScriptState": "[true,0]",
                  "XmlUI": ""
                },
                {
                  "GUID": "13d628",
                  "Name": "Custom_Token",
                  "Transform": {
                    "posX": 4.49999046,
                    "posY": 1.55298567,
                    "posZ": 0.49999845,
                    "rotX": 0.0108829662,
                    "rotY": 179.993881,
                    "rotZ": 0.004973108,
                    "scaleX": 0.23,
                    "scaleY": 1.0,
                    "scaleZ": 0.225
                  },
                  "Nickname": "Indices",
                  "Description": "Click gauche - Ajouter\nClick droit - Soustraire",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/784129913444610342/7903BA89870C1656A003FD69C79BFA99BD1AAC24/",
                    "ImageSecondaryURL": "",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomToken": {
                      "Thickness": 0.1,
                      "MergeDistancePixels": 5.0,
                      "StandUp": false,
                      "Stackable": false
                    }
                  },
                  "LuaScript": "MIN_VALUE = -99\r\nMAX_VALUE = 999\r\nlocal ZONE_HANDLER_GUID = 'ef3980'\r\nzoneHandler = getObjectFromGUID(ZONE_HANDLER_GUID)\r\nfunction onload(saved_data)\r\n    light_mode = true\r\n    val = 0\r\n\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        light_mode = loaded_data[1]\r\n        val = loaded_data[2]\r\n    end\r\n\r\n    createAll()\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = { light_mode, val }\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction createAll()\r\n    s_color = { 0, 0, 0, 100 }\r\n\r\n    if light_mode then\r\n        f_color = { 1, 1, 1, 100 }\r\n    else\r\n        f_color = { 0, 0, 0, 100 }\r\n    end\r\n\r\n\r\n\r\n    self.createButton({\r\n        label = tostring(val),\r\n        click_function = \"clickOrAlt_click\",\r\n        function_owner = self,\r\n        position = { 0, 0.05, 0.1 },\r\n        height = 600,\r\n        width = 1000,\r\n        alignment = 3,\r\n        scale = { x = 1.5, y = 1.5, z = 1.5 },\r\n        font_size = 800,\r\n        font_color = f_color,\r\n        color = { 1, 1, 1, 0 }\r\n    })\r\n\r\n\r\n    self.createButton({\r\n        click_function = \"takeClue\",\r\n        function_owner = self,\r\n        label = \"Prendre\",\r\n        position = { 3.5, 0.1, 0 },\r\n        rotation = { 0, 270, 0 },\r\n        scale = { 1.6, 1, 1.6 },\r\n        width = 1600,\r\n        height = 500,\r\n        font_size = 400,\r\n        font_color = { 1, 1, 1 },\r\n        color = { 0, 0, 0 },\r\n        tooltip = \"Prendre un indice (click droit pour reposer)\"\r\n    })\r\n\r\n\r\n\r\n    if light_mode then\r\n        lightButtonText = \"[ Set dark ]\"\r\n    else\r\n        lightButtonText = \"[ Set light ]\"\r\n    end\r\nend\r\n\r\nfunction removeAll()\r\n    self.removeInput(0)\r\n    self.removeInput(1)\r\n    self.removeButton(0)\r\n    self.removeButton(1)\r\n    self.removeButton(2)\r\nend\r\n\r\nfunction reloadAll()\r\n    removeAll()\r\n    createAll()\r\n\r\n    updateSave()\r\nend\r\n\r\nfunction swap_fcolor(_obj, _color, alt_click)\r\n    light_mode = not light_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction swap_align(_obj, _color, alt_click)\r\n    center_mode = not center_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction editName(_obj, _string, value)\r\n    self.setName(value)\r\n    setTooltips()\r\nend\r\n\r\nfunction clickOrAlt_click(_obj, _color, alt_click)\r\n    if alt_click then\r\n        substract()\r\n    else\r\n        add()\r\n    end\r\nend\r\n\r\nfunction substract()\r\n    add_subtract(-1)\r\nend\r\n\r\nfunction add()\r\n    add_subtract(1)\r\nend\r\n\r\nfunction add_subtract(mod)\r\n    new_value = math.min(math.max(val + mod, MIN_VALUE), MAX_VALUE)\r\n    if val ~= new_value then\r\n        val = new_value\r\n        updateVal()\r\n        updateSave()\r\n    end\r\nend\r\n\r\nfunction takeClue(_, color, alt_click)\r\n    if alt_click then\r\n        add()\r\n    else\r\n        substract()\r\n    end\r\n    local params = {}\r\n    params.playerColor = color\r\n    params.zone = 'CounterZone'\r\n    local objects = zoneHandler.call('getObjectsInPlayerZone', params)\r\n    for _, token in ipairs(objects) do\r\n        if token.getName() == \"Indices\" and token.getDescription() == \"Compteur de Joueur\" then\r\n            local cluecounter = token\r\n            if alt_click then\r\n                cluecounter.call('substract')\r\n            else\r\n                cluecounter.call('add')\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateVal()\r\n    self.editButton({\r\n        index = 0,\r\n        label = tostring(val),\r\n    })\r\nend\r\n\r\nfunction reset_val()\r\n    val = 0\r\n    updateVal()\r\n    updateSave()\r\nend\r\n\r\nfunction setTooltips()\r\n    self.editInput({\r\n        index = 0,\r\n        value = self.getName(),\r\n        tooltip = ttText\r\n    })\r\n    self.editButton({\r\n        index = 0,\r\n        value = tostring(val),\r\n        tooltip = ttText\r\n    })\r\nend\r\n\r\nfunction null()\r\nend\r\n\r\nfunction keepSample(_obj, _string, value)\r\n    reloadAll()\r\nend\r\n",
                  "LuaScriptState": "[true,0]",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "ce6b6a",
              "Name": "Custom_Model_Bag",
              "Transform": {
                "posX": -34.0000153,
                "posY": 1.84000087,
                "posZ": 5.99998426,
                "rotX": -6.75141746E-06,
                "rotY": 179.986832,
                "rotZ": 6.46163443E-08,
                "scaleX": 0.7,
                "scaleY": 0.7,
                "scaleZ": 0.7
              },
              "Nickname": "Mise en place pour Le Royaume de Skai",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "CustomMesh": {
                "MeshURL": "https://pastebin.com/raw/ALrYhQGb",
                "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/1985555189151509268/020353C2D28152718B1FA9AF1DF30ABA507D07DD/",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 6,
                "CustomShader": {
                  "SpecularColor": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "SpecularIntensity": 0.0,
                  "SpecularSharpness": 2.0,
                  "FresnelStrength": 0.0
                },
                "CastShadows": true
              },
              "Bag": {
                "Order": 0
              },
              "LuaScript": "-- Utility memory bag by Directsun\r\n-- Version 2.7.0\r\n-- Fork of Memory Bag 2.0 by MrStump\r\n--\r\n-- Want to contribute? Create an issue or fork the code on GitHub and submit a pull request:\r\n-- https://github.com/sunflowermans/TTS-UtilityMemoryBag\r\n\r\n\r\nfunction updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction combineMemoryFromBagsWithin()\r\n    local bagObjList = self.getObjects()\r\n    for _, bagObj in ipairs(bagObjList) do\r\n        local data = bagObj.lua_script_state\r\n        if data ~= nil then\r\n            local j = JSON.decode(data)\r\n            if j ~= nil and j.ml ~= nil then\r\n                for guid, entry in pairs(j.ml) do\r\n                    memoryList[guid] = entry\r\n                end\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateMemoryWithMoves()\r\n    memoryList = memoryListBackup\r\n    --get the first transposed object's coordinates\r\n    local obj = getObjectFromGUID(moveGuid)\r\n\r\n    -- p1 is where needs to go, p2 is where it was\r\n    local refObjPos = memoryList[moveGuid].pos\r\n    local deltaPos = findOffsetDistance(obj.getPosition(), refObjPos, nil)\r\n    local movedRotation = obj.getRotation()\r\n    for guid, entry in pairs(memoryList) do\r\n        memoryList[guid].pos.x = entry.pos.x - deltaPos.x\r\n        memoryList[guid].pos.y = entry.pos.y - deltaPos.y\r\n        memoryList[guid].pos.z = entry.pos.z - deltaPos.z\r\n        -- memoryList[guid].rot.x = movedRotation.x\r\n        -- memoryList[guid].rot.y = movedRotation.y\r\n        -- memoryList[guid].rot.z = movedRotation.z\r\n    end\r\n\r\n    --theList[obj.getGUID()] = {\r\n    --    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n    --    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n    --    lock=obj.getLock()\r\n    --}\r\n    moveList = {}\r\nend\r\n\r\nfunction onload(saved_data)\r\n\r\n    fresh = true\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n\r\n    end\r\n\r\n    moveList = {}\r\n    moveGuid = nil\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        fresh = false\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,2}, rotation={0,0,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by Transpose button\r\nfunction buttonClick_transpose()\r\n    moveGuid = nil\r\n    broadcastToAll(\"Select one object and move it- all objects will move relative to the new location\", {0.75, 0.75, 1})\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(true)\r\n    createSetupActionButtons(true)\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(false)\r\n    createSetupActionButtons(false)\r\nend\r\n\r\nfunction getAllObjectsInMemory()\r\n    local objTable = {}\r\n    local curObj = {}\r\n\r\n    for guid in pairs(memoryListBackup) do\r\n        curObj = getObjectFromGUID(guid)\r\n        table.insert(objTable, curObj)\r\n    end\r\n\r\n    return objTable\r\n    -- return getAllObjects()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects(move)\r\n    buttonIndexMap = {}\r\n    local howManyButtons = 0\r\n\r\n    local objsToHaveButtons = {}\r\n    if move == true then\r\n        objsToHaveButtons = getAllObjectsInMemory()\r\n    else\r\n        objsToHaveButtons = getAllObjects()\r\n    end\r\n\r\n    for _, obj in ipairs(objsToHaveButtons) do\r\n        if obj ~= self then\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor +2\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Workaround for custom PDFs\r\n            if obj.Book then\r\n                objPos.y = objPos.y + 0.5\r\n            end\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(obj, move) end\r\n            local color = {0.75,0.25,0.25,0.6}\r\n            local colorMove = {0,0,1,0.6}\r\n            if move == true then\r\n                color = colorMove\r\n            end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color=color,\r\n            })\r\n            buttonIndexMap[obj.getGUID()] = howManyButtons\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons(move)\r\n    self.createButton({\r\n       label=\"Annuler\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n       position={-1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n       font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    self.createButton({\r\n      label=\"Valider\", click_function=\"buttonClick_submit\", function_owner=self,\r\n      position={-1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n      font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    if move == false then\r\n      self.createButton({\r\n          label=\"Ajouter\", click_function=\"buttonClick_add\", function_owner=self,\r\n          position={1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n          font_size=250, color={0,0,0}, font_color={0.25,1,0.25}\r\n        })\r\n\r\n        self.createButton({\r\n            label=\"Sélection\", click_function=\"editDragSelection\", function_owner=self,\r\n            position={-1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n            font_size=250, color={0,0,0}, font_color={1,1,1}\r\n        })\r\n\r\n        if fresh == false then\r\n            self.createButton({\r\n                label=\"Mise à Jour\", click_function=\"buttonClick_setNew\", function_owner=self,\r\n                position={1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n                font_size=180, color={0,0,0}, font_color={0.75,0.75,1}\r\n            })\r\n            self.createButton({\r\n                label=\"Retirer\", click_function=\"buttonClick_remove\", function_owner=self,\r\n                position={1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n                font_size=250, color={0,0,0}, font_color={1,0.25,0.25}\r\n            })\r\n        end\r\n    end\r\n\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,0,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(obj, move)\r\n    local index = buttonIndexMap[obj.getGUID()]\r\n    local colorMove = {0,0,1,0.6}\r\n    local color = {0,1,0,0.6}\r\n\r\n    previousGuid = selectedGuid\r\n    selectedGuid = obj.getGUID()\r\n\r\n    theList = memoryList\r\n    if move == true then\r\n        theList = moveList\r\n        if previousGuid ~= nil and previousGuid ~= selectedGuid then\r\n            local prevObj = getObjectFromGUID(previousGuid)\r\n            prevObj.highlightOff()\r\n            self.editButton({index=previousIndex, color=colorMove})\r\n            theList[previousGuid] = nil\r\n        end\r\n        previousIndex = index\r\n    end\r\n\r\n    if theList[selectedGuid] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        theList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock(),\r\n            tint=obj.getColorTint()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        if move == true then\r\n            color = colorMove\r\n        end\r\n        self.editButton({index=index, color=color})\r\n        theList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\nfunction editDragSelection(bagObj, player, remove)\r\n    local selectedObjs = Player[player].getSelectedObjects()\r\n    if not remove then\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            --Ignore if already in the memory list, or does not have a button\r\n            if index and not memoryList[obj.getGUID()] then\r\n                self.editButton({index=index, color={0,1,0,0.6}})\r\n                --Adding pos/rot to memory table\r\n                local pos, rot = obj.getPosition(), obj.getRotation()\r\n                --I need to add it like this or it won't save due to indexing issue\r\n                memoryList[obj.getGUID()] = {\r\n                    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n                    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n                    lock=obj.getLock(),\r\n                    tint=obj.getColorTint()\r\n                }\r\n                obj.highlightOn({0,1,0})\r\n            end\r\n        end\r\n    else\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            if index and memoryList[obj.getGUID()] then\r\n                color = {0.75,0.25,0.25,0.6}\r\n                self.editButton({index=index, color=color})\r\n                memoryList[obj.getGUID()] = nil\r\n                obj.highlightOff()\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Sélection annulée\", {1,1,1})\r\n    moveGuid = nil\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    fresh = false\r\n    if next(moveList) ~= nil then\r\n        for guid in pairs(moveList) do\r\n            moveGuid = guid\r\n        end\r\n        if memoryListBackup[moveGuid] == nil then\r\n            broadcastToAll(\"Item selected for moving is not already in memory\", {1, 0.25, 0.25})\r\n        else\r\n            broadcastToAll(\"Moving all items in memory relative to new objects position!\", {0.75, 0.75, 1})\r\n            self.clearButtons()\r\n            self.clearInputs()\r\n            createMemoryActionButtons()\r\n            local count = 0\r\n            for guid in pairs(moveList) do\r\n                moveGuid = guid\r\n                count = count + 1\r\n                local obj = getObjectFromGUID(guid)\r\n                if obj ~= nil then obj.highlightOff() end\r\n            end\r\n            updateMemoryWithMoves()\r\n            updateSave()\r\n            buttonClick_place()\r\n        end\r\n    elseif next(memoryList) == nil and moveGuid == nil then\r\n        memoryList = memoryListBackup\r\n        broadcastToAll(\"No selections made.\", {0.75, 0.25, 0.25})\r\n    end\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\n    moveGuid = nil\r\nend\r\n\r\nfunction combineTables(first_table, second_table)\r\n    for k,v in pairs(second_table) do first_table[k] = v end\r\nend\r\n\r\nfunction buttonClick_add()\r\n    fresh = false\r\n    combineTables(memoryList, memoryListBackup)\r\n    broadcastToAll(\"Adding internal bags and selections to existing memory\", {0.25, 0.75, 0.25})\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_remove()\r\n    broadcastToAll(\"Removing Selected Entries From Memory\", {1.0, 0.25, 0.25})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        memoryListBackup[guid] = nil\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Removed\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_setNew()\r\n    broadcastToAll(\"Setting new position relative to items in memory\", {0.75, 0.75, 1})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        guid = obj.guid\r\n        if memoryListBackup[guid] ~= nil then\r\n            count = count + 1\r\n            memoryListBackup[guid].pos = obj.getPosition()\r\n            memoryListBackup[guid].rot = obj.getRotation()\r\n            memoryListBackup[guid].lock = obj.getLock()\r\n            memoryListBackup[guid].tint = obj.getColorTint()\r\n        end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    fresh = true\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Placer\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,2}, rotation={0,0,0}, height=350, width=1000,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Ranger\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,2.8}, rotation={0,0,0}, height=350, width=1000,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={2,0.3,0}, rotation={0,90,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    ---    self.createButton({\r\n    ---      label=\"Bouger\", click_function=\"buttonClick_transpose\", function_owner=self,\r\n    ---      position={-2,0.3,0.8}, rotation={0,270,0}, height=350, width=800,\r\n    ---      font_size=250, color={0,0,0}, font_color={0.75,0.75,1}\r\n    ---  \r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n            obj.setColorTint(entry.tint)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot, smooth=false\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    item.setColorTint(entry.tint)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objets placés\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objets rangés\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local yOffset = 0\r\n    if obj ~= nil then\r\n        local bounds = obj.getBounds()\r\n        yOffset = (bounds.size.y - bounds.offset.y)\r\n    end\r\n    local deltaPos = {}\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + yOffset\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n    local objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n    local x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n    local z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n    --return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\nfunction rotateMyCoordinates(desiredPos, obj)\r\n    local angle = math.rad(obj.getRotation().y)\r\n    local x = desiredPos.x * math.sin(angle)\r\n    local z = desiredPos.z * math.cos(angle)\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n    local mult = 10^(dec or 0)\r\n    return math.floor(num * mult + 0.5) / mult\r\nend\r\n\r\n\r\n--[[\r\nThis object provides access to a variable stored on the \"Global script\".\r\nThe variable holds the GUIDs for every Utility Memory Bag in the scene.\r\nExample:\r\n{'805ebd', '35cc21', 'fc8886', 'f50264', '5f5f63'}\r\n--]]\r\nAllMemoryBagsInScene = {\r\n    NAME_OF_GLOBAL_VARIABLE = \"_UtilityMemoryBag_AllMemoryBagsInScene\"\r\n}\r\n\r\nfunction AllMemoryBagsInScene:add(guid)\r\n    local guids = Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\n    table.insert(guids, guid)\r\n    Global.setTable(self.NAME_OF_GLOBAL_VARIABLE, guids)\r\nend\r\n\r\nfunction AllMemoryBagsInScene:getGuidList()\r\n    return Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\nend",
              "LuaScriptState": "{\"ml\":{\"334610\":{\"lock\":false,\"pos\":{\"x\":6.5003,\"y\":1.5813,\"z\":11.0002},\"rot\":{\"x\":359.9255,\"y\":180.1712,\"z\":359.9904},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"4c78b4\":{\"lock\":false,\"pos\":{\"x\":1.4999,\"y\":1.517,\"z\":1.5},\"rot\":{\"x\":0.0112,\"y\":180.22,\"z\":0.0048},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"4df2ac\":{\"lock\":false,\"pos\":{\"x\":-4.5,\"y\":1.5826,\"z\":9.5},\"rot\":{\"x\":0.0111,\"y\":179.9936,\"z\":0.0029},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"4fb129\":{\"lock\":false,\"pos\":{\"x\":6.5,\"y\":1.5817,\"z\":9.5},\"rot\":{\"x\":0.0116,\"y\":179.9939,\"z\":0.0029},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"56f3f1\":{\"lock\":false,\"pos\":{\"x\":1,\"y\":1.505,\"z\":9.5},\"rot\":{\"x\":0.0049,\"y\":90.0116,\"z\":359.9891},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"7e7e81\":{\"lock\":false,\"pos\":{\"x\":17.501,\"y\":1.5142,\"z\":-6.0196},\"rot\":{\"x\":0.0049,\"y\":90,\"z\":359.9891},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"925760\":{\"lock\":false,\"pos\":{\"x\":1.5003,\"y\":1.5804,\"z\":2.9998},\"rot\":{\"x\":359.5842,\"y\":180.2256,\"z\":359.9901},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"9fc0ca\":{\"lock\":false,\"pos\":{\"x\":1.5,\"y\":1.5806,\"z\":1.5},\"rot\":{\"x\":0.0109,\"y\":179.9934,\"z\":0.0045},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"ab4e80\":{\"lock\":false,\"pos\":{\"x\":6.5,\"y\":1.5181,\"z\":9.5},\"rot\":{\"x\":0.0111,\"y\":180.126,\"z\":0.0052},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"ac78b4\":{\"lock\":false,\"pos\":{\"x\":-2.5,\"y\":1.5045,\"z\":5.5},\"rot\":{\"x\":0.0112,\"y\":135.0001,\"z\":-0.0042},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"decb94\":{\"lock\":false,\"pos\":{\"x\":-4.5,\"y\":1.5191,\"z\":9.5},\"rot\":{\"x\":0.0109,\"y\":180.0078,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}}}}",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "4df2ac",
                  "Name": "Custom_Token",
                  "Transform": {
                    "posX": -4.500016,
                    "posY": 1.58262157,
                    "posZ": 9.500001,
                    "rotX": 0.0111048492,
                    "rotY": 179.993622,
                    "rotZ": 0.00288855773,
                    "scaleX": 0.23,
                    "scaleY": 1.0,
                    "scaleZ": 0.225
                  },
                  "Nickname": "Indices",
                  "Description": "Click gauche - Ajouter\nClick droit - Soustraire",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/784129913444610342/7903BA89870C1656A003FD69C79BFA99BD1AAC24/",
                    "ImageSecondaryURL": "",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomToken": {
                      "Thickness": 0.1,
                      "MergeDistancePixels": 5.0,
                      "StandUp": false,
                      "Stackable": false
                    }
                  },
                  "LuaScript": "MIN_VALUE = -99\r\nMAX_VALUE = 999\r\nlocal ZONE_HANDLER_GUID = 'ef3980'\r\nzoneHandler = getObjectFromGUID(ZONE_HANDLER_GUID)\r\nfunction onload(saved_data)\r\n    light_mode = true\r\n    val = 0\r\n\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        light_mode = loaded_data[1]\r\n        val = loaded_data[2]\r\n    end\r\n\r\n    createAll()\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = { light_mode, val }\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction createAll()\r\n    s_color = { 0, 0, 0, 100 }\r\n\r\n    if light_mode then\r\n        f_color = { 1, 1, 1, 100 }\r\n    else\r\n        f_color = { 0, 0, 0, 100 }\r\n    end\r\n\r\n\r\n\r\n    self.createButton({\r\n        label = tostring(val),\r\n        click_function = \"clickOrAlt_click\",\r\n        function_owner = self,\r\n        position = { 0, 0.05, 0.1 },\r\n        height = 600,\r\n        width = 1000,\r\n        alignment = 3,\r\n        scale = { x = 1.5, y = 1.5, z = 1.5 },\r\n        font_size = 800,\r\n        font_color = f_color,\r\n        color = { 1, 1, 1, 0 }\r\n    })\r\n\r\n\r\n    self.createButton({\r\n        click_function = \"takeClue\",\r\n        function_owner = self,\r\n        label = \"Prendre\",\r\n        position = { 3.5, 0.1, 0 },\r\n        rotation = { 0, 270, 0 },\r\n        scale = { 1.6, 1, 1.6 },\r\n        width = 1600,\r\n        height = 500,\r\n        font_size = 400,\r\n        font_color = { 1, 1, 1 },\r\n        color = { 0, 0, 0 },\r\n        tooltip = \"Prendre un indice (click droit pour reposer)\"\r\n    })\r\n\r\n\r\n\r\n    if light_mode then\r\n        lightButtonText = \"[ Set dark ]\"\r\n    else\r\n        lightButtonText = \"[ Set light ]\"\r\n    end\r\nend\r\n\r\nfunction removeAll()\r\n    self.removeInput(0)\r\n    self.removeInput(1)\r\n    self.removeButton(0)\r\n    self.removeButton(1)\r\n    self.removeButton(2)\r\nend\r\n\r\nfunction reloadAll()\r\n    removeAll()\r\n    createAll()\r\n\r\n    updateSave()\r\nend\r\n\r\nfunction swap_fcolor(_obj, _color, alt_click)\r\n    light_mode = not light_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction swap_align(_obj, _color, alt_click)\r\n    center_mode = not center_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction editName(_obj, _string, value)\r\n    self.setName(value)\r\n    setTooltips()\r\nend\r\n\r\nfunction clickOrAlt_click(_obj, _color, alt_click)\r\n    if alt_click then\r\n        substract()\r\n    else\r\n        add()\r\n    end\r\nend\r\n\r\nfunction substract()\r\n    add_subtract(-1)\r\nend\r\n\r\nfunction add()\r\n    add_subtract(1)\r\nend\r\n\r\nfunction add_subtract(mod)\r\n    new_value = math.min(math.max(val + mod, MIN_VALUE), MAX_VALUE)\r\n    if val ~= new_value then\r\n        val = new_value\r\n        updateVal()\r\n        updateSave()\r\n    end\r\nend\r\n\r\nfunction takeClue(_, color, alt_click)\r\n    if alt_click then\r\n        add()\r\n    else\r\n        substract()\r\n    end\r\n    local params = {}\r\n    params.playerColor = color\r\n    params.zone = 'CounterZone'\r\n    local objects = zoneHandler.call('getObjectsInPlayerZone', params)\r\n    for _, token in ipairs(objects) do\r\n        if token.getName() == \"Indices\" and token.getDescription() == \"Compteur de Joueur\" then\r\n            local cluecounter = token\r\n            if alt_click then\r\n                cluecounter.call('substract')\r\n            else\r\n                cluecounter.call('add')\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateVal()\r\n    self.editButton({\r\n        index = 0,\r\n        label = tostring(val),\r\n    })\r\nend\r\n\r\nfunction reset_val()\r\n    val = 0\r\n    updateVal()\r\n    updateSave()\r\nend\r\n\r\nfunction setTooltips()\r\n    self.editInput({\r\n        index = 0,\r\n        value = self.getName(),\r\n        tooltip = ttText\r\n    })\r\n    self.editButton({\r\n        index = 0,\r\n        value = tostring(val),\r\n        tooltip = ttText\r\n    })\r\nend\r\n\r\nfunction null()\r\nend\r\n\r\nfunction keepSample(_obj, _string, value)\r\n    reloadAll()\r\nend\r\n",
                  "LuaScriptState": "[true,0]",
                  "XmlUI": ""
                },
                {
                  "GUID": "4fb129",
                  "Name": "Custom_Token",
                  "Transform": {
                    "posX": 6.499987,
                    "posY": 1.58168745,
                    "posZ": 9.49998951,
                    "rotX": 0.0116144167,
                    "rotY": 179.993881,
                    "rotZ": 0.00293967314,
                    "scaleX": 0.23,
                    "scaleY": 1.0,
                    "scaleZ": 0.225
                  },
                  "Nickname": "Indices",
                  "Description": "Click gauche - Ajouter\nClick droit - Soustraire",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/784129913444610342/7903BA89870C1656A003FD69C79BFA99BD1AAC24/",
                    "ImageSecondaryURL": "",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomToken": {
                      "Thickness": 0.1,
                      "MergeDistancePixels": 5.0,
                      "StandUp": false,
                      "Stackable": false
                    }
                  },
                  "LuaScript": "MIN_VALUE = -99\r\nMAX_VALUE = 999\r\nlocal ZONE_HANDLER_GUID = 'ef3980'\r\nzoneHandler = getObjectFromGUID(ZONE_HANDLER_GUID)\r\nfunction onload(saved_data)\r\n    light_mode = true\r\n    val = 0\r\n\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        light_mode = loaded_data[1]\r\n        val = loaded_data[2]\r\n    end\r\n\r\n    createAll()\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = { light_mode, val }\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction createAll()\r\n    s_color = { 0, 0, 0, 100 }\r\n\r\n    if light_mode then\r\n        f_color = { 1, 1, 1, 100 }\r\n    else\r\n        f_color = { 0, 0, 0, 100 }\r\n    end\r\n\r\n\r\n\r\n    self.createButton({\r\n        label = tostring(val),\r\n        click_function = \"clickOrAlt_click\",\r\n        function_owner = self,\r\n        position = { 0, 0.05, 0.1 },\r\n        height = 600,\r\n        width = 1000,\r\n        alignment = 3,\r\n        scale = { x = 1.5, y = 1.5, z = 1.5 },\r\n        font_size = 800,\r\n        font_color = f_color,\r\n        color = { 1, 1, 1, 0 }\r\n    })\r\n\r\n\r\n    self.createButton({\r\n        click_function = \"takeClue\",\r\n        function_owner = self,\r\n        label = \"Prendre\",\r\n        position = { 3.5, 0.1, 0 },\r\n        rotation = { 0, 270, 0 },\r\n        scale = { 1.6, 1, 1.6 },\r\n        width = 1600,\r\n        height = 500,\r\n        font_size = 400,\r\n        font_color = { 1, 1, 1 },\r\n        color = { 0, 0, 0 },\r\n        tooltip = \"Prendre un indice (click droit pour reposer)\"\r\n    })\r\n\r\n\r\n\r\n    if light_mode then\r\n        lightButtonText = \"[ Set dark ]\"\r\n    else\r\n        lightButtonText = \"[ Set light ]\"\r\n    end\r\nend\r\n\r\nfunction removeAll()\r\n    self.removeInput(0)\r\n    self.removeInput(1)\r\n    self.removeButton(0)\r\n    self.removeButton(1)\r\n    self.removeButton(2)\r\nend\r\n\r\nfunction reloadAll()\r\n    removeAll()\r\n    createAll()\r\n\r\n    updateSave()\r\nend\r\n\r\nfunction swap_fcolor(_obj, _color, alt_click)\r\n    light_mode = not light_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction swap_align(_obj, _color, alt_click)\r\n    center_mode = not center_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction editName(_obj, _string, value)\r\n    self.setName(value)\r\n    setTooltips()\r\nend\r\n\r\nfunction clickOrAlt_click(_obj, _color, alt_click)\r\n    if alt_click then\r\n        substract()\r\n    else\r\n        add()\r\n    end\r\nend\r\n\r\nfunction substract()\r\n    add_subtract(-1)\r\nend\r\n\r\nfunction add()\r\n    add_subtract(1)\r\nend\r\n\r\nfunction add_subtract(mod)\r\n    new_value = math.min(math.max(val + mod, MIN_VALUE), MAX_VALUE)\r\n    if val ~= new_value then\r\n        val = new_value\r\n        updateVal()\r\n        updateSave()\r\n    end\r\nend\r\n\r\nfunction takeClue(_, color, alt_click)\r\n    if alt_click then\r\n        add()\r\n    else\r\n        substract()\r\n    end\r\n    local params = {}\r\n    params.playerColor = color\r\n    params.zone = 'CounterZone'\r\n    local objects = zoneHandler.call('getObjectsInPlayerZone', params)\r\n    for _, token in ipairs(objects) do\r\n        if token.getName() == \"Indices\" and token.getDescription() == \"Compteur de Joueur\" then\r\n            local cluecounter = token\r\n            if alt_click then\r\n                cluecounter.call('substract')\r\n            else\r\n                cluecounter.call('add')\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateVal()\r\n    self.editButton({\r\n        index = 0,\r\n        label = tostring(val),\r\n    })\r\nend\r\n\r\nfunction reset_val()\r\n    val = 0\r\n    updateVal()\r\n    updateSave()\r\nend\r\n\r\nfunction setTooltips()\r\n    self.editInput({\r\n        index = 0,\r\n        value = self.getName(),\r\n        tooltip = ttText\r\n    })\r\n    self.editButton({\r\n        index = 0,\r\n        value = tostring(val),\r\n        tooltip = ttText\r\n    })\r\nend\r\n\r\nfunction null()\r\nend\r\n\r\nfunction keepSample(_obj, _string, value)\r\n    reloadAll()\r\nend\r\n",
                  "LuaScriptState": "[true,0]",
                  "XmlUI": ""
                },
                {
                  "GUID": "9fc0ca",
                  "Name": "Custom_Token",
                  "Transform": {
                    "posX": 1.49999964,
                    "posY": 1.58060026,
                    "posZ": 1.5000037,
                    "rotX": 0.0109435627,
                    "rotY": 179.993439,
                    "rotZ": 0.004488575,
                    "scaleX": 0.23,
                    "scaleY": 1.0,
                    "scaleZ": 0.225
                  },
                  "Nickname": "Indices",
                  "Description": "Click gauche - Ajouter\nClick droit - Soustraire",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/784129913444610342/7903BA89870C1656A003FD69C79BFA99BD1AAC24/",
                    "ImageSecondaryURL": "",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomToken": {
                      "Thickness": 0.1,
                      "MergeDistancePixels": 5.0,
                      "StandUp": false,
                      "Stackable": false
                    }
                  },
                  "LuaScript": "MIN_VALUE = -99\r\nMAX_VALUE = 999\r\nlocal ZONE_HANDLER_GUID = 'ef3980'\r\nzoneHandler = getObjectFromGUID(ZONE_HANDLER_GUID)\r\nfunction onload(saved_data)\r\n    light_mode = true\r\n    val = 0\r\n\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        light_mode = loaded_data[1]\r\n        val = loaded_data[2]\r\n    end\r\n\r\n    createAll()\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = { light_mode, val }\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction createAll()\r\n    s_color = { 0, 0, 0, 100 }\r\n\r\n    if light_mode then\r\n        f_color = { 1, 1, 1, 100 }\r\n    else\r\n        f_color = { 0, 0, 0, 100 }\r\n    end\r\n\r\n\r\n\r\n    self.createButton({\r\n        label = tostring(val),\r\n        click_function = \"clickOrAlt_click\",\r\n        function_owner = self,\r\n        position = { 0, 0.05, 0.1 },\r\n        height = 600,\r\n        width = 1000,\r\n        alignment = 3,\r\n        scale = { x = 1.5, y = 1.5, z = 1.5 },\r\n        font_size = 800,\r\n        font_color = f_color,\r\n        color = { 1, 1, 1, 0 }\r\n    })\r\n\r\n\r\n    self.createButton({\r\n        click_function = \"takeClue\",\r\n        function_owner = self,\r\n        label = \"Prendre\",\r\n        position = { 3.5, 0.1, 0 },\r\n        rotation = { 0, 270, 0 },\r\n        scale = { 1.6, 1, 1.6 },\r\n        width = 1600,\r\n        height = 500,\r\n        font_size = 400,\r\n        font_color = { 1, 1, 1 },\r\n        color = { 0, 0, 0 },\r\n        tooltip = \"Prendre un indice (click droit pour reposer)\"\r\n    })\r\n\r\n\r\n\r\n    if light_mode then\r\n        lightButtonText = \"[ Set dark ]\"\r\n    else\r\n        lightButtonText = \"[ Set light ]\"\r\n    end\r\nend\r\n\r\nfunction removeAll()\r\n    self.removeInput(0)\r\n    self.removeInput(1)\r\n    self.removeButton(0)\r\n    self.removeButton(1)\r\n    self.removeButton(2)\r\nend\r\n\r\nfunction reloadAll()\r\n    removeAll()\r\n    createAll()\r\n\r\n    updateSave()\r\nend\r\n\r\nfunction swap_fcolor(_obj, _color, alt_click)\r\n    light_mode = not light_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction swap_align(_obj, _color, alt_click)\r\n    center_mode = not center_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction editName(_obj, _string, value)\r\n    self.setName(value)\r\n    setTooltips()\r\nend\r\n\r\nfunction clickOrAlt_click(_obj, _color, alt_click)\r\n    if alt_click then\r\n        substract()\r\n    else\r\n        add()\r\n    end\r\nend\r\n\r\nfunction substract()\r\n    add_subtract(-1)\r\nend\r\n\r\nfunction add()\r\n    add_subtract(1)\r\nend\r\n\r\nfunction add_subtract(mod)\r\n    new_value = math.min(math.max(val + mod, MIN_VALUE), MAX_VALUE)\r\n    if val ~= new_value then\r\n        val = new_value\r\n        updateVal()\r\n        updateSave()\r\n    end\r\nend\r\n\r\nfunction takeClue(_, color, alt_click)\r\n    if alt_click then\r\n        add()\r\n    else\r\n        substract()\r\n    end\r\n    local params = {}\r\n    params.playerColor = color\r\n    params.zone = 'CounterZone'\r\n    local objects = zoneHandler.call('getObjectsInPlayerZone', params)\r\n    for _, token in ipairs(objects) do\r\n        if token.getName() == \"Indices\" and token.getDescription() == \"Compteur de Joueur\" then\r\n            local cluecounter = token\r\n            if alt_click then\r\n                cluecounter.call('substract')\r\n            else\r\n                cluecounter.call('add')\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateVal()\r\n    self.editButton({\r\n        index = 0,\r\n        label = tostring(val),\r\n    })\r\nend\r\n\r\nfunction reset_val()\r\n    val = 0\r\n    updateVal()\r\n    updateSave()\r\nend\r\n\r\nfunction setTooltips()\r\n    self.editInput({\r\n        index = 0,\r\n        value = self.getName(),\r\n        tooltip = ttText\r\n    })\r\n    self.editButton({\r\n        index = 0,\r\n        value = tostring(val),\r\n        tooltip = ttText\r\n    })\r\nend\r\n\r\nfunction null()\r\nend\r\n\r\nfunction keepSample(_obj, _string, value)\r\n    reloadAll()\r\nend\r\n",
                  "LuaScriptState": "[true,0]",
                  "XmlUI": ""
                },
                {
                  "GUID": "4c78b4",
                  "Name": "Card",
                  "Transform": {
                    "posX": 1.49989951,
                    "posY": 1.51702642,
                    "posZ": 1.49999583,
                    "rotX": 0.0110113053,
                    "rotY": 180.219986,
                    "rotZ": 0.00406196853,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Ulthar",
                  "Description": "Skai. Ville.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06127\",\n  \"locationFront\": {\n    \"connections\": \"Tilde\",\n    \"icons\": \"Heart\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    }\n  },\n  \"traits\": \"Skai. City.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276402,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2764": {
                      "FaceURL": "https://i.imgur.com/lxSjMsf.jpg",
                      "BackURL": "https://i.imgur.com/IhTn2aA.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "56f3f1",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": 0.99999994,
                    "posY": 1.50499916,
                    "posZ": 9.5,
                    "rotX": 0.00494995434,
                    "rotY": 90.0116043,
                    "rotZ": 359.9891,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/vppt2my.png",
                    "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "States": {
                    "2": {
                      "GUID": "44b0c5",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -39.7933121,
                        "posY": 1.63758957,
                        "posZ": 2.038383,
                        "rotX": 359.9201,
                        "rotY": 269.9961,
                        "rotZ": 0.0168742146,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    "3": {
                      "GUID": "5b38c6",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -38.8217163,
                        "posY": 1.99356019,
                        "posZ": 0.4159239,
                        "rotX": 359.9201,
                        "rotY": 272.9828,
                        "rotZ": 0.01687373,
                        "scaleX": 0.8,
                        "scaleY": 1.0,
                        "scaleZ": 0.8
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  }
                },
                {
                  "GUID": "7e7e81",
                  "Name": "Card",
                  "Transform": {
                    "posX": 17.501,
                    "posY": 1.51422858,
                    "posZ": -6.0196,
                    "rotX": 0.00494812662,
                    "rotY": 90.00006,
                    "rotZ": 359.9891,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Royaume de la Skai",
                  "Description": "Acte 1a",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"clueThresholdPerInvestigator\": 2,\n  \"cycle\": \"Standalone\",\n  \"id\": \"06122\",\n  \"type\": \"Act\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276302,
                  "SidewaysCard": true,
                  "CustomDeck": {
                    "2763": {
                      "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                      "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "ab4e80",
                  "Name": "Card",
                  "Transform": {
                    "posX": 6.5,
                    "posY": 1.51811528,
                    "posZ": 9.5,
                    "rotX": 0.0110199619,
                    "rotY": 180.125992,
                    "rotZ": 0.00404033065,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Dylath-Leen",
                  "Description": "Skai. Ville. Port.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06129\",\n  \"locationFront\": {\n    \"connections\": \"Tilde\",\n    \"icons\": \"Triangle\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    }\n  },\n  \"traits\": \"Skai. City. Port.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276404,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2764": {
                      "FaceURL": "https://i.imgur.com/lxSjMsf.jpg",
                      "BackURL": "https://i.imgur.com/IhTn2aA.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "ac78b4",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -2.50000048,
                    "posY": 1.504541,
                    "posZ": 5.5,
                    "rotX": 0.01120025,
                    "rotY": 135.000137,
                    "rotZ": -0.004203874,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/vppt2my.png",
                    "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "States": {
                    "2": {
                      "GUID": "44b0c5",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -39.7933121,
                        "posY": 1.63758957,
                        "posZ": 2.038383,
                        "rotX": 359.9201,
                        "rotY": 269.9961,
                        "rotZ": 0.0168742146,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    "3": {
                      "GUID": "5b38c6",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -38.8217163,
                        "posY": 1.99356019,
                        "posZ": 0.4159239,
                        "rotX": 359.9201,
                        "rotY": 272.9828,
                        "rotZ": 0.01687373,
                        "scaleX": 0.8,
                        "scaleY": 1.0,
                        "scaleZ": 0.8
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  }
                },
                {
                  "GUID": "decb94",
                  "Name": "Card",
                  "Transform": {
                    "posX": -4.50000143,
                    "posY": 1.51906192,
                    "posZ": 9.5,
                    "rotX": 0.0110641429,
                    "rotY": 180.007813,
                    "rotZ": 0.003788847,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Rivière Skai",
                  "Description": "Skai. Ville.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06128\",\n  \"locationFront\": {\n    \"connections\": \"Heart|Triangle\",\n    \"icons\": \"Tilde\"\n  },\n  \"traits\": \"Skai. City.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276403,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2764": {
                      "FaceURL": "https://i.imgur.com/lxSjMsf.jpg",
                      "BackURL": "https://i.imgur.com/IhTn2aA.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "d808e8",
              "Name": "Custom_Model_Bag",
              "Transform": {
                "posX": -30.5000153,
                "posY": 1.840001,
                "posZ": 5.999984,
                "rotX": -5.24300049E-06,
                "rotY": 179.98526,
                "rotZ": 9.835417E-07,
                "scaleX": 0.7,
                "scaleY": 0.7,
                "scaleZ": 0.7
              },
              "Nickname": "Mise en place pour Mnar",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "CustomMesh": {
                "MeshURL": "https://pastebin.com/raw/ALrYhQGb",
                "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/1985555189151509268/020353C2D28152718B1FA9AF1DF30ABA507D07DD/",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 6,
                "CustomShader": {
                  "SpecularColor": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "SpecularIntensity": 0.0,
                  "SpecularSharpness": 2.0,
                  "FresnelStrength": 0.0
                },
                "CastShadows": true
              },
              "Bag": {
                "Order": 0
              },
              "LuaScript": "-- Utility memory bag by Directsun\r\n-- Version 2.7.0\r\n-- Fork of Memory Bag 2.0 by MrStump\r\n--\r\n-- Want to contribute? Create an issue or fork the code on GitHub and submit a pull request:\r\n-- https://github.com/sunflowermans/TTS-UtilityMemoryBag\r\n\r\n\r\nfunction updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction combineMemoryFromBagsWithin()\r\n    local bagObjList = self.getObjects()\r\n    for _, bagObj in ipairs(bagObjList) do\r\n        local data = bagObj.lua_script_state\r\n        if data ~= nil then\r\n            local j = JSON.decode(data)\r\n            if j ~= nil and j.ml ~= nil then\r\n                for guid, entry in pairs(j.ml) do\r\n                    memoryList[guid] = entry\r\n                end\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateMemoryWithMoves()\r\n    memoryList = memoryListBackup\r\n    --get the first transposed object's coordinates\r\n    local obj = getObjectFromGUID(moveGuid)\r\n\r\n    -- p1 is where needs to go, p2 is where it was\r\n    local refObjPos = memoryList[moveGuid].pos\r\n    local deltaPos = findOffsetDistance(obj.getPosition(), refObjPos, nil)\r\n    local movedRotation = obj.getRotation()\r\n    for guid, entry in pairs(memoryList) do\r\n        memoryList[guid].pos.x = entry.pos.x - deltaPos.x\r\n        memoryList[guid].pos.y = entry.pos.y - deltaPos.y\r\n        memoryList[guid].pos.z = entry.pos.z - deltaPos.z\r\n        -- memoryList[guid].rot.x = movedRotation.x\r\n        -- memoryList[guid].rot.y = movedRotation.y\r\n        -- memoryList[guid].rot.z = movedRotation.z\r\n    end\r\n\r\n    --theList[obj.getGUID()] = {\r\n    --    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n    --    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n    --    lock=obj.getLock()\r\n    --}\r\n    moveList = {}\r\nend\r\n\r\nfunction onload(saved_data)\r\n\r\n    fresh = true\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n\r\n    end\r\n\r\n    moveList = {}\r\n    moveGuid = nil\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        fresh = false\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,2}, rotation={0,0,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by Transpose button\r\nfunction buttonClick_transpose()\r\n    moveGuid = nil\r\n    broadcastToAll(\"Select one object and move it- all objects will move relative to the new location\", {0.75, 0.75, 1})\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(true)\r\n    createSetupActionButtons(true)\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(false)\r\n    createSetupActionButtons(false)\r\nend\r\n\r\nfunction getAllObjectsInMemory()\r\n    local objTable = {}\r\n    local curObj = {}\r\n\r\n    for guid in pairs(memoryListBackup) do\r\n        curObj = getObjectFromGUID(guid)\r\n        table.insert(objTable, curObj)\r\n    end\r\n\r\n    return objTable\r\n    -- return getAllObjects()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects(move)\r\n    buttonIndexMap = {}\r\n    local howManyButtons = 0\r\n\r\n    local objsToHaveButtons = {}\r\n    if move == true then\r\n        objsToHaveButtons = getAllObjectsInMemory()\r\n    else\r\n        objsToHaveButtons = getAllObjects()\r\n    end\r\n\r\n    for _, obj in ipairs(objsToHaveButtons) do\r\n        if obj ~= self then\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor +2\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Workaround for custom PDFs\r\n            if obj.Book then\r\n                objPos.y = objPos.y + 0.5\r\n            end\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(obj, move) end\r\n            local color = {0.75,0.25,0.25,0.6}\r\n            local colorMove = {0,0,1,0.6}\r\n            if move == true then\r\n                color = colorMove\r\n            end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color=color,\r\n            })\r\n            buttonIndexMap[obj.getGUID()] = howManyButtons\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons(move)\r\n    self.createButton({\r\n       label=\"Annuler\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n       position={-1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n       font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    self.createButton({\r\n      label=\"Valider\", click_function=\"buttonClick_submit\", function_owner=self,\r\n      position={-1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n      font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    if move == false then\r\n      self.createButton({\r\n          label=\"Ajouter\", click_function=\"buttonClick_add\", function_owner=self,\r\n          position={1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n          font_size=250, color={0,0,0}, font_color={0.25,1,0.25}\r\n        })\r\n\r\n        self.createButton({\r\n            label=\"Sélection\", click_function=\"editDragSelection\", function_owner=self,\r\n            position={-1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n            font_size=250, color={0,0,0}, font_color={1,1,1}\r\n        })\r\n\r\n        if fresh == false then\r\n            self.createButton({\r\n                label=\"Mise à Jour\", click_function=\"buttonClick_setNew\", function_owner=self,\r\n                position={1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n                font_size=180, color={0,0,0}, font_color={0.75,0.75,1}\r\n            })\r\n            self.createButton({\r\n                label=\"Retirer\", click_function=\"buttonClick_remove\", function_owner=self,\r\n                position={1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n                font_size=250, color={0,0,0}, font_color={1,0.25,0.25}\r\n            })\r\n        end\r\n    end\r\n\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,0,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(obj, move)\r\n    local index = buttonIndexMap[obj.getGUID()]\r\n    local colorMove = {0,0,1,0.6}\r\n    local color = {0,1,0,0.6}\r\n\r\n    previousGuid = selectedGuid\r\n    selectedGuid = obj.getGUID()\r\n\r\n    theList = memoryList\r\n    if move == true then\r\n        theList = moveList\r\n        if previousGuid ~= nil and previousGuid ~= selectedGuid then\r\n            local prevObj = getObjectFromGUID(previousGuid)\r\n            prevObj.highlightOff()\r\n            self.editButton({index=previousIndex, color=colorMove})\r\n            theList[previousGuid] = nil\r\n        end\r\n        previousIndex = index\r\n    end\r\n\r\n    if theList[selectedGuid] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        theList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock(),\r\n            tint=obj.getColorTint()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        if move == true then\r\n            color = colorMove\r\n        end\r\n        self.editButton({index=index, color=color})\r\n        theList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\nfunction editDragSelection(bagObj, player, remove)\r\n    local selectedObjs = Player[player].getSelectedObjects()\r\n    if not remove then\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            --Ignore if already in the memory list, or does not have a button\r\n            if index and not memoryList[obj.getGUID()] then\r\n                self.editButton({index=index, color={0,1,0,0.6}})\r\n                --Adding pos/rot to memory table\r\n                local pos, rot = obj.getPosition(), obj.getRotation()\r\n                --I need to add it like this or it won't save due to indexing issue\r\n                memoryList[obj.getGUID()] = {\r\n                    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n                    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n                    lock=obj.getLock(),\r\n                    tint=obj.getColorTint()\r\n                }\r\n                obj.highlightOn({0,1,0})\r\n            end\r\n        end\r\n    else\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            if index and memoryList[obj.getGUID()] then\r\n                color = {0.75,0.25,0.25,0.6}\r\n                self.editButton({index=index, color=color})\r\n                memoryList[obj.getGUID()] = nil\r\n                obj.highlightOff()\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Sélection annulée\", {1,1,1})\r\n    moveGuid = nil\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    fresh = false\r\n    if next(moveList) ~= nil then\r\n        for guid in pairs(moveList) do\r\n            moveGuid = guid\r\n        end\r\n        if memoryListBackup[moveGuid] == nil then\r\n            broadcastToAll(\"Item selected for moving is not already in memory\", {1, 0.25, 0.25})\r\n        else\r\n            broadcastToAll(\"Moving all items in memory relative to new objects position!\", {0.75, 0.75, 1})\r\n            self.clearButtons()\r\n            self.clearInputs()\r\n            createMemoryActionButtons()\r\n            local count = 0\r\n            for guid in pairs(moveList) do\r\n                moveGuid = guid\r\n                count = count + 1\r\n                local obj = getObjectFromGUID(guid)\r\n                if obj ~= nil then obj.highlightOff() end\r\n            end\r\n            updateMemoryWithMoves()\r\n            updateSave()\r\n            buttonClick_place()\r\n        end\r\n    elseif next(memoryList) == nil and moveGuid == nil then\r\n        memoryList = memoryListBackup\r\n        broadcastToAll(\"No selections made.\", {0.75, 0.25, 0.25})\r\n    end\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\n    moveGuid = nil\r\nend\r\n\r\nfunction combineTables(first_table, second_table)\r\n    for k,v in pairs(second_table) do first_table[k] = v end\r\nend\r\n\r\nfunction buttonClick_add()\r\n    fresh = false\r\n    combineTables(memoryList, memoryListBackup)\r\n    broadcastToAll(\"Adding internal bags and selections to existing memory\", {0.25, 0.75, 0.25})\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_remove()\r\n    broadcastToAll(\"Removing Selected Entries From Memory\", {1.0, 0.25, 0.25})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        memoryListBackup[guid] = nil\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Removed\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_setNew()\r\n    broadcastToAll(\"Setting new position relative to items in memory\", {0.75, 0.75, 1})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        guid = obj.guid\r\n        if memoryListBackup[guid] ~= nil then\r\n            count = count + 1\r\n            memoryListBackup[guid].pos = obj.getPosition()\r\n            memoryListBackup[guid].rot = obj.getRotation()\r\n            memoryListBackup[guid].lock = obj.getLock()\r\n            memoryListBackup[guid].tint = obj.getColorTint()\r\n        end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    fresh = true\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Placer\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,2}, rotation={0,0,0}, height=350, width=1000,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Ranger\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,2.8}, rotation={0,0,0}, height=350, width=1000,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={2,0.3,0}, rotation={0,90,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    ---    self.createButton({\r\n    ---      label=\"Bouger\", click_function=\"buttonClick_transpose\", function_owner=self,\r\n    ---      position={-2,0.3,0.8}, rotation={0,270,0}, height=350, width=800,\r\n    ---      font_size=250, color={0,0,0}, font_color={0.75,0.75,1}\r\n    ---  \r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n            obj.setColorTint(entry.tint)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot, smooth=false\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    item.setColorTint(entry.tint)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objets placés\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objets rangés\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local yOffset = 0\r\n    if obj ~= nil then\r\n        local bounds = obj.getBounds()\r\n        yOffset = (bounds.size.y - bounds.offset.y)\r\n    end\r\n    local deltaPos = {}\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + yOffset\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n    local objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n    local x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n    local z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n    --return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\nfunction rotateMyCoordinates(desiredPos, obj)\r\n    local angle = math.rad(obj.getRotation().y)\r\n    local x = desiredPos.x * math.sin(angle)\r\n    local z = desiredPos.z * math.cos(angle)\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n    local mult = 10^(dec or 0)\r\n    return math.floor(num * mult + 0.5) / mult\r\nend\r\n\r\n\r\n--[[\r\nThis object provides access to a variable stored on the \"Global script\".\r\nThe variable holds the GUIDs for every Utility Memory Bag in the scene.\r\nExample:\r\n{'805ebd', '35cc21', 'fc8886', 'f50264', '5f5f63'}\r\n--]]\r\nAllMemoryBagsInScene = {\r\n    NAME_OF_GLOBAL_VARIABLE = \"_UtilityMemoryBag_AllMemoryBagsInScene\"\r\n}\r\n\r\nfunction AllMemoryBagsInScene:add(guid)\r\n    local guids = Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\n    table.insert(guids, guid)\r\n    Global.setTable(self.NAME_OF_GLOBAL_VARIABLE, guids)\r\nend\r\n\r\nfunction AllMemoryBagsInScene:getGuidList()\r\n    return Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\nend",
              "LuaScriptState": "{\"ml\":{\"050461\":{\"lock\":false,\"pos\":{\"x\":4.5,\"y\":1.5181,\"z\":8.4999},\"rot\":{\"x\":0.0109,\"y\":180.008,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"18fbed\":{\"lock\":false,\"pos\":{\"x\":-1,\"y\":1.5537,\"z\":1.5},\"rot\":{\"x\":0.0109,\"y\":179.9941,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"328486\":{\"lock\":false,\"pos\":{\"x\":17.5013,\"y\":1.5142,\"z\":-6.0196},\"rot\":{\"x\":0.005,\"y\":90.0205,\"z\":359.9891},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"46e947\":{\"lock\":false,\"pos\":{\"x\":-0.8649,\"y\":1.5074,\"z\":12.1494},\"rot\":{\"x\":359.9891,\"y\":-0.0001,\"z\":-0.0049},\"tint\":{\"a\":0,\"b\":0.555448532104492,\"g\":0.677700459957123,\"r\":0}},\"4df2ac\":{\"lock\":false,\"pos\":{\"x\":-6.5001,\"y\":1.5823,\"z\":8.5001},\"rot\":{\"x\":0.0157,\"y\":179.9942,\"z\":0.0159},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"569789\":{\"lock\":false,\"pos\":{\"x\":-1.0001,\"y\":1.5173,\"z\":1.5},\"rot\":{\"x\":0.0109,\"y\":180.0082,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"7234af\":{\"lock\":false,\"pos\":{\"x\":-1,\"y\":1.505,\"z\":8.5},\"rot\":{\"x\":0.005,\"y\":90.1902,\"z\":359.9891},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"8dc54d\":{\"lock\":false,\"pos\":{\"x\":4.5,\"y\":1.5545,\"z\":8.5},\"rot\":{\"x\":0.0109,\"y\":179.9954,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"a5402d\":{\"lock\":false,\"pos\":{\"x\":7,\"y\":1.5179,\"z\":8.5},\"rot\":{\"x\":0.0109,\"y\":179.9911,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"b07782\":{\"lock\":false,\"pos\":{\"x\":-4,\"y\":1.5046,\"z\":5},\"rot\":{\"x\":0.0112,\"y\":135,\"z\":-0.0042},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"e16ed6\":{\"lock\":false,\"pos\":{\"x\":-6.5,\"y\":1.5191,\"z\":8.5},\"rot\":{\"x\":0.0109,\"y\":180.0079,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"f9b57a\":{\"lock\":false,\"pos\":{\"x\":2,\"y\":1.5041,\"z\":5},\"rot\":{\"x\":0.0042,\"y\":225,\"z\":0.0112},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}}}}",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "050461",
                  "Name": "Card",
                  "Transform": {
                    "posX": 4.49999952,
                    "posY": 1.51809442,
                    "posZ": 8.4999,
                    "rotX": 0.0110661937,
                    "rotY": 180.00798,
                    "rotZ": 0.00377622922,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Ruines d'Ib",
                  "Description": "Mnar. Antique. Ruines.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06132\",\n  \"locationFront\": {\n    \"connections\": \"Circle|Diamond\",\n    \"icons\": \"Square\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    },\n    \"victory\": 1\n  },\n  \"traits\": \"Mnar. Ancient. Ruins.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276407,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2764": {
                      "FaceURL": "https://i.imgur.com/lxSjMsf.jpg",
                      "BackURL": "https://i.imgur.com/IhTn2aA.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "328486",
                  "Name": "Card",
                  "Transform": {
                    "posX": 17.5013,
                    "posY": 1.51422858,
                    "posZ": -6.0196,
                    "rotX": 0.00495198043,
                    "rotY": 90.0205,
                    "rotZ": 359.9891,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Le Fléau qui Fut",
                  "Description": "Acte 2a",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06124\",\n  \"type\": \"Act\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276304,
                  "SidewaysCard": true,
                  "CustomDeck": {
                    "2763": {
                      "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                      "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "46e947",
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -0.8649005,
                    "posY": 1.50741351,
                    "posZ": 12.1494,
                    "rotX": 359.9891,
                    "rotY": -0.000104227154,
                    "rotZ": -0.004948321,
                    "scaleX": 1.74999952,
                    "scaleY": 1.74999952,
                    "scaleZ": 1.74999952
                  },
                  "Nickname": "Mnar",
                  "Description": "Mise en place de Mnar",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.0,
                    "g": 0.67770046,
                    "b": 0.555448532,
                    "a": 0.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": false,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": false,
                  "Tooltip": false,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/1478820768302617365/27883B7913E0E69143C3AA03493B7E7C4E8C29C0/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "",
                    "Convex": true,
                    "MaterialIndex": 1,
                    "TypeIndex": 0,
                    "CastShadows": true
                  },
                  "LuaScript": "-- Code for bag to identify text tool objects\r\nmovableTextTool_cowgoesmoo33 = true\r\n\r\n-- Number of characters before the text box width expands.\r\nEXPAND_INTERVAL = 20\r\n\r\n-- This table controls what is passed between save/load\r\ndata = {}\r\n\r\nfunction onLoad(saved_data)\r\n  if saved_data ~= '' then\r\n    data = JSON.decode(saved_data)\r\n    if data.text ~= '' then\r\n      self.interactable = data.interactable\r\n      staticMode()\r\n      return\r\n    end\r\n  else\r\n    data = {size=200, color=Color(0,0,0), text='', interactable=true,\r\n        enter_to_finish=false, autolock=false, autolift=false,\r\n        hover_height=0.05, box_transparency=1}\r\n  end\r\n\r\n  inputMode()\r\nend\r\n\r\n-- True if in the middle of delay after pressing Enter (with enter_to_finish on)\r\nfinishing = false\r\nfunction input_func(obj, color, input, stillEditing)\r\n  local params = getBox(input)\r\n  if params then\r\n    params.value = input\r\n    self.editInput(params)\r\n  end\r\n\r\n  if not stillEditing then\r\n    data.text = input\r\n    updateState()\r\n    if input ~= '' then staticMode(color) end\r\n  elseif data.enter_to_finish then\r\n    -- If enter is pressed: remove last newline and force finish\r\n    if not finishing and input:sub(-1) == '\\n' then\r\n      finishing = true\r\n      -- Delay to avoid user's Enter keypress being detected (opens chat box)\r\n      Wait.frames(function()\r\n        input = input:sub(1, -2)\r\n        data.text = input\r\n        updateState()\r\n        if input ~= '' then staticMode(color) else inputMode() end\r\n        finishing = false\r\n      end, 10)\r\n    end\r\n  end\r\nend\r\n\r\n-- When the inpupt box appears and lets the player type in it.\r\nfunction inputMode()\r\n  self.clearContextMenu()\r\n  self.clearInputs()\r\n  self.clearButtons()\r\n\r\n  local size = getBox(data.text, true)\r\n\r\n  self.createInput({\r\n    input_function = \"input_func\",\r\n    function_owner = self,\r\n    label          = \"Type Here\",\r\n    alignment      = 3,\r\n    position       = {x=0, y=data.hover_height, z=0},\r\n    rotation       = {0, 180, 0},\r\n    width          = size.width,\r\n    height         = size.height,\r\n    color          = getBackground(data.color),\r\n    font_color     = data.color,\r\n    font_size      = data.size,\r\n    value          = data.text,\r\n  })\r\n\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\nend\r\n\r\n-- When the input box disappears and displays the text.\r\nfunction staticMode(player)\r\n  self.clearContextMenu()\r\n  if data.autolock then\r\n    self.locked = true\r\n  end\r\n  if self.getInputs() and #self.getInputs() ~= 0 then\r\n    self.removeInput(0)\r\n  end\r\n\r\n  -- Clear from selecting player\r\n  if player then\r\n    self.removeFromPlayerSelection(player)\r\n  end\r\n\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  self.createButton({\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=self,\r\n    position={0,data.hover_height,0}, rotation={0,180,0}, height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  })\r\n\r\n  self.addContextMenuItem('Edit Text', function(color)\r\n    self.removeFromPlayerSelection(color)\r\n    inputMode()\r\n  end)\r\n  self.addContextMenuItem('Clear', function(color)\r\n    applyMultiple(color, 'clear', _, true)\r\n  end)\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\n  self.addContextMenuItem('Permanently Attach', attemptAttach)\r\n  self.addContextMenuItem('Permalock', function(color)\r\n    applyMultiple(color, 'permalock', _, true)\r\n  end)\r\nend\r\n\r\nfunction changeSize(params)\r\n  local delta = params[1]\r\n  local newSize = data.size + delta\r\n  if newSize > 800  or newSize < 50 then\r\n    return\r\n  end\r\n  data.size = newSize\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_size=data.size})\r\n  else\r\n    local size = getBox(data.text, true)\r\n    self.editInput({width=size.width, height=size.height, font_size=data.size})\r\n  end\r\nend\r\n\r\nfunction setColor(params)\r\n  if params and params[1] then\r\n    data.color = params[1]\r\n  else\r\n    data.color = self.getColorTint():setAt('a', 1) -- Take on color of object tint\r\n  end\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_color=data.color})\r\n  else\r\n    self.editInput({font_color=data.color, color=getBackground(data.color)})\r\n  end\r\nend\r\n\r\nfunction getBackground(color) --determines whether to use black or white depending on luminance\r\n  local r,g,b = Color(color):get()\r\n\r\n  local lum = 0.2126*r + 0.7152*g + 0.0722*b\r\n  if lum > 0.75 then\r\n    return {0.2,0.2,0.2, data.box_transparency}\r\n  else\r\n    return {1,1,1, data.box_transparency}\r\n  end\r\nend\r\n\r\nfunction clear()\r\n  data.text = ''\r\n  updateState()\r\n  inputMode()\r\nend\r\n\r\nfunction permalock()\r\n  self.interactable = false\r\n  data.interactable = false\r\n  updateState()\r\nend\r\n\r\nlocal target_script = [[\r\nfunction onLoad(script_state)\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    for _,entry in ipairs(state) do\r\n      self.createButton(entry)\r\n    end\r\n    self.addContextMenuItem('Clear All Text', function(color)\r\n      self.clearContextMenu()\r\n      self.clearButtons()\r\n      self.script_state = ''\r\n      self.script_code = ''\r\n    end)\r\n  end\r\nend\r\n]]\r\n\r\nfunction attemptAttach(player_color)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  local attachee\r\n  local attachers = {}\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if obj ~= self then\r\n        table.insert(attachers, obj)\r\n      end\r\n    else\r\n      if attachee then\r\n        broadcastToColor(\"More than one target selected.\", player_color)\r\n        return\r\n      else\r\n        attachee = obj\r\n      end\r\n    end\r\n  end\r\n  if attachee then\r\n    local code = attachee.script_code\r\n    if code and code ~= '' and code ~= target_script then\r\n      broadcastToColor(\"Warning: script on card has been overriden. Rewind time to undo.\", player_color)\r\n    end\r\n    for i,attacher in ipairs(attachers) do\r\n      attacher.call('attach', {target = attachee})\r\n    end\r\n    attach({target = attachee})\r\n    local type, flip = attachee.type, attachee.getRotation().z\r\n    if (type == 'Card' or type == 'Deck') and flip > 175 and flip < 185 then\r\n      broadcastToColor(\"Warning: text will not display if card or deck is facing down.\", player_color)\r\n    end\r\n  else\r\n    broadcastToColor(\"You must have a target object in your selection (using click-and-drag or Ctrl+Click) to use this option.\", player_color)\r\n  end\r\nend\r\n\r\nfunction attach(params)\r\n  local target = params.target\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  local textRotation = self.getRotation():sub(target.getRotation())\r\n    :add(Vector(180, 0, 180))\r\n\r\n  local textPosition = target.positionToLocal(\r\n    self.getPosition():add(Vector(0, data.hover_height, 0))\r\n  )\r\n  textPosition.x = -textPosition.x\r\n\r\n  local textScale = {}\r\n  textScale.x = self.getScale().x / target.getScale().x\r\n  textScale.y = self.getScale().x / target.getScale().y\r\n  textScale.z = self.getScale().x / target.getScale().z\r\n\r\n  local details = {\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=nil,\r\n    position=textPosition,\r\n    rotation=textRotation,\r\n    scale=textScale,\r\n    height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  }\r\n\r\n  target.createButton(details)\r\n\r\n  local script_state = target.script_state\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    table.insert(state, details)\r\n    target.script_state = JSON.encode(state)\r\n  else\r\n    target.script_state = JSON.encode({[1]=details})\r\n  end\r\n\r\n  target.script_code = target_script\r\n\r\n  self.destruct()\r\nend\r\n\r\nfunction applyMultiple(player_color, func_string, params, static_only)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if not static_only or obj.call('isStatic') then\r\n        obj.call(func_string, params)\r\n      end\r\n    end\r\n  end\r\nend\r\n\r\nfunction isStatic()\r\n  local input = self.getInputs()\r\n  return not input or #input == 0\r\nend\r\n\r\nfunction getBox(input, force)\r\n  local maxLength, lineCount = EXPAND_INTERVAL, 1\r\n  local lineLength = 0\r\n  for i = 1, #input do\r\n    local c = input:sub(i,i)\r\n    if c == '\\n' then\r\n      lineCount = lineCount + 1\r\n      if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n      lineLength = 0\r\n    else\r\n      lineLength = lineLength + 1\r\n    end\r\n  end\r\n  if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n\r\n  newWidth = data.size * maxLength * 0.9\r\n  newHeight = data.size * lineCount + 23\r\n\r\n  if force or boxWidth ~= newWidth or boxHeight ~= newHeight then\r\n    boxWidth, boxHeight = newWidth, newHeight\r\n    return {width = boxWidth, height = boxHeight}\r\n  end\r\n  return nil\r\nend\r\n\r\ntemp_lift = nil\r\nfunction onPickUp(player_color)\r\n  if data.autolift then\r\n    local player = Player[player_color]\r\n    temp_lift = player.lift_height\r\n    player.lift_height = 0\r\n  end\r\nend\r\n\r\nfunction onDrop(player_color)\r\n  if data.autolift and temp_lift then\r\n    Player[player_color].lift_height = temp_lift\r\n  end\r\nend\r\n\r\n-- Should be called every time data is modified, allows info to be saved on copy/paste\r\nfunction updateState()\r\n  self.script_state = JSON.encode(data)\r\nend\r\n\r\nfunction onSave()\r\n  self.script_state = JSON.encode(data)\r\n  return self.script_state\r\nend",
                  "LuaScriptState": "{\"autolift\":false,\"autolock\":false,\"box_transparency\":1,\"color\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1},\"enter_to_finish\":false,\"hover_height\":0.05,\"interactable\":true,\"size\":250,\"text\":\"Mnar\"}",
                  "XmlUI": ""
                },
                {
                  "GUID": "569789",
                  "Name": "Card",
                  "Transform": {
                    "posX": -1.00010061,
                    "posY": 1.51723933,
                    "posZ": 1.49999809,
                    "rotX": 0.0110597648,
                    "rotY": 180.0082,
                    "rotZ": 0.00381838251,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Kadatheron",
                  "Description": "Mnar. Antique. Ville. Port.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06130\",\n  \"locationFront\": {\n    \"connections\": \"Square|Diamond\",\n    \"icons\": \"Circle\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    }\n  },\n  \"traits\": \"Mnar. Ancient. City. Port.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276405,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2764": {
                      "FaceURL": "https://i.imgur.com/lxSjMsf.jpg",
                      "BackURL": "https://i.imgur.com/IhTn2aA.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "7234af",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -1.00000048,
                    "posY": 1.50498176,
                    "posZ": 8.5,
                    "rotX": 0.004984007,
                    "rotY": 90.19022,
                    "rotZ": 359.9891,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/vppt2my.png",
                    "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "States": {
                    "2": {
                      "GUID": "44b0c5",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -39.7933121,
                        "posY": 1.63758957,
                        "posZ": 2.038383,
                        "rotX": 359.9201,
                        "rotY": 269.9961,
                        "rotZ": 0.0168742146,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    "3": {
                      "GUID": "5b38c6",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -38.8217163,
                        "posY": 1.99356019,
                        "posZ": 0.4159239,
                        "rotX": 359.9201,
                        "rotY": 272.9828,
                        "rotZ": 0.01687373,
                        "scaleX": 0.8,
                        "scaleY": 1.0,
                        "scaleZ": 0.8
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  }
                },
                {
                  "GUID": "a5402d",
                  "Name": "Card",
                  "Transform": {
                    "posX": 7.0,
                    "posY": 1.51789558,
                    "posZ": 8.5,
                    "rotX": 0.0108922152,
                    "rotY": 179.991089,
                    "rotZ": 0.00494657131,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Êtres d'Ib",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 1,\n  \"id\": \"06148\",\n  \"traits\": \"Monster. Elite.\",\n  \"type\": \"Enemy\",\n  \"victory\": 1\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276229,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "b07782",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -4.0,
                    "posY": 1.50457561,
                    "posZ": 4.99999952,
                    "rotX": 0.011200578,
                    "rotY": 135.0,
                    "rotZ": -0.00420477055,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/vppt2my.png",
                    "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "States": {
                    "2": {
                      "GUID": "44b0c5",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -39.7933121,
                        "posY": 1.63758957,
                        "posZ": 2.038383,
                        "rotX": 359.9201,
                        "rotY": 269.9961,
                        "rotZ": 0.0168742146,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    "3": {
                      "GUID": "5b38c6",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -38.8217163,
                        "posY": 1.99356019,
                        "posZ": 0.4159239,
                        "rotX": 359.9201,
                        "rotY": 272.9828,
                        "rotZ": 0.01687373,
                        "scaleX": 0.8,
                        "scaleY": 1.0,
                        "scaleZ": 0.8
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  }
                },
                {
                  "GUID": "e16ed6",
                  "Name": "Card",
                  "Transform": {
                    "posX": -6.499961,
                    "posY": 1.54482269,
                    "posZ": 8.499959,
                    "rotX": 0.0594627075,
                    "rotY": 180.0078,
                    "rotZ": 0.04982884,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Sarnath",
                  "Description": "Mnar. Antique. Ruines.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06131\",\n  \"locationBack\": {\n    \"connections\": \"\",\n    \"icons\": \"\",\n    \"uses\": {\n      \"count\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    }\n  },\n  \"locationFront\": {\n    \"connections\": \"Circle|Square\",\n    \"icons\": \"Diamond\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    },\n    \"victory\": 1\n  },\n  \"traits\": \"Mnar. Ancient. Ruins.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276406,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2764": {
                      "FaceURL": "https://i.imgur.com/lxSjMsf.jpg",
                      "BackURL": "https://i.imgur.com/IhTn2aA.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "f9b57a",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": 2.0,
                    "posY": 1.50405729,
                    "posZ": 4.99999952,
                    "rotX": 0.004203211,
                    "rotY": 224.999969,
                    "rotZ": 0.0112060513,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/vppt2my.png",
                    "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "States": {
                    "2": {
                      "GUID": "44b0c5",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -39.7933121,
                        "posY": 1.63758957,
                        "posZ": 2.038383,
                        "rotX": 359.9201,
                        "rotY": 269.9961,
                        "rotZ": 0.0168742146,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    "3": {
                      "GUID": "5b38c6",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -38.8217163,
                        "posY": 1.99356019,
                        "posZ": 0.4159239,
                        "rotX": 359.9201,
                        "rotY": 272.9828,
                        "rotZ": 0.01687373,
                        "scaleX": 0.8,
                        "scaleY": 1.0,
                        "scaleZ": 0.8
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  }
                },
                {
                  "GUID": "18fbed",
                  "Name": "Custom_Token",
                  "Transform": {
                    "posX": -1.00001121,
                    "posY": 1.55365109,
                    "posZ": 1.49999952,
                    "rotX": 0.0109123625,
                    "rotY": 179.9941,
                    "rotZ": 0.00493988069,
                    "scaleX": 0.23,
                    "scaleY": 1.0,
                    "scaleZ": 0.225
                  },
                  "Nickname": "Indices",
                  "Description": "Click gauche - Ajouter\nClick droit - Soustraire",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/784129913444610342/7903BA89870C1656A003FD69C79BFA99BD1AAC24/",
                    "ImageSecondaryURL": "",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomToken": {
                      "Thickness": 0.1,
                      "MergeDistancePixels": 5.0,
                      "StandUp": false,
                      "Stackable": false
                    }
                  },
                  "LuaScript": "MIN_VALUE = -99\r\nMAX_VALUE = 999\r\nlocal ZONE_HANDLER_GUID = 'ef3980'\r\nzoneHandler = getObjectFromGUID(ZONE_HANDLER_GUID)\r\nfunction onload(saved_data)\r\n    light_mode = true\r\n    val = 0\r\n\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        light_mode = loaded_data[1]\r\n        val = loaded_data[2]\r\n    end\r\n\r\n    createAll()\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = { light_mode, val }\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction createAll()\r\n    s_color = { 0, 0, 0, 100 }\r\n\r\n    if light_mode then\r\n        f_color = { 1, 1, 1, 100 }\r\n    else\r\n        f_color = { 0, 0, 0, 100 }\r\n    end\r\n\r\n\r\n\r\n    self.createButton({\r\n        label = tostring(val),\r\n        click_function = \"clickOrAlt_click\",\r\n        function_owner = self,\r\n        position = { 0, 0.05, 0.1 },\r\n        height = 600,\r\n        width = 1000,\r\n        alignment = 3,\r\n        scale = { x = 1.5, y = 1.5, z = 1.5 },\r\n        font_size = 800,\r\n        font_color = f_color,\r\n        color = { 1, 1, 1, 0 }\r\n    })\r\n\r\n\r\n    self.createButton({\r\n        click_function = \"takeClue\",\r\n        function_owner = self,\r\n        label = \"Prendre\",\r\n        position = { 3.5, 0.1, 0 },\r\n        rotation = { 0, 270, 0 },\r\n        scale = { 1.6, 1, 1.6 },\r\n        width = 1600,\r\n        height = 500,\r\n        font_size = 400,\r\n        font_color = { 1, 1, 1 },\r\n        color = { 0, 0, 0 },\r\n        tooltip = \"Prendre un indice (click droit pour reposer)\"\r\n    })\r\n\r\n\r\n\r\n    if light_mode then\r\n        lightButtonText = \"[ Set dark ]\"\r\n    else\r\n        lightButtonText = \"[ Set light ]\"\r\n    end\r\nend\r\n\r\nfunction removeAll()\r\n    self.removeInput(0)\r\n    self.removeInput(1)\r\n    self.removeButton(0)\r\n    self.removeButton(1)\r\n    self.removeButton(2)\r\nend\r\n\r\nfunction reloadAll()\r\n    removeAll()\r\n    createAll()\r\n\r\n    updateSave()\r\nend\r\n\r\nfunction swap_fcolor(_obj, _color, alt_click)\r\n    light_mode = not light_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction swap_align(_obj, _color, alt_click)\r\n    center_mode = not center_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction editName(_obj, _string, value)\r\n    self.setName(value)\r\n    setTooltips()\r\nend\r\n\r\nfunction clickOrAlt_click(_obj, _color, alt_click)\r\n    if alt_click then\r\n        substract()\r\n    else\r\n        add()\r\n    end\r\nend\r\n\r\nfunction substract()\r\n    add_subtract(-1)\r\nend\r\n\r\nfunction add()\r\n    add_subtract(1)\r\nend\r\n\r\nfunction add_subtract(mod)\r\n    new_value = math.min(math.max(val + mod, MIN_VALUE), MAX_VALUE)\r\n    if val ~= new_value then\r\n        val = new_value\r\n        updateVal()\r\n        updateSave()\r\n    end\r\nend\r\n\r\nfunction takeClue(_, color, alt_click)\r\n    if alt_click then\r\n        add()\r\n    else\r\n        substract()\r\n    end\r\n    local params = {}\r\n    params.playerColor = color\r\n    params.zone = 'CounterZone'\r\n    local objects = zoneHandler.call('getObjectsInPlayerZone', params)\r\n    for _, token in ipairs(objects) do\r\n        if token.getName() == \"Indices\" and token.getDescription() == \"Compteur de Joueur\" then\r\n            local cluecounter = token\r\n            if alt_click then\r\n                cluecounter.call('substract')\r\n            else\r\n                cluecounter.call('add')\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateVal()\r\n    self.editButton({\r\n        index = 0,\r\n        label = tostring(val),\r\n    })\r\nend\r\n\r\nfunction reset_val()\r\n    val = 0\r\n    updateVal()\r\n    updateSave()\r\nend\r\n\r\nfunction setTooltips()\r\n    self.editInput({\r\n        index = 0,\r\n        value = self.getName(),\r\n        tooltip = ttText\r\n    })\r\n    self.editButton({\r\n        index = 0,\r\n        value = tostring(val),\r\n        tooltip = ttText\r\n    })\r\nend\r\n\r\nfunction null()\r\nend\r\n\r\nfunction keepSample(_obj, _string, value)\r\n    reloadAll()\r\nend\r\n",
                  "LuaScriptState": "[true,0]",
                  "XmlUI": ""
                },
                {
                  "GUID": "8dc54d",
                  "Name": "Custom_Token",
                  "Transform": {
                    "posX": 4.499997,
                    "posY": 1.55450654,
                    "posZ": 8.500005,
                    "rotX": 0.010899568,
                    "rotY": 179.995392,
                    "rotZ": 0.00493845,
                    "scaleX": 0.23,
                    "scaleY": 1.0,
                    "scaleZ": 0.225
                  },
                  "Nickname": "Indices",
                  "Description": "Click gauche - Ajouter\nClick droit - Soustraire",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/784129913444610342/7903BA89870C1656A003FD69C79BFA99BD1AAC24/",
                    "ImageSecondaryURL": "",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomToken": {
                      "Thickness": 0.1,
                      "MergeDistancePixels": 5.0,
                      "StandUp": false,
                      "Stackable": false
                    }
                  },
                  "LuaScript": "MIN_VALUE = -99\r\nMAX_VALUE = 999\r\nlocal ZONE_HANDLER_GUID = 'ef3980'\r\nzoneHandler = getObjectFromGUID(ZONE_HANDLER_GUID)\r\nfunction onload(saved_data)\r\n    light_mode = true\r\n    val = 0\r\n\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        light_mode = loaded_data[1]\r\n        val = loaded_data[2]\r\n    end\r\n\r\n    createAll()\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = { light_mode, val }\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction createAll()\r\n    s_color = { 0, 0, 0, 100 }\r\n\r\n    if light_mode then\r\n        f_color = { 1, 1, 1, 100 }\r\n    else\r\n        f_color = { 0, 0, 0, 100 }\r\n    end\r\n\r\n\r\n\r\n    self.createButton({\r\n        label = tostring(val),\r\n        click_function = \"clickOrAlt_click\",\r\n        function_owner = self,\r\n        position = { 0, 0.05, 0.1 },\r\n        height = 600,\r\n        width = 1000,\r\n        alignment = 3,\r\n        scale = { x = 1.5, y = 1.5, z = 1.5 },\r\n        font_size = 800,\r\n        font_color = f_color,\r\n        color = { 1, 1, 1, 0 }\r\n    })\r\n\r\n\r\n    self.createButton({\r\n        click_function = \"takeClue\",\r\n        function_owner = self,\r\n        label = \"Prendre\",\r\n        position = { 3.5, 0.1, 0 },\r\n        rotation = { 0, 270, 0 },\r\n        scale = { 1.6, 1, 1.6 },\r\n        width = 1600,\r\n        height = 500,\r\n        font_size = 400,\r\n        font_color = { 1, 1, 1 },\r\n        color = { 0, 0, 0 },\r\n        tooltip = \"Prendre un indice (click droit pour reposer)\"\r\n    })\r\n\r\n\r\n\r\n    if light_mode then\r\n        lightButtonText = \"[ Set dark ]\"\r\n    else\r\n        lightButtonText = \"[ Set light ]\"\r\n    end\r\nend\r\n\r\nfunction removeAll()\r\n    self.removeInput(0)\r\n    self.removeInput(1)\r\n    self.removeButton(0)\r\n    self.removeButton(1)\r\n    self.removeButton(2)\r\nend\r\n\r\nfunction reloadAll()\r\n    removeAll()\r\n    createAll()\r\n\r\n    updateSave()\r\nend\r\n\r\nfunction swap_fcolor(_obj, _color, alt_click)\r\n    light_mode = not light_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction swap_align(_obj, _color, alt_click)\r\n    center_mode = not center_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction editName(_obj, _string, value)\r\n    self.setName(value)\r\n    setTooltips()\r\nend\r\n\r\nfunction clickOrAlt_click(_obj, _color, alt_click)\r\n    if alt_click then\r\n        substract()\r\n    else\r\n        add()\r\n    end\r\nend\r\n\r\nfunction substract()\r\n    add_subtract(-1)\r\nend\r\n\r\nfunction add()\r\n    add_subtract(1)\r\nend\r\n\r\nfunction add_subtract(mod)\r\n    new_value = math.min(math.max(val + mod, MIN_VALUE), MAX_VALUE)\r\n    if val ~= new_value then\r\n        val = new_value\r\n        updateVal()\r\n        updateSave()\r\n    end\r\nend\r\n\r\nfunction takeClue(_, color, alt_click)\r\n    if alt_click then\r\n        add()\r\n    else\r\n        substract()\r\n    end\r\n    local params = {}\r\n    params.playerColor = color\r\n    params.zone = 'CounterZone'\r\n    local objects = zoneHandler.call('getObjectsInPlayerZone', params)\r\n    for _, token in ipairs(objects) do\r\n        if token.getName() == \"Indices\" and token.getDescription() == \"Compteur de Joueur\" then\r\n            local cluecounter = token\r\n            if alt_click then\r\n                cluecounter.call('substract')\r\n            else\r\n                cluecounter.call('add')\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateVal()\r\n    self.editButton({\r\n        index = 0,\r\n        label = tostring(val),\r\n    })\r\nend\r\n\r\nfunction reset_val()\r\n    val = 0\r\n    updateVal()\r\n    updateSave()\r\nend\r\n\r\nfunction setTooltips()\r\n    self.editInput({\r\n        index = 0,\r\n        value = self.getName(),\r\n        tooltip = ttText\r\n    })\r\n    self.editButton({\r\n        index = 0,\r\n        value = tostring(val),\r\n        tooltip = ttText\r\n    })\r\nend\r\n\r\nfunction null()\r\nend\r\n\r\nfunction keepSample(_obj, _string, value)\r\n    reloadAll()\r\nend\r\n",
                  "LuaScriptState": "[true,0]",
                  "XmlUI": ""
                },
                {
                  "GUID": "4df2ac",
                  "Name": "Custom_Token",
                  "Transform": {
                    "posX": -6.500081,
                    "posY": 1.58229363,
                    "posZ": 8.500102,
                    "rotX": 0.0157288536,
                    "rotY": 179.994156,
                    "rotZ": 0.0158988051,
                    "scaleX": 0.23,
                    "scaleY": 1.0,
                    "scaleZ": 0.225
                  },
                  "Nickname": "Indices",
                  "Description": "Click gauche - Ajouter\nClick droit - Soustraire",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/784129913444610342/7903BA89870C1656A003FD69C79BFA99BD1AAC24/",
                    "ImageSecondaryURL": "",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomToken": {
                      "Thickness": 0.1,
                      "MergeDistancePixels": 5.0,
                      "StandUp": false,
                      "Stackable": false
                    }
                  },
                  "LuaScript": "MIN_VALUE = -99\r\nMAX_VALUE = 999\r\nlocal ZONE_HANDLER_GUID = 'ef3980'\r\nzoneHandler = getObjectFromGUID(ZONE_HANDLER_GUID)\r\nfunction onload(saved_data)\r\n    light_mode = true\r\n    val = 0\r\n\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        light_mode = loaded_data[1]\r\n        val = loaded_data[2]\r\n    end\r\n\r\n    createAll()\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = { light_mode, val }\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction createAll()\r\n    s_color = { 0, 0, 0, 100 }\r\n\r\n    if light_mode then\r\n        f_color = { 1, 1, 1, 100 }\r\n    else\r\n        f_color = { 0, 0, 0, 100 }\r\n    end\r\n\r\n\r\n\r\n    self.createButton({\r\n        label = tostring(val),\r\n        click_function = \"clickOrAlt_click\",\r\n        function_owner = self,\r\n        position = { 0, 0.05, 0.1 },\r\n        height = 600,\r\n        width = 1000,\r\n        alignment = 3,\r\n        scale = { x = 1.5, y = 1.5, z = 1.5 },\r\n        font_size = 800,\r\n        font_color = f_color,\r\n        color = { 1, 1, 1, 0 }\r\n    })\r\n\r\n\r\n    self.createButton({\r\n        click_function = \"takeClue\",\r\n        function_owner = self,\r\n        label = \"Prendre\",\r\n        position = { 3.5, 0.1, 0 },\r\n        rotation = { 0, 270, 0 },\r\n        scale = { 1.6, 1, 1.6 },\r\n        width = 1600,\r\n        height = 500,\r\n        font_size = 400,\r\n        font_color = { 1, 1, 1 },\r\n        color = { 0, 0, 0 },\r\n        tooltip = \"Prendre un indice (click droit pour reposer)\"\r\n    })\r\n\r\n\r\n\r\n    if light_mode then\r\n        lightButtonText = \"[ Set dark ]\"\r\n    else\r\n        lightButtonText = \"[ Set light ]\"\r\n    end\r\nend\r\n\r\nfunction removeAll()\r\n    self.removeInput(0)\r\n    self.removeInput(1)\r\n    self.removeButton(0)\r\n    self.removeButton(1)\r\n    self.removeButton(2)\r\nend\r\n\r\nfunction reloadAll()\r\n    removeAll()\r\n    createAll()\r\n\r\n    updateSave()\r\nend\r\n\r\nfunction swap_fcolor(_obj, _color, alt_click)\r\n    light_mode = not light_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction swap_align(_obj, _color, alt_click)\r\n    center_mode = not center_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction editName(_obj, _string, value)\r\n    self.setName(value)\r\n    setTooltips()\r\nend\r\n\r\nfunction clickOrAlt_click(_obj, _color, alt_click)\r\n    if alt_click then\r\n        substract()\r\n    else\r\n        add()\r\n    end\r\nend\r\n\r\nfunction substract()\r\n    add_subtract(-1)\r\nend\r\n\r\nfunction add()\r\n    add_subtract(1)\r\nend\r\n\r\nfunction add_subtract(mod)\r\n    new_value = math.min(math.max(val + mod, MIN_VALUE), MAX_VALUE)\r\n    if val ~= new_value then\r\n        val = new_value\r\n        updateVal()\r\n        updateSave()\r\n    end\r\nend\r\n\r\nfunction takeClue(_, color, alt_click)\r\n    if alt_click then\r\n        add()\r\n    else\r\n        substract()\r\n    end\r\n    local params = {}\r\n    params.playerColor = color\r\n    params.zone = 'CounterZone'\r\n    local objects = zoneHandler.call('getObjectsInPlayerZone', params)\r\n    for _, token in ipairs(objects) do\r\n        if token.getName() == \"Indices\" and token.getDescription() == \"Compteur de Joueur\" then\r\n            local cluecounter = token\r\n            if alt_click then\r\n                cluecounter.call('substract')\r\n            else\r\n                cluecounter.call('add')\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateVal()\r\n    self.editButton({\r\n        index = 0,\r\n        label = tostring(val),\r\n    })\r\nend\r\n\r\nfunction reset_val()\r\n    val = 0\r\n    updateVal()\r\n    updateSave()\r\nend\r\n\r\nfunction setTooltips()\r\n    self.editInput({\r\n        index = 0,\r\n        value = self.getName(),\r\n        tooltip = ttText\r\n    })\r\n    self.editButton({\r\n        index = 0,\r\n        value = tostring(val),\r\n        tooltip = ttText\r\n    })\r\nend\r\n\r\nfunction null()\r\nend\r\n\r\nfunction keepSample(_obj, _string, value)\r\n    reloadAll()\r\nend\r\n",
                  "LuaScriptState": "[true,0]",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "e9d5e8",
              "Name": "Custom_Model_Bag",
              "Transform": {
                "posX": -31.00001,
                "posY": 1.7462846,
                "posZ": 15.4999933,
                "rotX": 8.144859E-06,
                "rotY": 0.0003618612,
                "rotZ": 7.714046E-07,
                "scaleX": 1.9000001,
                "scaleY": 1.9000001,
                "scaleZ": 1.9000001
              },
              "Nickname": "Cartes à retirer de la partie",
              "Description": "À la Recherche de Kadath",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.5,
                "g": 0.5,
                "b": 0.5
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "Number": 0,
              "CustomMesh": {
                "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/764975951334964971/3078F312706FC974833ECD2A359B87FD4F283509/",
                "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/764975951334960553/C518D80E31E27DB23EEAC8CF9253E59798865790/",
                "NormalURL": "https://steamusercontent-a.akamaihd.net/ugc/764975951334960069/E70E4A58A1B7827F1E5E2AF9FF44DF0BD5DA33F7/",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 1,
                "TypeIndex": 6,
                "CustomShader": {
                  "SpecularColor": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "SpecularIntensity": 0.0,
                  "SpecularSharpness": 2.0,
                  "FresnelStrength": 0.0
                },
                "CastShadows": true
              },
              "Bag": {
                "Order": 0
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "PhysicsMaterial": {
                "StaticFriction": 0.6,
                "DynamicFriction": 0.6,
                "Bounciness": 0.0,
                "FrictionCombine": 0,
                "BounceCombine": 0
              },
              "Rigidbody": {
                "Mass": 5.0,
                "Drag": 0.1,
                "AngularDrag": 0.1,
                "UseGravity": true
              }
            },
            {
              "GUID": "fb5f4c",
              "Name": "Deck",
              "Transform": {
                "posX": 12.501,
                "posY": 1.53161466,
                "posZ": -6.0168,
                "rotX": 0.00495299557,
                "rotY": 90.02619,
                "rotZ": 359.9891,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": false,
              "SidewaysCard": true,
              "DeckIDs": [
                276301,
                276300
              ],
              "CustomDeck": {
                "2763": {
                  "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                  "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "e27338",
                  "Name": "Card",
                  "Transform": {
                    "posX": 12.5010357,
                    "posY": 5.425531,
                    "posZ": -6.01629925,
                    "rotX": 0.00495264959,
                    "rotY": 90.02562,
                    "rotZ": 359.9891,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Agents des Dieux Extérieurs",
                  "Description": "Intrigue 2a",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"doomThreshold\": 9,\n  \"id\": \"06121\",\n  \"type\": \"Agenda\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276301,
                  "SidewaysCard": true,
                  "CustomDeck": {
                    "2763": {
                      "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                      "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "27ff4f",
                  "Name": "Card",
                  "Transform": {
                    "posX": 12.5010452,
                    "posY": 1.67374957,
                    "posZ": -6.01631975,
                    "rotX": 0.00702507654,
                    "rotY": 90.02562,
                    "rotZ": 359.987274,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Voyage à Travers les Contrées du Rêve",
                  "Description": "Intrigue 1a",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"doomThreshold\": 7,\n  \"id\": \"06120\",\n  \"type\": \"Agenda\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276300,
                  "SidewaysCard": true,
                  "CustomDeck": {
                    "2763": {
                      "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                      "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "fe70b4",
              "Name": "Custom_Model",
              "Transform": {
                "posX": -30.50001,
                "posY": 1.77100122,
                "posZ": 2.99999142,
                "rotX": 5.10027348E-06,
                "rotY": 0.00198788429,
                "rotZ": 1.07030765E-07,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Text Tool",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.0,
                "g": 0.0,
                "b": 0.0,
                "a": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": false,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": false,
              "Tooltip": false,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/1478820768302617365/27883B7913E0E69143C3AA03493B7E7C4E8C29C0/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 1,
                "TypeIndex": 0,
                "CastShadows": true
              },
              "LuaScript": "-- Code for bag to identify text tool objects\r\nmovableTextTool_cowgoesmoo33 = true\r\n\r\n-- Number of characters before the text box width expands.\r\nEXPAND_INTERVAL = 20\r\n\r\n-- This table controls what is passed between save/load\r\ndata = {}\r\n\r\nfunction onLoad(saved_data)\r\n  if saved_data ~= '' then\r\n    data = JSON.decode(saved_data)\r\n    if data.text ~= '' then\r\n      self.interactable = data.interactable\r\n      staticMode()\r\n      return\r\n    end\r\n  else\r\n    data = {size=200, color=Color(0,0,0), text='', interactable=true,\r\n        enter_to_finish=false, autolock=false, autolift=false,\r\n        hover_height=0.05, box_transparency=1}\r\n  end\r\n\r\n  inputMode()\r\nend\r\n\r\n-- True if in the middle of delay after pressing Enter (with enter_to_finish on)\r\nfinishing = false\r\nfunction input_func(obj, color, input, stillEditing)\r\n  local params = getBox(input)\r\n  if params then\r\n    params.value = input\r\n    self.editInput(params)\r\n  end\r\n\r\n  if not stillEditing then\r\n    data.text = input\r\n    updateState()\r\n    if input ~= '' then staticMode(color) end\r\n  elseif data.enter_to_finish then\r\n    -- If enter is pressed: remove last newline and force finish\r\n    if not finishing and input:sub(-1) == '\\n' then\r\n      finishing = true\r\n      -- Delay to avoid user's Enter keypress being detected (opens chat box)\r\n      Wait.frames(function()\r\n        input = input:sub(1, -2)\r\n        data.text = input\r\n        updateState()\r\n        if input ~= '' then staticMode(color) else inputMode() end\r\n        finishing = false\r\n      end, 10)\r\n    end\r\n  end\r\nend\r\n\r\n-- When the inpupt box appears and lets the player type in it.\r\nfunction inputMode()\r\n  self.clearContextMenu()\r\n  self.clearInputs()\r\n  self.clearButtons()\r\n\r\n  local size = getBox(data.text, true)\r\n\r\n  self.createInput({\r\n    input_function = \"input_func\",\r\n    function_owner = self,\r\n    label          = \"Type Here\",\r\n    alignment      = 3,\r\n    position       = {x=0, y=data.hover_height, z=0},\r\n    rotation       = {0, 180, 0},\r\n    width          = size.width,\r\n    height         = size.height,\r\n    color          = getBackground(data.color),\r\n    font_color     = data.color,\r\n    font_size      = data.size,\r\n    value          = data.text,\r\n  })\r\n\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\nend\r\n\r\n-- When the input box disappears and displays the text.\r\nfunction staticMode(player)\r\n  self.clearContextMenu()\r\n  if data.autolock then\r\n    self.locked = true\r\n  end\r\n  if self.getInputs() and #self.getInputs() ~= 0 then\r\n    self.removeInput(0)\r\n  end\r\n\r\n  -- Clear from selecting player\r\n  if player then\r\n    self.removeFromPlayerSelection(player)\r\n  end\r\n\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  self.createButton({\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=self,\r\n    position={0,data.hover_height,0}, rotation={0,180,0}, height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  })\r\n\r\n  self.addContextMenuItem('Edit Text', function(color)\r\n    self.removeFromPlayerSelection(color)\r\n    inputMode()\r\n  end)\r\n  self.addContextMenuItem('Clear', function(color)\r\n    applyMultiple(color, 'clear', _, true)\r\n  end)\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\n  self.addContextMenuItem('Permanently Attach', attemptAttach)\r\n  self.addContextMenuItem('Permalock', function(color)\r\n    applyMultiple(color, 'permalock', _, true)\r\n  end)\r\nend\r\n\r\nfunction changeSize(params)\r\n  local delta = params[1]\r\n  local newSize = data.size + delta\r\n  if newSize > 800  or newSize < 50 then\r\n    return\r\n  end\r\n  data.size = newSize\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_size=data.size})\r\n  else\r\n    local size = getBox(data.text, true)\r\n    self.editInput({width=size.width, height=size.height, font_size=data.size})\r\n  end\r\nend\r\n\r\nfunction setColor(params)\r\n  if params and params[1] then\r\n    data.color = params[1]\r\n  else\r\n    data.color = self.getColorTint():setAt('a', 1) -- Take on color of object tint\r\n  end\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_color=data.color})\r\n  else\r\n    self.editInput({font_color=data.color, color=getBackground(data.color)})\r\n  end\r\nend\r\n\r\nfunction getBackground(color) --determines whether to use black or white depending on luminance\r\n  local r,g,b = Color(color):get()\r\n\r\n  local lum = 0.2126*r + 0.7152*g + 0.0722*b\r\n  if lum > 0.75 then\r\n    return {0.2,0.2,0.2, data.box_transparency}\r\n  else\r\n    return {1,1,1, data.box_transparency}\r\n  end\r\nend\r\n\r\nfunction clear()\r\n  data.text = ''\r\n  updateState()\r\n  inputMode()\r\nend\r\n\r\nfunction permalock()\r\n  self.interactable = false\r\n  data.interactable = false\r\n  updateState()\r\nend\r\n\r\nlocal target_script = [[\r\nfunction onLoad(script_state)\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    for _,entry in ipairs(state) do\r\n      self.createButton(entry)\r\n    end\r\n    self.addContextMenuItem('Clear All Text', function(color)\r\n      self.clearContextMenu()\r\n      self.clearButtons()\r\n      self.script_state = ''\r\n      self.script_code = ''\r\n    end)\r\n  end\r\nend\r\n]]\r\n\r\nfunction attemptAttach(player_color)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  local attachee\r\n  local attachers = {}\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if obj ~= self then\r\n        table.insert(attachers, obj)\r\n      end\r\n    else\r\n      if attachee then\r\n        broadcastToColor(\"More than one target selected.\", player_color)\r\n        return\r\n      else\r\n        attachee = obj\r\n      end\r\n    end\r\n  end\r\n  if attachee then\r\n    local code = attachee.script_code\r\n    if code and code ~= '' and code ~= target_script then\r\n      broadcastToColor(\"Warning: script on card has been overriden. Rewind time to undo.\", player_color)\r\n    end\r\n    for i,attacher in ipairs(attachers) do\r\n      attacher.call('attach', {target = attachee})\r\n    end\r\n    attach({target = attachee})\r\n    local type, flip = attachee.type, attachee.getRotation().z\r\n    if (type == 'Card' or type == 'Deck') and flip > 175 and flip < 185 then\r\n      broadcastToColor(\"Warning: text will not display if card or deck is facing down.\", player_color)\r\n    end\r\n  else\r\n    broadcastToColor(\"You must have a target object in your selection (using click-and-drag or Ctrl+Click) to use this option.\", player_color)\r\n  end\r\nend\r\n\r\nfunction attach(params)\r\n  local target = params.target\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  local textRotation = self.getRotation():sub(target.getRotation())\r\n    :add(Vector(180, 0, 180))\r\n\r\n  local textPosition = target.positionToLocal(\r\n    self.getPosition():add(Vector(0, data.hover_height, 0))\r\n  )\r\n  textPosition.x = -textPosition.x\r\n\r\n  local textScale = {}\r\n  textScale.x = self.getScale().x / target.getScale().x\r\n  textScale.y = self.getScale().x / target.getScale().y\r\n  textScale.z = self.getScale().x / target.getScale().z\r\n\r\n  local details = {\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=nil,\r\n    position=textPosition,\r\n    rotation=textRotation,\r\n    scale=textScale,\r\n    height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  }\r\n\r\n  target.createButton(details)\r\n\r\n  local script_state = target.script_state\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    table.insert(state, details)\r\n    target.script_state = JSON.encode(state)\r\n  else\r\n    target.script_state = JSON.encode({[1]=details})\r\n  end\r\n\r\n  target.script_code = target_script\r\n\r\n  self.destruct()\r\nend\r\n\r\nfunction applyMultiple(player_color, func_string, params, static_only)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if not static_only or obj.call('isStatic') then\r\n        obj.call(func_string, params)\r\n      end\r\n    end\r\n  end\r\nend\r\n\r\nfunction isStatic()\r\n  local input = self.getInputs()\r\n  return not input or #input == 0\r\nend\r\n\r\nfunction getBox(input, force)\r\n  local maxLength, lineCount = EXPAND_INTERVAL, 1\r\n  local lineLength = 0\r\n  for i = 1, #input do\r\n    local c = input:sub(i,i)\r\n    if c == '\\n' then\r\n      lineCount = lineCount + 1\r\n      if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n      lineLength = 0\r\n    else\r\n      lineLength = lineLength + 1\r\n    end\r\n  end\r\n  if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n\r\n  newWidth = data.size * maxLength * 0.9\r\n  newHeight = data.size * lineCount + 23\r\n\r\n  if force or boxWidth ~= newWidth or boxHeight ~= newHeight then\r\n    boxWidth, boxHeight = newWidth, newHeight\r\n    return {width = boxWidth, height = boxHeight}\r\n  end\r\n  return nil\r\nend\r\n\r\ntemp_lift = nil\r\nfunction onPickUp(player_color)\r\n  if data.autolift then\r\n    local player = Player[player_color]\r\n    temp_lift = player.lift_height\r\n    player.lift_height = 0\r\n  end\r\nend\r\n\r\nfunction onDrop(player_color)\r\n  if data.autolift and temp_lift then\r\n    Player[player_color].lift_height = temp_lift\r\n  end\r\nend\r\n\r\n-- Should be called every time data is modified, allows info to be saved on copy/paste\r\nfunction updateState()\r\n  self.script_state = JSON.encode(data)\r\nend\r\n\r\nfunction onSave()\r\n  self.script_state = JSON.encode(data)\r\n  return self.script_state\r\nend",
              "LuaScriptState": "{\"autolift\":false,\"autolock\":false,\"box_transparency\":1,\"color\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1},\"enter_to_finish\":false,\"hover_height\":0.05,\"interactable\":true,\"size\":250,\"text\":\"Mnar\"}",
              "XmlUI": ""
            }
          ],
          "AttachedDecals": [
            {
              "Transform": {
                "posX": -0.0021877822,
                "posY": -0.08963572,
                "posZ": -0.00288731651,
                "rotX": 270.0,
                "rotY": 359.869568,
                "rotZ": 0.0,
                "scaleX": 2.00000215,
                "scaleY": 2.00000238,
                "scaleZ": 2.00000262
              },
              "CustomDecal": {
                "Name": "dunwich_back",
                "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/959719855119695911/931B9829687A20F4DEADB36DA57B7E6D76792231/",
                "Size": 7.4
              }
            }
          ]
        },
        {
          "GUID": "6f4801",
          "Name": "Custom_Model_Bag",
          "Transform": {
            "posX": -9.00013,
            "posY": 0.9799974,
            "posZ": 46.5000954,
            "rotX": -5.02858666E-06,
            "rotY": 180.000015,
            "rotZ": 3.124602E-07,
            "scaleX": 1.493596,
            "scaleY": 0.310884237,
            "scaleZ": 1.63552141
          },
          "Nickname": "I-A : Par delà le Mur du Sommeil",
          "Description": "Les Dévoreurs de Rêves",
          "GMNotes": "Par delà le Mur du Sommeil",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "CustomMesh": {
            "MeshURL": "https://raw.githubusercontent.com/RobMayer/TTSLibrary/master/advboxes/tuckbox_h_MSH.obj",
            "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/775107869055713524/616B6512BE4D795AE4FFC1D76DAC23B88F623B48/",
            "NormalURL": "",
            "ColliderURL": "",
            "Convex": true,
            "MaterialIndex": 3,
            "TypeIndex": 6,
            "CustomShader": {
              "SpecularColor": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "SpecularIntensity": 0.0,
              "SpecularSharpness": 2.0,
              "FresnelStrength": 0.0
            },
            "CastShadows": true
          },
          "Bag": {
            "Order": 0
          },
          "LuaScript": "-- Utility memory bag by Directsun\r\n-- Version 2.7.0\r\n-- Fork of Memory Bag 2.0 by MrStump\r\n--\r\n-- Want to contribute? Create an issue or fork the code on GitHub and submit a pull request:\r\n-- https://github.com/sunflowermans/TTS-UtilityMemoryBag\r\n\r\n\r\nfunction updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction combineMemoryFromBagsWithin()\r\n    local bagObjList = self.getObjects()\r\n    for _, bagObj in ipairs(bagObjList) do\r\n        local data = bagObj.lua_script_state\r\n        if data ~= nil then\r\n            local j = JSON.decode(data)\r\n            if j ~= nil and j.ml ~= nil then\r\n                for guid, entry in pairs(j.ml) do\r\n                    memoryList[guid] = entry\r\n                end\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateMemoryWithMoves()\r\n    memoryList = memoryListBackup\r\n    --get the first transposed object's coordinates\r\n    local obj = getObjectFromGUID(moveGuid)\r\n\r\n    -- p1 is where needs to go, p2 is where it was\r\n    local refObjPos = memoryList[moveGuid].pos\r\n    local deltaPos = findOffsetDistance(obj.getPosition(), refObjPos, nil)\r\n    local movedRotation = obj.getRotation()\r\n    for guid, entry in pairs(memoryList) do\r\n        memoryList[guid].pos.x = entry.pos.x - deltaPos.x\r\n        memoryList[guid].pos.y = entry.pos.y - deltaPos.y\r\n        memoryList[guid].pos.z = entry.pos.z - deltaPos.z\r\n        -- memoryList[guid].rot.x = movedRotation.x\r\n        -- memoryList[guid].rot.y = movedRotation.y\r\n        -- memoryList[guid].rot.z = movedRotation.z\r\n    end\r\n\r\n    --theList[obj.getGUID()] = {\r\n    --    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n    --    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n    --    lock=obj.getLock()\r\n    --}\r\n    moveList = {}\r\nend\r\n\r\nfunction onload(saved_data)\r\n\r\n    fresh = true\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n\r\n    end\r\n\r\n    moveList = {}\r\n    moveGuid = nil\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        fresh = false\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\n function createSetupButton()\r\n    self.createButton({\r\n      label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n      position={0,0.1,-2.1}, rotation={0,0,0}, height=275, width=625,\r\n      font_size=150, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n end\r\n\r\n--Triggered by Transpose button\r\nfunction buttonClick_transpose()\r\n    moveGuid = nil\r\n    broadcastToAll(\"Select one object and move it- all objects will move relative to the new location\", {0.75, 0.75, 1})\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(true)\r\n    createSetupActionButtons(true)\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(false)\r\n    createSetupActionButtons(false)\r\nend\r\n\r\nfunction getAllObjectsInMemory()\r\n    local objTable = {}\r\n    local curObj = {}\r\n\r\n    for guid in pairs(memoryListBackup) do\r\n        curObj = getObjectFromGUID(guid)\r\n        table.insert(objTable, curObj)\r\n    end\r\n\r\n    return objTable\r\n    -- return getAllObjects()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects(move)\r\n    buttonIndexMap = {}\r\n    local howManyButtons = 0\r\n\r\n    local objsToHaveButtons = {}\r\n    if move == true then\r\n        objsToHaveButtons = getAllObjectsInMemory()\r\n    else\r\n        objsToHaveButtons = getAllObjects()\r\n    end\r\n\r\n    for _, obj in ipairs(objsToHaveButtons) do\r\n        if obj ~= self then\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1* 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor + 2\r\n            objPos.z = objPos.z * globalScaleFactor * 0.9\r\n            --Workaround for custom PDFs\r\n            if obj.Book then\r\n                objPos.y = objPos.y + 0.5\r\n            end\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(obj, move) end\r\n            local color = {0.75,0.25,0.25,0.6}\r\n            local colorMove = {0,0,1,0.6}\r\n            if move == true then\r\n                color = colorMove\r\n            end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=500, width=500,\r\n                color=color,\r\n            })\r\n            buttonIndexMap[obj.getGUID()] = howManyButtons\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons(move)\r\n    self.createButton({\r\n        label=\"Annuler\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n      position={-0.7,0.1,2.1}, rotation={0,0,0}, height=275, width=625,\r\n      font_size=145, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    self.createButton({\r\n        label=\"Valider\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={-0.7,0.3,2.6}, rotation={0,0,0}, height=275, width=625,\r\n        font_size=140, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    if move == false then\r\n      self.createButton({\r\n          label=\"Ajouter\", click_function=\"buttonClick_add\", function_owner=self,\r\n          position={0.7,0.3,2.1}, rotation={0,0,0}, height=275, width=625,\r\n          font_size=140, color={0,0,0}, font_color={0.25,1,0.25}\r\n      })\r\n\r\n        self.createButton({\r\n            label=\"Sélection\", click_function=\"editDragSelection\", function_owner=self,\r\n            position={-0.7,0.3,3.1}, rotation={0,0,0}, height=275, width=625,\r\n            font_size=125, color={0,0,0}, font_color={1,1,1}\r\n        })\r\n\r\n        if fresh == false then\r\n                self.createButton({\r\n                    label=\"Mise à jour\", click_function=\"buttonClick_setNew\", function_owner=self,\r\n                    position={0.7,0.3,3.1}, rotation={0,0,0}, height=275, width=625,\r\n                    font_size=105, color={0,0,0}, font_color={0.75,0.75,1}\r\n                })\r\n                self.createButton({\r\n                    label=\"Retirer\", click_function=\"buttonClick_remove\", function_owner=self,\r\n                    position={0.7,0.3,2.6}, rotation={0,0,0}, height=275, width=625,\r\n                    font_size=140, color={0,0,0}, font_color={1,0.25,0.25}\r\n                })\r\n            end\r\n        end\r\n\r\n        self.createButton({\r\n            label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n            position={0,0.3,-2.1}, rotation={0,0,0}, height=275, width=625,\r\n            font_size=165, color={0,0,0}, font_color={1,1,1}\r\n        })\r\n    end\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(obj, move)\r\n    local index = buttonIndexMap[obj.getGUID()]\r\n    local colorMove = {0,0,1,0.6}\r\n    local color = {0,1,0,0.6}\r\n\r\n    previousGuid = selectedGuid\r\n    selectedGuid = obj.getGUID()\r\n\r\n    theList = memoryList\r\n    if move == true then\r\n        theList = moveList\r\n        if previousGuid ~= nil and previousGuid ~= selectedGuid then\r\n            local prevObj = getObjectFromGUID(previousGuid)\r\n            prevObj.highlightOff()\r\n            self.editButton({index=previousIndex, color=colorMove})\r\n            theList[previousGuid] = nil\r\n        end\r\n        previousIndex = index\r\n    end\r\n\r\n    if theList[selectedGuid] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        theList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock(),\r\n            tint=obj.getColorTint()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        if move == true then\r\n            color = colorMove\r\n        end\r\n        self.editButton({index=index, color=color})\r\n        theList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\nfunction editDragSelection(bagObj, player, remove)\r\n    local selectedObjs = Player[player].getSelectedObjects()\r\n    if not remove then\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            --Ignore if already in the memory list, or does not have a button\r\n            if index and not memoryList[obj.getGUID()] then\r\n                self.editButton({index=index, color={0,1,0,0.6}})\r\n                --Adding pos/rot to memory table\r\n                local pos, rot = obj.getPosition(), obj.getRotation()\r\n                --I need to add it like this or it won't save due to indexing issue\r\n                memoryList[obj.getGUID()] = {\r\n                    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n                    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n                    lock=obj.getLock(),\r\n                    tint=obj.getColorTint()\r\n                }\r\n                obj.highlightOn({0,1,0})\r\n            end\r\n        end\r\n    else\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            if index and memoryList[obj.getGUID()] then\r\n                color = {0.75,0.25,0.25,0.6}\r\n                self.editButton({index=index, color=color})\r\n                memoryList[obj.getGUID()] = nil\r\n                obj.highlightOff()\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Sélection annulée\", {1,1,1})\r\n    moveGuid = nil\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    fresh = false\r\n    if next(moveList) ~= nil then\r\n        for guid in pairs(moveList) do\r\n            moveGuid = guid\r\n        end\r\n        if memoryListBackup[moveGuid] == nil then\r\n            broadcastToAll(\"Item selected for moving is not already in memory\", {1, 0.25, 0.25})\r\n        else\r\n            broadcastToAll(\"Moving all items in memory relative to new objects position!\", {0.75, 0.75, 1})\r\n            self.clearButtons()\r\n            self.clearInputs()\r\n            createMemoryActionButtons()\r\n            local count = 0\r\n            for guid in pairs(moveList) do\r\n                moveGuid = guid\r\n                count = count + 1\r\n                local obj = getObjectFromGUID(guid)\r\n                if obj ~= nil then obj.highlightOff() end\r\n            end\r\n            updateMemoryWithMoves()\r\n            updateSave()\r\n            buttonClick_place()\r\n        end\r\n    elseif next(memoryList) == nil and moveGuid == nil then\r\n        memoryList = memoryListBackup\r\n        broadcastToAll(\"No selections made.\", {0.75, 0.25, 0.25})\r\n    end\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\n    moveGuid = nil\r\nend\r\n\r\nfunction combineTables(first_table, second_table)\r\n    for k,v in pairs(second_table) do first_table[k] = v end\r\nend\r\n\r\nfunction buttonClick_add()\r\n    fresh = false\r\n    combineTables(memoryList, memoryListBackup)\r\n    broadcastToAll(\"Adding internal bags and selections to existing memory\", {0.25, 0.75, 0.25})\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_remove()\r\n    broadcastToAll(\"Removing Selected Entries From Memory\", {1.0, 0.25, 0.25})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        memoryListBackup[guid] = nil\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Removed\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_setNew()\r\n    broadcastToAll(\"Setting new position relative to items in memory\", {0.75, 0.75, 1})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        guid = obj.guid\r\n        if memoryListBackup[guid] ~= nil then\r\n            count = count + 1\r\n            memoryListBackup[guid].pos = obj.getPosition()\r\n            memoryListBackup[guid].rot = obj.getRotation()\r\n            memoryListBackup[guid].lock = obj.getLock()\r\n            memoryListBackup[guid].tint = obj.getColorTint()\r\n        end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    fresh = true\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Placer\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0.7,0.1,2.2}, rotation={0,0,0}, height=275, width=625,\r\n        font_size=150, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Ranger\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={-0.7,0.1,2.2}, rotation={0,0,0}, height=275, width=625,\r\n        font_size=150, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.1,-2.2}, rotation={0,0,0}, height=275, width=625,\r\n        font_size=150, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    ---    self.createButton({\r\n    ---      label=\"Bouger\", click_function=\"buttonClick_transpose\", function_owner=self,\r\n    ---      position={-2,0.3,0.8}, rotation={0,270,0}, height=350, width=800,\r\n    ---      font_size=250, color={0,0,0}, font_color={0.75,0.75,1}\r\n    ---\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n            obj.setColorTint(entry.tint)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot, smooth=false\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    item.setColorTint(entry.tint)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objets placés\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objets rangés\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local yOffset = 0\r\n    if obj ~= nil then\r\n        local bounds = obj.getBounds()\r\n        yOffset = (bounds.size.y - bounds.offset.y)\r\n    end\r\n    local deltaPos = {}\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + yOffset\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n    local objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n    local x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n    local z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n    --return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\nfunction rotateMyCoordinates(desiredPos, obj)\r\n    local angle = math.rad(obj.getRotation().y)\r\n    local x = desiredPos.x * math.sin(angle)\r\n    local z = desiredPos.z * math.cos(angle)\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n    local mult = 10^(dec or 0)\r\n    return math.floor(num * mult + 0.5) / mult\r\nend\r\n\r\n\r\n--[[\r\nThis object provides access to a variable stored on the \"Global script\".\r\nThe variable holds the GUIDs for every Utility Memory Bag in the scene.\r\nExample:\r\n{'805ebd', '35cc21', 'fc8886', 'f50264', '5f5f63'}\r\n--]]\r\nAllMemoryBagsInScene = {\r\n    NAME_OF_GLOBAL_VARIABLE = \"_UtilityMemoryBag_AllMemoryBagsInScene\"\r\n}\r\n\r\nfunction AllMemoryBagsInScene:add(guid)\r\n    local guids = Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\n    table.insert(guids, guid)\r\n    Global.setTable(self.NAME_OF_GLOBAL_VARIABLE, guids)\r\nend\r\n\r\nfunction AllMemoryBagsInScene:getGuidList()\r\n    return Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\nend",
          "LuaScriptState": "{\"ml\":{\"013ee9\":{\"lock\":true,\"pos\":{\"x\":9,\"y\":1.51789999008179,\"z\":9.5},\"rot\":{\"x\":0.0109000001102686,\"y\":180,\"z\":180.005004882813},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"0a67d9\":{\"lock\":true,\"pos\":{\"x\":-34,\"y\":1.78359997272491,\"z\":19},\"rot\":{\"x\":-4.96613847644767E-06,\"y\":180.000061035156,\"z\":-9.36471877821532E-08},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"1559bf\":{\"lock\":false,\"pos\":{\"x\":9,\"y\":1.5451,\"z\":9.5},\"rot\":{\"x\":0.0109,\"y\":179.9997,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"1736cc\":{\"lock\":false,\"pos\":{\"x\":-25.5000057220459,\"y\":1.78360545635223,\"z\":10.4999876022339},\"rot\":{\"x\":-5.09242545376765E-06,\"y\":179.982498168945,\"z\":-4.03273610061206E-08},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"1b3e83\":{\"lock\":false,\"pos\":{\"x\":9.99999904632568,\"y\":1.5058376789093,\"z\":18.0000038146973},\"rot\":{\"x\":359.989105224609,\"y\":0.00814943667501211,\"z\":-0.00495366053655744},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"1b754c\":{\"lock\":true,\"pos\":{\"x\":9,\"y\":1.5167,\"z\":3},\"rot\":{\"x\":0.0109,\"y\":179.9999,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"248257\":{\"lock\":true,\"pos\":{\"x\":-21.5,\"y\":1.78359997272491,\"z\":19},\"rot\":{\"x\":-5.00132455272251E-06,\"y\":179.99658203125,\"z\":-9.30659567188741E-08},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"2729ce\":{\"lock\":false,\"pos\":{\"x\":-1.99999964237213,\"y\":1.50411760807037,\"z\":3.50000023841858},\"rot\":{\"x\":-0.0011609437642619,\"y\":60.0000038146973,\"z\":359.988098144531},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"29b247\":{\"lock\":false,\"pos\":{\"x\":-10.0000009536743,\"y\":1.50566399097443,\"z\":8},\"rot\":{\"x\":0.0108916964381933,\"y\":180.000122070313,\"z\":0.00495219510048628},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"2bb249\":{\"lock\":false,\"pos\":{\"x\":-22.4999485015869,\"y\":1.78360545635223,\"z\":10.5003366470337},\"rot\":{\"x\":-4.92302888233098E-06,\"y\":179.972717285156,\"z\":-3.00017539700548E-08},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"2efca1\":{\"lock\":false,\"pos\":{\"x\":10,\"y\":1.51849186420441,\"z\":13},\"rot\":{\"x\":0.0108913341537118,\"y\":180.003128051758,\"z\":0.00494880555197597},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"417f74\":{\"lock\":false,\"pos\":{\"x\":-11.5,\"y\":1.50522315502167,\"z\":4.99999856948853},\"rot\":{\"x\":0.010891686193645,\"y\":179.999893188477,\"z\":0.00495333969593048},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"4233ba\":{\"lock\":true,\"pos\":{\"x\":-6,\"y\":1.51919996738434,\"z\":9.5},\"rot\":{\"x\":0.0109000001102686,\"y\":180.000106811523,\"z\":180.005004882813},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"4b4440\":{\"lock\":false,\"pos\":{\"x\":5,\"y\":1.50351309776306,\"z\":3.5},\"rot\":{\"x\":0.00973139889538288,\"y\":120.000007629395,\"z\":359.993041992188},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"53d98a\":{\"lock\":false,\"pos\":{\"x\":1.50000011920929,\"y\":1.51922595500946,\"z\":13},\"rot\":{\"x\":0.0108912633731961,\"y\":180.003784179688,\"z\":0.00494894664734602},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"5dd214\":{\"lock\":false,\"pos\":{\"x\":-2.00000166893005,\"y\":1.50497305393219,\"z\":8},\"rot\":{\"x\":0.00973101239651442,\"y\":119.999992370605,\"z\":359.993041992188},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"5dd8dd\":{\"lock\":false,\"pos\":{\"x\":-13.0000019073486,\"y\":1.50592303276062,\"z\":8},\"rot\":{\"x\":0.0108915586024523,\"y\":179.999908447266,\"z\":0.00495191477239132},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"60947e\":{\"lock\":false,\"pos\":{\"x\":-32.6306190490723,\"y\":1.77100098133087,\"z\":6.08678102493286},\"rot\":{\"x\":4.49905382993165E-06,\"y\":0.000839793588966131,\"z\":-5.19949345800796E-08},\"tint\":{\"a\":0,\"b\":0,\"g\":0,\"r\":0}},\"663f57\":{\"lock\":false,\"pos\":{\"x\":-2,\"y\":1.5439,\"z\":-2},\"rot\":{\"x\":0.0109,\"y\":179.9996,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"67d398\":{\"lock\":true,\"pos\":{\"x\":1.5,\"y\":1.51779997348785,\"z\":5.5},\"rot\":{\"x\":0.0109000001102686,\"y\":180.000106811523,\"z\":0.00490000005811453},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"71826c\":{\"lock\":true,\"pos\":{\"x\":-24,\"y\":1.78359997272491,\"z\":19},\"rot\":{\"x\":-5.17393027621438E-06,\"y\":180.000091552734,\"z\":4.51499602149852E-08},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"721d1a\":{\"lock\":false,\"pos\":{\"x\":-27.0000076293945,\"y\":1.84000110626221,\"z\":3.49999213218689},\"rot\":{\"x\":-5.61324350201176E-06,\"y\":179.97900390625,\"z\":-2.31631403835308E-07},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"7234af\":{\"lock\":false,\"pos\":{\"x\":6.00007104873657,\"y\":1.50703859329224,\"z\":22.5001964569092},\"rot\":{\"x\":0.00494774430990219,\"y\":90.0038299560547,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"748d92\":{\"lock\":true,\"pos\":{\"x\":-2,\"y\":1.51670002937317,\"z\":-2},\"rot\":{\"x\":0.0109000001102686,\"y\":180,\"z\":180.005004882813},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"74b7fe\":{\"lock\":false,\"pos\":{\"x\":6,\"y\":1.50523269176483,\"z\":13},\"rot\":{\"x\":0.00494772987440228,\"y\":89.9999923706055,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"80db1a\":{\"lock\":false,\"pos\":{\"x\":17.5009994506836,\"y\":1.54081046581268,\"z\":-6.01959371566772},\"rot\":{\"x\":0.00494562787935138,\"y\":89.9873580932617,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"825ddf\":{\"lock\":false,\"pos\":{\"x\":5,\"y\":1.50436854362488,\"z\":7.99999952316284},\"rot\":{\"x\":0.0011611117515713,\"y\":240,\"z\":0.0119105614721775},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"832693\":{\"lock\":false,\"pos\":{\"x\":-28.5,\"y\":1.7789,\"z\":13.5},\"rot\":{\"x\":0,\"y\":179.9998,\"z\":0},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"85135b\":{\"lock\":true,\"pos\":{\"x\":-6,\"y\":1.518,\"z\":3},\"rot\":{\"x\":0.0109,\"y\":179.9999,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"8a143a\":{\"lock\":false,\"pos\":{\"x\":-6,\"y\":1.5452,\"z\":3},\"rot\":{\"x\":0.0109,\"y\":179.9996,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"8e6274\":{\"lock\":false,\"pos\":{\"x\":-19.4999465942383,\"y\":1.78360545635223,\"z\":10.5003881454468},\"rot\":{\"x\":-4.96541770189651E-06,\"y\":179.981079101563,\"z\":1.11127448576553E-07},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"98830f\":{\"lock\":false,\"pos\":{\"x\":-29.0000019073486,\"y\":1.84000051021576,\"z\":10.4999971389771},\"rot\":{\"x\":-5.89047203902737E-06,\"y\":179.983352661133,\"z\":-3.69333321259546E-07},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"9ca322\":{\"lock\":true,\"pos\":{\"x\":5,\"y\":1.5161,\"z\":-2},\"rot\":{\"x\":0.0109,\"y\":180.0001,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"9d1563\":{\"lock\":false,\"pos\":{\"x\":-20.5000019073486,\"y\":1.8400012254715,\"z\":3.49999642372131},\"rot\":{\"x\":-5.18512479175115E-06,\"y\":179.995681762695,\"z\":-1.01996278090155E-07},\"tint\":{\"a\":1,\"b\":0,\"g\":0,\"r\":0.614982545375824}},\"9f57a0\":{\"lock\":true,\"pos\":{\"x\":9,\"y\":1.5179,\"z\":9.5},\"rot\":{\"x\":0.0109,\"y\":179.9997,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"a195b9\":{\"lock\":false,\"pos\":{\"x\":16.50119972229,\"y\":1.57204508781433,\"z\":1.0029993057251},\"rot\":{\"x\":0.0108940741047263,\"y\":179.985076904297,\"z\":0.00494573079049587},\"tint\":{\"a\":1,\"b\":0.358118563890457,\"g\":0.752613186836243,\"r\":0}},\"a1dc75\":{\"lock\":true,\"pos\":{\"x\":9,\"y\":1.51670002937317,\"z\":3},\"rot\":{\"x\":-4.85810460304492E-06,\"y\":180,\"z\":180},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"a66639\":{\"lock\":false,\"pos\":{\"x\":1.50000011920929,\"y\":1.50486087799072,\"z\":9},\"rot\":{\"x\":0.0108917923644185,\"y\":179.999893188477,\"z\":0.00495206192135811},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"aba5ca\":{\"lock\":true,\"pos\":{\"x\":-26.5004997253418,\"y\":1.78359997272491,\"z\":19},\"rot\":{\"x\":-5.10670497533283E-06,\"y\":180.000152587891,\"z\":1.31010168047396E-07},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"b1787e\":{\"lock\":false,\"pos\":{\"x\":-22.4999980926514,\"y\":1.78360509872437,\"z\":14.0000009536743},\"rot\":{\"x\":-5.04232730236254E-06,\"y\":180.00048828125,\"z\":1.80921091441633E-08},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"b3efc8\":{\"lock\":false,\"pos\":{\"x\":30.4999923706055,\"y\":1.65097808837891,\"z\":-3.00009918212891},\"rot\":{\"x\":-0.000590663752518594,\"y\":179.991088867188,\"z\":180.001068115234},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"b81b46\":{\"lock\":true,\"pos\":{\"x\":-6,\"y\":1.5192,\"z\":9.5},\"rot\":{\"x\":0.0109,\"y\":179.9997,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"bc115a\":{\"lock\":false,\"pos\":{\"x\":-6,\"y\":1.5464,\"z\":9.5},\"rot\":{\"x\":0.0109,\"y\":179.9996,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"bc851a\":{\"lock\":false,\"pos\":{\"x\":1.49999523162842,\"y\":1.52103185653687,\"z\":22.5000019073486},\"rot\":{\"x\":0.0108914617449045,\"y\":180.000015258789,\"z\":0.00494825653731823},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"bcaac5\":{\"lock\":false,\"pos\":{\"x\":9,\"y\":1.5439,\"z\":3},\"rot\":{\"x\":0.0109,\"y\":179.9997,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"be7703\":{\"lock\":false,\"pos\":{\"x\":12.5010004043579,\"y\":1.5146609544754,\"z\":-6.01679992675781},\"rot\":{\"x\":0.00494567397981882,\"y\":89.9872970581055,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"c0aabd\":{\"lock\":false,\"pos\":{\"x\":3,\"y\":1.50330567359924,\"z\":1.5},\"rot\":{\"x\":0.0119065968319774,\"y\":150,\"z\":-0.00115882640238851},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"c4f1c6\":{\"lock\":false,\"pos\":{\"x\":5,\"y\":1.5433,\"z\":-2},\"rot\":{\"x\":0.0109,\"y\":179.9996,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"c62b0d\":{\"lock\":true,\"pos\":{\"x\":-31.5,\"y\":1.78359997272491,\"z\":19},\"rot\":{\"x\":-5.1037377488683E-06,\"y\":179.9990234375,\"z\":-7.24388087292027E-08},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"cb5af6\":{\"lock\":false,\"pos\":{\"x\":-20.5148124694824,\"y\":1.77100098133087,\"z\":5.28466844558716},\"rot\":{\"x\":5.21735773872933E-06,\"y\":-0.000219576235394925,\"z\":-9.44921723089465E-08},\"tint\":{\"a\":0,\"b\":0,\"g\":0,\"r\":0}},\"cbe578\":{\"lock\":false,\"pos\":{\"x\":-11.4999408721924,\"y\":1.50626850128174,\"z\":10.4989547729492},\"rot\":{\"x\":0.0108920680359006,\"y\":179.991394042969,\"z\":0.0049465736374259},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"cdb1aa\":{\"lock\":false,\"pos\":{\"x\":23.5012950897217,\"y\":1.51380479335785,\"z\":-5.52301406860352},\"rot\":{\"x\":0.0108914757147431,\"y\":180.000686645508,\"z\":0.00494851870462298},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"d41c19\":{\"lock\":false,\"pos\":{\"x\":10.0000019073486,\"y\":1.52029776573181,\"z\":22.5000057220459},\"rot\":{\"x\":0.010891504585743,\"y\":180.000030517578,\"z\":0.00494817551225424},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"d64a5d\":{\"lock\":false,\"pos\":{\"x\":-26.970874786377,\"y\":1.77100098133087,\"z\":5.4123420715332},\"rot\":{\"x\":4.78223273603362E-06,\"y\":-0.000526904128491879,\"z\":1.92139566479455E-07},\"tint\":{\"a\":0,\"b\":0,\"g\":0,\"r\":0}},\"d9a839\":{\"lock\":false,\"pos\":{\"x\":-19.5,\"y\":1.78360509872437,\"z\":14.0000019073486},\"rot\":{\"x\":-4.99167526868405E-06,\"y\":180.000198364258,\"z\":4.84362146835338E-07},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"dbd3ab\":{\"lock\":false,\"pos\":{\"x\":-32.5095138549805,\"y\":1.84000110626221,\"z\":4.00448274612427},\"rot\":{\"x\":-5.63295498068328E-06,\"y\":179.981201171875,\"z\":-6.38990940160511E-08},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"decc48\":{\"lock\":true,\"pos\":{\"x\":5,\"y\":1.51610004901886,\"z\":-2},\"rot\":{\"x\":0.0109000001102686,\"y\":180,\"z\":180.005004882813},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"e0b7f5\":{\"lock\":true,\"pos\":{\"x\":-29,\"y\":1.78359997272491,\"z\":19},\"rot\":{\"x\":-5.1411111599009E-06,\"y\":179.999252319336,\"z\":-7.01097633282188E-08},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"e529b8\":{\"lock\":false,\"pos\":{\"x\":-13,\"y\":1.50535273551941,\"z\":5},\"rot\":{\"x\":0.0108915129676461,\"y\":179.999740600586,\"z\":0.00495156785473228},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"e99298\":{\"lock\":false,\"pos\":{\"x\":-25.5,\"y\":1.78360509872437,\"z\":13.9999980926514},\"rot\":{\"x\":-5.04623449160135E-06,\"y\":180.00065612793,\"z\":5.34555901765543E-08},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"f05262\":{\"lock\":true,\"pos\":{\"x\":-6.00279998779297,\"y\":1.51800000667572,\"z\":2.99909996986389},\"rot\":{\"x\":0.0109000001102686,\"y\":180,\"z\":180.005004882813},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"f4d155\":{\"lock\":false,\"pos\":{\"x\":-10.0000009536743,\"y\":1.50509369373322,\"z\":4.99999952316284},\"rot\":{\"x\":0.0108917588368058,\"y\":179.999771118164,\"z\":0.00495308358222246},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"f74bc0\":{\"lock\":true,\"pos\":{\"x\":-2,\"y\":1.5167,\"z\":-2},\"rot\":{\"x\":0.0109,\"y\":179.9997,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"f8574c\":{\"lock\":false,\"pos\":{\"x\":-2.48837750405073E-08,\"y\":1.50356471538544,\"z\":1.49999928474426},\"rot\":{\"x\":0.00695847207680345,\"y\":209.999969482422,\"z\":0.0097355954349041},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}}}}",
          "XmlUI": "",
          "ContainedObjects": [
            {
              "GUID": "840195",
              "Name": "Custom_Model_Bag",
              "Transform": {
                "posX": -9.0,
                "posY": 1.378746,
                "posZ": 46.5,
                "rotX": 359.921021,
                "rotY": 179.983566,
                "rotZ": 359.964172,
                "scaleX": 0.7,
                "scaleY": 0.7,
                "scaleZ": 0.7
              },
              "Nickname": "Initialisation",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.0,
                "g": 0.7526132,
                "b": 0.358118683
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "Number": 0,
              "CustomMesh": {
                "MeshURL": "https://pastebin.com/raw/ALrYhQGb",
                "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/1984428287820713914/A2B3E1D0116D0574F566DF6236497D5209FDA320/",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 6,
                "CustomShader": {
                  "SpecularColor": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "SpecularIntensity": 0.0,
                  "SpecularSharpness": 2.0,
                  "FresnelStrength": 0.0
                },
                "CastShadows": true
              },
              "Bag": {
                "Order": 0
              },
              "LuaScript": "-- Utility memory bag by Directsun\r\n-- Version 2.7.0\r\n-- Fork of Memory Bag 2.0 by MrStump\r\n--\r\n-- Want to contribute? Create an issue or fork the code on GitHub and submit a pull request:\r\n-- https://github.com/sunflowermans/TTS-UtilityMemoryBag\r\n\r\n\r\nfunction updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction combineMemoryFromBagsWithin()\r\n    local bagObjList = self.getObjects()\r\n    for _, bagObj in ipairs(bagObjList) do\r\n        local data = bagObj.lua_script_state\r\n        if data ~= nil then\r\n            local j = JSON.decode(data)\r\n            if j ~= nil and j.ml ~= nil then\r\n                for guid, entry in pairs(j.ml) do\r\n                    memoryList[guid] = entry\r\n                end\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateMemoryWithMoves()\r\n    memoryList = memoryListBackup\r\n    --get the first transposed object's coordinates\r\n    local obj = getObjectFromGUID(moveGuid)\r\n\r\n    -- p1 is where needs to go, p2 is where it was\r\n    local refObjPos = memoryList[moveGuid].pos\r\n    local deltaPos = findOffsetDistance(obj.getPosition(), refObjPos, nil)\r\n    local movedRotation = obj.getRotation()\r\n    for guid, entry in pairs(memoryList) do\r\n        memoryList[guid].pos.x = entry.pos.x - deltaPos.x\r\n        memoryList[guid].pos.y = entry.pos.y - deltaPos.y\r\n        memoryList[guid].pos.z = entry.pos.z - deltaPos.z\r\n        -- memoryList[guid].rot.x = movedRotation.x\r\n        -- memoryList[guid].rot.y = movedRotation.y\r\n        -- memoryList[guid].rot.z = movedRotation.z\r\n    end\r\n\r\n    --theList[obj.getGUID()] = {\r\n    --    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n    --    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n    --    lock=obj.getLock()\r\n    --}\r\n    moveList = {}\r\nend\r\n\r\nfunction onload(saved_data)\r\n\r\n    fresh = true\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n\r\n    end\r\n\r\n    moveList = {}\r\n    moveGuid = nil\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        fresh = false\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,2}, rotation={0,0,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by Transpose button\r\nfunction buttonClick_transpose()\r\n    moveGuid = nil\r\n    broadcastToAll(\"Select one object and move it- all objects will move relative to the new location\", {0.75, 0.75, 1})\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(true)\r\n    createSetupActionButtons(true)\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(false)\r\n    createSetupActionButtons(false)\r\nend\r\n\r\nfunction getAllObjectsInMemory()\r\n    local objTable = {}\r\n    local curObj = {}\r\n\r\n    for guid in pairs(memoryListBackup) do\r\n        curObj = getObjectFromGUID(guid)\r\n        table.insert(objTable, curObj)\r\n    end\r\n\r\n    return objTable\r\n    -- return getAllObjects()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects(move)\r\n    buttonIndexMap = {}\r\n    local howManyButtons = 0\r\n\r\n    local objsToHaveButtons = {}\r\n    if move == true then\r\n        objsToHaveButtons = getAllObjectsInMemory()\r\n    else\r\n        objsToHaveButtons = getAllObjects()\r\n    end\r\n\r\n    for _, obj in ipairs(objsToHaveButtons) do\r\n        if obj ~= self then\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor +2\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Workaround for custom PDFs\r\n            if obj.Book then\r\n                objPos.y = objPos.y + 0.5\r\n            end\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(obj, move) end\r\n            local color = {0.75,0.25,0.25,0.6}\r\n            local colorMove = {0,0,1,0.6}\r\n            if move == true then\r\n                color = colorMove\r\n            end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color=color,\r\n            })\r\n            buttonIndexMap[obj.getGUID()] = howManyButtons\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons(move)\r\n    self.createButton({\r\n       label=\"Annuler\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n       position={-1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n       font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    self.createButton({\r\n      label=\"Valider\", click_function=\"buttonClick_submit\", function_owner=self,\r\n      position={-1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n      font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    if move == false then\r\n      self.createButton({\r\n          label=\"Ajouter\", click_function=\"buttonClick_add\", function_owner=self,\r\n          position={1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n          font_size=250, color={0,0,0}, font_color={0.25,1,0.25}\r\n        })\r\n\r\n        self.createButton({\r\n            label=\"Sélection\", click_function=\"editDragSelection\", function_owner=self,\r\n            position={-1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n            font_size=250, color={0,0,0}, font_color={1,1,1}\r\n        })\r\n\r\n        if fresh == false then\r\n            self.createButton({\r\n                label=\"Mise à Jour\", click_function=\"buttonClick_setNew\", function_owner=self,\r\n                position={1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n                font_size=180, color={0,0,0}, font_color={0.75,0.75,1}\r\n            })\r\n            self.createButton({\r\n                label=\"Retirer\", click_function=\"buttonClick_remove\", function_owner=self,\r\n                position={1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n                font_size=250, color={0,0,0}, font_color={1,0.25,0.25}\r\n            })\r\n        end\r\n    end\r\n\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,0,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(obj, move)\r\n    local index = buttonIndexMap[obj.getGUID()]\r\n    local colorMove = {0,0,1,0.6}\r\n    local color = {0,1,0,0.6}\r\n\r\n    previousGuid = selectedGuid\r\n    selectedGuid = obj.getGUID()\r\n\r\n    theList = memoryList\r\n    if move == true then\r\n        theList = moveList\r\n        if previousGuid ~= nil and previousGuid ~= selectedGuid then\r\n            local prevObj = getObjectFromGUID(previousGuid)\r\n            prevObj.highlightOff()\r\n            self.editButton({index=previousIndex, color=colorMove})\r\n            theList[previousGuid] = nil\r\n        end\r\n        previousIndex = index\r\n    end\r\n\r\n    if theList[selectedGuid] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        theList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock(),\r\n            tint=obj.getColorTint()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        if move == true then\r\n            color = colorMove\r\n        end\r\n        self.editButton({index=index, color=color})\r\n        theList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\nfunction editDragSelection(bagObj, player, remove)\r\n    local selectedObjs = Player[player].getSelectedObjects()\r\n    if not remove then\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            --Ignore if already in the memory list, or does not have a button\r\n            if index and not memoryList[obj.getGUID()] then\r\n                self.editButton({index=index, color={0,1,0,0.6}})\r\n                --Adding pos/rot to memory table\r\n                local pos, rot = obj.getPosition(), obj.getRotation()\r\n                --I need to add it like this or it won't save due to indexing issue\r\n                memoryList[obj.getGUID()] = {\r\n                    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n                    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n                    lock=obj.getLock(),\r\n                    tint=obj.getColorTint()\r\n                }\r\n                obj.highlightOn({0,1,0})\r\n            end\r\n        end\r\n    else\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            if index and memoryList[obj.getGUID()] then\r\n                color = {0.75,0.25,0.25,0.6}\r\n                self.editButton({index=index, color=color})\r\n                memoryList[obj.getGUID()] = nil\r\n                obj.highlightOff()\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Sélection annulée\", {1,1,1})\r\n    moveGuid = nil\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    fresh = false\r\n    if next(moveList) ~= nil then\r\n        for guid in pairs(moveList) do\r\n            moveGuid = guid\r\n        end\r\n        if memoryListBackup[moveGuid] == nil then\r\n            broadcastToAll(\"Item selected for moving is not already in memory\", {1, 0.25, 0.25})\r\n        else\r\n            broadcastToAll(\"Moving all items in memory relative to new objects position!\", {0.75, 0.75, 1})\r\n            self.clearButtons()\r\n            self.clearInputs()\r\n            createMemoryActionButtons()\r\n            local count = 0\r\n            for guid in pairs(moveList) do\r\n                moveGuid = guid\r\n                count = count + 1\r\n                local obj = getObjectFromGUID(guid)\r\n                if obj ~= nil then obj.highlightOff() end\r\n            end\r\n            updateMemoryWithMoves()\r\n            updateSave()\r\n            buttonClick_place()\r\n        end\r\n    elseif next(memoryList) == nil and moveGuid == nil then\r\n        memoryList = memoryListBackup\r\n        broadcastToAll(\"No selections made.\", {0.75, 0.25, 0.25})\r\n    end\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\n    moveGuid = nil\r\nend\r\n\r\nfunction combineTables(first_table, second_table)\r\n    for k,v in pairs(second_table) do first_table[k] = v end\r\nend\r\n\r\nfunction buttonClick_add()\r\n    fresh = false\r\n    combineTables(memoryList, memoryListBackup)\r\n    broadcastToAll(\"Adding internal bags and selections to existing memory\", {0.25, 0.75, 0.25})\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_remove()\r\n    broadcastToAll(\"Removing Selected Entries From Memory\", {1.0, 0.25, 0.25})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        memoryListBackup[guid] = nil\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Removed\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_setNew()\r\n    broadcastToAll(\"Setting new position relative to items in memory\", {0.75, 0.75, 1})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        guid = obj.guid\r\n        if memoryListBackup[guid] ~= nil then\r\n            count = count + 1\r\n            memoryListBackup[guid].pos = obj.getPosition()\r\n            memoryListBackup[guid].rot = obj.getRotation()\r\n            memoryListBackup[guid].lock = obj.getLock()\r\n            memoryListBackup[guid].tint = obj.getColorTint()\r\n        end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    fresh = true\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Déplacer\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,2}, rotation={0,0,0}, height=350, width=1200,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n  --  self.createButton({\r\n  --      label=\"Ranger\", click_function=\"buttonClick_recall\", function_owner=self,\r\n    --    position={0,0.3,2.8}, rotation={0,0,0}, height=350, width=1000,\r\n    --    font_size=250, color={0,0,0}, font_color={1,1,1}\r\n  --  })\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={2,0.3,0}, rotation={0,90,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    ---    self.createButton({\r\n    ---      label=\"Bouger\", click_function=\"buttonClick_transpose\", function_owner=self,\r\n    ---      position={-2,0.3,0.8}, rotation={0,270,0}, height=350, width=800,\r\n    ---      font_size=250, color={0,0,0}, font_color={0.75,0.75,1}\r\n    ---\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n            obj.setColorTint(entry.tint)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot, smooth=false\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    item.setColorTint(entry.tint)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objets placés\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objets rangés\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local yOffset = 0\r\n    if obj ~= nil then\r\n        local bounds = obj.getBounds()\r\n        yOffset = (bounds.size.y - bounds.offset.y)\r\n    end\r\n    local deltaPos = {}\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + yOffset\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n    local objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n    local x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n    local z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n    --return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\nfunction rotateMyCoordinates(desiredPos, obj)\r\n    local angle = math.rad(obj.getRotation().y)\r\n    local x = desiredPos.x * math.sin(angle)\r\n    local z = desiredPos.z * math.cos(angle)\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n    local mult = 10^(dec or 0)\r\n    return math.floor(num * mult + 0.5) / mult\r\nend\r\n\r\n\r\n--[[\r\nThis object provides access to a variable stored on the \"Global script\".\r\nThe variable holds the GUIDs for every Utility Memory Bag in the scene.\r\nExample:\r\n{'805ebd', '35cc21', 'fc8886', 'f50264', '5f5f63'}\r\n--]]\r\nAllMemoryBagsInScene = {\r\n    NAME_OF_GLOBAL_VARIABLE = \"_UtilityMemoryBag_AllMemoryBagsInScene\"\r\n}\r\n\r\nfunction AllMemoryBagsInScene:add(guid)\r\n    local guids = Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\n    table.insert(guids, guid)\r\n    Global.setTable(self.NAME_OF_GLOBAL_VARIABLE, guids)\r\nend\r\n\r\nfunction AllMemoryBagsInScene:getGuidList()\r\n    return Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\nend",
              "LuaScriptState": "{\"ml\":{\"013ee9\":{\"lock\":true,\"pos\":{\"x\":9,\"y\":1.51789999008179,\"z\":9.5},\"rot\":{\"x\":0.0109000001102686,\"y\":180,\"z\":180.005004882813},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"0a67d9\":{\"lock\":true,\"pos\":{\"x\":-34,\"y\":1.78359997272491,\"z\":19},\"rot\":{\"x\":-4.96613847644767E-06,\"y\":180.000061035156,\"z\":-9.36471877821532E-08},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"248257\":{\"lock\":true,\"pos\":{\"x\":-21.5,\"y\":1.78359997272491,\"z\":19},\"rot\":{\"x\":-5.00132455272251E-06,\"y\":179.99658203125,\"z\":-9.30659567188741E-08},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"2729ce\":{\"lock\":false,\"pos\":{\"x\":-1.99999964237213,\"y\":1.50411760807037,\"z\":3.50000023841858},\"rot\":{\"x\":-0.0011609437642619,\"y\":60.0000038146973,\"z\":359.988098144531},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"29b247\":{\"lock\":false,\"pos\":{\"x\":-10.0000009536743,\"y\":1.50566399097443,\"z\":8},\"rot\":{\"x\":0.0108916964381933,\"y\":180.000122070313,\"z\":0.00495219510048628},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"417f74\":{\"lock\":false,\"pos\":{\"x\":-11.5,\"y\":1.50522315502167,\"z\":4.99999856948853},\"rot\":{\"x\":0.010891686193645,\"y\":179.999893188477,\"z\":0.00495333969593048},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"4233ba\":{\"lock\":true,\"pos\":{\"x\":-6,\"y\":1.51919996738434,\"z\":9.5},\"rot\":{\"x\":0.0109000001102686,\"y\":180.000106811523,\"z\":180.005004882813},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"4b4440\":{\"lock\":false,\"pos\":{\"x\":5,\"y\":1.50351309776306,\"z\":3.5},\"rot\":{\"x\":0.00973139889538288,\"y\":120.000007629395,\"z\":359.993041992188},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"5dd214\":{\"lock\":false,\"pos\":{\"x\":-2.00000166893005,\"y\":1.50497305393219,\"z\":8},\"rot\":{\"x\":0.00973101239651442,\"y\":119.999992370605,\"z\":359.993041992188},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"5dd8dd\":{\"lock\":false,\"pos\":{\"x\":-13.0000019073486,\"y\":1.50592303276062,\"z\":8},\"rot\":{\"x\":0.0108915586024523,\"y\":179.999908447266,\"z\":0.00495191477239132},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"71826c\":{\"lock\":true,\"pos\":{\"x\":-24,\"y\":1.78359997272491,\"z\":19},\"rot\":{\"x\":-5.17393027621438E-06,\"y\":180.000091552734,\"z\":4.51499602149852E-08},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"748d92\":{\"lock\":true,\"pos\":{\"x\":-2,\"y\":1.51670002937317,\"z\":-2},\"rot\":{\"x\":0.0109000001102686,\"y\":180,\"z\":180.005004882813},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"825ddf\":{\"lock\":false,\"pos\":{\"x\":5,\"y\":1.50436854362488,\"z\":7.99999952316284},\"rot\":{\"x\":0.0011611117515713,\"y\":240,\"z\":0.0119105614721775},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"a1dc75\":{\"lock\":true,\"pos\":{\"x\":9,\"y\":1.51670002937317,\"z\":3},\"rot\":{\"x\":-4.85810460304492E-06,\"y\":180,\"z\":180},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"aba5ca\":{\"lock\":true,\"pos\":{\"x\":-26.5004997253418,\"y\":1.78359997272491,\"z\":19},\"rot\":{\"x\":-5.10670497533283E-06,\"y\":180.000152587891,\"z\":1.31010168047396E-07},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"c0aabd\":{\"lock\":false,\"pos\":{\"x\":3,\"y\":1.50330567359924,\"z\":1.5},\"rot\":{\"x\":0.0119065968319774,\"y\":150,\"z\":-0.00115882640238851},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"c62b0d\":{\"lock\":true,\"pos\":{\"x\":-31.5,\"y\":1.78359997272491,\"z\":19},\"rot\":{\"x\":-5.1037377488683E-06,\"y\":179.9990234375,\"z\":-7.24388087292027E-08},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"cbe578\":{\"lock\":false,\"pos\":{\"x\":-11.4999408721924,\"y\":1.50626850128174,\"z\":10.4989547729492},\"rot\":{\"x\":0.0108920680359006,\"y\":179.991394042969,\"z\":0.0049465736374259},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"decc48\":{\"lock\":true,\"pos\":{\"x\":5,\"y\":1.51610004901886,\"z\":-2},\"rot\":{\"x\":0.0109000001102686,\"y\":180,\"z\":180.005004882813},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"e0b7f5\":{\"lock\":true,\"pos\":{\"x\":-29,\"y\":1.78359997272491,\"z\":19},\"rot\":{\"x\":-5.1411111599009E-06,\"y\":179.999252319336,\"z\":-7.01097633282188E-08},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"e529b8\":{\"lock\":false,\"pos\":{\"x\":-13,\"y\":1.50535273551941,\"z\":5},\"rot\":{\"x\":0.0108915129676461,\"y\":179.999740600586,\"z\":0.00495156785473228},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"f05262\":{\"lock\":true,\"pos\":{\"x\":-6.00279998779297,\"y\":1.51800000667572,\"z\":2.99909996986389},\"rot\":{\"x\":0.0109000001102686,\"y\":180,\"z\":180.005004882813},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"f4d155\":{\"lock\":false,\"pos\":{\"x\":-10.0000009536743,\"y\":1.50509369373322,\"z\":4.99999952316284},\"rot\":{\"x\":0.0108917588368058,\"y\":179.999771118164,\"z\":0.00495308358222246},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"f8574c\":{\"lock\":false,\"pos\":{\"x\":-2.48837750405073E-08,\"y\":1.50356471538544,\"z\":1.49999928474426},\"rot\":{\"x\":0.00695847207680345,\"y\":209.999969482422,\"z\":0.0097355954349041},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}}}}",
              "XmlUI": ""
            },
            {
              "GUID": "b1787e",
              "Name": "Card",
              "Transform": {
                "posX": -22.4999981,
                "posY": 1.7836051,
                "posZ": 14.0000019,
                "rotX": -5.06373863E-06,
                "rotY": 180.000458,
                "rotZ": -1.00361987E-07,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Pied des Marches",
              "Description": "Marches. Bois.",
              "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06048\",\n  \"locationBack\": {\n    \"connections\": \"SlantedEquals|Tilde\",\n    \"icons\": \"Tee\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    }\n  },\n  \"locationFront\": {\n    \"connections\": \"SlantedEquals|Tilde\",\n    \"icons\": \"Tee\"\n  },\n  \"traits\": \"Steps. Woods.\",\n  \"type\": \"Location\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276518,
              "SidewaysCard": false,
              "CustomDeck": {
                "2765": {
                  "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                  "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "d9a839",
              "Name": "Card",
              "Transform": {
                "posX": -19.4999981,
                "posY": 1.7836051,
                "posZ": 14.0000048,
                "rotX": -4.918791E-06,
                "rotY": 180.000259,
                "rotZ": -1.09571294E-08,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Sept-Cents Marches [Du Sommeil Profond]",
              "Description": "Marches.",
              "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06047\",\n  \"locationBack\": {\n    \"connections\": \"Hourglass|Tee\",\n    \"icons\": \"SlantedEquals\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    }\n  },\n  \"locationFront\": {\n    \"connections\": \"Hourglass|Tee\",\n    \"icons\": \"SlantedEquals\"\n  },\n  \"traits\": \"Steps.\",\n  \"type\": \"Location\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276517,
              "SidewaysCard": false,
              "CustomDeck": {
                "2765": {
                  "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                  "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "0a67d9",
              "Name": "Card",
              "Transform": {
                "posX": -34.0,
                "posY": 1.7836,
                "posZ": 19.0,
                "rotX": -4.96613848E-06,
                "rotY": 180.000061,
                "rotZ": -9.364719E-08,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "[]",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 1115000,
              "SidewaysCard": false,
              "CustomDeck": {
                "11150": {
                  "FaceURL": "https://steamusercontent-a.akamaihd.net/ugc/1874087573755654883/DDC74F92203C3FCF651F1047B852676949395747/",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1874087573755654883/DDC74F92203C3FCF651F1047B852676949395747/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "1736cc",
              "Name": "Card",
              "Transform": {
                "posX": -25.5000057,
                "posY": 1.78360546,
                "posZ": 10.4999876,
                "rotX": -4.93315247E-06,
                "rotY": 179.982529,
                "rotZ": 1.69801417E-08,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Travailleur Gug",
              "Description": "",
              "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 5,\n  \"id\": \"06060\",\n  \"traits\": \"Monster. Gug.\",\n  \"type\": \"Enemy\",\n  \"victory\": 1\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276245,
              "SidewaysCard": false,
              "CustomDeck": {
                "2762": {
                  "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "1b3e83",
              "Name": "Custom_Tile",
              "Transform": {
                "posX": 9.999999,
                "posY": 1.50583768,
                "posZ": 18.0000038,
                "rotX": 359.9891,
                "rotY": 0.00814307,
                "rotZ": -0.00495359628,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.6045295,
                "g": 0.6045295,
                "b": 0.6045295
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://i.imgur.com/vppt2my.png",
                "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomTile": {
                  "Type": 3,
                  "Thickness": 0.1,
                  "Stackable": false,
                  "Stretch": true
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "States": {
                "2": {
                  "GUID": "44b0c5",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": 4.499999,
                    "posY": 1.50422156,
                    "posZ": 7.000003,
                    "rotX": 0.0108915372,
                    "rotY": 180.0,
                    "rotZ": 0.00494912267,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                "3": {
                  "GUID": "5b38c6",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -38.8217163,
                    "posY": 1.99356019,
                    "posZ": 0.4159239,
                    "rotX": 359.9201,
                    "rotY": 272.9828,
                    "rotZ": 0.01687373,
                    "scaleX": 0.8,
                    "scaleY": 1.0,
                    "scaleZ": 0.8
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              }
            },
            {
              "GUID": "248257",
              "Name": "Card",
              "Transform": {
                "posX": -21.5,
                "posY": 1.7836,
                "posZ": 19.0,
                "rotX": -5.00132455E-06,
                "rotY": 179.996582,
                "rotZ": -9.306596E-08,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "[]",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 1105800,
              "SidewaysCard": false,
              "CustomDeck": {
                "11058": {
                  "FaceURL": "https://steamusercontent-a.akamaihd.net/ugc/1874087573755656398/784A5C9E69597C25D0CE052B4C48C063453A9D1B/",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1874087573755656398/784A5C9E69597C25D0CE052B4C48C063453A9D1B/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "2bb249",
              "Name": "Card",
              "Transform": {
                "posX": -22.4999485,
                "posY": 1.78360546,
                "posZ": 10.5003366,
                "rotX": -5.19188E-06,
                "rotY": 179.972748,
                "rotZ": 1.71342656E-08,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Nasht",
              "Description": "Prêtre des Contrées du Rêve",
              "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 3,\n  \"id\": \"06058\",\n  \"traits\": \"Dreamlands. Warden. Elite.\",\n  \"type\": \"Enemy\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276528,
              "SidewaysCard": false,
              "CustomDeck": {
                "2765": {
                  "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                  "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "2efca1",
              "Name": "Card",
              "Transform": {
                "posX": 10.0,
                "posY": 1.51849186,
                "posZ": 13.0,
                "rotX": 0.0108912569,
                "rotY": 180.003128,
                "rotZ": 0.004948742,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "[]",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 1108700,
              "SidewaysCard": false,
              "CustomDeck": {
                "11087": {
                  "FaceURL": "https://steamusercontent-a.akamaihd.net/ugc/1874087573755654274/E1C516725CC32556A9F093B96384451BDB4AB8D1/",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1874087573755654274/E1C516725CC32556A9F093B96384451BDB4AB8D1/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "53d98a",
              "Name": "Card",
              "Transform": {
                "posX": 1.50000036,
                "posY": 1.519226,
                "posZ": 13.0,
                "rotX": 0.0108911982,
                "rotY": 180.003784,
                "rotZ": 0.00494903838,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "[]",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 1108800,
              "SidewaysCard": false,
              "CustomDeck": {
                "11088": {
                  "FaceURL": "https://steamusercontent-a.akamaihd.net/ugc/1874087573755616213/4BA2D77C786D6072A7ECBD7B99A0A7C3C2048E41/",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1874087573755616213/4BA2D77C786D6072A7ECBD7B99A0A7C3C2048E41/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "60947e",
              "Name": "Custom_Model",
              "Transform": {
                "posX": -32.6306267,
                "posY": 1.771001,
                "posZ": 6.08677673,
                "rotX": 4.72107968E-06,
                "rotY": 0.001038952,
                "rotZ": 2.83289125E-07,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Ranger acte 2B",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.0,
                "g": 0.0,
                "b": 0.0,
                "a": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": false,
              "Snap": false,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": false,
              "Tooltip": false,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/1478820768302617365/27883B7913E0E69143C3AA03493B7E7C4E8C29C0/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 1,
                "TypeIndex": 0,
                "CastShadows": true
              },
              "LuaScript": "-- Code for bag to identify text tool objects\r\nmovableTextTool_cowgoesmoo33 = true\r\n\r\n-- Number of characters before the text box width expands.\r\nEXPAND_INTERVAL = 20\r\n\r\n-- This table controls what is passed between save/load\r\ndata = {}\r\n\r\nfunction onLoad(saved_data)\r\n  if saved_data ~= '' then\r\n    data = JSON.decode(saved_data)\r\n    if data.text ~= '' then\r\n      self.interactable = data.interactable\r\n      staticMode()\r\n      return\r\n    end\r\n  else\r\n    data = {size=200, color=Color(0,0,0), text='', interactable=true,\r\n        enter_to_finish=false, autolock=false, autolift=false,\r\n        hover_height=0.05, box_transparency=1}\r\n  end\r\n\r\n  inputMode()\r\nend\r\n\r\n-- True if in the middle of delay after pressing Enter (with enter_to_finish on)\r\nfinishing = false\r\nfunction input_func(obj, color, input, stillEditing)\r\n  local params = getBox(input)\r\n  if params then\r\n    params.value = input\r\n    self.editInput(params)\r\n  end\r\n\r\n  if not stillEditing then\r\n    data.text = input\r\n    updateState()\r\n    if input ~= '' then staticMode(color) end\r\n  elseif data.enter_to_finish then\r\n    -- If enter is pressed: remove last newline and force finish\r\n    if not finishing and input:sub(-1) == '\\n' then\r\n      finishing = true\r\n      -- Delay to avoid user's Enter keypress being detected (opens chat box)\r\n      Wait.frames(function()\r\n        input = input:sub(1, -2)\r\n        data.text = input\r\n        updateState()\r\n        if input ~= '' then staticMode(color) else inputMode() end\r\n        finishing = false\r\n      end, 10)\r\n    end\r\n  end\r\nend\r\n\r\n-- When the inpupt box appears and lets the player type in it.\r\nfunction inputMode()\r\n  self.clearContextMenu()\r\n  self.clearInputs()\r\n  self.clearButtons()\r\n\r\n  local size = getBox(data.text, true)\r\n\r\n  self.createInput({\r\n    input_function = \"input_func\",\r\n    function_owner = self,\r\n    label          = \"Type Here\",\r\n    alignment      = 3,\r\n    position       = {x=0, y=data.hover_height, z=0},\r\n    rotation       = {0, 180, 0},\r\n    width          = size.width,\r\n    height         = size.height,\r\n    color          = getBackground(data.color),\r\n    font_color     = data.color,\r\n    font_size      = data.size,\r\n    value          = data.text,\r\n  })\r\n\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\nend\r\n\r\n-- When the input box disappears and displays the text.\r\nfunction staticMode(player)\r\n  self.clearContextMenu()\r\n  if data.autolock then\r\n    self.locked = true\r\n  end\r\n  if self.getInputs() and #self.getInputs() ~= 0 then\r\n    self.removeInput(0)\r\n  end\r\n\r\n  -- Clear from selecting player\r\n  if player then\r\n    self.removeFromPlayerSelection(player)\r\n  end\r\n\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  self.createButton({\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=self,\r\n    position={0,data.hover_height,0}, rotation={0,180,0}, height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  })\r\n\r\n  self.addContextMenuItem('Edit Text', function(color)\r\n    self.removeFromPlayerSelection(color)\r\n    inputMode()\r\n  end)\r\n  self.addContextMenuItem('Clear', function(color)\r\n    applyMultiple(color, 'clear', _, true)\r\n  end)\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\n  self.addContextMenuItem('Permanently Attach', attemptAttach)\r\n  self.addContextMenuItem('Permalock', function(color)\r\n    applyMultiple(color, 'permalock', _, true)\r\n  end)\r\nend\r\n\r\nfunction changeSize(params)\r\n  local delta = params[1]\r\n  local newSize = data.size + delta\r\n  if newSize > 800  or newSize < 50 then\r\n    return\r\n  end\r\n  data.size = newSize\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_size=data.size})\r\n  else\r\n    local size = getBox(data.text, true)\r\n    self.editInput({width=size.width, height=size.height, font_size=data.size})\r\n  end\r\nend\r\n\r\nfunction setColor(params)\r\n  if params and params[1] then\r\n    data.color = params[1]\r\n  else\r\n    data.color = self.getColorTint():setAt('a', 1) -- Take on color of object tint\r\n  end\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_color=data.color})\r\n  else\r\n    self.editInput({font_color=data.color, color=getBackground(data.color)})\r\n  end\r\nend\r\n\r\nfunction getBackground(color) --determines whether to use black or white depending on luminance\r\n  local r,g,b = Color(color):get()\r\n\r\n  local lum = 0.2126*r + 0.7152*g + 0.0722*b\r\n  if lum > 0.75 then\r\n    return {0.2,0.2,0.2, data.box_transparency}\r\n  else\r\n    return {1,1,1, data.box_transparency}\r\n  end\r\nend\r\n\r\nfunction clear()\r\n  data.text = ''\r\n  updateState()\r\n  inputMode()\r\nend\r\n\r\nfunction permalock()\r\n  self.interactable = false\r\n  data.interactable = false\r\n  updateState()\r\nend\r\n\r\nlocal target_script = [[\r\nfunction onLoad(script_state)\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    for _,entry in ipairs(state) do\r\n      self.createButton(entry)\r\n    end\r\n    self.addContextMenuItem('Clear All Text', function(color)\r\n      self.clearContextMenu()\r\n      self.clearButtons()\r\n      self.script_state = ''\r\n      self.script_code = ''\r\n    end)\r\n  end\r\nend\r\n]]\r\n\r\nfunction attemptAttach(player_color)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  local attachee\r\n  local attachers = {}\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if obj ~= self then\r\n        table.insert(attachers, obj)\r\n      end\r\n    else\r\n      if attachee then\r\n        broadcastToColor(\"More than one target selected.\", player_color)\r\n        return\r\n      else\r\n        attachee = obj\r\n      end\r\n    end\r\n  end\r\n  if attachee then\r\n    local code = attachee.script_code\r\n    if code and code ~= '' and code ~= target_script then\r\n      broadcastToColor(\"Warning: script on card has been overriden. Rewind time to undo.\", player_color)\r\n    end\r\n    for i,attacher in ipairs(attachers) do\r\n      attacher.call('attach', {target = attachee})\r\n    end\r\n    attach({target = attachee})\r\n    local type, flip = attachee.type, attachee.getRotation().z\r\n    if (type == 'Card' or type == 'Deck') and flip > 175 and flip < 185 then\r\n      broadcastToColor(\"Warning: text will not display if card or deck is facing down.\", player_color)\r\n    end\r\n  else\r\n    broadcastToColor(\"You must have a target object in your selection (using click-and-drag or Ctrl+Click) to use this option.\", player_color)\r\n  end\r\nend\r\n\r\nfunction attach(params)\r\n  local target = params.target\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  local textRotation = self.getRotation():sub(target.getRotation())\r\n    :add(Vector(180, 0, 180))\r\n\r\n  local textPosition = target.positionToLocal(\r\n    self.getPosition():add(Vector(0, data.hover_height, 0))\r\n  )\r\n  textPosition.x = -textPosition.x\r\n\r\n  local textScale = {}\r\n  textScale.x = self.getScale().x / target.getScale().x\r\n  textScale.y = self.getScale().x / target.getScale().y\r\n  textScale.z = self.getScale().x / target.getScale().z\r\n\r\n  local details = {\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=nil,\r\n    position=textPosition,\r\n    rotation=textRotation,\r\n    scale=textScale,\r\n    height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  }\r\n\r\n  target.createButton(details)\r\n\r\n  local script_state = target.script_state\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    table.insert(state, details)\r\n    target.script_state = JSON.encode(state)\r\n  else\r\n    target.script_state = JSON.encode({[1]=details})\r\n  end\r\n\r\n  target.script_code = target_script\r\n\r\n  self.destruct()\r\nend\r\n\r\nfunction applyMultiple(player_color, func_string, params, static_only)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if not static_only or obj.call('isStatic') then\r\n        obj.call(func_string, params)\r\n      end\r\n    end\r\n  end\r\nend\r\n\r\nfunction isStatic()\r\n  local input = self.getInputs()\r\n  return not input or #input == 0\r\nend\r\n\r\nfunction getBox(input, force)\r\n  local maxLength, lineCount = EXPAND_INTERVAL, 1\r\n  local lineLength = 0\r\n  for i = 1, #input do\r\n    local c = input:sub(i,i)\r\n    if c == '\\n' then\r\n      lineCount = lineCount + 1\r\n      if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n      lineLength = 0\r\n    else\r\n      lineLength = lineLength + 1\r\n    end\r\n  end\r\n  if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n\r\n  newWidth = data.size * maxLength * 0.9\r\n  newHeight = data.size * lineCount + 23\r\n\r\n  if force or boxWidth ~= newWidth or boxHeight ~= newHeight then\r\n    boxWidth, boxHeight = newWidth, newHeight\r\n    return {width = boxWidth, height = boxHeight}\r\n  end\r\n  return nil\r\nend\r\n\r\ntemp_lift = nil\r\nfunction onPickUp(player_color)\r\n  if data.autolift then\r\n    local player = Player[player_color]\r\n    temp_lift = player.lift_height\r\n    player.lift_height = 0\r\n  end\r\nend\r\n\r\nfunction onDrop(player_color)\r\n  if data.autolift and temp_lift then\r\n    Player[player_color].lift_height = temp_lift\r\n  end\r\nend\r\n\r\n-- Should be called every time data is modified, allows info to be saved on copy/paste\r\nfunction updateState()\r\n  self.script_state = JSON.encode(data)\r\nend\r\n\r\nfunction onSave()\r\n  self.script_state = JSON.encode(data)\r\n  return self.script_state\r\nend",
              "LuaScriptState": "{\"autolift\":false,\"autolock\":false,\"box_transparency\":1,\"color\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1},\"enter_to_finish\":false,\"hover_height\":0.05,\"interactable\":true,\"size\":350,\"text\":\"ACTE 3B\"}",
              "XmlUI": ""
            },
            {
              "GUID": "67d398",
              "Name": "Card",
              "Transform": {
                "posX": 1.5,
                "posY": 1.5178,
                "posZ": 5.5,
                "rotX": 0.0109,
                "rotY": 180.0001,
                "rotZ": 0.0049,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "[]",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 1108900,
              "SidewaysCard": false,
              "CustomDeck": {
                "11089": {
                  "FaceURL": "https://steamusercontent-a.akamaihd.net/ugc/1874087573755659049/9AF2DF88904D62C086CAAA295BE046CBE8E65415/",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1874087573755659049/9AF2DF88904D62C086CAAA295BE046CBE8E65415/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "71826c",
              "Name": "Card",
              "Transform": {
                "posX": -24.0,
                "posY": 1.7836,
                "posZ": 19.0,
                "rotX": -5.17393028E-06,
                "rotY": 180.000092,
                "rotZ": 4.514996E-08,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "[]",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 1107200,
              "SidewaysCard": false,
              "CustomDeck": {
                "11072": {
                  "FaceURL": "https://steamusercontent-a.akamaihd.net/ugc/1874087573755661701/096ACC8A32354A85E5A9DA6188BEEB4FC5513976/",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1874087573755661701/096ACC8A32354A85E5A9DA6188BEEB4FC5513976/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "7234af",
              "Name": "Custom_Tile",
              "Transform": {
                "posX": 6.000071,
                "posY": 1.50703859,
                "posZ": 22.5001965,
                "rotX": 0.0049484414,
                "rotY": 90.00383,
                "rotZ": 359.9891,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.6045295,
                "g": 0.6045295,
                "b": 0.6045295
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://i.imgur.com/vppt2my.png",
                "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomTile": {
                  "Type": 3,
                  "Thickness": 0.1,
                  "Stackable": false,
                  "Stretch": true
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "States": {
                "2": {
                  "GUID": "44b0c5",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": 4.499999,
                    "posY": 1.50422156,
                    "posZ": 7.000003,
                    "rotX": 0.0108915372,
                    "rotY": 180.0,
                    "rotZ": 0.00494912267,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                "3": {
                  "GUID": "5b38c6",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -38.8217163,
                    "posY": 1.99356019,
                    "posZ": 0.4159239,
                    "rotX": 359.9201,
                    "rotY": 272.9828,
                    "rotZ": 0.01687373,
                    "scaleX": 0.8,
                    "scaleY": 1.0,
                    "scaleZ": 0.8
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              }
            },
            {
              "GUID": "74b7fe",
              "Name": "Custom_Tile",
              "Transform": {
                "posX": 6.0,
                "posY": 1.50523269,
                "posZ": 13.0,
                "rotX": 0.004947741,
                "rotY": 89.99999,
                "rotZ": 359.9891,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.6045295,
                "g": 0.6045295,
                "b": 0.6045295
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://i.imgur.com/vppt2my.png",
                "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomTile": {
                  "Type": 3,
                  "Thickness": 0.1,
                  "Stackable": false,
                  "Stretch": true
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "States": {
                "2": {
                  "GUID": "44b0c5",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": 4.499999,
                    "posY": 1.50422156,
                    "posZ": 7.000003,
                    "rotX": 0.0108915372,
                    "rotY": 180.0,
                    "rotZ": 0.00494912267,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                "3": {
                  "GUID": "5b38c6",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -38.8217163,
                    "posY": 1.99356019,
                    "posZ": 0.4159239,
                    "rotX": 359.9201,
                    "rotY": 272.9828,
                    "rotZ": 0.01687373,
                    "scaleX": 0.8,
                    "scaleY": 1.0,
                    "scaleZ": 0.8
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              }
            },
            {
              "GUID": "80db1a",
              "Name": "Deck",
              "Transform": {
                "posX": 17.501,
                "posY": 1.54081047,
                "posZ": -6.01959372,
                "rotX": 0.004945575,
                "rotY": 89.98735,
                "rotZ": 359.9891,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": false,
              "SidewaysCard": true,
              "DeckIDs": [
                276335,
                276334,
                276333,
                276332
              ],
              "CustomDeck": {
                "2763": {
                  "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                  "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "1261a5",
                  "Name": "Card",
                  "Transform": {
                    "posX": 17.5010414,
                    "posY": 4.59621429,
                    "posZ": -6.01925135,
                    "rotX": 0.00494586071,
                    "rotY": 89.98796,
                    "rotZ": 359.9891,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Le Chemin",
                  "Description": "Acte 4a",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"clueThresholdPerInvestigator\": 5,\n  \"cycle\": \"Standalone\",\n  \"id\": \"06044\",\n  \"type\": \"Act\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276335,
                  "SidewaysCard": true,
                  "CustomDeck": {
                    "2763": {
                      "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                      "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "c52cd9",
                  "Name": "Card",
                  "Transform": {
                    "posX": 24.476387,
                    "posY": 2.528101,
                    "posZ": 17.1718845,
                    "rotX": 0.0,
                    "rotY": 90.0,
                    "rotZ": 0.0,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "La Descente Finale",
                  "Description": "Acte 3a",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06043\",\n  \"type\": \"Act\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276334,
                  "SidewaysCard": true,
                  "CustomDeck": {
                    "2763": {
                      "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                      "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "0113ce",
                  "Name": "Card",
                  "Transform": {
                    "posX": 29.0052357,
                    "posY": 2.50402665,
                    "posZ": 17.34505,
                    "rotX": -0.004948372,
                    "rotY": 90.00001,
                    "rotZ": 0.0233514681,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "L'Épreuve de Nasht et Kaman-Thah",
                  "Description": "Acte 2a",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06042\",\n  \"type\": \"Act\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276333,
                  "SidewaysCard": true,
                  "CustomDeck": {
                    "2763": {
                      "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                      "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "5ea021",
                  "Name": "Card",
                  "Transform": {
                    "posX": 17.501049,
                    "posY": 1.62130833,
                    "posZ": -6.01926756,
                    "rotX": 0.007917795,
                    "rotY": 89.98796,
                    "rotZ": 359.987732,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Entrer dans les Contrées du Rêve",
                  "Description": "Acte 1a",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06041\",\n  \"type\": \"Act\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276332,
                  "SidewaysCard": true,
                  "CustomDeck": {
                    "2763": {
                      "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                      "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "8e6274",
              "Name": "Card",
              "Transform": {
                "posX": -19.4999466,
                "posY": 1.78360546,
                "posZ": 10.5003881,
                "rotX": -4.9747805E-06,
                "rotY": 179.981079,
                "rotZ": -1.321978E-07,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Kaman-Thah",
              "Description": "Prêtre des Contrées du Rêve",
              "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 3,\n  \"id\": \"06057\",\n  \"traits\": \"Dreamlands. Warden. Elite.\",\n  \"type\": \"Enemy\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276527,
              "SidewaysCard": false,
              "CustomDeck": {
                "2765": {
                  "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                  "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "98830f",
              "Name": "Custom_Model_Bag",
              "Transform": {
                "posX": -29.0000038,
                "posY": 1.84000051,
                "posZ": 10.4999952,
                "rotX": -6.673662E-06,
                "rotY": 179.9834,
                "rotZ": 2.959959E-07,
                "scaleX": 0.7,
                "scaleY": 0.7,
                "scaleZ": 0.7
              },
              "Nickname": "Soutiens/faiblesses d'histoire",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "CustomMesh": {
                "MeshURL": "https://pastebin.com/raw/ALrYhQGb",
                "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/5077277234347423622/F89B4508C6E2782780C2B5593FB68379E0FB2DB6/",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 6,
                "CustomShader": {
                  "SpecularColor": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "SpecularIntensity": 0.0,
                  "SpecularSharpness": 2.0,
                  "FresnelStrength": 0.0
                },
                "CastShadows": true
              },
              "Bag": {
                "Order": 0
              },
              "LuaScript": "",
              "LuaScriptState": "{\"ml\":[]}",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "6c7054",
                  "Name": "Card",
                  "Transform": {
                    "posX": -29.0,
                    "posY": 1.93749249,
                    "posZ": 10.5,
                    "rotX": 0.000168835351,
                    "rotY": 179.988876,
                    "rotZ": -3.563848E-05,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Randolph Carter",
                  "Description": "Rêveur Expérimenté",
                  "GMNotes": "{\n  \"agilityIcons\": 1,\n  \"class\": \"Neutral\",\n  \"combatIcons\": 1,\n  \"cost\": 3,\n  \"cycle\": \"The Dream-Eaters\",\n  \"health\": 3,\n  \"id\": \"06059\",\n  \"sanity\": 2,\n  \"traits\": \"Ally. Dreamer.\",\n  \"type\": \"Asset\",\n  \"wildIcons\": 1\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276529,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2765": {
                      "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                      "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "a195b9",
              "Name": "Custom_Model_Bag",
              "Transform": {
                "posX": 16.5012,
                "posY": 1.572045,
                "posZ": 1.00299871,
                "rotX": 0.0108935628,
                "rotY": 179.985062,
                "rotZ": 0.004946047,
                "scaleX": 0.7,
                "scaleY": 0.7,
                "scaleZ": 0.7
              },
              "Nickname": "Divulagation des lieux révélés",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.0,
                "g": 0.7526132,
                "b": 0.3581185
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "Number": 0,
              "CustomMesh": {
                "MeshURL": "https://pastebin.com/raw/ALrYhQGb",
                "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/1984428287820713914/A2B3E1D0116D0574F566DF6236497D5209FDA320/",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 6,
                "CustomShader": {
                  "SpecularColor": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "SpecularIntensity": 0.0,
                  "SpecularSharpness": 2.0,
                  "FresnelStrength": 0.0
                },
                "CastShadows": true
              },
              "Bag": {
                "Order": 0
              },
              "LuaScript": "-- Utility memory bag by Directsun\r\n-- Version 2.7.0\r\n-- Fork of Memory Bag 2.0 by MrStump\r\n--\r\n-- Want to contribute? Create an issue or fork the code on GitHub and submit a pull request:\r\n-- https://github.com/sunflowermans/TTS-UtilityMemoryBag\r\n\r\n\r\nfunction updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction combineMemoryFromBagsWithin()\r\n    local bagObjList = self.getObjects()\r\n    for _, bagObj in ipairs(bagObjList) do\r\n        local data = bagObj.lua_script_state\r\n        if data ~= nil then\r\n            local j = JSON.decode(data)\r\n            if j ~= nil and j.ml ~= nil then\r\n                for guid, entry in pairs(j.ml) do\r\n                    memoryList[guid] = entry\r\n                end\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateMemoryWithMoves()\r\n    memoryList = memoryListBackup\r\n    --get the first transposed object's coordinates\r\n    local obj = getObjectFromGUID(moveGuid)\r\n\r\n    -- p1 is where needs to go, p2 is where it was\r\n    local refObjPos = memoryList[moveGuid].pos\r\n    local deltaPos = findOffsetDistance(obj.getPosition(), refObjPos, nil)\r\n    local movedRotation = obj.getRotation()\r\n    for guid, entry in pairs(memoryList) do\r\n        memoryList[guid].pos.x = entry.pos.x - deltaPos.x\r\n        memoryList[guid].pos.y = entry.pos.y - deltaPos.y\r\n        memoryList[guid].pos.z = entry.pos.z - deltaPos.z\r\n        -- memoryList[guid].rot.x = movedRotation.x\r\n        -- memoryList[guid].rot.y = movedRotation.y\r\n        -- memoryList[guid].rot.z = movedRotation.z\r\n    end\r\n\r\n    --theList[obj.getGUID()] = {\r\n    --    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n    --    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n    --    lock=obj.getLock()\r\n    --}\r\n    moveList = {}\r\nend\r\n\r\nfunction onload(saved_data)\r\n\r\n    fresh = true\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n\r\n    end\r\n\r\n    moveList = {}\r\n    moveGuid = nil\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        fresh = false\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,2}, rotation={0,0,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by Transpose button\r\nfunction buttonClick_transpose()\r\n    moveGuid = nil\r\n    broadcastToAll(\"Select one object and move it- all objects will move relative to the new location\", {0.75, 0.75, 1})\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(true)\r\n    createSetupActionButtons(true)\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(false)\r\n    createSetupActionButtons(false)\r\nend\r\n\r\nfunction getAllObjectsInMemory()\r\n    local objTable = {}\r\n    local curObj = {}\r\n\r\n    for guid in pairs(memoryListBackup) do\r\n        curObj = getObjectFromGUID(guid)\r\n        table.insert(objTable, curObj)\r\n    end\r\n\r\n    return objTable\r\n    -- return getAllObjects()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects(move)\r\n    buttonIndexMap = {}\r\n    local howManyButtons = 0\r\n\r\n    local objsToHaveButtons = {}\r\n    if move == true then\r\n        objsToHaveButtons = getAllObjectsInMemory()\r\n    else\r\n        objsToHaveButtons = getAllObjects()\r\n    end\r\n\r\n    for _, obj in ipairs(objsToHaveButtons) do\r\n        if obj ~= self then\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor +2\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Workaround for custom PDFs\r\n            if obj.Book then\r\n                objPos.y = objPos.y + 0.5\r\n            end\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(obj, move) end\r\n            local color = {0.75,0.25,0.25,0.6}\r\n            local colorMove = {0,0,1,0.6}\r\n            if move == true then\r\n                color = colorMove\r\n            end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color=color,\r\n            })\r\n            buttonIndexMap[obj.getGUID()] = howManyButtons\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons(move)\r\n    self.createButton({\r\n       label=\"Annuler\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n       position={-1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n       font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    self.createButton({\r\n      label=\"Valider\", click_function=\"buttonClick_submit\", function_owner=self,\r\n      position={-1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n      font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    if move == false then\r\n      self.createButton({\r\n          label=\"Ajouter\", click_function=\"buttonClick_add\", function_owner=self,\r\n          position={1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n          font_size=250, color={0,0,0}, font_color={0.25,1,0.25}\r\n        })\r\n\r\n        self.createButton({\r\n            label=\"Sélection\", click_function=\"editDragSelection\", function_owner=self,\r\n            position={-1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n            font_size=250, color={0,0,0}, font_color={1,1,1}\r\n        })\r\n\r\n        if fresh == false then\r\n            self.createButton({\r\n                label=\"Mise à Jour\", click_function=\"buttonClick_setNew\", function_owner=self,\r\n                position={1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n                font_size=180, color={0,0,0}, font_color={0.75,0.75,1}\r\n            })\r\n            self.createButton({\r\n                label=\"Retirer\", click_function=\"buttonClick_remove\", function_owner=self,\r\n                position={1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n                font_size=250, color={0,0,0}, font_color={1,0.25,0.25}\r\n            })\r\n        end\r\n    end\r\n\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,0,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(obj, move)\r\n    local index = buttonIndexMap[obj.getGUID()]\r\n    local colorMove = {0,0,1,0.6}\r\n    local color = {0,1,0,0.6}\r\n\r\n    previousGuid = selectedGuid\r\n    selectedGuid = obj.getGUID()\r\n\r\n    theList = memoryList\r\n    if move == true then\r\n        theList = moveList\r\n        if previousGuid ~= nil and previousGuid ~= selectedGuid then\r\n            local prevObj = getObjectFromGUID(previousGuid)\r\n            prevObj.highlightOff()\r\n            self.editButton({index=previousIndex, color=colorMove})\r\n            theList[previousGuid] = nil\r\n        end\r\n        previousIndex = index\r\n    end\r\n\r\n    if theList[selectedGuid] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        theList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock(),\r\n            tint=obj.getColorTint()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        if move == true then\r\n            color = colorMove\r\n        end\r\n        self.editButton({index=index, color=color})\r\n        theList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\nfunction editDragSelection(bagObj, player, remove)\r\n    local selectedObjs = Player[player].getSelectedObjects()\r\n    if not remove then\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            --Ignore if already in the memory list, or does not have a button\r\n            if index and not memoryList[obj.getGUID()] then\r\n                self.editButton({index=index, color={0,1,0,0.6}})\r\n                --Adding pos/rot to memory table\r\n                local pos, rot = obj.getPosition(), obj.getRotation()\r\n                --I need to add it like this or it won't save due to indexing issue\r\n                memoryList[obj.getGUID()] = {\r\n                    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n                    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n                    lock=obj.getLock(),\r\n                    tint=obj.getColorTint()\r\n                }\r\n                obj.highlightOn({0,1,0})\r\n            end\r\n        end\r\n    else\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            if index and memoryList[obj.getGUID()] then\r\n                color = {0.75,0.25,0.25,0.6}\r\n                self.editButton({index=index, color=color})\r\n                memoryList[obj.getGUID()] = nil\r\n                obj.highlightOff()\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Sélection annulée\", {1,1,1})\r\n    moveGuid = nil\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    fresh = false\r\n    if next(moveList) ~= nil then\r\n        for guid in pairs(moveList) do\r\n            moveGuid = guid\r\n        end\r\n        if memoryListBackup[moveGuid] == nil then\r\n            broadcastToAll(\"Item selected for moving is not already in memory\", {1, 0.25, 0.25})\r\n        else\r\n            broadcastToAll(\"Moving all items in memory relative to new objects position!\", {0.75, 0.75, 1})\r\n            self.clearButtons()\r\n            self.clearInputs()\r\n            createMemoryActionButtons()\r\n            local count = 0\r\n            for guid in pairs(moveList) do\r\n                moveGuid = guid\r\n                count = count + 1\r\n                local obj = getObjectFromGUID(guid)\r\n                if obj ~= nil then obj.highlightOff() end\r\n            end\r\n            updateMemoryWithMoves()\r\n            updateSave()\r\n            buttonClick_place()\r\n        end\r\n    elseif next(memoryList) == nil and moveGuid == nil then\r\n        memoryList = memoryListBackup\r\n        broadcastToAll(\"No selections made.\", {0.75, 0.25, 0.25})\r\n    end\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\n    moveGuid = nil\r\nend\r\n\r\nfunction combineTables(first_table, second_table)\r\n    for k,v in pairs(second_table) do first_table[k] = v end\r\nend\r\n\r\nfunction buttonClick_add()\r\n    fresh = false\r\n    combineTables(memoryList, memoryListBackup)\r\n    broadcastToAll(\"Adding internal bags and selections to existing memory\", {0.25, 0.75, 0.25})\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_remove()\r\n    broadcastToAll(\"Removing Selected Entries From Memory\", {1.0, 0.25, 0.25})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        memoryListBackup[guid] = nil\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Removed\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_setNew()\r\n    broadcastToAll(\"Setting new position relative to items in memory\", {0.75, 0.75, 1})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        guid = obj.guid\r\n        if memoryListBackup[guid] ~= nil then\r\n            count = count + 1\r\n            memoryListBackup[guid].pos = obj.getPosition()\r\n            memoryListBackup[guid].rot = obj.getRotation()\r\n            memoryListBackup[guid].lock = obj.getLock()\r\n            memoryListBackup[guid].tint = obj.getColorTint()\r\n        end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    fresh = true\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Déplacer\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,2}, rotation={0,0,0}, height=350, width=1200,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n  --  self.createButton({\r\n  --      label=\"Ranger\", click_function=\"buttonClick_recall\", function_owner=self,\r\n    --    position={0,0.3,2.8}, rotation={0,0,0}, height=350, width=1000,\r\n    --    font_size=250, color={0,0,0}, font_color={1,1,1}\r\n  --  })\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={2,0.3,0}, rotation={0,90,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    ---    self.createButton({\r\n    ---      label=\"Bouger\", click_function=\"buttonClick_transpose\", function_owner=self,\r\n    ---      position={-2,0.3,0.8}, rotation={0,270,0}, height=350, width=800,\r\n    ---      font_size=250, color={0,0,0}, font_color={0.75,0.75,1}\r\n    ---\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n            obj.setColorTint(entry.tint)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot, smooth=false\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    item.setColorTint(entry.tint)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objets placés\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objets rangés\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local yOffset = 0\r\n    if obj ~= nil then\r\n        local bounds = obj.getBounds()\r\n        yOffset = (bounds.size.y - bounds.offset.y)\r\n    end\r\n    local deltaPos = {}\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + yOffset\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n    local objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n    local x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n    local z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n    --return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\nfunction rotateMyCoordinates(desiredPos, obj)\r\n    local angle = math.rad(obj.getRotation().y)\r\n    local x = desiredPos.x * math.sin(angle)\r\n    local z = desiredPos.z * math.cos(angle)\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n    local mult = 10^(dec or 0)\r\n    return math.floor(num * mult + 0.5) / mult\r\nend\r\n\r\n\r\n--[[\r\nThis object provides access to a variable stored on the \"Global script\".\r\nThe variable holds the GUIDs for every Utility Memory Bag in the scene.\r\nExample:\r\n{'805ebd', '35cc21', 'fc8886', 'f50264', '5f5f63'}\r\n--]]\r\nAllMemoryBagsInScene = {\r\n    NAME_OF_GLOBAL_VARIABLE = \"_UtilityMemoryBag_AllMemoryBagsInScene\"\r\n}\r\n\r\nfunction AllMemoryBagsInScene:add(guid)\r\n    local guids = Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\n    table.insert(guids, guid)\r\n    Global.setTable(self.NAME_OF_GLOBAL_VARIABLE, guids)\r\nend\r\n\r\nfunction AllMemoryBagsInScene:getGuidList()\r\n    return Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\nend",
              "LuaScriptState": "{\"ml\":{\"013ee9\":{\"lock\":false,\"pos\":{\"x\":-34,\"y\":1.7836,\"z\":19},\"rot\":{\"x\":0,\"y\":180,\"z\":0},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"0a67d9\":{\"lock\":true,\"pos\":{\"x\":-6,\"y\":1.5192,\"z\":9.5},\"rot\":{\"x\":0.0109,\"y\":180,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"248257\":{\"lock\":true,\"pos\":{\"x\":8.9999,\"y\":1.5318,\"z\":3},\"rot\":{\"x\":0.0109,\"y\":179.9984,\"z\":359.2757},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"29b247\":{\"lock\":false,\"pos\":{\"x\":1.4999,\"y\":1.5028,\"z\":-2},\"rot\":{\"x\":-0.0049,\"y\":270.0095,\"z\":0.0109},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"417f74\":{\"lock\":false,\"pos\":{\"x\":8,\"y\":1.5025,\"z\":-0.5},\"rot\":{\"x\":0.007,\"y\":210.0115,\"z\":0.0097},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"4233ba\":{\"lock\":false,\"pos\":{\"x\":-21.5,\"y\":1.7836,\"z\":19},\"rot\":{\"x\":0,\"y\":180,\"z\":0},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"5dd8dd\":{\"lock\":false,\"pos\":{\"x\":-6,\"y\":1.5049,\"z\":6},\"rot\":{\"x\":0.0109,\"y\":179.9999,\"z\":0.005},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"71826c\":{\"lock\":true,\"pos\":{\"x\":5,\"y\":1.5161,\"z\":-2},\"rot\":{\"x\":0.0109,\"y\":180,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"748d92\":{\"lock\":false,\"pos\":{\"x\":-26.5,\"y\":1.7836,\"z\":19},\"rot\":{\"x\":0,\"y\":180.0002,\"z\":0},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"a1dc75\":{\"lock\":false,\"pos\":{\"x\":-31.5,\"y\":1.7836,\"z\":19},\"rot\":{\"x\":0,\"y\":180,\"z\":180},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"aba5ca\":{\"lock\":true,\"pos\":{\"x\":-2,\"y\":1.5167,\"z\":-2},\"rot\":{\"x\":0.0109,\"y\":180,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"c62b0d\":{\"lock\":true,\"pos\":{\"x\":9.0001,\"y\":1.5179,\"z\":9.5},\"rot\":{\"x\":0.0109,\"y\":179.9992,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"cbe578\":{\"lock\":false,\"pos\":{\"x\":1.5,\"y\":1.6049,\"z\":9.5},\"rot\":{\"x\":0.061,\"y\":270.0132,\"z\":0.0146},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"decc48\":{\"lock\":false,\"pos\":{\"x\":-29,\"y\":1.7836,\"z\":19},\"rot\":{\"x\":0,\"y\":180,\"z\":0},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"e0b7f5\":{\"lock\":true,\"pos\":{\"x\":-6.0028,\"y\":1.518,\"z\":2.9991},\"rot\":{\"x\":0.0109,\"y\":180,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"e529b8\":{\"lock\":false,\"pos\":{\"x\":9,\"y\":1.5037,\"z\":6.5},\"rot\":{\"x\":0.0109,\"y\":179.9998,\"z\":0.005},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"f05262\":{\"lock\":false,\"pos\":{\"x\":-24,\"y\":1.7836,\"z\":19},\"rot\":{\"x\":0,\"y\":180.0001,\"z\":0},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"f4d155\":{\"lock\":false,\"pos\":{\"x\":-5,\"y\":1.5036,\"z\":-0.5},\"rot\":{\"x\":0.0119,\"y\":149.991,\"z\":-0.0012},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}}}}",
              "XmlUI": ""
            },
            {
              "GUID": "a66639",
              "Name": "Custom_Tile",
              "Transform": {
                "posX": 1.50000012,
                "posY": 1.50486088,
                "posZ": 9.0,
                "rotX": 0.01089172,
                "rotY": 179.9999,
                "rotZ": 0.004952365,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.6045295,
                "g": 0.6045295,
                "b": 0.6045295
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://i.imgur.com/vppt2my.png",
                "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomTile": {
                  "Type": 3,
                  "Thickness": 0.1,
                  "Stackable": false,
                  "Stretch": true
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "States": {
                "2": {
                  "GUID": "44b0c5",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": 4.499999,
                    "posY": 1.50422156,
                    "posZ": 7.000003,
                    "rotX": 0.0108915372,
                    "rotY": 180.0,
                    "rotZ": 0.00494912267,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                "3": {
                  "GUID": "5b38c6",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -38.8217163,
                    "posY": 1.99356019,
                    "posZ": 0.4159239,
                    "rotX": 359.9201,
                    "rotY": 272.9828,
                    "rotZ": 0.01687373,
                    "scaleX": 0.8,
                    "scaleY": 1.0,
                    "scaleZ": 0.8
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              }
            },
            {
              "GUID": "aba5ca",
              "Name": "Card",
              "Transform": {
                "posX": -26.5005,
                "posY": 1.7836,
                "posZ": 19.0,
                "rotX": -5.106705E-06,
                "rotY": 180.000153,
                "rotZ": 1.31010168E-07,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "[]",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 1105000,
              "SidewaysCard": false,
              "CustomDeck": {
                "11050": {
                  "FaceURL": "https://steamusercontent-a.akamaihd.net/ugc/1874087573755649860/AB9625C9D857C605E63403D3DB2F84C9738A7CD2/",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1874087573755649860/AB9625C9D857C605E63403D3DB2F84C9738A7CD2/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "b3efc8",
              "Name": "Deck",
              "Transform": {
                "posX": 30.4999924,
                "posY": 1.65097809,
                "posZ": -3.00009918,
                "rotX": -0.0005906793,
                "rotY": 179.991089,
                "rotZ": 180.001068,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Deck Rencontre",
              "Description": "Par delà le Mur du Sommeil",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": false,
              "SidewaysCard": false,
              "DeckIDs": [
                304546,
                279311,
                278932,
                17202,
                304552,
                279309,
                278929,
                279314,
                279308,
                17204,
                276243,
                17201,
                278833,
                278838,
                304547,
                278835,
                278930,
                278834,
                278931,
                279310,
                276242,
                17338,
                278836,
                278837,
                276244,
                304553,
                279307
              ],
              "CustomDeck": {
                "3045": {
                  "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                },
                "2793": {
                  "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                },
                "2789": {
                  "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                },
                "172": {
                  "FaceURL": "https://i.imgur.com/f8FRV80.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                },
                "2762": {
                  "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                },
                "2788": {
                  "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                },
                "173": {
                  "FaceURL": "https://i.imgur.com/7H57eeO.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "6fbd44",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5007267,
                    "posY": 9.403318,
                    "posZ": -3.00057435,
                    "rotX": -0.0005908112,
                    "rotY": 179.996429,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Loi de 'Ygiroth (Pandémonium)",
                  "Description": "",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"hidden\": \"true\",\n  \"id\": \"06089\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 304546,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "3045": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "6bace1",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5007267,
                    "posY": 9.55083752,
                    "posZ": -3.00057435,
                    "rotX": -0.000591209,
                    "rotY": 179.996429,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Zoog Furtif",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 1,\n  \"id\": \"06106\",\n  \"traits\": \"Creature. Zoog.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 279311,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2793": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "58cc46",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5007267,
                    "posY": 9.350837,
                    "posZ": -3.00057435,
                    "rotX": -0.000591209,
                    "rotY": 179.996429,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Éclipse dans les Contrées du Rêve",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06096\",\n  \"traits\": \"Power.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 278932,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2789": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "cc1997",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5007267,
                    "posY": 8.803318,
                    "posZ": -3.00057435,
                    "rotX": -0.0005907049,
                    "rotY": 179.996429,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Brouilard Couvrant",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"01168\",\n  \"traits\": \"Hazard.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 17202,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "172": {
                      "FaceURL": "https://i.imgur.com/f8FRV80.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "d4f4a8",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5007267,
                    "posY": 8.950837,
                    "posZ": -3.00057435,
                    "rotX": -0.000591209,
                    "rotY": 179.996429,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "La Brume Rampante",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 5,\n  \"id\": \"06086\",\n  \"traits\": \"Monster. Avatar.\",\n  \"type\": \"Enemy\",\n  \"victory\": 1\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 304552,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "3045": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "8d9e36",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5007267,
                    "posY": 8.750837,
                    "posZ": -3.00057435,
                    "rotX": -0.000591209,
                    "rotY": 179.996429,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Zoog Discret",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 1,\n  \"id\": \"06107\",\n  \"traits\": \"Creature. Zoog.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 279309,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2793": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "7c3bfd",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5007267,
                    "posY": 8.55083752,
                    "posZ": -3.00057435,
                    "rotX": -0.000591209,
                    "rotY": 179.996429,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Phénomène Prismatique",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06097\",\n  \"traits\": \"Power.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 278929,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2789": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "71f665",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5007267,
                    "posY": 8.350837,
                    "posZ": -3.00057435,
                    "rotX": -0.000591209,
                    "rotY": 179.996429,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Zoog Furtif",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 1,\n  \"id\": \"06106\",\n  \"traits\": \"Creature. Zoog.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 279314,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2793": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "3c5635",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5007267,
                    "posY": 8.150837,
                    "posZ": -3.00057435,
                    "rotX": -0.000591209,
                    "rotY": 179.996429,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Zoog Imperceptible",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 1,\n  \"id\": \"06108\",\n  \"traits\": \"Creature. Zoog.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 279308,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2793": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "4214a2",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5007267,
                    "posY": 7.950837,
                    "posZ": -3.00057435,
                    "rotX": -0.000591209,
                    "rotY": 179.996429,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Froid de la Crypte",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"01167\",\n  \"traits\": \"Hazard.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 17204,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "172": {
                      "FaceURL": "https://i.imgur.com/f8FRV80.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "ff8047",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5007267,
                    "posY": 5.70197964,
                    "posZ": -3.00057435,
                    "rotX": -0.000591209,
                    "rotY": 179.996429,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Perdu dans les Bois",
                  "Description": "",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06062\",\n  \"traits\": \"Blunder.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276243,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "082199",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5007267,
                    "posY": 7.75083733,
                    "posZ": -3.00057435,
                    "rotX": -0.000591209,
                    "rotY": 179.996429,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Brouilard Couvrant",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"01168\",\n  \"traits\": \"Hazard.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 17201,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "172": {
                      "FaceURL": "https://i.imgur.com/f8FRV80.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "bbbce0",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5007267,
                    "posY": 7.55083752,
                    "posZ": -3.00057435,
                    "rotX": -0.000591209,
                    "rotY": 179.996429,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Profond Sommeil",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06095\",\n  \"traits\": \"Curse.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 278833,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2788": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "f7536f",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5007267,
                    "posY": 7.35083675,
                    "posZ": -3.00057435,
                    "rotX": -0.000591209,
                    "rotY": 179.996429,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Malédiction du Rêveur",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06093\",\n  \"traits\": \"Curse.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 278838,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2788": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "b43290",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5007267,
                    "posY": 7.150837,
                    "posZ": -3.00057435,
                    "rotX": -0.000591209,
                    "rotY": 179.996429,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Loi de 'Ygiroth (Discorde)",
                  "Description": "",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"hidden\": \"true\",\n  \"id\": \"06088\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 304547,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "3045": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "9cb55c",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5007267,
                    "posY": 6.950838,
                    "posZ": -3.00057435,
                    "rotX": -0.000591209,
                    "rotY": 179.996429,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Somniphobie",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06094\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 278835,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2788": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "c36efb",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5007267,
                    "posY": 6.75083828,
                    "posZ": -3.00057435,
                    "rotX": -0.000591209,
                    "rotY": 179.996429,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Phénomène Prismatique",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06097\",\n  \"traits\": \"Power.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 278930,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2789": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "5dbd5f",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5007267,
                    "posY": 6.550838,
                    "posZ": -3.00057435,
                    "rotX": -0.000591209,
                    "rotY": 179.996429,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Profond Sommeil",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06095\",\n  \"traits\": \"Curse.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 278834,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2788": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "2a737a",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5007267,
                    "posY": 6.350838,
                    "posZ": -3.00057435,
                    "rotX": -0.000591209,
                    "rotY": 179.996429,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Éclipse dans les Contrées du Rêve",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06096\",\n  \"traits\": \"Power.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 278931,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2789": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "44709f",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5007267,
                    "posY": 6.150838,
                    "posZ": -3.00057435,
                    "rotX": -0.000591209,
                    "rotY": 179.996429,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Zoog Discret",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 1,\n  \"id\": \"06107\",\n  \"traits\": \"Creature. Zoog.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 279310,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2793": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "0ad1b2",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5007267,
                    "posY": 5.950838,
                    "posZ": -3.00057435,
                    "rotX": -0.000591209,
                    "rotY": 179.996429,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Perdu dans les Bois",
                  "Description": "",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06062\",\n  \"traits\": \"Blunder.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276242,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "3ec405",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5007267,
                    "posY": 5.75083828,
                    "posZ": -3.00057435,
                    "rotX": -0.000591209,
                    "rotY": 179.996429,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Froid de la Crypte",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"01167\",\n  \"traits\": \"Hazard.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 17338,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "173": {
                      "FaceURL": "https://i.imgur.com/7H57eeO.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "bc46c1",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5007267,
                    "posY": 5.550838,
                    "posZ": -3.00057435,
                    "rotX": -0.000591209,
                    "rotY": 179.996429,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Somniphobie",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06094\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 278836,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2788": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "a9c5d2",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5007267,
                    "posY": 5.350838,
                    "posZ": -3.00057435,
                    "rotX": -0.000591209,
                    "rotY": 179.996429,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Malédiction du Rêveur",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06093\",\n  \"traits\": \"Curse.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 278837,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2788": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "7ffad4",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5007267,
                    "posY": 5.150838,
                    "posZ": -3.00057435,
                    "rotX": -0.000591209,
                    "rotY": 179.996429,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Ancien Zoog",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 3,\n  \"id\": \"06061\",\n  \"traits\": \"Creature. Zoog. Elite.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276244,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "fd8f43",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5007267,
                    "posY": 4.950838,
                    "posZ": -3.00057435,
                    "rotX": -0.000591209,
                    "rotY": 179.996429,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Loi de 'Ygiroth (Chaos)",
                  "Description": "",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"hidden\": \"true\",\n  \"id\": \"06087\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 304553,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "3045": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "df8eab",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5007267,
                    "posY": 4.75083828,
                    "posZ": -3.00057435,
                    "rotX": -0.000591209,
                    "rotY": 179.996429,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Terrier de Zoog",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 1,\n  \"id\": \"06108\",\n  \"traits\": \"Creature. Zoog.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 279307,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2793": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "bc851a",
              "Name": "Card",
              "Transform": {
                "posX": 1.49999487,
                "posY": 1.52103186,
                "posZ": 22.5000019,
                "rotX": 0.0108915083,
                "rotY": 180.000015,
                "rotZ": 0.00494820764,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Soixante-Dix Marches [Du Sommeil Léger]",
              "Description": "Marches.",
              "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06045\",\n  \"locationBack\": {\n    \"connections\": \"Hourglass\",\n    \"icons\": \"Heart\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    }\n  },\n  \"locationFront\": {\n    \"connections\": \"Hourglass\",\n    \"icons\": \"Heart\"\n  },\n  \"traits\": \"Steps.\",\n  \"type\": \"Location\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276515,
              "SidewaysCard": false,
              "CustomDeck": {
                "2765": {
                  "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                  "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "be7703",
              "Name": "Card",
              "Transform": {
                "posX": 12.501,
                "posY": 1.514661,
                "posZ": -6.0168,
                "rotX": 0.00494566327,
                "rotY": 89.9873,
                "rotZ": 359.9891,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Voyage au-delà du Mur",
              "Description": "Intrigue 1a",
              "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"doomThreshold\": 19,\n  \"id\": \"06040\",\n  \"type\": \"Agenda\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276331,
              "SidewaysCard": true,
              "CustomDeck": {
                "2763": {
                  "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                  "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "c62b0d",
              "Name": "Card",
              "Transform": {
                "posX": -31.5,
                "posY": 1.7836,
                "posZ": 19.0,
                "rotX": -5.10373775E-06,
                "rotY": 179.999023,
                "rotZ": -7.243881E-08,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "[]",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 1105100,
              "SidewaysCard": false,
              "CustomDeck": {
                "11051": {
                  "FaceURL": "https://steamusercontent-a.akamaihd.net/ugc/1874087573755650809/556E5F7A273331D67B83E3729101090CAE722EE5/",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1874087573755650809/556E5F7A273331D67B83E3729101090CAE722EE5/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "cdb1aa",
              "Name": "Card",
              "Transform": {
                "posX": 23.5012951,
                "posY": 1.51380479,
                "posZ": -5.52301455,
                "rotX": 0.01089151,
                "rotY": 180.0007,
                "rotZ": 0.004948355,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Référence",
              "Description": "Par delà le Mur du Sommeil",
              "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"id\": \"06039\",\n  \"type\": \"ScenarioReference\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276514,
              "SidewaysCard": false,
              "CustomDeck": {
                "2765": {
                  "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                  "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "d41c19",
              "Name": "Card",
              "Transform": {
                "posX": 10.0000019,
                "posY": 1.52029777,
                "posZ": 22.5000076,
                "rotX": 0.0108914934,
                "rotY": 180.000015,
                "rotZ": 0.00494811963,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "La Caverne de la Flamme",
              "Description": "Grotte. Marches.",
              "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06046\",\n  \"locationBack\": {\n    \"connections\": \"Heart|SlantedEquals\",\n    \"icons\": \"Hourglass\"\n  },\n  \"locationFront\": {\n    \"connections\": \"Heart|SlantedEquals\",\n    \"icons\": \"Hourglass\"\n  },\n  \"traits\": \"Cave. Steps.\",\n  \"type\": \"Location\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276516,
              "SidewaysCard": false,
              "CustomDeck": {
                "2765": {
                  "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                  "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "dbd3ab",
              "Name": "Custom_Model_Bag",
              "Transform": {
                "posX": -32.50952,
                "posY": 1.84000111,
                "posZ": 4.004478,
                "rotX": -5.40615156E-06,
                "rotY": 179.981277,
                "rotZ": 2.55884061E-07,
                "scaleX": 0.7,
                "scaleY": 0.7,
                "scaleZ": 0.7
              },
              "Nickname": "Acte 3B placement particulier",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "CustomMesh": {
                "MeshURL": "https://pastebin.com/raw/ALrYhQGb",
                "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/1984428287820713914/A2B3E1D0116D0574F566DF6236497D5209FDA320/",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 6,
                "CustomShader": {
                  "SpecularColor": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "SpecularIntensity": 0.0,
                  "SpecularSharpness": 2.0,
                  "FresnelStrength": 0.0
                },
                "CastShadows": true
              },
              "Bag": {
                "Order": 0
              },
              "LuaScript": "-- Utility memory bag by Directsun\r\n-- Version 2.7.0\r\n-- Fork of Memory Bag 2.0 by MrStump\r\n--\r\n-- Want to contribute? Create an issue or fork the code on GitHub and submit a pull request:\r\n-- https://github.com/sunflowermans/TTS-UtilityMemoryBag\r\n\r\n\r\nfunction updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction combineMemoryFromBagsWithin()\r\n    local bagObjList = self.getObjects()\r\n    for _, bagObj in ipairs(bagObjList) do\r\n        local data = bagObj.lua_script_state\r\n        if data ~= nil then\r\n            local j = JSON.decode(data)\r\n            if j ~= nil and j.ml ~= nil then\r\n                for guid, entry in pairs(j.ml) do\r\n                    memoryList[guid] = entry\r\n                end\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateMemoryWithMoves()\r\n    memoryList = memoryListBackup\r\n    --get the first transposed object's coordinates\r\n    local obj = getObjectFromGUID(moveGuid)\r\n\r\n    -- p1 is where needs to go, p2 is where it was\r\n    local refObjPos = memoryList[moveGuid].pos\r\n    local deltaPos = findOffsetDistance(obj.getPosition(), refObjPos, nil)\r\n    local movedRotation = obj.getRotation()\r\n    for guid, entry in pairs(memoryList) do\r\n        memoryList[guid].pos.x = entry.pos.x - deltaPos.x\r\n        memoryList[guid].pos.y = entry.pos.y - deltaPos.y\r\n        memoryList[guid].pos.z = entry.pos.z - deltaPos.z\r\n        -- memoryList[guid].rot.x = movedRotation.x\r\n        -- memoryList[guid].rot.y = movedRotation.y\r\n        -- memoryList[guid].rot.z = movedRotation.z\r\n    end\r\n\r\n    --theList[obj.getGUID()] = {\r\n    --    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n    --    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n    --    lock=obj.getLock()\r\n    --}\r\n    moveList = {}\r\nend\r\n\r\nfunction onload(saved_data)\r\n\r\n    fresh = true\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n\r\n    end\r\n\r\n    moveList = {}\r\n    moveGuid = nil\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        fresh = false\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,2}, rotation={0,0,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by Transpose button\r\nfunction buttonClick_transpose()\r\n    moveGuid = nil\r\n    broadcastToAll(\"Select one object and move it- all objects will move relative to the new location\", {0.75, 0.75, 1})\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(true)\r\n    createSetupActionButtons(true)\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(false)\r\n    createSetupActionButtons(false)\r\nend\r\n\r\nfunction getAllObjectsInMemory()\r\n    local objTable = {}\r\n    local curObj = {}\r\n\r\n    for guid in pairs(memoryListBackup) do\r\n        curObj = getObjectFromGUID(guid)\r\n        table.insert(objTable, curObj)\r\n    end\r\n\r\n    return objTable\r\n    -- return getAllObjects()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects(move)\r\n    buttonIndexMap = {}\r\n    local howManyButtons = 0\r\n\r\n    local objsToHaveButtons = {}\r\n    if move == true then\r\n        objsToHaveButtons = getAllObjectsInMemory()\r\n    else\r\n        objsToHaveButtons = getAllObjects()\r\n    end\r\n\r\n    for _, obj in ipairs(objsToHaveButtons) do\r\n        if obj ~= self then\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor +2\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Workaround for custom PDFs\r\n            if obj.Book then\r\n                objPos.y = objPos.y + 0.5\r\n            end\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(obj, move) end\r\n            local color = {0.75,0.25,0.25,0.6}\r\n            local colorMove = {0,0,1,0.6}\r\n            if move == true then\r\n                color = colorMove\r\n            end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color=color,\r\n            })\r\n            buttonIndexMap[obj.getGUID()] = howManyButtons\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons(move)\r\n    self.createButton({\r\n       label=\"Annuler\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n       position={-1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n       font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    self.createButton({\r\n      label=\"Valider\", click_function=\"buttonClick_submit\", function_owner=self,\r\n      position={-1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n      font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    if move == false then\r\n      self.createButton({\r\n          label=\"Ajouter\", click_function=\"buttonClick_add\", function_owner=self,\r\n          position={1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n          font_size=250, color={0,0,0}, font_color={0.25,1,0.25}\r\n        })\r\n\r\n        self.createButton({\r\n            label=\"Sélection\", click_function=\"editDragSelection\", function_owner=self,\r\n            position={-1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n            font_size=250, color={0,0,0}, font_color={1,1,1}\r\n        })\r\n\r\n        if fresh == false then\r\n            self.createButton({\r\n                label=\"Mise à Jour\", click_function=\"buttonClick_setNew\", function_owner=self,\r\n                position={1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n                font_size=180, color={0,0,0}, font_color={0.75,0.75,1}\r\n            })\r\n            self.createButton({\r\n                label=\"Retirer\", click_function=\"buttonClick_remove\", function_owner=self,\r\n                position={1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n                font_size=250, color={0,0,0}, font_color={1,0.25,0.25}\r\n            })\r\n        end\r\n    end\r\n\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,0,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(obj, move)\r\n    local index = buttonIndexMap[obj.getGUID()]\r\n    local colorMove = {0,0,1,0.6}\r\n    local color = {0,1,0,0.6}\r\n\r\n    previousGuid = selectedGuid\r\n    selectedGuid = obj.getGUID()\r\n\r\n    theList = memoryList\r\n    if move == true then\r\n        theList = moveList\r\n        if previousGuid ~= nil and previousGuid ~= selectedGuid then\r\n            local prevObj = getObjectFromGUID(previousGuid)\r\n            prevObj.highlightOff()\r\n            self.editButton({index=previousIndex, color=colorMove})\r\n            theList[previousGuid] = nil\r\n        end\r\n        previousIndex = index\r\n    end\r\n\r\n    if theList[selectedGuid] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        theList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock(),\r\n            tint=obj.getColorTint()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        if move == true then\r\n            color = colorMove\r\n        end\r\n        self.editButton({index=index, color=color})\r\n        theList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\nfunction editDragSelection(bagObj, player, remove)\r\n    local selectedObjs = Player[player].getSelectedObjects()\r\n    if not remove then\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            --Ignore if already in the memory list, or does not have a button\r\n            if index and not memoryList[obj.getGUID()] then\r\n                self.editButton({index=index, color={0,1,0,0.6}})\r\n                --Adding pos/rot to memory table\r\n                local pos, rot = obj.getPosition(), obj.getRotation()\r\n                --I need to add it like this or it won't save due to indexing issue\r\n                memoryList[obj.getGUID()] = {\r\n                    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n                    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n                    lock=obj.getLock(),\r\n                    tint=obj.getColorTint()\r\n                }\r\n                obj.highlightOn({0,1,0})\r\n            end\r\n        end\r\n    else\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            if index and memoryList[obj.getGUID()] then\r\n                color = {0.75,0.25,0.25,0.6}\r\n                self.editButton({index=index, color=color})\r\n                memoryList[obj.getGUID()] = nil\r\n                obj.highlightOff()\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Sélection annulée\", {1,1,1})\r\n    moveGuid = nil\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    fresh = false\r\n    if next(moveList) ~= nil then\r\n        for guid in pairs(moveList) do\r\n            moveGuid = guid\r\n        end\r\n        if memoryListBackup[moveGuid] == nil then\r\n            broadcastToAll(\"Item selected for moving is not already in memory\", {1, 0.25, 0.25})\r\n        else\r\n            broadcastToAll(\"Moving all items in memory relative to new objects position!\", {0.75, 0.75, 1})\r\n            self.clearButtons()\r\n            self.clearInputs()\r\n            createMemoryActionButtons()\r\n            local count = 0\r\n            for guid in pairs(moveList) do\r\n                moveGuid = guid\r\n                count = count + 1\r\n                local obj = getObjectFromGUID(guid)\r\n                if obj ~= nil then obj.highlightOff() end\r\n            end\r\n            updateMemoryWithMoves()\r\n            updateSave()\r\n            buttonClick_place()\r\n        end\r\n    elseif next(memoryList) == nil and moveGuid == nil then\r\n        memoryList = memoryListBackup\r\n        broadcastToAll(\"No selections made.\", {0.75, 0.25, 0.25})\r\n    end\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\n    moveGuid = nil\r\nend\r\n\r\nfunction combineTables(first_table, second_table)\r\n    for k,v in pairs(second_table) do first_table[k] = v end\r\nend\r\n\r\nfunction buttonClick_add()\r\n    fresh = false\r\n    combineTables(memoryList, memoryListBackup)\r\n    broadcastToAll(\"Adding internal bags and selections to existing memory\", {0.25, 0.75, 0.25})\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_remove()\r\n    broadcastToAll(\"Removing Selected Entries From Memory\", {1.0, 0.25, 0.25})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        memoryListBackup[guid] = nil\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Removed\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_setNew()\r\n    broadcastToAll(\"Setting new position relative to items in memory\", {0.75, 0.75, 1})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        guid = obj.guid\r\n        if memoryListBackup[guid] ~= nil then\r\n            count = count + 1\r\n            memoryListBackup[guid].pos = obj.getPosition()\r\n            memoryListBackup[guid].rot = obj.getRotation()\r\n            memoryListBackup[guid].lock = obj.getLock()\r\n            memoryListBackup[guid].tint = obj.getColorTint()\r\n        end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    fresh = true\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Placer\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,2}, rotation={0,0,0}, height=350, width=1000,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Ranger\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,2.8}, rotation={0,0,0}, height=350, width=1000,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={2,0.3,0}, rotation={0,90,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    ---    self.createButton({\r\n    ---      label=\"Bouger\", click_function=\"buttonClick_transpose\", function_owner=self,\r\n    ---      position={-2,0.3,0.8}, rotation={0,270,0}, height=350, width=800,\r\n    ---      font_size=250, color={0,0,0}, font_color={0.75,0.75,1}\r\n    ---  \r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n            obj.setColorTint(entry.tint)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot, smooth=false\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    item.setColorTint(entry.tint)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objets placés\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objets rangés\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local yOffset = 0\r\n    if obj ~= nil then\r\n        local bounds = obj.getBounds()\r\n        yOffset = (bounds.size.y - bounds.offset.y)\r\n    end\r\n    local deltaPos = {}\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + yOffset\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n    local objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n    local x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n    local z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n    --return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\nfunction rotateMyCoordinates(desiredPos, obj)\r\n    local angle = math.rad(obj.getRotation().y)\r\n    local x = desiredPos.x * math.sin(angle)\r\n    local z = desiredPos.z * math.cos(angle)\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n    local mult = 10^(dec or 0)\r\n    return math.floor(num * mult + 0.5) / mult\r\nend\r\n\r\n\r\n--[[\r\nThis object provides access to a variable stored on the \"Global script\".\r\nThe variable holds the GUIDs for every Utility Memory Bag in the scene.\r\nExample:\r\n{'805ebd', '35cc21', 'fc8886', 'f50264', '5f5f63'}\r\n--]]\r\nAllMemoryBagsInScene = {\r\n    NAME_OF_GLOBAL_VARIABLE = \"_UtilityMemoryBag_AllMemoryBagsInScene\"\r\n}\r\n\r\nfunction AllMemoryBagsInScene:add(guid)\r\n    local guids = Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\n    table.insert(guids, guid)\r\n    Global.setTable(self.NAME_OF_GLOBAL_VARIABLE, guids)\r\nend\r\n\r\nfunction AllMemoryBagsInScene:getGuidList()\r\n    return Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\nend",
              "LuaScriptState": "{\"ml\":{\"013ee9\":{\"lock\":true,\"pos\":{\"x\":9,\"y\":1.51789999008179,\"z\":9.5},\"rot\":{\"x\":0.0109000001102686,\"y\":180,\"z\":180.005004882813},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"1559bf\":{\"lock\":false,\"pos\":{\"x\":9,\"y\":1.5451,\"z\":9.5},\"rot\":{\"x\":0.0109,\"y\":179.9997,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"1b754c\":{\"lock\":true,\"pos\":{\"x\":9,\"y\":1.5167,\"z\":3},\"rot\":{\"x\":0.0109,\"y\":179.9999,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"2729ce\":{\"lock\":false,\"pos\":{\"x\":-1.99999964237213,\"y\":1.50411760807037,\"z\":3.50000023841858},\"rot\":{\"x\":-0.0011609437642619,\"y\":60.0000038146973,\"z\":359.988098144531},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"29b247\":{\"lock\":false,\"pos\":{\"x\":-10.0000009536743,\"y\":1.50566399097443,\"z\":8},\"rot\":{\"x\":0.0108916964381933,\"y\":180.000122070313,\"z\":0.00495219510048628},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"417f74\":{\"lock\":false,\"pos\":{\"x\":-11.5,\"y\":1.50522315502167,\"z\":4.99999856948853},\"rot\":{\"x\":0.010891686193645,\"y\":179.999893188477,\"z\":0.00495333969593048},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"4233ba\":{\"lock\":true,\"pos\":{\"x\":-6,\"y\":1.51919996738434,\"z\":9.5},\"rot\":{\"x\":0.0109000001102686,\"y\":180.000106811523,\"z\":180.005004882813},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"4b4440\":{\"lock\":false,\"pos\":{\"x\":5,\"y\":1.50351309776306,\"z\":3.5},\"rot\":{\"x\":0.00973139889538288,\"y\":120.000007629395,\"z\":359.993041992188},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"5dd214\":{\"lock\":false,\"pos\":{\"x\":-2.00000166893005,\"y\":1.50497305393219,\"z\":8},\"rot\":{\"x\":0.00973101239651442,\"y\":119.999992370605,\"z\":359.993041992188},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"5dd8dd\":{\"lock\":false,\"pos\":{\"x\":-13.0000019073486,\"y\":1.50592303276062,\"z\":8},\"rot\":{\"x\":0.0108915586024523,\"y\":179.999908447266,\"z\":0.00495191477239132},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"663f57\":{\"lock\":false,\"pos\":{\"x\":-2,\"y\":1.5439,\"z\":-2},\"rot\":{\"x\":0.0109,\"y\":179.9996,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"721d1a\":{\"lock\":false,\"pos\":{\"x\":-27.0000076293945,\"y\":1.84000110626221,\"z\":3.49999213218689},\"rot\":{\"x\":-5.61324350201176E-06,\"y\":179.97900390625,\"z\":-2.31631403835308E-07},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"748d92\":{\"lock\":true,\"pos\":{\"x\":-2,\"y\":1.51670002937317,\"z\":-2},\"rot\":{\"x\":0.0109000001102686,\"y\":180,\"z\":180.005004882813},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"825ddf\":{\"lock\":false,\"pos\":{\"x\":5,\"y\":1.50436854362488,\"z\":7.99999952316284},\"rot\":{\"x\":0.0011611117515713,\"y\":240,\"z\":0.0119105614721775},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"832693\":{\"lock\":false,\"pos\":{\"x\":-28.5,\"y\":1.7789,\"z\":13.5},\"rot\":{\"x\":0,\"y\":179.9998,\"z\":0},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"85135b\":{\"lock\":true,\"pos\":{\"x\":-6,\"y\":1.518,\"z\":3},\"rot\":{\"x\":0.0109,\"y\":179.9999,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"8a143a\":{\"lock\":false,\"pos\":{\"x\":-6,\"y\":1.5452,\"z\":3},\"rot\":{\"x\":0.0109,\"y\":179.9996,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"9ca322\":{\"lock\":true,\"pos\":{\"x\":5,\"y\":1.5161,\"z\":-2},\"rot\":{\"x\":0.0109,\"y\":180.0001,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"9d1563\":{\"lock\":false,\"pos\":{\"x\":-20.5000019073486,\"y\":1.8400012254715,\"z\":3.49999642372131},\"rot\":{\"x\":-5.18512479175115E-06,\"y\":179.995681762695,\"z\":-1.01996278090155E-07},\"tint\":{\"a\":1,\"b\":0,\"g\":0,\"r\":0.614982545375824}},\"9f57a0\":{\"lock\":true,\"pos\":{\"x\":9,\"y\":1.5179,\"z\":9.5},\"rot\":{\"x\":0.0109,\"y\":179.9997,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"a1dc75\":{\"lock\":true,\"pos\":{\"x\":9,\"y\":1.51670002937317,\"z\":3},\"rot\":{\"x\":-4.85810460304492E-06,\"y\":180,\"z\":180},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"b1787e\":{\"lock\":false,\"pos\":{\"x\":-22.4999961853027,\"y\":1.78360509872437,\"z\":15.0000019073486},\"rot\":{\"x\":-4.89244166601566E-06,\"y\":180.000442504883,\"z\":1.82670341075664E-08},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"b81b46\":{\"lock\":true,\"pos\":{\"x\":-6,\"y\":1.5192,\"z\":9.5},\"rot\":{\"x\":0.0109,\"y\":179.9997,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"bc115a\":{\"lock\":false,\"pos\":{\"x\":-6,\"y\":1.5464,\"z\":9.5},\"rot\":{\"x\":0.0109,\"y\":179.9996,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"bcaac5\":{\"lock\":false,\"pos\":{\"x\":9,\"y\":1.5439,\"z\":3},\"rot\":{\"x\":0.0109,\"y\":179.9997,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"c0aabd\":{\"lock\":false,\"pos\":{\"x\":3,\"y\":1.50330567359924,\"z\":1.5},\"rot\":{\"x\":0.0119065968319774,\"y\":150,\"z\":-0.00115882640238851},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"c4f1c6\":{\"lock\":false,\"pos\":{\"x\":5,\"y\":1.5433,\"z\":-2},\"rot\":{\"x\":0.0109,\"y\":179.9996,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"cb5af6\":{\"lock\":false,\"pos\":{\"x\":-20.5148124694824,\"y\":1.77100098133087,\"z\":5.28466844558716},\"rot\":{\"x\":5.21735773872933E-06,\"y\":-0.000219576235394925,\"z\":-9.44921723089465E-08},\"tint\":{\"a\":0,\"b\":0,\"g\":0,\"r\":0}},\"cbe578\":{\"lock\":false,\"pos\":{\"x\":-11.4999408721924,\"y\":1.50626850128174,\"z\":10.4989547729492},\"rot\":{\"x\":0.0108920680359006,\"y\":179.991394042969,\"z\":0.0049465736374259},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"d64a5d\":{\"lock\":false,\"pos\":{\"x\":-26.970874786377,\"y\":1.77100098133087,\"z\":5.4123420715332},\"rot\":{\"x\":4.78223273603362E-06,\"y\":-0.000526904128491879,\"z\":1.92139566479455E-07},\"tint\":{\"a\":0,\"b\":0,\"g\":0,\"r\":0}},\"d9a839\":{\"lock\":false,\"pos\":{\"x\":-19.4999961853027,\"y\":1.78360509872437,\"z\":15.0000038146973},\"rot\":{\"x\":-4.99742236570455E-06,\"y\":180.000183105469,\"z\":9.11126747382696E-08},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"decc48\":{\"lock\":true,\"pos\":{\"x\":5,\"y\":1.51610004901886,\"z\":-2},\"rot\":{\"x\":0.0109000001102686,\"y\":180,\"z\":180.005004882813},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"e529b8\":{\"lock\":false,\"pos\":{\"x\":-13,\"y\":1.50535273551941,\"z\":5},\"rot\":{\"x\":0.0108915129676461,\"y\":179.999740600586,\"z\":0.00495156785473228},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"f05262\":{\"lock\":true,\"pos\":{\"x\":-6.00279998779297,\"y\":1.51800000667572,\"z\":2.99909996986389},\"rot\":{\"x\":0.0109000001102686,\"y\":180,\"z\":180.005004882813},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"f4d155\":{\"lock\":false,\"pos\":{\"x\":-10.0000009536743,\"y\":1.50509369373322,\"z\":4.99999952316284},\"rot\":{\"x\":0.0108917588368058,\"y\":179.999771118164,\"z\":0.00495308358222246},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"f74bc0\":{\"lock\":true,\"pos\":{\"x\":-2,\"y\":1.5167,\"z\":-2},\"rot\":{\"x\":0.0109,\"y\":179.9997,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"f8574c\":{\"lock\":false,\"pos\":{\"x\":-2.48837750405073E-08,\"y\":1.50356471538544,\"z\":1.49999928474426},\"rot\":{\"x\":0.00695847207680345,\"y\":209.999969482422,\"z\":0.0097355954349041},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}}}}",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "013ee9",
                  "Name": "Card",
                  "Transform": {
                    "posX": 9.0,
                    "posY": 1.5179,
                    "posZ": 9.5,
                    "rotX": 0.0109,
                    "rotY": 180.0,
                    "rotZ": 180.005,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "[]",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 1114500,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "11145": {
                      "FaceURL": "https://steamusercontent-a.akamaihd.net/ugc/1874087573755655756/F61AC3EADD445ABDD7DDEBA1DE6E775F79C68086/",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1874087573755655756/F61AC3EADD445ABDD7DDEBA1DE6E775F79C68086/",
                      "NumWidth": 1,
                      "NumHeight": 1,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "2729ce",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -1.99999964,
                    "posY": 1.50411761,
                    "posZ": 3.50000024,
                    "rotX": -0.00116094376,
                    "rotY": 60.0000038,
                    "rotZ": 359.9881,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/vppt2my.png",
                    "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "States": {
                    "2": {
                      "GUID": "44b0c5",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": 4.499999,
                        "posY": 1.50422156,
                        "posZ": 7.000003,
                        "rotX": 0.0108915372,
                        "rotY": 180.0,
                        "rotZ": 0.00494912267,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    "3": {
                      "GUID": "5b38c6",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -38.8217163,
                        "posY": 1.99356019,
                        "posZ": 0.4159239,
                        "rotX": 359.9201,
                        "rotY": 272.9828,
                        "rotZ": 0.01687373,
                        "scaleX": 0.8,
                        "scaleY": 1.0,
                        "scaleZ": 0.8
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  }
                },
                {
                  "GUID": "29b247",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -10.0000019,
                    "posY": 1.505664,
                    "posZ": 8.0,
                    "rotX": 0.0108916974,
                    "rotY": 180.000122,
                    "rotZ": 0.004951784,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/vppt2my.png",
                    "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "States": {
                    "2": {
                      "GUID": "44b0c5",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": 4.499999,
                        "posY": 1.50422156,
                        "posZ": 7.000003,
                        "rotX": 0.0108915372,
                        "rotY": 180.0,
                        "rotZ": 0.00494912267,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    "3": {
                      "GUID": "5b38c6",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -38.8217163,
                        "posY": 1.99356019,
                        "posZ": 0.4159239,
                        "rotX": 359.9201,
                        "rotY": 272.9828,
                        "rotZ": 0.01687373,
                        "scaleX": 0.8,
                        "scaleY": 1.0,
                        "scaleZ": 0.8
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  }
                },
                {
                  "GUID": "417f74",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -11.5,
                    "posY": 1.50522316,
                    "posZ": 4.999998,
                    "rotX": 0.0108916713,
                    "rotY": 179.999908,
                    "rotZ": 0.00495286426,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/vppt2my.png",
                    "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "States": {
                    "2": {
                      "GUID": "44b0c5",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": 4.499999,
                        "posY": 1.50422156,
                        "posZ": 7.000003,
                        "rotX": 0.0108915372,
                        "rotY": 180.0,
                        "rotZ": 0.00494912267,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    "3": {
                      "GUID": "5b38c6",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -38.8217163,
                        "posY": 1.99356019,
                        "posZ": 0.4159239,
                        "rotX": 359.9201,
                        "rotY": 272.9828,
                        "rotZ": 0.01687373,
                        "scaleX": 0.8,
                        "scaleY": 1.0,
                        "scaleZ": 0.8
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  }
                },
                {
                  "GUID": "4233ba",
                  "Name": "Card",
                  "Transform": {
                    "posX": -6.0,
                    "posY": 1.5192,
                    "posZ": 9.5,
                    "rotX": 0.0109,
                    "rotY": 180.0001,
                    "rotZ": 180.005,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "[]",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": false,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 1114500,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "11145": {
                      "FaceURL": "https://steamusercontent-a.akamaihd.net/ugc/1874087573755655756/F61AC3EADD445ABDD7DDEBA1DE6E775F79C68086/",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1874087573755655756/F61AC3EADD445ABDD7DDEBA1DE6E775F79C68086/",
                      "NumWidth": 1,
                      "NumHeight": 1,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "4b4440",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": 5.0,
                    "posY": 1.5035131,
                    "posZ": 3.5,
                    "rotX": 0.009731399,
                    "rotY": 120.000008,
                    "rotZ": 359.993042,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/vppt2my.png",
                    "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "States": {
                    "2": {
                      "GUID": "44b0c5",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": 4.499999,
                        "posY": 1.50422156,
                        "posZ": 7.000003,
                        "rotX": 0.0108915372,
                        "rotY": 180.0,
                        "rotZ": 0.00494912267,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    "3": {
                      "GUID": "5b38c6",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -38.8217163,
                        "posY": 1.99356019,
                        "posZ": 0.4159239,
                        "rotX": 359.9201,
                        "rotY": 272.9828,
                        "rotZ": 0.01687373,
                        "scaleX": 0.8,
                        "scaleY": 1.0,
                        "scaleZ": 0.8
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  }
                },
                {
                  "GUID": "5dd214",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -2.00000167,
                    "posY": 1.504973,
                    "posZ": 8.0,
                    "rotX": 0.009731012,
                    "rotY": 119.999992,
                    "rotZ": 359.993042,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/vppt2my.png",
                    "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "States": {
                    "2": {
                      "GUID": "44b0c5",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": 4.499999,
                        "posY": 1.50422156,
                        "posZ": 7.000003,
                        "rotX": 0.0108915372,
                        "rotY": 180.0,
                        "rotZ": 0.00494912267,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    "3": {
                      "GUID": "5b38c6",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -38.8217163,
                        "posY": 1.99356019,
                        "posZ": 0.4159239,
                        "rotX": 359.9201,
                        "rotY": 272.9828,
                        "rotZ": 0.01687373,
                        "scaleX": 0.8,
                        "scaleY": 1.0,
                        "scaleZ": 0.8
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  }
                },
                {
                  "GUID": "5dd8dd",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -13.0000038,
                    "posY": 1.505923,
                    "posZ": 8.0,
                    "rotX": 0.0108913742,
                    "rotY": 179.999939,
                    "rotZ": 0.004952118,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/vppt2my.png",
                    "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "States": {
                    "2": {
                      "GUID": "44b0c5",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": 4.499999,
                        "posY": 1.50422156,
                        "posZ": 7.000003,
                        "rotX": 0.0108915372,
                        "rotY": 180.0,
                        "rotZ": 0.00494912267,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    "3": {
                      "GUID": "5b38c6",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -38.8217163,
                        "posY": 1.99356019,
                        "posZ": 0.4159239,
                        "rotX": 359.9201,
                        "rotY": 272.9828,
                        "rotZ": 0.01687373,
                        "scaleX": 0.8,
                        "scaleY": 1.0,
                        "scaleZ": 0.8
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  }
                },
                {
                  "GUID": "721d1a",
                  "Name": "Custom_Model_Bag",
                  "Transform": {
                    "posX": -27.0000076,
                    "posY": 1.84000111,
                    "posZ": 3.49999213,
                    "rotX": -5.6132435E-06,
                    "rotY": 179.979,
                    "rotZ": -2.316314E-07,
                    "scaleX": 0.7,
                    "scaleY": 0.7,
                    "scaleZ": 0.7
                  },
                  "Nickname": "Passage à l'acte 3B",
                  "Description": "Cliquer sur ranger lorsque vous passerez à l'acte 3B",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "MaterialIndex": -1,
                  "MeshIndex": -1,
                  "Number": 0,
                  "CustomMesh": {
                    "MeshURL": "https://pastebin.com/raw/ALrYhQGb",
                    "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/1984428287820713914/A2B3E1D0116D0574F566DF6236497D5209FDA320/",
                    "NormalURL": "",
                    "ColliderURL": "",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 6,
                    "CustomShader": {
                      "SpecularColor": {
                        "r": 1.0,
                        "g": 1.0,
                        "b": 1.0
                      },
                      "SpecularIntensity": 0.0,
                      "SpecularSharpness": 2.0,
                      "FresnelStrength": 0.0
                    },
                    "CastShadows": true
                  },
                  "Bag": {
                    "Order": 0
                  },
                  "LuaScript": "-- Utility memory bag by Directsun\r\n-- Version 2.7.0\r\n-- Fork of Memory Bag 2.0 by MrStump\r\n--\r\n-- Want to contribute? Create an issue or fork the code on GitHub and submit a pull request:\r\n-- https://github.com/sunflowermans/TTS-UtilityMemoryBag\r\n\r\n\r\nfunction updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction combineMemoryFromBagsWithin()\r\n    local bagObjList = self.getObjects()\r\n    for _, bagObj in ipairs(bagObjList) do\r\n        local data = bagObj.lua_script_state\r\n        if data ~= nil then\r\n            local j = JSON.decode(data)\r\n            if j ~= nil and j.ml ~= nil then\r\n                for guid, entry in pairs(j.ml) do\r\n                    memoryList[guid] = entry\r\n                end\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateMemoryWithMoves()\r\n    memoryList = memoryListBackup\r\n    --get the first transposed object's coordinates\r\n    local obj = getObjectFromGUID(moveGuid)\r\n\r\n    -- p1 is where needs to go, p2 is where it was\r\n    local refObjPos = memoryList[moveGuid].pos\r\n    local deltaPos = findOffsetDistance(obj.getPosition(), refObjPos, nil)\r\n    local movedRotation = obj.getRotation()\r\n    for guid, entry in pairs(memoryList) do\r\n        memoryList[guid].pos.x = entry.pos.x - deltaPos.x\r\n        memoryList[guid].pos.y = entry.pos.y - deltaPos.y\r\n        memoryList[guid].pos.z = entry.pos.z - deltaPos.z\r\n        -- memoryList[guid].rot.x = movedRotation.x\r\n        -- memoryList[guid].rot.y = movedRotation.y\r\n        -- memoryList[guid].rot.z = movedRotation.z\r\n    end\r\n\r\n    --theList[obj.getGUID()] = {\r\n    --    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n    --    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n    --    lock=obj.getLock()\r\n    --}\r\n    moveList = {}\r\nend\r\n\r\nfunction onload(saved_data)\r\n\r\n    fresh = true\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n\r\n    end\r\n\r\n    moveList = {}\r\n    moveGuid = nil\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        fresh = false\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,2}, rotation={0,0,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by Transpose button\r\nfunction buttonClick_transpose()\r\n    moveGuid = nil\r\n    broadcastToAll(\"Select one object and move it- all objects will move relative to the new location\", {0.75, 0.75, 1})\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(true)\r\n    createSetupActionButtons(true)\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(false)\r\n    createSetupActionButtons(false)\r\nend\r\n\r\nfunction getAllObjectsInMemory()\r\n    local objTable = {}\r\n    local curObj = {}\r\n\r\n    for guid in pairs(memoryListBackup) do\r\n        curObj = getObjectFromGUID(guid)\r\n        table.insert(objTable, curObj)\r\n    end\r\n\r\n    return objTable\r\n    -- return getAllObjects()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects(move)\r\n    buttonIndexMap = {}\r\n    local howManyButtons = 0\r\n\r\n    local objsToHaveButtons = {}\r\n    if move == true then\r\n        objsToHaveButtons = getAllObjectsInMemory()\r\n    else\r\n        objsToHaveButtons = getAllObjects()\r\n    end\r\n\r\n    for _, obj in ipairs(objsToHaveButtons) do\r\n        if obj ~= self then\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor +2\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Workaround for custom PDFs\r\n            if obj.Book then\r\n                objPos.y = objPos.y + 0.5\r\n            end\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(obj, move) end\r\n            local color = {0.75,0.25,0.25,0.6}\r\n            local colorMove = {0,0,1,0.6}\r\n            if move == true then\r\n                color = colorMove\r\n            end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color=color,\r\n            })\r\n            buttonIndexMap[obj.getGUID()] = howManyButtons\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons(move)\r\n    self.createButton({\r\n       label=\"Annuler\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n       position={-1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n       font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    self.createButton({\r\n      label=\"Valider\", click_function=\"buttonClick_submit\", function_owner=self,\r\n      position={-1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n      font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    if move == false then\r\n      self.createButton({\r\n          label=\"Ajouter\", click_function=\"buttonClick_add\", function_owner=self,\r\n          position={1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n          font_size=250, color={0,0,0}, font_color={0.25,1,0.25}\r\n        })\r\n\r\n        self.createButton({\r\n            label=\"Sélection\", click_function=\"editDragSelection\", function_owner=self,\r\n            position={-1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n            font_size=250, color={0,0,0}, font_color={1,1,1}\r\n        })\r\n\r\n        if fresh == false then\r\n            self.createButton({\r\n                label=\"Mise à Jour\", click_function=\"buttonClick_setNew\", function_owner=self,\r\n                position={1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n                font_size=180, color={0,0,0}, font_color={0.75,0.75,1}\r\n            })\r\n            self.createButton({\r\n                label=\"Retirer\", click_function=\"buttonClick_remove\", function_owner=self,\r\n                position={1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n                font_size=250, color={0,0,0}, font_color={1,0.25,0.25}\r\n            })\r\n        end\r\n    end\r\n\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,0,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(obj, move)\r\n    local index = buttonIndexMap[obj.getGUID()]\r\n    local colorMove = {0,0,1,0.6}\r\n    local color = {0,1,0,0.6}\r\n\r\n    previousGuid = selectedGuid\r\n    selectedGuid = obj.getGUID()\r\n\r\n    theList = memoryList\r\n    if move == true then\r\n        theList = moveList\r\n        if previousGuid ~= nil and previousGuid ~= selectedGuid then\r\n            local prevObj = getObjectFromGUID(previousGuid)\r\n            prevObj.highlightOff()\r\n            self.editButton({index=previousIndex, color=colorMove})\r\n            theList[previousGuid] = nil\r\n        end\r\n        previousIndex = index\r\n    end\r\n\r\n    if theList[selectedGuid] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        theList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock(),\r\n            tint=obj.getColorTint()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        if move == true then\r\n            color = colorMove\r\n        end\r\n        self.editButton({index=index, color=color})\r\n        theList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\nfunction editDragSelection(bagObj, player, remove)\r\n    local selectedObjs = Player[player].getSelectedObjects()\r\n    if not remove then\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            --Ignore if already in the memory list, or does not have a button\r\n            if index and not memoryList[obj.getGUID()] then\r\n                self.editButton({index=index, color={0,1,0,0.6}})\r\n                --Adding pos/rot to memory table\r\n                local pos, rot = obj.getPosition(), obj.getRotation()\r\n                --I need to add it like this or it won't save due to indexing issue\r\n                memoryList[obj.getGUID()] = {\r\n                    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n                    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n                    lock=obj.getLock(),\r\n                    tint=obj.getColorTint()\r\n                }\r\n                obj.highlightOn({0,1,0})\r\n            end\r\n        end\r\n    else\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            if index and memoryList[obj.getGUID()] then\r\n                color = {0.75,0.25,0.25,0.6}\r\n                self.editButton({index=index, color=color})\r\n                memoryList[obj.getGUID()] = nil\r\n                obj.highlightOff()\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Sélection annulée\", {1,1,1})\r\n    moveGuid = nil\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    fresh = false\r\n    if next(moveList) ~= nil then\r\n        for guid in pairs(moveList) do\r\n            moveGuid = guid\r\n        end\r\n        if memoryListBackup[moveGuid] == nil then\r\n            broadcastToAll(\"Item selected for moving is not already in memory\", {1, 0.25, 0.25})\r\n        else\r\n            broadcastToAll(\"Moving all items in memory relative to new objects position!\", {0.75, 0.75, 1})\r\n            self.clearButtons()\r\n            self.clearInputs()\r\n            createMemoryActionButtons()\r\n            local count = 0\r\n            for guid in pairs(moveList) do\r\n                moveGuid = guid\r\n                count = count + 1\r\n                local obj = getObjectFromGUID(guid)\r\n                if obj ~= nil then obj.highlightOff() end\r\n            end\r\n            updateMemoryWithMoves()\r\n            updateSave()\r\n            buttonClick_place()\r\n        end\r\n    elseif next(memoryList) == nil and moveGuid == nil then\r\n        memoryList = memoryListBackup\r\n        broadcastToAll(\"No selections made.\", {0.75, 0.25, 0.25})\r\n    end\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\n    moveGuid = nil\r\nend\r\n\r\nfunction combineTables(first_table, second_table)\r\n    for k,v in pairs(second_table) do first_table[k] = v end\r\nend\r\n\r\nfunction buttonClick_add()\r\n    fresh = false\r\n    combineTables(memoryList, memoryListBackup)\r\n    broadcastToAll(\"Adding internal bags and selections to existing memory\", {0.25, 0.75, 0.25})\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_remove()\r\n    broadcastToAll(\"Removing Selected Entries From Memory\", {1.0, 0.25, 0.25})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        memoryListBackup[guid] = nil\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Removed\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_setNew()\r\n    broadcastToAll(\"Setting new position relative to items in memory\", {0.75, 0.75, 1})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        guid = obj.guid\r\n        if memoryListBackup[guid] ~= nil then\r\n            count = count + 1\r\n            memoryListBackup[guid].pos = obj.getPosition()\r\n            memoryListBackup[guid].rot = obj.getRotation()\r\n            memoryListBackup[guid].lock = obj.getLock()\r\n            memoryListBackup[guid].tint = obj.getColorTint()\r\n        end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    fresh = true\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Placer\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,2}, rotation={0,0,0}, height=350, width=1000,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Ranger\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,2.8}, rotation={0,0,0}, height=350, width=1000,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={2,0.3,0}, rotation={0,90,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    ---    self.createButton({\r\n    ---      label=\"Bouger\", click_function=\"buttonClick_transpose\", function_owner=self,\r\n    ---      position={-2,0.3,0.8}, rotation={0,270,0}, height=350, width=800,\r\n    ---      font_size=250, color={0,0,0}, font_color={0.75,0.75,1}\r\n    ---  \r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n            obj.setColorTint(entry.tint)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot, smooth=false\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    item.setColorTint(entry.tint)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objets placés\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objets rangés\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local yOffset = 0\r\n    if obj ~= nil then\r\n        local bounds = obj.getBounds()\r\n        yOffset = (bounds.size.y - bounds.offset.y)\r\n    end\r\n    local deltaPos = {}\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + yOffset\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n    local objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n    local x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n    local z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n    --return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\nfunction rotateMyCoordinates(desiredPos, obj)\r\n    local angle = math.rad(obj.getRotation().y)\r\n    local x = desiredPos.x * math.sin(angle)\r\n    local z = desiredPos.z * math.cos(angle)\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n    local mult = 10^(dec or 0)\r\n    return math.floor(num * mult + 0.5) / mult\r\nend\r\n\r\n\r\n--[[\r\nThis object provides access to a variable stored on the \"Global script\".\r\nThe variable holds the GUIDs for every Utility Memory Bag in the scene.\r\nExample:\r\n{'805ebd', '35cc21', 'fc8886', 'f50264', '5f5f63'}\r\n--]]\r\nAllMemoryBagsInScene = {\r\n    NAME_OF_GLOBAL_VARIABLE = \"_UtilityMemoryBag_AllMemoryBagsInScene\"\r\n}\r\n\r\nfunction AllMemoryBagsInScene:add(guid)\r\n    local guids = Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\n    table.insert(guids, guid)\r\n    Global.setTable(self.NAME_OF_GLOBAL_VARIABLE, guids)\r\nend\r\n\r\nfunction AllMemoryBagsInScene:getGuidList()\r\n    return Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\nend",
                  "LuaScriptState": "{\"ml\":{\"1b3e83\":{\"lock\":false,\"pos\":{\"x\":9.99999904632568,\"y\":1.5058376789093,\"z\":18.0000038146973},\"rot\":{\"x\":359.989105224609,\"y\":0.00816216133534908,\"z\":-0.0049535920843482},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"2efca1\":{\"lock\":false,\"pos\":{\"x\":10,\"y\":1.51849186420441,\"z\":13},\"rot\":{\"x\":0.0108912065625191,\"y\":180.00309753418,\"z\":0.00494881439954042},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"53d98a\":{\"lock\":false,\"pos\":{\"x\":1.5,\"y\":1.51922595500946,\"z\":13},\"rot\":{\"x\":0.0108911758288741,\"y\":180.003784179688,\"z\":0.00494899321347475},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"7234af\":{\"lock\":false,\"pos\":{\"x\":6.00007104873657,\"y\":1.50703859329224,\"z\":22.5001964569092},\"rot\":{\"x\":0.00494851358234882,\"y\":90.0037460327148,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"74b7fe\":{\"lock\":false,\"pos\":{\"x\":6,\"y\":1.50523269176483,\"z\":13},\"rot\":{\"x\":0.00494757480919361,\"y\":89.9999923706055,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"a66639\":{\"lock\":false,\"pos\":{\"x\":1.50000011920929,\"y\":1.50486087799072,\"z\":9},\"rot\":{\"x\":0.0108915846794844,\"y\":179.999893188477,\"z\":0.00495201908051968},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"b1787e\":{\"lock\":false,\"pos\":{\"x\":-22.4999980926514,\"y\":1.77890527248383,\"z\":15.0000009536743},\"rot\":{\"x\":-4.9459968067822E-06,\"y\":180.000411987305,\"z\":3.45191523365429E-07},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"bc851a\":{\"lock\":false,\"pos\":{\"x\":1.49999809265137,\"y\":1.52103185653687,\"z\":22.5000038146973},\"rot\":{\"x\":0.010891567915678,\"y\":180.000228881836,\"z\":180.004959106445},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"d41c19\":{\"lock\":false,\"pos\":{\"x\":9.99999809265137,\"y\":1.52029776573181,\"z\":22.5000038146973},\"rot\":{\"x\":0.0108915558084846,\"y\":180.000091552734,\"z\":180.004959106445},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"d9a839\":{\"lock\":false,\"pos\":{\"x\":-19.4999980926514,\"y\":1.77890527248383,\"z\":15.0000028610229},\"rot\":{\"x\":-5.19863579029334E-06,\"y\":180.000152587891,\"z\":1.14329679945513E-07},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}}}}",
                  "XmlUI": ""
                },
                {
                  "GUID": "748d92",
                  "Name": "Card",
                  "Transform": {
                    "posX": -2.0,
                    "posY": 1.5167,
                    "posZ": -2.0,
                    "rotX": 0.0109,
                    "rotY": 180.0,
                    "rotZ": 180.005,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "[]",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 1114500,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "11145": {
                      "FaceURL": "https://steamusercontent-a.akamaihd.net/ugc/1874087573755655756/F61AC3EADD445ABDD7DDEBA1DE6E775F79C68086/",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1874087573755655756/F61AC3EADD445ABDD7DDEBA1DE6E775F79C68086/",
                      "NumWidth": 1,
                      "NumHeight": 1,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "825ddf",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": 5.0,
                    "posY": 1.50436854,
                    "posZ": 7.99999952,
                    "rotX": 0.00116111175,
                    "rotY": 240.0,
                    "rotZ": 0.0119105615,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/vppt2my.png",
                    "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "States": {
                    "2": {
                      "GUID": "44b0c5",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": 4.499999,
                        "posY": 1.50422156,
                        "posZ": 7.000003,
                        "rotX": 0.0108915372,
                        "rotY": 180.0,
                        "rotZ": 0.00494912267,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    "3": {
                      "GUID": "5b38c6",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -38.8217163,
                        "posY": 1.99356019,
                        "posZ": 0.4159239,
                        "rotX": 359.9201,
                        "rotY": 272.9828,
                        "rotZ": 0.01687373,
                        "scaleX": 0.8,
                        "scaleY": 1.0,
                        "scaleZ": 0.8
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  }
                },
                {
                  "GUID": "9d1563",
                  "Name": "Custom_Model_Bag",
                  "Transform": {
                    "posX": -20.5000019,
                    "posY": 1.84000123,
                    "posZ": 3.49999642,
                    "rotX": -5.185125E-06,
                    "rotY": 179.995682,
                    "rotZ": -1.01996278E-07,
                    "scaleX": 0.7,
                    "scaleY": 0.7,
                    "scaleZ": 0.7
                  },
                  "Nickname": "Bois Enchantés",
                  "Description": "Place au hasard les lieux Bois Enchantés",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.614982545,
                    "g": 0.0,
                    "b": 0.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "MaterialIndex": -1,
                  "MeshIndex": -1,
                  "CustomMesh": {
                    "MeshURL": "https://pastebin.com/raw/ALrYhQGb",
                    "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/1984428287820713914/A2B3E1D0116D0574F566DF6236497D5209FDA320/",
                    "NormalURL": "",
                    "ColliderURL": "",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 6,
                    "CustomShader": {
                      "SpecularColor": {
                        "r": 1.0,
                        "g": 1.0,
                        "b": 1.0
                      },
                      "SpecularIntensity": 0.0,
                      "SpecularSharpness": 2.0,
                      "FresnelStrength": 0.0
                    },
                    "CastShadows": true
                  },
                  "Bag": {
                    "Order": 0
                  },
                  "LuaScript": "-- Random memory bag\r\n-- based on Utility memory bag by Directsun (Version 2.7.0)\r\n\r\nlocal CONFIG = {\r\n    MEMORY_GROUP = {\r\n        -- This determines how many frames to wait before actually placing objects onto the table when the \"Place\" button is clicked.\r\n        -- This gives the other bags time to recall their objects.\r\n        -- The delay ONLY occurs if other bags have objects out.\r\n        FRAME_DELAY_BEFORE_PLACING_OBJECTS = 30\r\n    }\r\n}\r\n\r\nmath.randomseed(os.time())\r\n\r\n--[[ Memory Bag Groups ]]\r\n--[[ Utility Memory Bags may be added to a named group, called a \"memory group\".\r\nYou can add a bag to a group through the bag's UI: \"Setup\" > \"Group Name\" (to the left of the bag).\r\nOnly one bag from a group may have it's contents placed on the table at a time.\r\nWhen \"Place\" is clicked on a bag, the other bags in it's memory group are recalled.\r\nBy default a memory bag is not in any group. It's memory group is \"nil\". --]]\r\n\r\nmemoryGroupName = { memoryBag = self }\r\nfunction memoryGroupName:get()\r\n    return self._name\r\nend\r\n\r\nfunction memoryGroupName:set(newName)\r\n    GlobalMemoryGroups:unregisterBagInGroup(self:get(), self.memoryBag.getGUID())\r\n    GlobalMemoryGroups:registerBagInGroup(newName, self.memoryBag.getGUID())\r\n\r\n    if newName == \"\" then\r\n        self._name = nil\r\n    else\r\n        self._name = newName\r\n    end\r\nend\r\n\r\n-- Click the \"Recall\" button on all other bags in my memory group.\r\nfunction recallOtherBagsInMyGroup()\r\n    for _, bag in ipairs(getOtherBagsInMyGroup()) do\r\n        bag.call('buttonClick_recall')\r\n    end\r\nend\r\n\r\n-- Return \"true\" if another bag in my memory group has any objects out on the table.\r\nfunction anyOtherBagsInMyGroupArePlaced()\r\n    for _, bag in ipairs(getOtherBagsInMyGroup()) do\r\n        local state = bag.call('areAnyOfMyObjectsPlaced')\r\n        if state then return true end\r\n    end\r\n\r\n    return false\r\nend\r\n\r\n-- Return \"true\" if at least one object from this memory bag is out on the table.\r\nfunction areAnyOfMyObjectsPlaced()\r\n    for guid, _ in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then\r\n            return true\r\n        end\r\n    end\r\n    return false\r\nend\r\n\r\nfunction getOtherBagsInMyGroup()\r\n    local bags = {}\r\n    for bagGuid, _ in pairs(GlobalMemoryGroups:getGroup(memoryGroupName:get())) do\r\n        if bagGuid ~= self.getGUID() then\r\n            bag = getObjectFromGUID(bagGuid)\r\n            -- \"bag\" is nill if it has been deleted since the last time onLoad() was called.\r\n            if bag ~= nil then\r\n                table.insert(bags, bag)\r\n            end\r\n        end\r\n    end\r\n    return bags\r\nend\r\n\r\n--[[\r\nThis object provides access to a variable stored on the \"Global script\".\r\nThe variable holds the names & guids of all memory bag groups.\r\nThe global variable is a table and holds data like this:\r\n{\r\n    'My First Group Name' = {\r\n        '805ebd' = {},\r\n        '35cc21' = {},\r\n        'fc8886' = {},\r\n    },\r\n    'My Second Group Name' = {\r\n        'f50264' = {},\r\n        '5f5f63' = {},\r\n    },\r\n}\r\n--]]\r\nGlobalMemoryGroups = { NAME_OF_GLOBAL_VARIABLE = '_GlobalUtilityMemoryBagGroups' }\r\n\r\n-- Call me inside this script's \"onLoad()\" method!\r\nfunction GlobalMemoryGroups:onLoad(myGuid)\r\n    -- Create and initialize the global variable if it doesn't already exist:\r\n    if self:_getGroups() == nil then\r\n        self:_setGroups({})\r\n    end\r\nend\r\n\r\n-- Return the GUIDs of all bags in the \"groupName\". The return value is a dictionary that maps [GUID -> empty table].\r\nfunction GlobalMemoryGroups:getGroup(groupName)\r\n    guids = self:_getGroups()[groupName] or {}\r\n    return guids\r\nend\r\n\r\n-- Registers a bag in a memory group. Creates a new group if one doesn't exist.\r\nfunction GlobalMemoryGroups:registerBagInGroup(groupName, bagGuid)\r\n    if groupName == nil or groupName == \"\" then\r\n        return\r\n    end\r\n\r\n    self:_tryCreateNewGroup(groupName)\r\n    local groups = self:_getGroups()\r\n    groups[groupName][bagGuid] = {}\r\n    self:_setGroups(groups)\r\nend\r\n\r\n-- Removes this bag from the memory group.\r\nfunction GlobalMemoryGroups:unregisterBagInGroup(groupName, bagGuid)\r\n    local groups = self:_getGroups()\r\n    local group = groups[groupName]\r\n    if group ~= nil then\r\n        group[bagGuid] = nil\r\n        self:_setGroups(groups)\r\n    end\r\nend\r\n\r\n-- Return the global variable, which is a table holding all memory group names & guids.\r\nfunction GlobalMemoryGroups:_getGroups()\r\n    return Global.getTable(self.NAME_OF_GLOBAL_VARIABLE)\r\nend\r\n\r\n-- Override the global variable (i.e. the entire table).\r\nfunction GlobalMemoryGroups:_setGroups(newTable)\r\n    Global.setTable(self.NAME_OF_GLOBAL_VARIABLE, newTable)\r\nend\r\n\r\n-- Add a new memory group named \"groupName\" to the global variable, if one doesn't already exist.\r\nfunction GlobalMemoryGroups:_tryCreateNewGroup(groupName)\r\n    local groups = self:_getGroups()\r\n    if groups[groupName] == nil then\r\n        groups[groupName] = {}\r\n        self:_setGroups(groups)\r\n    end\r\nend\r\n\r\n-- This object controls the \"Group Name\" input text field that is part of the bag's ingame UI.\r\ngroupNameInput = {\r\n    greyedOutText     = \"Group Name\",\r\n    widthPerCharacter = 100,\r\n    padding           = 4,\r\n    memoryBag         = self\r\n}\r\nfunction groupNameInput:create(optionalStartingValue)\r\n    local effectiveText = optionalStartingValue or self.greyedOutText\r\n    local width = self:computeWidth(effectiveText)\r\n\r\n    self.memoryBag.createInput({\r\n        label = self.greyedOutText,\r\n        value = optionalStartingValue or nil,\r\n        alignment = 3, -- Center aligned\r\n        input_function = \"groupNameInput_onCharacterTyped\", function_owner = self.memoryBag,\r\n        position = { 2.1, 0.3, 0 }, rotation = { 0, 270, 0 }, width = width, height = 350,\r\n        font_size = 250, color = { 0, 0, 0 }, font_color = { 1, 1, 1 },\r\n    })\r\nend\r\n\r\nfunction groupNameInput:computeWidth(text)\r\n    return (string.len(text) + self.padding) * self.widthPerCharacter\r\nend\r\n\r\nfunction groupNameInput:updatedWidth(text)\r\n    self.memoryBag.editInput({\r\n        index = 0,\r\n        width = self:computeWidth(text)\r\n    })\r\nend\r\n\r\nfunction groupNameInput:onCharacterTyped(text, stillEditing)\r\n    if stillEditing then\r\n        self:updatedWidth(text)\r\n    else\r\n        if text == \"\" then\r\n            self:updatedWidth(self.greyedOutText)\r\n        end\r\n    end\r\nend\r\n\r\nfunction groupNameInput_onCharacterTyped(memoryBag, playerColor, text, stillEditing)\r\n    groupNameInput:onCharacterTyped(text, stillEditing)\r\nend\r\n\r\nfunction groupNameInput:setGroupNameToInputField()\r\n    local inputFields = self.memoryBag.getInputs()\r\n    if inputFields ~= nil then\r\n        -- Get input field 0, which corresponds to the groupNameInput.\r\n        -- Unfortunately \"self.getInputs()\" doesn't return the inputs in a guaranteed order.\r\n        local nameField = nil\r\n        for _, field in ipairs(inputFields) do\r\n            if field.index == 0 then\r\n                nameField = field\r\n            end\r\n        end\r\n\r\n        memoryGroupName:set(nameField.value)\r\n    end\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = { [\"ml\"] = memoryList, [\"groupName\"] = memoryGroupName:get() }\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction combineMemoryFromBagsWithin()\r\n    local bagObjList = self.getObjects()\r\n    for _, bagObj in ipairs(bagObjList) do\r\n        local data = bagObj.lua_script_state\r\n        if data ~= nil then\r\n            local j = JSON.decode(data)\r\n            if j ~= nil and j.ml ~= nil then\r\n                for guid, entry in pairs(j.ml) do\r\n                    memoryList[guid] = entry\r\n                end\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateMemoryWithMoves()\r\n    memoryList = memoryListBackup\r\n    --get the first transposed object's coordinates\r\n    local obj = getObjectFromGUID(moveGuid)\r\n\r\n    -- p1 is where needs to go, p2 is where it was\r\n    local refObjPos = memoryList[moveGuid].pos\r\n    local deltaPos = findOffsetDistance(obj.getPosition(), refObjPos, nil)\r\n    local movedRotation = obj.getRotation()\r\n    for guid, entry in pairs(memoryList) do\r\n        memoryList[guid].pos.x = entry.pos.x - deltaPos.x\r\n        memoryList[guid].pos.y = entry.pos.y - deltaPos.y\r\n        memoryList[guid].pos.z = entry.pos.z - deltaPos.z\r\n    end\r\n    moveList = {}\r\nend\r\n\r\nfunction onload(saved_data)\r\n    GlobalMemoryGroups:onLoad(self.getGUID())\r\n    AllMemoryBagsInScene:add(self.getGUID())\r\n\r\n    fresh = true\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n        memoryGroupName:set(loaded_data.groupName)\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n        memoryGroupName:set(nil)\r\n    end\r\n\r\n    moveList = {}\r\n    moveGuid = nil\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        fresh = false\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n--Beginning Setup\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n      label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n      position={0,0.3,2}, rotation={0,0,0}, height=350, width=800,\r\n      font_size=250, color={0,0,0}, font_color={1,1,1}\r\n  })\r\nend\r\n\r\n--Triggered by Transpose button\r\nfunction buttonClick_transpose()\r\n    moveGuid = nil\r\n    broadcastToAll(\"Select one object and move it- all objects will move relative to the new location\", { 0.75, 0.75, 1 })\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(true)\r\n    createSetupActionButtons(true)\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(false)\r\n    createSetupActionButtons(false)\r\nend\r\n\r\nfunction getAllObjectsInMemory()\r\n    local objTable = {}\r\n    local curObj = {}\r\n\r\n    for guid in pairs(memoryListBackup) do\r\n        curObj = getObjectFromGUID(guid)\r\n        table.insert(objTable, curObj)\r\n    end\r\n\r\n    return objTable\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects(move)\r\n    buttonIndexMap = {}\r\n    local howManyButtons = 0\r\n\r\n    local objsToHaveButtons = {}\r\n    if move == true then\r\n        objsToHaveButtons = getAllObjectsInMemory()\r\n    else\r\n        objsToHaveButtons = getAllObjects()\r\n    end\r\n\r\n    for _, obj in ipairs(objsToHaveButtons) do\r\n        if obj ~= self then\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1 * 1 / self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor + 2\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Workaround for custom PDFs\r\n            if obj.Book then\r\n                objPos.y = objPos.y + 0.5\r\n            end\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(obj, move) end\r\n            local color = { 0.75, 0.25, 0.25, 0.6 }\r\n            local colorMove = { 0, 0, 1, 0.6 }\r\n            if move == true then\r\n                color = colorMove\r\n            end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function = funcName, function_owner = self,\r\n                position = objPos, rotation = rot, height = 1000, width = 1000,\r\n                color = color,\r\n            })\r\n            buttonIndexMap[obj.getGUID()] = howManyButtons\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n  --Creates submit and cancel buttons\r\n  function createSetupActionButtons(move)\r\n      self.createButton({\r\n         label=\"Annuler\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n         position={-1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n         font_size=250, color={0,0,0}, font_color={1,1,1}\r\n      })\r\n\r\n      self.createButton({\r\n        label=\"Valider\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={-1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n      })\r\n\r\n      if move == false then\r\n        self.createButton({\r\n            label=\"Ajouter\", click_function=\"buttonClick_add\", function_owner=self,\r\n            position={1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n            font_size=250, color={0,0,0}, font_color={0.25,1,0.25}\r\n          })\r\n\r\n          self.createButton({\r\n              label=\"Sélection\", click_function=\"editDragSelection\", function_owner=self,\r\n              position={-1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n              font_size=250, color={0,0,0}, font_color={1,1,1}\r\n          })\r\n\r\n          if fresh == false then\r\n              self.createButton({\r\n                  label=\"Mise à Jour\", click_function=\"buttonClick_setNew\", function_owner=self,\r\n                  position={1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n                  font_size=180, color={0,0,0}, font_color={0.75,0.75,1}\r\n              })\r\n              self.createButton({\r\n                  label=\"Retirer\", click_function=\"buttonClick_remove\", function_owner=self,\r\n                  position={1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n                  font_size=250, color={0,0,0}, font_color={1,0.25,0.25}\r\n              })\r\n          end\r\n      end\r\n\r\n      self.createButton({\r\n          label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n          position={0,0.3,-2}, rotation={0,0,0}, height=350, width=800,\r\n          font_size=250, color={0,0,0}, font_color={1,1,1}\r\n      })\r\n  end\r\n\r\n\r\n--During Setup\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(obj, move)\r\n    local index = buttonIndexMap[obj.getGUID()]\r\n    local colorMove = { 0, 0, 1, 0.6 }\r\n    local color = { 0, 1, 0, 0.6 }\r\n\r\n    previousGuid = selectedGuid\r\n    selectedGuid = obj.getGUID()\r\n\r\n    theList = memoryList\r\n    if move == true then\r\n        theList = moveList\r\n        if previousGuid ~= nil and previousGuid ~= selectedGuid then\r\n            local prevObj = getObjectFromGUID(previousGuid)\r\n            prevObj.highlightOff()\r\n            self.editButton({ index = previousIndex, color = colorMove })\r\n            theList[previousGuid] = nil\r\n        end\r\n        previousIndex = index\r\n    end\r\n\r\n    if theList[selectedGuid] == nil then\r\n        self.editButton({ index = index, color = color })\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        theList[obj.getGUID()] = {\r\n            pos = { x = round(pos.x, 4), y = round(pos.y, 4), z = round(pos.z, 4) },\r\n            rot = { x = round(rot.x, 4), y = round(rot.y, 4), z = round(rot.z, 4) },\r\n            lock = obj.getLock(),\r\n            tint = obj.getColorTint()\r\n        }\r\n        obj.highlightOn({ 0, 1, 0 })\r\n    else\r\n        color = { 0.75, 0.25, 0.25, 0.6 }\r\n        if move == true then\r\n            color = colorMove\r\n        end\r\n        self.editButton({ index = index, color = color })\r\n        theList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\nfunction editDragSelection(bagObj, player, remove)\r\n    local selectedObjs = Player[player].getSelectedObjects()\r\n    if not remove then\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            --Ignore if already in the memory list, or does not have a button\r\n            if index and not memoryList[obj.getGUID()] then\r\n                self.editButton({ index = index, color = { 0, 1, 0, 0.6 } })\r\n                --Adding pos/rot to memory table\r\n                local pos, rot = obj.getPosition(), obj.getRotation()\r\n                --I need to add it like this or it won't save due to indexing issue\r\n                memoryList[obj.getGUID()] = {\r\n                    pos = { x = round(pos.x, 4), y = round(pos.y, 4), z = round(pos.z, 4) },\r\n                    rot = { x = round(rot.x, 4), y = round(rot.y, 4), z = round(rot.z, 4) },\r\n                    lock = obj.getLock(),\r\n                    tint = obj.getColorTint()\r\n                }\r\n                obj.highlightOn({ 0, 1, 0 })\r\n            end\r\n        end\r\n    else\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            if index and memoryList[obj.getGUID()] then\r\n                color = { 0.75, 0.25, 0.25, 0.6 }\r\n                self.editButton({ index = index, color = color })\r\n                memoryList[obj.getGUID()] = nil\r\n                obj.highlightOff()\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Sélection annulée\", { 1, 1, 1 })\r\n    moveGuid = nil\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    fresh = false\r\n    if next(moveList) ~= nil then\r\n        for guid in pairs(moveList) do\r\n            moveGuid = guid\r\n        end\r\n        if memoryListBackup[moveGuid] == nil then\r\n            broadcastToAll(\"Item selected for moving is not already in memory\", { 1, 0.25, 0.25 })\r\n        else\r\n            broadcastToAll(\"Moving all items in memory relative to new objects position!\", { 0.75, 0.75, 1 })\r\n            self.clearButtons()\r\n            self.clearInputs()\r\n            createMemoryActionButtons()\r\n            local count = 0\r\n            for guid in pairs(moveList) do\r\n                moveGuid = guid\r\n                count = count + 1\r\n                local obj = getObjectFromGUID(guid)\r\n                if obj ~= nil then obj.highlightOff() end\r\n            end\r\n            updateMemoryWithMoves()\r\n            updateSave()\r\n            buttonClick_place()\r\n        end\r\n    elseif next(memoryList) == nil and moveGuid == nil then\r\n        memoryList = memoryListBackup\r\n        broadcastToAll(\"No selections made.\", { 0.75, 0.25, 0.25 })\r\n    end\r\n    combineMemoryFromBagsWithin()\r\n    groupNameInput:setGroupNameToInputField()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count .. \" Objects Saved\", { 1, 1, 1 })\r\n    updateSave()\r\n    moveGuid = nil\r\nend\r\n\r\nfunction combineTables(first_table, second_table)\r\n    for k, v in pairs(second_table) do first_table[k] = v end\r\nend\r\n\r\nfunction buttonClick_add()\r\n    fresh = false\r\n    combineTables(memoryList, memoryListBackup)\r\n    broadcastToAll(\"Adding internal bags and selections to existing memory\", { 0.25, 0.75, 0.25 })\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count .. \" Objects Saved\", { 1, 1, 1 })\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_remove()\r\n    broadcastToAll(\"Removing Selected Entries From Memory\", { 1.0, 0.25, 0.25 })\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        memoryListBackup[guid] = nil\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count .. \" Objects Removed\", { 1, 1, 1 })\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_setNew()\r\n    broadcastToAll(\"Setting new position relative to items in memory\", { 0.75, 0.75, 1 })\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        guid = obj.guid\r\n        if memoryListBackup[guid] ~= nil then\r\n            count = count + 1\r\n            memoryListBackup[guid].pos = obj.getPosition()\r\n            memoryListBackup[guid].rot = obj.getRotation()\r\n            memoryListBackup[guid].lock = obj.getLock()\r\n            memoryListBackup[guid].tint = obj.getColorTint()\r\n        end\r\n    end\r\n    broadcastToAll(count .. \" Objects Saved\", { 1, 1, 1 })\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    fresh = true\r\n    memoryList = {}\r\n    memoryGroupName:set(nil)\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", { 1, 1, 1 })\r\n    updateSave()\r\nend\r\n\r\n--After Setup\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Placer au hasard\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,2}, rotation={0,0,0}, height=350, width=2000,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Ranger\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,2.8}, rotation={0,0,0}, height=350, width=1000,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={2,0.3,0}, rotation={0,90,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    ---    self.createButton({\r\n    ---      label=\"Bouger\", click_function=\"buttonClick_transpose\", function_owner=self,\r\n    ---      position={-2,0.3,0.8}, rotation={0,270,0}, height=350, width=800,\r\n    ---      font_size=250, color={0,0,0}, font_color={0.75,0.75,1}\r\n    ---\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    if anyOtherBagsInMyGroupArePlaced() then\r\n        recallOtherBagsInMyGroup()\r\n        Wait.frames(_placeObjects, CONFIG.MEMORY_GROUP.FRAME_DELAY_BEFORE_PLACING_OBJECTS)\r\n    else\r\n        _placeObjects()\r\n    end\r\nend\r\n\r\nfunction _placeObjects()\r\n    local bagObjList = self.getObjects()\r\n\r\n    -- randomize memorylist position\r\n    local positionList = {}\r\n    for guid, entry in pairs(memoryList) do\r\n        table.insert(positionList, memoryList[guid].pos)\r\n    end\r\n\r\n    for i = #positionList, 2, -1 do\r\n        local j = math.random(i)\r\n        positionList[i], positionList[j] = positionList[j], positionList[i]\r\n    end\r\n\r\n    local i = 1\r\n    for guid, entry in pairs(memoryList) do\r\n        memoryList[guid].pos = positionList[i]\r\n        i = i + 1\r\n    end\r\n\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n            obj.setColorTint(entry.tint)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid = guid, position = entry.pos, rotation = entry.rot, smooth = false\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    item.setColorTint(entry.tint)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objets placés au hasard\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objets rangés\", {1,1,1})\r\nend\r\n\r\n--Utility functions\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local yOffset = 0\r\n    if obj ~= nil then\r\n        local bounds = obj.getBounds()\r\n        yOffset = (bounds.size.y - bounds.offset.y)\r\n    end\r\n    local deltaPos = {}\r\n    deltaPos.x = (p2.x - p1.x)\r\n    deltaPos.y = (p2.y - p1.y) + yOffset\r\n    deltaPos.z = (p2.z - p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n    local objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n    local x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n    local z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n    --return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return { x = x, y = desiredPos.y, z = z }\r\nend\r\n\r\nfunction rotateMyCoordinates(desiredPos, obj)\r\n    local angle = math.rad(obj.getRotation().y)\r\n    local x = desiredPos.x * math.sin(angle)\r\n    local z = desiredPos.z * math.cos(angle)\r\n    return { x = x, y = desiredPos.y, z = z }\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n    local mult = 10 ^ (dec or 0)\r\n    return math.floor(num * mult + 0.5) / mult\r\nend\r\n\r\n--[[ This object provides access to a variable stored on the \"Global script\".\r\nThe variable holds the GUIDs for every Utility Memory Bag in the scene.\r\nExample: {'805ebd', '35cc21', 'fc8886', 'f50264', '5f5f63'} --]]\r\nAllMemoryBagsInScene = {\r\n    NAME_OF_GLOBAL_VARIABLE = \"_UtilityMemoryBag_AllMemoryBagsInScene\"\r\n}\r\n\r\nfunction AllMemoryBagsInScene:add(guid)\r\n    local guids = Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\n    table.insert(guids, guid)\r\n    Global.setTable(self.NAME_OF_GLOBAL_VARIABLE, guids)\r\nend\r\n\r\nfunction AllMemoryBagsInScene:getGuidList()\r\n    return Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\nend\r\n",
                  "LuaScriptState": "{\"ml\":{\"1559bf\":{\"lock\":false,\"pos\":{\"x\":9,\"y\":1.5451,\"z\":9.5},\"rot\":{\"x\":0.0109,\"y\":179.9997,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"663f57\":{\"lock\":false,\"pos\":{\"x\":-2,\"y\":1.5439,\"z\":-2},\"rot\":{\"x\":0.0109,\"y\":179.9996,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"832693\":{\"lock\":false,\"pos\":{\"x\":-28.5,\"y\":1.7789,\"z\":13.5},\"rot\":{\"x\":0,\"y\":179.9998,\"z\":0},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"8a143a\":{\"lock\":false,\"pos\":{\"x\":-6,\"y\":1.5452,\"z\":3},\"rot\":{\"x\":0.0109,\"y\":179.9996,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"bc115a\":{\"lock\":false,\"pos\":{\"x\":-6,\"y\":1.5464,\"z\":9.5},\"rot\":{\"x\":0.0109,\"y\":179.9996,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"bcaac5\":{\"lock\":false,\"pos\":{\"x\":9,\"y\":1.5439,\"z\":3},\"rot\":{\"x\":0.0109,\"y\":179.9997,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"c4f1c6\":{\"lock\":false,\"pos\":{\"x\":5,\"y\":1.5433,\"z\":-2},\"rot\":{\"x\":0.0109,\"y\":179.9996,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}}}}",
                  "XmlUI": "",
                  "ContainedObjects": [
                    {
                      "GUID": "1559bf",
                      "Name": "Card",
                      "Transform": {
                        "posX": -6.0,
                        "posY": 1.54641807,
                        "posZ": 9.5,
                        "rotX": 0.01089153,
                        "rotY": 179.9997,
                        "rotZ": 0.00494819134,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "Bois Enchantés",
                      "Description": "Bois.",
                      "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06050\",\n  \"locationBack\": {\n    \"connections\": \"Tilde|Star|Plus\",\n    \"icons\": \"Circle|EnchantedWoods\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    },\n    \"victory\": 2\n  },\n  \"locationFront\": {\n    \"connections\": \"Tilde\",\n    \"icons\": \"Crescent|EnchantedWoods\"\n  },\n  \"traits\": \"Woods.\",\n  \"type\": \"Location\"\n}",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.713235259,
                        "g": 0.713235259,
                        "b": 0.713235259
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": true,
                      "Hands": true,
                      "CardID": 276520,
                      "SidewaysCard": false,
                      "CustomDeck": {
                        "2765": {
                          "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                          "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                          "NumWidth": 10,
                          "NumHeight": 7,
                          "BackIsHidden": true,
                          "UniqueBack": true,
                          "Type": 0
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    {
                      "GUID": "663f57",
                      "Name": "Card",
                      "Transform": {
                        "posX": -2.0,
                        "posY": 1.54388654,
                        "posZ": -1.99999988,
                        "rotX": 0.010891512,
                        "rotY": 179.9996,
                        "rotZ": 0.004948012,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "Bois Enchantés",
                      "Description": "Bois.",
                      "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06054\",\n  \"locationBack\": {\n    \"connections\": \"Tilde|Diamond|Circle\",\n    \"icons\": \"Star|EnchantedWoods\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    },\n    \"victory\": 2\n  },\n  \"locationFront\": {\n    \"connections\": \"Tilde\",\n    \"icons\": \"Crescent|EnchantedWoods\"\n  },\n  \"traits\": \"Woods.\",\n  \"type\": \"Location\"\n}",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.713235259,
                        "g": 0.713235259,
                        "b": 0.713235259
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": true,
                      "Hands": true,
                      "CardID": 276524,
                      "SidewaysCard": false,
                      "CustomDeck": {
                        "2765": {
                          "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                          "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                          "NumWidth": 10,
                          "NumHeight": 7,
                          "BackIsHidden": true,
                          "UniqueBack": true,
                          "Type": 0
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    {
                      "GUID": "832693",
                      "Name": "Card",
                      "Transform": {
                        "posX": -5.999999,
                        "posY": 1.54518259,
                        "posZ": 2.99999738,
                        "rotX": 0.0108915148,
                        "rotY": 179.9998,
                        "rotZ": 0.00494800461,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "Bois Enchantés",
                      "Description": "Bois.",
                      "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06052\",\n  \"locationBack\": {\n    \"connections\": \"Tilde|Plus|Square\",\n    \"icons\": \"Triangle|EnchantedWoods\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    },\n    \"victory\": 1\n  },\n  \"locationFront\": {\n    \"connections\": \"Tilde\",\n    \"icons\": \"Crescent|EnchantedWoods\"\n  },\n  \"traits\": \"Woods.\",\n  \"type\": \"Location\"\n}",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.713235259,
                        "g": 0.713235259,
                        "b": 0.713235259
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": true,
                      "Hands": true,
                      "CardID": 276522,
                      "SidewaysCard": false,
                      "CustomDeck": {
                        "2765": {
                          "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                          "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                          "NumWidth": 10,
                          "NumHeight": 7,
                          "BackIsHidden": true,
                          "UniqueBack": true,
                          "Type": 0
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    {
                      "GUID": "8a143a",
                      "Name": "Card",
                      "Transform": {
                        "posX": 8.999811,
                        "posY": 1.55900431,
                        "posZ": 3.000012,
                        "rotX": 0.0108662583,
                        "rotY": 179.9974,
                        "rotZ": 359.275726,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "Bois Enchantés",
                      "Description": "Bois.",
                      "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06055\",\n  \"locationBack\": {\n    \"connections\": \"Tilde|Circle|Triangle\",\n    \"icons\": \"Plus|EnchantedWoods\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    },\n    \"victory\": 2\n  },\n  \"locationFront\": {\n    \"connections\": \"Tilde\",\n    \"icons\": \"Crescent|EnchantedWoods\"\n  },\n  \"traits\": \"Woods.\",\n  \"type\": \"Location\"\n}",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.713235259,
                        "g": 0.713235259,
                        "b": 0.713235259
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": true,
                      "Hands": true,
                      "CardID": 276525,
                      "SidewaysCard": false,
                      "CustomDeck": {
                        "2765": {
                          "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                          "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                          "NumWidth": 10,
                          "NumHeight": 7,
                          "BackIsHidden": true,
                          "UniqueBack": true,
                          "Type": 0
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    {
                      "GUID": "bc115a",
                      "Name": "Card",
                      "Transform": {
                        "posX": 5.0,
                        "posY": 1.543282,
                        "posZ": -2.0,
                        "rotX": 0.01089143,
                        "rotY": 179.9996,
                        "rotZ": 0.004948099,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "Bois Enchantés",
                      "Description": "Bois.",
                      "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06056\",\n  \"locationBack\": {\n    \"connections\": \"Tilde\",\n    \"icons\": \"Apostrophe|EnchantedWoods\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    },\n    \"victory\": 2\n  },\n  \"locationFront\": {\n    \"connections\": \"Tilde\",\n    \"icons\": \"Crescent|EnchantedWoods\"\n  },\n  \"traits\": \"Woods.\",\n  \"type\": \"Location\"\n}",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.713235259,
                        "g": 0.713235259,
                        "b": 0.713235259
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": true,
                      "Hands": true,
                      "CardID": 276526,
                      "SidewaysCard": false,
                      "CustomDeck": {
                        "2765": {
                          "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                          "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                          "NumWidth": 10,
                          "NumHeight": 7,
                          "BackIsHidden": true,
                          "UniqueBack": true,
                          "Type": 0
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    {
                      "GUID": "bcaac5",
                      "Name": "Card",
                      "Transform": {
                        "posX": -28.5000019,
                        "posY": 1.78360522,
                        "posZ": 13.500001,
                        "rotX": -4.963095E-06,
                        "rotY": 179.99968,
                        "rotZ": 4.06511518E-08,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "Bois Enchantés",
                      "Description": "Bois.",
                      "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06051\",\n  \"locationBack\": {\n    \"connections\": \"Tilde|Square|Star\",\n    \"icons\": \"Diamond|EnchantedWoods\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    },\n    \"victory\": 2\n  },\n  \"locationFront\": {\n    \"connections\": \"Tilde\",\n    \"icons\": \"Crescent|EnchantedWoods\"\n  },\n  \"traits\": \"Woods.\",\n  \"type\": \"Location\"\n}",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.713235259,
                        "g": 0.713235259,
                        "b": 0.713235259
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": true,
                      "Hands": true,
                      "CardID": 276521,
                      "SidewaysCard": false,
                      "CustomDeck": {
                        "2765": {
                          "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                          "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                          "NumWidth": 10,
                          "NumHeight": 7,
                          "BackIsHidden": true,
                          "UniqueBack": true,
                          "Type": 0
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    {
                      "GUID": "c4f1c6",
                      "Name": "Card",
                      "Transform": {
                        "posX": 9.0,
                        "posY": 1.54512262,
                        "posZ": 9.5,
                        "rotX": 0.0108914375,
                        "rotY": 179.9996,
                        "rotZ": 0.004948076,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "Bois Enchantés",
                      "Description": "Bois.",
                      "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06053\",\n  \"locationBack\": {\n    \"connections\": \"Tilde|Triangle|Diamond\",\n    \"icons\": \"Square|EnchantedWoods\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    },\n    \"victory\": 2\n  },\n  \"locationFront\": {\n    \"connections\": \"Tilde\",\n    \"icons\": \"Crescent|EnchantedWoods\"\n  },\n  \"traits\": \"Woods.\",\n  \"type\": \"Location\"\n}",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.713235259,
                        "g": 0.713235259,
                        "b": 0.713235259
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": true,
                      "Hands": true,
                      "CardID": 276523,
                      "SidewaysCard": false,
                      "CustomDeck": {
                        "2765": {
                          "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                          "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                          "NumWidth": 10,
                          "NumHeight": 7,
                          "BackIsHidden": true,
                          "UniqueBack": true,
                          "Type": 0
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  ]
                },
                {
                  "GUID": "a1dc75",
                  "Name": "Card",
                  "Transform": {
                    "posX": 9.0,
                    "posY": 1.5167,
                    "posZ": 3.0,
                    "rotX": -4.98277677E-06,
                    "rotY": 180.0,
                    "rotZ": 180.0,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "[]",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 1114500,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "11145": {
                      "FaceURL": "https://steamusercontent-a.akamaihd.net/ugc/1874087573755655756/F61AC3EADD445ABDD7DDEBA1DE6E775F79C68086/",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1874087573755655756/F61AC3EADD445ABDD7DDEBA1DE6E775F79C68086/",
                      "NumWidth": 1,
                      "NumHeight": 1,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "c0aabd",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": 3.0,
                    "posY": 1.50330567,
                    "posZ": 1.5,
                    "rotX": 0.0119065968,
                    "rotY": 150.0,
                    "rotZ": -0.0011588264,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/vppt2my.png",
                    "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "States": {
                    "2": {
                      "GUID": "44b0c5",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": 4.499999,
                        "posY": 1.50422156,
                        "posZ": 7.000003,
                        "rotX": 0.0108915372,
                        "rotY": 180.0,
                        "rotZ": 0.00494912267,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    "3": {
                      "GUID": "5b38c6",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -38.8217163,
                        "posY": 1.99356019,
                        "posZ": 0.4159239,
                        "rotX": 359.9201,
                        "rotY": 272.9828,
                        "rotZ": 0.01687373,
                        "scaleX": 0.8,
                        "scaleY": 1.0,
                        "scaleZ": 0.8
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  }
                },
                {
                  "GUID": "cb5af6",
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -20.5148125,
                    "posY": 1.771001,
                    "posZ": 5.28466845,
                    "rotX": 5.21735774E-06,
                    "rotY": -0.000219576235,
                    "rotZ": -9.449217E-08,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Ranger acte 3B",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.0,
                    "g": 0.0,
                    "b": 0.0,
                    "a": 0.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": false,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": false,
                  "Tooltip": false,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/1478820768302617365/27883B7913E0E69143C3AA03493B7E7C4E8C29C0/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "",
                    "Convex": true,
                    "MaterialIndex": 1,
                    "TypeIndex": 0,
                    "CastShadows": true
                  },
                  "LuaScript": "-- Code for bag to identify text tool objects\r\nmovableTextTool_cowgoesmoo33 = true\r\n\r\n-- Number of characters before the text box width expands.\r\nEXPAND_INTERVAL = 20\r\n\r\n-- This table controls what is passed between save/load\r\ndata = {}\r\n\r\nfunction onLoad(saved_data)\r\n  if saved_data ~= '' then\r\n    data = JSON.decode(saved_data)\r\n    if data.text ~= '' then\r\n      self.interactable = data.interactable\r\n      staticMode()\r\n      return\r\n    end\r\n  else\r\n    data = {size=200, color=Color(0,0,0), text='', interactable=true,\r\n        enter_to_finish=false, autolock=false, autolift=false,\r\n        hover_height=0.05, box_transparency=1}\r\n  end\r\n\r\n  inputMode()\r\nend\r\n\r\n-- True if in the middle of delay after pressing Enter (with enter_to_finish on)\r\nfinishing = false\r\nfunction input_func(obj, color, input, stillEditing)\r\n  local params = getBox(input)\r\n  if params then\r\n    params.value = input\r\n    self.editInput(params)\r\n  end\r\n\r\n  if not stillEditing then\r\n    data.text = input\r\n    updateState()\r\n    if input ~= '' then staticMode(color) end\r\n  elseif data.enter_to_finish then\r\n    -- If enter is pressed: remove last newline and force finish\r\n    if not finishing and input:sub(-1) == '\\n' then\r\n      finishing = true\r\n      -- Delay to avoid user's Enter keypress being detected (opens chat box)\r\n      Wait.frames(function()\r\n        input = input:sub(1, -2)\r\n        data.text = input\r\n        updateState()\r\n        if input ~= '' then staticMode(color) else inputMode() end\r\n        finishing = false\r\n      end, 10)\r\n    end\r\n  end\r\nend\r\n\r\n-- When the inpupt box appears and lets the player type in it.\r\nfunction inputMode()\r\n  self.clearContextMenu()\r\n  self.clearInputs()\r\n  self.clearButtons()\r\n\r\n  local size = getBox(data.text, true)\r\n\r\n  self.createInput({\r\n    input_function = \"input_func\",\r\n    function_owner = self,\r\n    label          = \"Type Here\",\r\n    alignment      = 3,\r\n    position       = {x=0, y=data.hover_height, z=0},\r\n    rotation       = {0, 180, 0},\r\n    width          = size.width,\r\n    height         = size.height,\r\n    color          = getBackground(data.color),\r\n    font_color     = data.color,\r\n    font_size      = data.size,\r\n    value          = data.text,\r\n  })\r\n\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\nend\r\n\r\n-- When the input box disappears and displays the text.\r\nfunction staticMode(player)\r\n  self.clearContextMenu()\r\n  if data.autolock then\r\n    self.locked = true\r\n  end\r\n  if self.getInputs() and #self.getInputs() ~= 0 then\r\n    self.removeInput(0)\r\n  end\r\n\r\n  -- Clear from selecting player\r\n  if player then\r\n    self.removeFromPlayerSelection(player)\r\n  end\r\n\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  self.createButton({\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=self,\r\n    position={0,data.hover_height,0}, rotation={0,180,0}, height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  })\r\n\r\n  self.addContextMenuItem('Edit Text', function(color)\r\n    self.removeFromPlayerSelection(color)\r\n    inputMode()\r\n  end)\r\n  self.addContextMenuItem('Clear', function(color)\r\n    applyMultiple(color, 'clear', _, true)\r\n  end)\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\n  self.addContextMenuItem('Permanently Attach', attemptAttach)\r\n  self.addContextMenuItem('Permalock', function(color)\r\n    applyMultiple(color, 'permalock', _, true)\r\n  end)\r\nend\r\n\r\nfunction changeSize(params)\r\n  local delta = params[1]\r\n  local newSize = data.size + delta\r\n  if newSize > 800  or newSize < 50 then\r\n    return\r\n  end\r\n  data.size = newSize\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_size=data.size})\r\n  else\r\n    local size = getBox(data.text, true)\r\n    self.editInput({width=size.width, height=size.height, font_size=data.size})\r\n  end\r\nend\r\n\r\nfunction setColor(params)\r\n  if params and params[1] then\r\n    data.color = params[1]\r\n  else\r\n    data.color = self.getColorTint():setAt('a', 1) -- Take on color of object tint\r\n  end\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_color=data.color})\r\n  else\r\n    self.editInput({font_color=data.color, color=getBackground(data.color)})\r\n  end\r\nend\r\n\r\nfunction getBackground(color) --determines whether to use black or white depending on luminance\r\n  local r,g,b = Color(color):get()\r\n\r\n  local lum = 0.2126*r + 0.7152*g + 0.0722*b\r\n  if lum > 0.75 then\r\n    return {0.2,0.2,0.2, data.box_transparency}\r\n  else\r\n    return {1,1,1, data.box_transparency}\r\n  end\r\nend\r\n\r\nfunction clear()\r\n  data.text = ''\r\n  updateState()\r\n  inputMode()\r\nend\r\n\r\nfunction permalock()\r\n  self.interactable = false\r\n  data.interactable = false\r\n  updateState()\r\nend\r\n\r\nlocal target_script = [[\r\nfunction onLoad(script_state)\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    for _,entry in ipairs(state) do\r\n      self.createButton(entry)\r\n    end\r\n    self.addContextMenuItem('Clear All Text', function(color)\r\n      self.clearContextMenu()\r\n      self.clearButtons()\r\n      self.script_state = ''\r\n      self.script_code = ''\r\n    end)\r\n  end\r\nend\r\n]]\r\n\r\nfunction attemptAttach(player_color)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  local attachee\r\n  local attachers = {}\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if obj ~= self then\r\n        table.insert(attachers, obj)\r\n      end\r\n    else\r\n      if attachee then\r\n        broadcastToColor(\"More than one target selected.\", player_color)\r\n        return\r\n      else\r\n        attachee = obj\r\n      end\r\n    end\r\n  end\r\n  if attachee then\r\n    local code = attachee.script_code\r\n    if code and code ~= '' and code ~= target_script then\r\n      broadcastToColor(\"Warning: script on card has been overriden. Rewind time to undo.\", player_color)\r\n    end\r\n    for i,attacher in ipairs(attachers) do\r\n      attacher.call('attach', {target = attachee})\r\n    end\r\n    attach({target = attachee})\r\n    local type, flip = attachee.type, attachee.getRotation().z\r\n    if (type == 'Card' or type == 'Deck') and flip > 175 and flip < 185 then\r\n      broadcastToColor(\"Warning: text will not display if card or deck is facing down.\", player_color)\r\n    end\r\n  else\r\n    broadcastToColor(\"You must have a target object in your selection (using click-and-drag or Ctrl+Click) to use this option.\", player_color)\r\n  end\r\nend\r\n\r\nfunction attach(params)\r\n  local target = params.target\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  local textRotation = self.getRotation():sub(target.getRotation())\r\n    :add(Vector(180, 0, 180))\r\n\r\n  local textPosition = target.positionToLocal(\r\n    self.getPosition():add(Vector(0, data.hover_height, 0))\r\n  )\r\n  textPosition.x = -textPosition.x\r\n\r\n  local textScale = {}\r\n  textScale.x = self.getScale().x / target.getScale().x\r\n  textScale.y = self.getScale().x / target.getScale().y\r\n  textScale.z = self.getScale().x / target.getScale().z\r\n\r\n  local details = {\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=nil,\r\n    position=textPosition,\r\n    rotation=textRotation,\r\n    scale=textScale,\r\n    height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  }\r\n\r\n  target.createButton(details)\r\n\r\n  local script_state = target.script_state\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    table.insert(state, details)\r\n    target.script_state = JSON.encode(state)\r\n  else\r\n    target.script_state = JSON.encode({[1]=details})\r\n  end\r\n\r\n  target.script_code = target_script\r\n\r\n  self.destruct()\r\nend\r\n\r\nfunction applyMultiple(player_color, func_string, params, static_only)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if not static_only or obj.call('isStatic') then\r\n        obj.call(func_string, params)\r\n      end\r\n    end\r\n  end\r\nend\r\n\r\nfunction isStatic()\r\n  local input = self.getInputs()\r\n  return not input or #input == 0\r\nend\r\n\r\nfunction getBox(input, force)\r\n  local maxLength, lineCount = EXPAND_INTERVAL, 1\r\n  local lineLength = 0\r\n  for i = 1, #input do\r\n    local c = input:sub(i,i)\r\n    if c == '\\n' then\r\n      lineCount = lineCount + 1\r\n      if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n      lineLength = 0\r\n    else\r\n      lineLength = lineLength + 1\r\n    end\r\n  end\r\n  if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n\r\n  newWidth = data.size * maxLength * 0.9\r\n  newHeight = data.size * lineCount + 23\r\n\r\n  if force or boxWidth ~= newWidth or boxHeight ~= newHeight then\r\n    boxWidth, boxHeight = newWidth, newHeight\r\n    return {width = boxWidth, height = boxHeight}\r\n  end\r\n  return nil\r\nend\r\n\r\ntemp_lift = nil\r\nfunction onPickUp(player_color)\r\n  if data.autolift then\r\n    local player = Player[player_color]\r\n    temp_lift = player.lift_height\r\n    player.lift_height = 0\r\n  end\r\nend\r\n\r\nfunction onDrop(player_color)\r\n  if data.autolift and temp_lift then\r\n    Player[player_color].lift_height = temp_lift\r\n  end\r\nend\r\n\r\n-- Should be called every time data is modified, allows info to be saved on copy/paste\r\nfunction updateState()\r\n  self.script_state = JSON.encode(data)\r\nend\r\n\r\nfunction onSave()\r\n  self.script_state = JSON.encode(data)\r\n  return self.script_state\r\nend",
                  "LuaScriptState": "{\"autolift\":false,\"autolock\":false,\"box_transparency\":1,\"color\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1},\"enter_to_finish\":false,\"hover_height\":0.05,\"interactable\":true,\"size\":250,\"text\":\"2) Placer 6 lieux aléatoire au \\npassage à l'acte 3B\"}",
                  "XmlUI": ""
                },
                {
                  "GUID": "cbe578",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -11.4999418,
                    "posY": 1.5062685,
                    "posZ": 10.4989548,
                    "rotX": 0.01089229,
                    "rotY": 179.9914,
                    "rotZ": 0.00494936947,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 4.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/vppt2my.png",
                    "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "States": {
                    "2": {
                      "GUID": "44b0c5",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": 4.499999,
                        "posY": 1.50422156,
                        "posZ": 7.000003,
                        "rotX": 0.0108915372,
                        "rotY": 180.0,
                        "rotZ": 0.00494912267,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 4.0
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    "3": {
                      "GUID": "5b38c6",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -38.8217163,
                        "posY": 1.99356019,
                        "posZ": 0.4159239,
                        "rotX": 359.9201,
                        "rotY": 272.9828,
                        "rotZ": 0.01687373,
                        "scaleX": 0.8,
                        "scaleY": 1.0,
                        "scaleZ": 3.2
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  }
                },
                {
                  "GUID": "d64a5d",
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -9.22043,
                    "posY": 2.51692772,
                    "posZ": 9.805142,
                    "rotX": 5.382917E-06,
                    "rotY": -0.0005877609,
                    "rotZ": 2.580376E-07,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Ranger acte 3B",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.0,
                    "g": 0.0,
                    "b": 0.0,
                    "a": 0.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": false,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": false,
                  "Tooltip": false,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/1478820768302617365/27883B7913E0E69143C3AA03493B7E7C4E8C29C0/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "",
                    "Convex": true,
                    "MaterialIndex": 1,
                    "TypeIndex": 0,
                    "CastShadows": true
                  },
                  "LuaScript": "-- Code for bag to identify text tool objects\r\nmovableTextTool_cowgoesmoo33 = true\r\n\r\n-- Number of characters before the text box width expands.\r\nEXPAND_INTERVAL = 20\r\n\r\n-- This table controls what is passed between save/load\r\ndata = {}\r\n\r\nfunction onLoad(saved_data)\r\n  if saved_data ~= '' then\r\n    data = JSON.decode(saved_data)\r\n    if data.text ~= '' then\r\n      self.interactable = data.interactable\r\n      staticMode()\r\n      return\r\n    end\r\n  else\r\n    data = {size=200, color=Color(0,0,0), text='', interactable=true,\r\n        enter_to_finish=false, autolock=false, autolift=false,\r\n        hover_height=0.05, box_transparency=1}\r\n  end\r\n\r\n  inputMode()\r\nend\r\n\r\n-- True if in the middle of delay after pressing Enter (with enter_to_finish on)\r\nfinishing = false\r\nfunction input_func(obj, color, input, stillEditing)\r\n  local params = getBox(input)\r\n  if params then\r\n    params.value = input\r\n    self.editInput(params)\r\n  end\r\n\r\n  if not stillEditing then\r\n    data.text = input\r\n    updateState()\r\n    if input ~= '' then staticMode(color) end\r\n  elseif data.enter_to_finish then\r\n    -- If enter is pressed: remove last newline and force finish\r\n    if not finishing and input:sub(-1) == '\\n' then\r\n      finishing = true\r\n      -- Delay to avoid user's Enter keypress being detected (opens chat box)\r\n      Wait.frames(function()\r\n        input = input:sub(1, -2)\r\n        data.text = input\r\n        updateState()\r\n        if input ~= '' then staticMode(color) else inputMode() end\r\n        finishing = false\r\n      end, 10)\r\n    end\r\n  end\r\nend\r\n\r\n-- When the inpupt box appears and lets the player type in it.\r\nfunction inputMode()\r\n  self.clearContextMenu()\r\n  self.clearInputs()\r\n  self.clearButtons()\r\n\r\n  local size = getBox(data.text, true)\r\n\r\n  self.createInput({\r\n    input_function = \"input_func\",\r\n    function_owner = self,\r\n    label          = \"Type Here\",\r\n    alignment      = 3,\r\n    position       = {x=0, y=data.hover_height, z=0},\r\n    rotation       = {0, 180, 0},\r\n    width          = size.width,\r\n    height         = size.height,\r\n    color          = getBackground(data.color),\r\n    font_color     = data.color,\r\n    font_size      = data.size,\r\n    value          = data.text,\r\n  })\r\n\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\nend\r\n\r\n-- When the input box disappears and displays the text.\r\nfunction staticMode(player)\r\n  self.clearContextMenu()\r\n  if data.autolock then\r\n    self.locked = true\r\n  end\r\n  if self.getInputs() and #self.getInputs() ~= 0 then\r\n    self.removeInput(0)\r\n  end\r\n\r\n  -- Clear from selecting player\r\n  if player then\r\n    self.removeFromPlayerSelection(player)\r\n  end\r\n\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  self.createButton({\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=self,\r\n    position={0,data.hover_height,0}, rotation={0,180,0}, height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  })\r\n\r\n  self.addContextMenuItem('Edit Text', function(color)\r\n    self.removeFromPlayerSelection(color)\r\n    inputMode()\r\n  end)\r\n  self.addContextMenuItem('Clear', function(color)\r\n    applyMultiple(color, 'clear', _, true)\r\n  end)\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\n  self.addContextMenuItem('Permanently Attach', attemptAttach)\r\n  self.addContextMenuItem('Permalock', function(color)\r\n    applyMultiple(color, 'permalock', _, true)\r\n  end)\r\nend\r\n\r\nfunction changeSize(params)\r\n  local delta = params[1]\r\n  local newSize = data.size + delta\r\n  if newSize > 800  or newSize < 50 then\r\n    return\r\n  end\r\n  data.size = newSize\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_size=data.size})\r\n  else\r\n    local size = getBox(data.text, true)\r\n    self.editInput({width=size.width, height=size.height, font_size=data.size})\r\n  end\r\nend\r\n\r\nfunction setColor(params)\r\n  if params and params[1] then\r\n    data.color = params[1]\r\n  else\r\n    data.color = self.getColorTint():setAt('a', 1) -- Take on color of object tint\r\n  end\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_color=data.color})\r\n  else\r\n    self.editInput({font_color=data.color, color=getBackground(data.color)})\r\n  end\r\nend\r\n\r\nfunction getBackground(color) --determines whether to use black or white depending on luminance\r\n  local r,g,b = Color(color):get()\r\n\r\n  local lum = 0.2126*r + 0.7152*g + 0.0722*b\r\n  if lum > 0.75 then\r\n    return {0.2,0.2,0.2, data.box_transparency}\r\n  else\r\n    return {1,1,1, data.box_transparency}\r\n  end\r\nend\r\n\r\nfunction clear()\r\n  data.text = ''\r\n  updateState()\r\n  inputMode()\r\nend\r\n\r\nfunction permalock()\r\n  self.interactable = false\r\n  data.interactable = false\r\n  updateState()\r\nend\r\n\r\nlocal target_script = [[\r\nfunction onLoad(script_state)\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    for _,entry in ipairs(state) do\r\n      self.createButton(entry)\r\n    end\r\n    self.addContextMenuItem('Clear All Text', function(color)\r\n      self.clearContextMenu()\r\n      self.clearButtons()\r\n      self.script_state = ''\r\n      self.script_code = ''\r\n    end)\r\n  end\r\nend\r\n]]\r\n\r\nfunction attemptAttach(player_color)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  local attachee\r\n  local attachers = {}\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if obj ~= self then\r\n        table.insert(attachers, obj)\r\n      end\r\n    else\r\n      if attachee then\r\n        broadcastToColor(\"More than one target selected.\", player_color)\r\n        return\r\n      else\r\n        attachee = obj\r\n      end\r\n    end\r\n  end\r\n  if attachee then\r\n    local code = attachee.script_code\r\n    if code and code ~= '' and code ~= target_script then\r\n      broadcastToColor(\"Warning: script on card has been overriden. Rewind time to undo.\", player_color)\r\n    end\r\n    for i,attacher in ipairs(attachers) do\r\n      attacher.call('attach', {target = attachee})\r\n    end\r\n    attach({target = attachee})\r\n    local type, flip = attachee.type, attachee.getRotation().z\r\n    if (type == 'Card' or type == 'Deck') and flip > 175 and flip < 185 then\r\n      broadcastToColor(\"Warning: text will not display if card or deck is facing down.\", player_color)\r\n    end\r\n  else\r\n    broadcastToColor(\"You must have a target object in your selection (using click-and-drag or Ctrl+Click) to use this option.\", player_color)\r\n  end\r\nend\r\n\r\nfunction attach(params)\r\n  local target = params.target\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  local textRotation = self.getRotation():sub(target.getRotation())\r\n    :add(Vector(180, 0, 180))\r\n\r\n  local textPosition = target.positionToLocal(\r\n    self.getPosition():add(Vector(0, data.hover_height, 0))\r\n  )\r\n  textPosition.x = -textPosition.x\r\n\r\n  local textScale = {}\r\n  textScale.x = self.getScale().x / target.getScale().x\r\n  textScale.y = self.getScale().x / target.getScale().y\r\n  textScale.z = self.getScale().x / target.getScale().z\r\n\r\n  local details = {\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=nil,\r\n    position=textPosition,\r\n    rotation=textRotation,\r\n    scale=textScale,\r\n    height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  }\r\n\r\n  target.createButton(details)\r\n\r\n  local script_state = target.script_state\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    table.insert(state, details)\r\n    target.script_state = JSON.encode(state)\r\n  else\r\n    target.script_state = JSON.encode({[1]=details})\r\n  end\r\n\r\n  target.script_code = target_script\r\n\r\n  self.destruct()\r\nend\r\n\r\nfunction applyMultiple(player_color, func_string, params, static_only)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if not static_only or obj.call('isStatic') then\r\n        obj.call(func_string, params)\r\n      end\r\n    end\r\n  end\r\nend\r\n\r\nfunction isStatic()\r\n  local input = self.getInputs()\r\n  return not input or #input == 0\r\nend\r\n\r\nfunction getBox(input, force)\r\n  local maxLength, lineCount = EXPAND_INTERVAL, 1\r\n  local lineLength = 0\r\n  for i = 1, #input do\r\n    local c = input:sub(i,i)\r\n    if c == '\\n' then\r\n      lineCount = lineCount + 1\r\n      if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n      lineLength = 0\r\n    else\r\n      lineLength = lineLength + 1\r\n    end\r\n  end\r\n  if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n\r\n  newWidth = data.size * maxLength * 0.9\r\n  newHeight = data.size * lineCount + 23\r\n\r\n  if force or boxWidth ~= newWidth or boxHeight ~= newHeight then\r\n    boxWidth, boxHeight = newWidth, newHeight\r\n    return {width = boxWidth, height = boxHeight}\r\n  end\r\n  return nil\r\nend\r\n\r\ntemp_lift = nil\r\nfunction onPickUp(player_color)\r\n  if data.autolift then\r\n    local player = Player[player_color]\r\n    temp_lift = player.lift_height\r\n    player.lift_height = 0\r\n  end\r\nend\r\n\r\nfunction onDrop(player_color)\r\n  if data.autolift and temp_lift then\r\n    Player[player_color].lift_height = temp_lift\r\n  end\r\nend\r\n\r\n-- Should be called every time data is modified, allows info to be saved on copy/paste\r\nfunction updateState()\r\n  self.script_state = JSON.encode(data)\r\nend\r\n\r\nfunction onSave()\r\n  self.script_state = JSON.encode(data)\r\n  return self.script_state\r\nend",
                  "LuaScriptState": "{\"autolift\":false,\"autolock\":false,\"box_transparency\":1,\"color\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1},\"enter_to_finish\":false,\"hover_height\":0.05,\"interactable\":true,\"size\":250,\"text\":\"1) Ranger au passage\\nà l'acte 3B\"}",
                  "XmlUI": ""
                },
                {
                  "GUID": "decc48",
                  "Name": "Card",
                  "Transform": {
                    "posX": 5.0,
                    "posY": 1.5161,
                    "posZ": -2.0,
                    "rotX": 0.0109,
                    "rotY": 180.0,
                    "rotZ": 180.005,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "[]",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 1114500,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "11145": {
                      "FaceURL": "https://steamusercontent-a.akamaihd.net/ugc/1874087573755655756/F61AC3EADD445ABDD7DDEBA1DE6E775F79C68086/",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1874087573755655756/F61AC3EADD445ABDD7DDEBA1DE6E775F79C68086/",
                      "NumWidth": 1,
                      "NumHeight": 1,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "e529b8",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -13.0,
                    "posY": 1.50535274,
                    "posZ": 5.0,
                    "rotX": 0.010891621,
                    "rotY": 179.99971,
                    "rotZ": 0.00495086424,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/vppt2my.png",
                    "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "States": {
                    "2": {
                      "GUID": "44b0c5",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": 4.499999,
                        "posY": 1.50422156,
                        "posZ": 7.000003,
                        "rotX": 0.0108915372,
                        "rotY": 180.0,
                        "rotZ": 0.00494912267,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    "3": {
                      "GUID": "5b38c6",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -38.8217163,
                        "posY": 1.99356019,
                        "posZ": 0.4159239,
                        "rotX": 359.9201,
                        "rotY": 272.9828,
                        "rotZ": 0.01687373,
                        "scaleX": 0.8,
                        "scaleY": 1.0,
                        "scaleZ": 0.8
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  }
                },
                {
                  "GUID": "f05262",
                  "Name": "Card",
                  "Transform": {
                    "posX": -6.0028,
                    "posY": 1.518,
                    "posZ": 2.9991,
                    "rotX": 0.0109,
                    "rotY": 180.0,
                    "rotZ": 180.005,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "[]",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 1114500,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "11145": {
                      "FaceURL": "https://steamusercontent-a.akamaihd.net/ugc/1874087573755655756/F61AC3EADD445ABDD7DDEBA1DE6E775F79C68086/",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1874087573755655756/F61AC3EADD445ABDD7DDEBA1DE6E775F79C68086/",
                      "NumWidth": 1,
                      "NumHeight": 1,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "f4d155",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -10.000001,
                    "posY": 1.50509369,
                    "posZ": 4.99999952,
                    "rotX": 0.0108916918,
                    "rotY": 179.999756,
                    "rotZ": 0.004956204,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/vppt2my.png",
                    "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "States": {
                    "2": {
                      "GUID": "44b0c5",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": 4.499999,
                        "posY": 1.50422156,
                        "posZ": 7.000003,
                        "rotX": 0.0108915372,
                        "rotY": 180.0,
                        "rotZ": 0.00494912267,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    "3": {
                      "GUID": "5b38c6",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -38.8217163,
                        "posY": 1.99356019,
                        "posZ": 0.4159239,
                        "rotX": 359.9201,
                        "rotY": 272.9828,
                        "rotZ": 0.01687373,
                        "scaleX": 0.8,
                        "scaleY": 1.0,
                        "scaleZ": 0.8
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  }
                },
                {
                  "GUID": "f8574c",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -2.4883775E-08,
                    "posY": 1.50356472,
                    "posZ": 1.49999928,
                    "rotX": 0.006958472,
                    "rotY": 209.999969,
                    "rotZ": 0.009735595,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/vppt2my.png",
                    "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "States": {
                    "2": {
                      "GUID": "44b0c5",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": 4.499999,
                        "posY": 1.50422156,
                        "posZ": 7.000003,
                        "rotX": 0.0108915372,
                        "rotY": 180.0,
                        "rotZ": 0.00494912267,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    "3": {
                      "GUID": "5b38c6",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -38.8217163,
                        "posY": 1.99356019,
                        "posZ": 0.4159239,
                        "rotX": 359.9201,
                        "rotY": 272.9828,
                        "rotZ": 0.01687373,
                        "scaleX": 0.8,
                        "scaleY": 1.0,
                        "scaleZ": 0.8
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  }
                }
              ]
            },
            {
              "GUID": "e0b7f5",
              "Name": "Card",
              "Transform": {
                "posX": -29.0,
                "posY": 1.7836,
                "posZ": 19.0,
                "rotX": -5.141111E-06,
                "rotY": 179.999252,
                "rotZ": -7.010976E-08,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "[]",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 1114600,
              "SidewaysCard": false,
              "CustomDeck": {
                "11146": {
                  "FaceURL": "https://steamusercontent-a.akamaihd.net/ugc/1874087573755653629/A77401F8797D68D5D5B5440F2A1D8463A16F0C26/",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1874087573755653629/A77401F8797D68D5D5B5440F2A1D8463A16F0C26/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "e99298",
              "Name": "Card",
              "Transform": {
                "posX": -25.5,
                "posY": 1.7836051,
                "posZ": 13.9999981,
                "rotX": -5.03164347E-06,
                "rotY": 180.000656,
                "rotZ": 2.39124034E-07,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Le Chemin Enchanté",
              "Description": "Bois.",
              "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06049\",\n  \"locationBack\": {\n    \"connections\": \"Tee|Crescent|EnchantedWoods\",\n    \"icons\": \"Tilde\"\n  },\n  \"locationFront\": {\n    \"connections\": \"Tee|Crescent\",\n    \"icons\": \"Tilde\"\n  },\n  \"traits\": \"Woods.\",\n  \"type\": \"Location\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276519,
              "SidewaysCard": false,
              "CustomDeck": {
                "2765": {
                  "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                  "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            }
          ],
          "AttachedDecals": [
            {
              "Transform": {
                "posX": -0.0021877822,
                "posY": -0.08963572,
                "posZ": -0.00288731651,
                "rotX": 270.0,
                "rotY": 359.869568,
                "rotZ": 0.0,
                "scaleX": 2.00000215,
                "scaleY": 2.00000238,
                "scaleZ": 2.00000262
              },
              "CustomDecal": {
                "Name": "dunwich_back",
                "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/959719855119695911/931B9829687A20F4DEADB36DA57B7E6D76792231/",
                "Size": 7.4
              }
            }
          ]
        },
        {
          "GUID": "86793c",
          "Name": "Custom_Model_Bag",
          "Transform": {
            "posX": 18.0,
            "posY": 0.9799973,
            "posZ": 46.5000038,
            "rotX": -5.00501164E-06,
            "rotY": 180.0,
            "rotZ": 6.21892468E-07,
            "scaleX": 1.493596,
            "scaleY": 0.310884237,
            "scaleZ": 1.63552141
          },
          "Nickname": "IV-A : La Demeure des Dieux",
          "Description": "Les Dévoreurs de Rêves",
          "GMNotes": "La Demeure des Dieux",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "CustomMesh": {
            "MeshURL": "https://raw.githubusercontent.com/RobMayer/TTSLibrary/master/advboxes/tuckbox_h_MSH.obj",
            "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/781876499695136018/EF2515B5569697B81A425766F80E14F70B48AD93/",
            "NormalURL": "",
            "ColliderURL": "",
            "Convex": true,
            "MaterialIndex": 3,
            "TypeIndex": 6,
            "CustomShader": {
              "SpecularColor": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "SpecularIntensity": 0.0,
              "SpecularSharpness": 2.0,
              "FresnelStrength": 0.0
            },
            "CastShadows": true
          },
          "Bag": {
            "Order": 0
          },
          "LuaScript": "-- Utility memory bag by Directsun\r\n-- Version 2.7.0\r\n-- Fork of Memory Bag 2.0 by MrStump\r\n--\r\n-- Want to contribute? Create an issue or fork the code on GitHub and submit a pull request:\r\n-- https://github.com/sunflowermans/TTS-UtilityMemoryBag\r\n\r\n\r\nfunction updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction combineMemoryFromBagsWithin()\r\n    local bagObjList = self.getObjects()\r\n    for _, bagObj in ipairs(bagObjList) do\r\n        local data = bagObj.lua_script_state\r\n        if data ~= nil then\r\n            local j = JSON.decode(data)\r\n            if j ~= nil and j.ml ~= nil then\r\n                for guid, entry in pairs(j.ml) do\r\n                    memoryList[guid] = entry\r\n                end\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateMemoryWithMoves()\r\n    memoryList = memoryListBackup\r\n    --get the first transposed object's coordinates\r\n    local obj = getObjectFromGUID(moveGuid)\r\n\r\n    -- p1 is where needs to go, p2 is where it was\r\n    local refObjPos = memoryList[moveGuid].pos\r\n    local deltaPos = findOffsetDistance(obj.getPosition(), refObjPos, nil)\r\n    local movedRotation = obj.getRotation()\r\n    for guid, entry in pairs(memoryList) do\r\n        memoryList[guid].pos.x = entry.pos.x - deltaPos.x\r\n        memoryList[guid].pos.y = entry.pos.y - deltaPos.y\r\n        memoryList[guid].pos.z = entry.pos.z - deltaPos.z\r\n        -- memoryList[guid].rot.x = movedRotation.x\r\n        -- memoryList[guid].rot.y = movedRotation.y\r\n        -- memoryList[guid].rot.z = movedRotation.z\r\n    end\r\n\r\n    --theList[obj.getGUID()] = {\r\n    --    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n    --    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n    --    lock=obj.getLock()\r\n    --}\r\n    moveList = {}\r\nend\r\n\r\nfunction onload(saved_data)\r\n\r\n    fresh = true\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n\r\n    end\r\n\r\n    moveList = {}\r\n    moveGuid = nil\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        fresh = false\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\n function createSetupButton()\r\n    self.createButton({\r\n      label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n      position={0,0.1,-2.1}, rotation={0,0,0}, height=275, width=625,\r\n      font_size=150, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n end\r\n\r\n--Triggered by Transpose button\r\nfunction buttonClick_transpose()\r\n    moveGuid = nil\r\n    broadcastToAll(\"Select one object and move it- all objects will move relative to the new location\", {0.75, 0.75, 1})\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(true)\r\n    createSetupActionButtons(true)\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(false)\r\n    createSetupActionButtons(false)\r\nend\r\n\r\nfunction getAllObjectsInMemory()\r\n    local objTable = {}\r\n    local curObj = {}\r\n\r\n    for guid in pairs(memoryListBackup) do\r\n        curObj = getObjectFromGUID(guid)\r\n        table.insert(objTable, curObj)\r\n    end\r\n\r\n    return objTable\r\n    -- return getAllObjects()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects(move)\r\n    buttonIndexMap = {}\r\n    local howManyButtons = 0\r\n\r\n    local objsToHaveButtons = {}\r\n    if move == true then\r\n        objsToHaveButtons = getAllObjectsInMemory()\r\n    else\r\n        objsToHaveButtons = getAllObjects()\r\n    end\r\n\r\n    for _, obj in ipairs(objsToHaveButtons) do\r\n        if obj ~= self then\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1* 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor + 2\r\n            objPos.z = objPos.z * globalScaleFactor * 0.9\r\n            --Workaround for custom PDFs\r\n            if obj.Book then\r\n                objPos.y = objPos.y + 0.5\r\n            end\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(obj, move) end\r\n            local color = {0.75,0.25,0.25,0.6}\r\n            local colorMove = {0,0,1,0.6}\r\n            if move == true then\r\n                color = colorMove\r\n            end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=500, width=500,\r\n                color=color,\r\n            })\r\n            buttonIndexMap[obj.getGUID()] = howManyButtons\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons(move)\r\n    self.createButton({\r\n        label=\"Annuler\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n      position={-0.7,0.1,2.1}, rotation={0,0,0}, height=275, width=625,\r\n      font_size=145, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    self.createButton({\r\n        label=\"Valider\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={-0.7,0.3,2.6}, rotation={0,0,0}, height=275, width=625,\r\n        font_size=140, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    if move == false then\r\n      self.createButton({\r\n          label=\"Ajouter\", click_function=\"buttonClick_add\", function_owner=self,\r\n          position={0.7,0.3,2.1}, rotation={0,0,0}, height=275, width=625,\r\n          font_size=140, color={0,0,0}, font_color={0.25,1,0.25}\r\n      })\r\n\r\n        self.createButton({\r\n            label=\"Sélection\", click_function=\"editDragSelection\", function_owner=self,\r\n            position={-0.7,0.3,3.1}, rotation={0,0,0}, height=275, width=625,\r\n            font_size=125, color={0,0,0}, font_color={1,1,1}\r\n        })\r\n\r\n        if fresh == false then\r\n                self.createButton({\r\n                    label=\"Mise à jour\", click_function=\"buttonClick_setNew\", function_owner=self,\r\n                    position={0.7,0.3,3.1}, rotation={0,0,0}, height=275, width=625,\r\n                    font_size=105, color={0,0,0}, font_color={0.75,0.75,1}\r\n                })\r\n                self.createButton({\r\n                    label=\"Retirer\", click_function=\"buttonClick_remove\", function_owner=self,\r\n                    position={0.7,0.3,2.6}, rotation={0,0,0}, height=275, width=625,\r\n                    font_size=140, color={0,0,0}, font_color={1,0.25,0.25}\r\n                })\r\n            end\r\n        end\r\n\r\n        self.createButton({\r\n            label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n            position={0,0.3,-2.1}, rotation={0,0,0}, height=275, width=625,\r\n            font_size=165, color={0,0,0}, font_color={1,1,1}\r\n        })\r\n    end\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(obj, move)\r\n    local index = buttonIndexMap[obj.getGUID()]\r\n    local colorMove = {0,0,1,0.6}\r\n    local color = {0,1,0,0.6}\r\n\r\n    previousGuid = selectedGuid\r\n    selectedGuid = obj.getGUID()\r\n\r\n    theList = memoryList\r\n    if move == true then\r\n        theList = moveList\r\n        if previousGuid ~= nil and previousGuid ~= selectedGuid then\r\n            local prevObj = getObjectFromGUID(previousGuid)\r\n            prevObj.highlightOff()\r\n            self.editButton({index=previousIndex, color=colorMove})\r\n            theList[previousGuid] = nil\r\n        end\r\n        previousIndex = index\r\n    end\r\n\r\n    if theList[selectedGuid] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        theList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock(),\r\n            tint=obj.getColorTint()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        if move == true then\r\n            color = colorMove\r\n        end\r\n        self.editButton({index=index, color=color})\r\n        theList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\nfunction editDragSelection(bagObj, player, remove)\r\n    local selectedObjs = Player[player].getSelectedObjects()\r\n    if not remove then\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            --Ignore if already in the memory list, or does not have a button\r\n            if index and not memoryList[obj.getGUID()] then\r\n                self.editButton({index=index, color={0,1,0,0.6}})\r\n                --Adding pos/rot to memory table\r\n                local pos, rot = obj.getPosition(), obj.getRotation()\r\n                --I need to add it like this or it won't save due to indexing issue\r\n                memoryList[obj.getGUID()] = {\r\n                    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n                    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n                    lock=obj.getLock(),\r\n                    tint=obj.getColorTint()\r\n                }\r\n                obj.highlightOn({0,1,0})\r\n            end\r\n        end\r\n    else\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            if index and memoryList[obj.getGUID()] then\r\n                color = {0.75,0.25,0.25,0.6}\r\n                self.editButton({index=index, color=color})\r\n                memoryList[obj.getGUID()] = nil\r\n                obj.highlightOff()\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Sélection annulée\", {1,1,1})\r\n    moveGuid = nil\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    fresh = false\r\n    if next(moveList) ~= nil then\r\n        for guid in pairs(moveList) do\r\n            moveGuid = guid\r\n        end\r\n        if memoryListBackup[moveGuid] == nil then\r\n            broadcastToAll(\"Item selected for moving is not already in memory\", {1, 0.25, 0.25})\r\n        else\r\n            broadcastToAll(\"Moving all items in memory relative to new objects position!\", {0.75, 0.75, 1})\r\n            self.clearButtons()\r\n            self.clearInputs()\r\n            createMemoryActionButtons()\r\n            local count = 0\r\n            for guid in pairs(moveList) do\r\n                moveGuid = guid\r\n                count = count + 1\r\n                local obj = getObjectFromGUID(guid)\r\n                if obj ~= nil then obj.highlightOff() end\r\n            end\r\n            updateMemoryWithMoves()\r\n            updateSave()\r\n            buttonClick_place()\r\n        end\r\n    elseif next(memoryList) == nil and moveGuid == nil then\r\n        memoryList = memoryListBackup\r\n        broadcastToAll(\"No selections made.\", {0.75, 0.25, 0.25})\r\n    end\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\n    moveGuid = nil\r\nend\r\n\r\nfunction combineTables(first_table, second_table)\r\n    for k,v in pairs(second_table) do first_table[k] = v end\r\nend\r\n\r\nfunction buttonClick_add()\r\n    fresh = false\r\n    combineTables(memoryList, memoryListBackup)\r\n    broadcastToAll(\"Adding internal bags and selections to existing memory\", {0.25, 0.75, 0.25})\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_remove()\r\n    broadcastToAll(\"Removing Selected Entries From Memory\", {1.0, 0.25, 0.25})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        memoryListBackup[guid] = nil\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Removed\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_setNew()\r\n    broadcastToAll(\"Setting new position relative to items in memory\", {0.75, 0.75, 1})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        guid = obj.guid\r\n        if memoryListBackup[guid] ~= nil then\r\n            count = count + 1\r\n            memoryListBackup[guid].pos = obj.getPosition()\r\n            memoryListBackup[guid].rot = obj.getRotation()\r\n            memoryListBackup[guid].lock = obj.getLock()\r\n            memoryListBackup[guid].tint = obj.getColorTint()\r\n        end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    fresh = true\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Placer\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0.7,0.1,2.2}, rotation={0,0,0}, height=275, width=625,\r\n        font_size=150, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Ranger\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={-0.7,0.1,2.2}, rotation={0,0,0}, height=275, width=625,\r\n        font_size=150, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.1,-2.2}, rotation={0,0,0}, height=275, width=625,\r\n        font_size=150, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    ---    self.createButton({\r\n    ---      label=\"Bouger\", click_function=\"buttonClick_transpose\", function_owner=self,\r\n    ---      position={-2,0.3,0.8}, rotation={0,270,0}, height=350, width=800,\r\n    ---      font_size=250, color={0,0,0}, font_color={0.75,0.75,1}\r\n    ---\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n            obj.setColorTint(entry.tint)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot, smooth=false\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    item.setColorTint(entry.tint)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objets placés\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objets rangés\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local yOffset = 0\r\n    if obj ~= nil then\r\n        local bounds = obj.getBounds()\r\n        yOffset = (bounds.size.y - bounds.offset.y)\r\n    end\r\n    local deltaPos = {}\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + yOffset\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n    local objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n    local x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n    local z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n    --return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\nfunction rotateMyCoordinates(desiredPos, obj)\r\n    local angle = math.rad(obj.getRotation().y)\r\n    local x = desiredPos.x * math.sin(angle)\r\n    local z = desiredPos.z * math.cos(angle)\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n    local mult = 10^(dec or 0)\r\n    return math.floor(num * mult + 0.5) / mult\r\nend\r\n\r\n\r\n--[[\r\nThis object provides access to a variable stored on the \"Global script\".\r\nThe variable holds the GUIDs for every Utility Memory Bag in the scene.\r\nExample:\r\n{'805ebd', '35cc21', 'fc8886', 'f50264', '5f5f63'}\r\n--]]\r\nAllMemoryBagsInScene = {\r\n    NAME_OF_GLOBAL_VARIABLE = \"_UtilityMemoryBag_AllMemoryBagsInScene\"\r\n}\r\n\r\nfunction AllMemoryBagsInScene:add(guid)\r\n    local guids = Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\n    table.insert(guids, guid)\r\n    Global.setTable(self.NAME_OF_GLOBAL_VARIABLE, guids)\r\nend\r\n\r\nfunction AllMemoryBagsInScene:getGuidList()\r\n    return Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\nend",
          "LuaScriptState": "{\"ml\":{\"0c41f0\":{\"lock\":false,\"pos\":{\"x\":30.5,\"y\":1.69543433189392,\"z\":-3.00009989738464},\"rot\":{\"x\":-0.00059117516502738,\"y\":180.000549316406,\"z\":180.001068115234},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"1e9198\":{\"lock\":false,\"pos\":{\"x\":-29.5000019073486,\"y\":1.76630043983459,\"z\":13.4999980926514},\"rot\":{\"x\":4.34903677160037E-06,\"y\":0.000706720747984946,\"z\":-4.45569753537711E-07},\"tint\":{\"a\":0,\"b\":0,\"g\":0,\"r\":0}},\"1fc3cc\":{\"lock\":false,\"pos\":{\"x\":-29.9120006561279,\"y\":1.82881963253021,\"z\":3.00010871887207},\"rot\":{\"x\":6.53319102639216E-06,\"y\":179.988586425781,\"z\":8.25056577014038E-06},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"20bdd8\":{\"lock\":false,\"pos\":{\"x\":-24.5955390930176,\"y\":1.77867364883423,\"z\":6.97504377365112},\"rot\":{\"x\":0.00223662471398711,\"y\":180.461822509766,\"z\":359.984069824219},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"254d38\":{\"lock\":false,\"pos\":{\"x\":-23,\"y\":1.83530056476593,\"z\":11.5},\"rot\":{\"x\":-6.28083807896473E-06,\"y\":179.995254516602,\"z\":4.2585608639456E-07},\"tint\":{\"a\":1,\"b\":0,\"g\":0,\"r\":0.614982545375824}},\"2c9a74\":{\"lock\":false,\"pos\":{\"x\":-29.4129333496094,\"y\":1.82772994041443,\"z\":6.99956130981445},\"rot\":{\"x\":0.00572987087070942,\"y\":180.030242919922,\"z\":0.0594230070710182},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"31a6ea\":{\"lock\":false,\"pos\":{\"x\":-26.5,\"y\":1.76630032062531,\"z\":15.4999990463257},\"rot\":{\"x\":4.90683578391327E-06,\"y\":3.42080020345747E-05,\"z\":-2.49652458705896E-07},\"tint\":{\"a\":0,\"b\":0,\"g\":0,\"r\":0}},\"31e118\":{\"lock\":false,\"pos\":{\"x\":-30.500020980835,\"y\":1.77890586853027,\"z\":2.99998092651367},\"rot\":{\"x\":-1.04712523807393E-06,\"y\":179.988647460938,\"z\":-2.71740609605331E-05},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"382410\":{\"lock\":false,\"pos\":{\"x\":-31.9115695953369,\"y\":1.82890164852142,\"z\":15.018985748291},\"rot\":{\"x\":4.8415995479445E-06,\"y\":179.756301879883,\"z\":-1.34503843582934E-05},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"38bcdd\":{\"lock\":false,\"pos\":{\"x\":6.49999856948853,\"y\":1.52059996128082,\"z\":22.5000038146973},\"rot\":{\"x\":0.0108914943411946,\"y\":179.999893188477,\"z\":0.00494822533801198},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"408c66\":{\"lock\":false,\"pos\":{\"x\":35.5,\"y\":1.54540050029755,\"z\":-1.27215528777924E-07},\"rot\":{\"x\":0.00059115793555975,\"y\":0.000245321600232273,\"z\":-0.0010703286388889},\"tint\":{\"a\":0,\"b\":0,\"g\":0,\"r\":0}},\"421e8b\":{\"lock\":false,\"pos\":{\"x\":-24.0168972015381,\"y\":1.82786750793457,\"z\":6.97037410736084},\"rot\":{\"x\":0.00298681505955756,\"y\":180.462066650391,\"z\":0.0702717527747154},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"48d3a6\":{\"lock\":false,\"pos\":{\"x\":35.4983940124512,\"y\":1.54336619377136,\"z\":2.99994039535522},\"rot\":{\"x\":0.081335261464119,\"y\":180.046325683594,\"z\":0.073170468211174},\"tint\":{\"a\":1,\"b\":0.534843266010284,\"g\":0.499054431915283,\"r\":0}},\"570d6e\":{\"lock\":false,\"pos\":{\"x\":-32.5000038146973,\"y\":1.76630043983459,\"z\":13.4999980926514},\"rot\":{\"x\":4.78223228128627E-06,\"y\":-0.00140894099604338,\"z\":-3.14789645017299E-07},\"tint\":{\"a\":0,\"b\":0,\"g\":0,\"r\":0}},\"6915db\":{\"lock\":false,\"pos\":{\"x\":-28.824800491333,\"y\":1.87915503978729,\"z\":6.99926376342773},\"rot\":{\"x\":0.00586773036047816,\"y\":180.028259277344,\"z\":0.230804711580276},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"6c6c9f\":{\"lock\":false,\"pos\":{\"x\":13.5000104904175,\"y\":1.51657378673553,\"z\":4.50000190734863},\"rot\":{\"x\":0.0108915343880653,\"y\":179.999664306641,\"z\":180.004959106445},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"6de436\":{\"lock\":false,\"pos\":{\"x\":-29.5000019073486,\"y\":1.83530068397522,\"z\":11.4999980926514},\"rot\":{\"x\":-3.47475747730641E-06,\"y\":180.015121459961,\"z\":5.91890113810223E-07},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"718267\":{\"lock\":false,\"pos\":{\"x\":3,\"y\":1.5018,\"z\":-6.4999},\"rot\":{\"x\":0.0109,\"y\":180.0095,\"z\":0.005},\"tint\":{\"a\":1,\"b\":0.701960802078247,\"g\":0.800000011920929,\"r\":0.874509811401367}},\"7234af\":{\"lock\":false,\"pos\":{\"x\":4.49999856948853,\"y\":1.50460183620453,\"z\":9.00000286102295},\"rot\":{\"x\":0.0108897536993027,\"y\":180.020385742188,\"z\":0.00495552876964211},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"750979\":{\"lock\":false,\"pos\":{\"x\":-32.4831657409668,\"y\":1.77890491485596,\"z\":15.0148649215698},\"rot\":{\"x\":-1.44195803386538E-06,\"y\":179.729156494141,\"z\":-2.54565893555991E-05},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"769229\":{\"lock\":false,\"pos\":{\"x\":4.50000190734863,\"y\":1.51906192302704,\"z\":13.4999942779541},\"rot\":{\"x\":0.0108914449810982,\"y\":180.00065612793,\"z\":0.00494835339486599},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"799fdc\":{\"lock\":false,\"pos\":{\"x\":17.5016307830811,\"y\":1.53598833084106,\"z\":-6.02104473114014},\"rot\":{\"x\":0.00501943798735738,\"y\":89.97607421875,\"z\":359.988555908203},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"83fecf\":{\"lock\":false,\"pos\":{\"x\":-2.50000166893005,\"y\":1.51966643333435,\"z\":13.5000038146973},\"rot\":{\"x\":0.0108931120485067,\"y\":179.980514526367,\"z\":0.00494459364563227},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"868c61\":{\"lock\":false,\"pos\":{\"x\":4.50018978118896,\"y\":1.51735103130341,\"z\":4.49998331069946},\"rot\":{\"x\":0.0108906244859099,\"y\":180.011047363281,\"z\":0.00495031708851457},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"86f98f\":{\"lock\":false,\"pos\":{\"x\":-23.4380493164063,\"y\":1.87701201438904,\"z\":6.96577072143555},\"rot\":{\"x\":0.00298921531066298,\"y\":180.46044921875,\"z\":0.0702718049287796},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"925067\":{\"lock\":false,\"pos\":{\"x\":4.49999856948853,\"y\":1.50631260871887,\"z\":18.0000038146973},\"rot\":{\"x\":0.0108896382153034,\"y\":180.020355224609,\"z\":0.00495587615296245},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"925c05\":{\"lock\":false,\"pos\":{\"x\":15.4999980926514,\"y\":1.51811194419861,\"z\":13.5000038146973},\"rot\":{\"x\":0.0108915334567428,\"y\":179.99983215332,\"z\":0.00494819320738316},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"9e20db\":{\"lock\":false,\"pos\":{\"x\":8.99999904632568,\"y\":1.50335776805878,\"z\":4.50000286102295},\"rot\":{\"x\":0.00494770333170891,\"y\":89.9995803833008,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"a1f597\":{\"lock\":false,\"pos\":{\"x\":-23,\"y\":1.76630043983459,\"z\":13.5},\"rot\":{\"x\":5.011579105485E-06,\"y\":0.000878803839441389,\"z\":6.65570780711278E-07},\"tint\":{\"a\":0,\"b\":0,\"g\":0,\"r\":0}},\"b4357e\":{\"lock\":false,\"pos\":{\"x\":4.50010871887207,\"y\":1.52077269554138,\"z\":22.5000228881836},\"rot\":{\"x\":0.0108908507972956,\"y\":180.008117675781,\"z\":0.00494981836527586},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"bc5efd\":{\"lock\":false,\"pos\":{\"x\":23.5012950897217,\"y\":1.51380479335785,\"z\":-5.52293825149536},\"rot\":{\"x\":0.0108914347365499,\"y\":180.000534057617,\"z\":0.0049483347684145},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"c3e9d8\":{\"lock\":false,\"pos\":{\"x\":-23.0000057220459,\"y\":1.77890622615814,\"z\":2.99999237060547},\"rot\":{\"x\":-5.00969326822087E-06,\"y\":180.001556396484,\"z\":-1.32768690264129E-07},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"c56db4\":{\"lock\":false,\"pos\":{\"x\":0.0154812186956406,\"y\":1.50584447383881,\"z\":13.4999971389771},\"rot\":{\"x\":0.00494774850085378,\"y\":90.000244140625,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"d22da8\":{\"lock\":false,\"pos\":{\"x\":-4.49989652633667,\"y\":1.51983916759491,\"z\":13.500020980835},\"rot\":{\"x\":0.0108907008543611,\"y\":180.009704589844,\"z\":0.0049501359462738},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"d4f4a8\":{\"lock\":false,\"pos\":{\"x\":-26.5000076293945,\"y\":1.77890622615814,\"z\":2.99999189376831},\"rot\":{\"x\":-5.02666352986125E-06,\"y\":179.981735229492,\"z\":2.75416113026949E-07},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"d7b302\":{\"lock\":false,\"pos\":{\"x\":-28.2369689941406,\"y\":1.9359974861145,\"z\":6.99913835525513},\"rot\":{\"x\":0.00581301283091307,\"y\":180.024459838867,\"z\":0.230804845690727},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"dc04a6\":{\"lock\":false,\"pos\":{\"x\":-22.8598937988281,\"y\":1.92565834522247,\"z\":6.96132946014404},\"rot\":{\"x\":0.00337142241187394,\"y\":180.45378112793,\"z\":0.0940876007080078},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"dfa076\":{\"lock\":false,\"pos\":{\"x\":-26.5,\"y\":1.76630043983459,\"z\":13.4999990463257},\"rot\":{\"x\":5.01133445141022E-06,\"y\":-0.00107256567571312,\"z\":1.58596293431401E-07},\"tint\":{\"a\":0,\"b\":0,\"g\":0,\"r\":0}},\"eb778a\":{\"lock\":false,\"pos\":{\"x\":6.49999856948853,\"y\":1.51717829704285,\"z\":4.50000381469727},\"rot\":{\"x\":0.0108910324051976,\"y\":180.005218505859,\"z\":0.00494930054992437},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"f0513a\":{\"lock\":false,\"pos\":{\"x\":12.5010023117065,\"y\":1.53642880916595,\"z\":-6.01680088043213},\"rot\":{\"x\":0.00495085772126913,\"y\":90.0149307250977,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"fd22d2\":{\"lock\":false,\"pos\":{\"x\":-27.6525115966797,\"y\":1.99322545528412,\"z\":6.99880409240723},\"rot\":{\"x\":0.00595576129853725,\"y\":180.027297973633,\"z\":0.257890820503235},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"fed0af\":{\"lock\":false,\"pos\":{\"x\":-30.0009956359863,\"y\":1.77870440483093,\"z\":6.9998722076416},\"rot\":{\"x\":0.00562317436560988,\"y\":180.0302734375,\"z\":359.980804443359},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}}}}",
          "XmlUI": "",
          "ContainedObjects": [
            {
              "GUID": "0c41f0",
              "Name": "Deck",
              "Transform": {
                "posX": 30.5,
                "posY": 1.65097809,
                "posZ": -3.00010014,
                "rotX": -0.0005912582,
                "rotY": 180.000549,
                "rotZ": 180.001068,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Deck Rencontre",
              "Description": "La Demeure des Dieux",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": false,
              "SidewaysCard": false,
              "DeckIDs": [
                18717,
                18721,
                18718,
                18723,
                18720,
                18719,
                276643,
                276644,
                276645,
                278833,
                275828,
                278834,
                278835,
                278836,
                278837,
                278838,
                304546,
                304547,
                304553,
                275842,
                275840,
                275841,
                275838,
                275839,
                275830,
                275831,
                275829
              ],
              "CustomDeck": {
                "187": {
                  "FaceURL": "https://i.imgur.com/f8FRV80.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                },
                "2766": {
                  "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                },
                "2788": {
                  "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                },
                "2758": {
                  "FaceURL": "https://i.imgur.com/NVBM8Hg.jpg",
                  "BackURL": "https://i.imgur.com/LXu6uGK.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                },
                "3045": {
                  "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "7db7c9",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 9.750837,
                    "posZ": -3.0001,
                    "rotX": -0.000590983,
                    "rotY": 180.000549,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Mystérieuse Mélopée",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"01171\",\n  \"traits\": \"Hex.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 18717,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "187": {
                      "FaceURL": "https://i.imgur.com/f8FRV80.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "898692",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 9.55083752,
                    "posZ": -3.0001,
                    "rotX": -0.000590983,
                    "rotY": 180.000549,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Mystérieuse Mélopée",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"01171\",\n  \"traits\": \"Hex.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 18721,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "187": {
                      "FaceURL": "https://i.imgur.com/f8FRV80.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "089a5c",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 9.003318,
                    "posZ": -3.0001,
                    "rotX": -0.0005905862,
                    "rotY": 180.000549,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Magicien de l'Ordre",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 2,\n  \"id\": \"01170\",\n  \"traits\": \"Humanoid. Cultist.\",\n  \"type\": \"Enemy\",\n  \"uses\": {\n    \"count\": 0,\n    \"token\": \"doom\",\n    \"type\": \"Doom\"\n  }\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 18718,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "187": {
                      "FaceURL": "https://i.imgur.com/f8FRV80.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "0cf87d",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 9.150837,
                    "posZ": -3.0001,
                    "rotX": -0.000590983,
                    "rotY": 180.000549,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Acolyte",
                  "Description": "",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"01131\",\n  \"locationBack\": {\n    \"connections\": \"Crescent|Tee\",\n    \"icons\": \"Triangle\",\n    \"uses\": {\n      \"countPerInvestigator\": 2,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    },\n    \"victory\": 1\n  },\n  \"locationFront\": {\n    \"connections\": \"Crescent|Tee\",\n    \"icons\": \"Triangle\"\n  },\n  \"traits\": \"Arkham.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 18723,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "187": {
                      "FaceURL": "https://i.imgur.com/f8FRV80.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "3da314",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 8.950837,
                    "posZ": -3.0001,
                    "rotX": -0.000590983,
                    "rotY": 180.000549,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Acolyte",
                  "Description": "",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"health\": 1,\n  \"id\": \"01169\",\n  \"traits\": \"Humanoid. Cultist.\",\n  \"type\": \"Enemy\",\n  \"uses\": {\n    \"count\": 1,\n    \"token\": \"doom\",\n    \"type\": \"Doom\"\n  }\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 18720,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "187": {
                      "FaceURL": "https://i.imgur.com/f8FRV80.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "8a91f9",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 8.403318,
                    "posZ": -3.0001,
                    "rotX": -0.000590589363,
                    "rotY": 180.000549,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Acolyte",
                  "Description": "",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"health\": 1,\n  \"id\": \"01169\",\n  \"traits\": \"Humanoid. Cultist.\",\n  \"type\": \"Enemy\",\n  \"uses\": {\n    \"count\": 1,\n    \"token\": \"doom\",\n    \"type\": \"Doom\"\n  }\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 18719,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "187": {
                      "FaceURL": "https://i.imgur.com/f8FRV80.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "2b562d",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 8.55083752,
                    "posZ": -3.0001,
                    "rotX": -0.000590983,
                    "rotY": 180.000549,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Murmures d'Hypnos",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06090\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276643,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "10e85a",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 8.350837,
                    "posZ": -3.0001,
                    "rotX": -0.000590983,
                    "rotY": 180.000549,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Murmures d'Hypnos",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06090\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276644,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "7e2db0",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 8.150837,
                    "posZ": -3.0001,
                    "rotX": -0.000590983,
                    "rotY": 180.000549,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Murmures d'Hypnos",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06090\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276645,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "bbbce0",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 7.950837,
                    "posZ": -3.0001,
                    "rotX": -0.000590983,
                    "rotY": 180.000549,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Profond Sommeil",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06095\",\n  \"traits\": \"Curse.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 278833,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2788": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "c1f5f8",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 5.65772867,
                    "posZ": -3.00010014,
                    "rotX": -0.000590022362,
                    "rotY": 180.000549,
                    "rotZ": 180.001053,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Dhole des Terres Désolées",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 6,\n  \"id\": \"06312\",\n  \"traits\": \"Monster.\",\n  \"type\": \"Enemy\",\n  \"victory\": 1\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 275828,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2758": {
                      "FaceURL": "https://i.imgur.com/NVBM8Hg.jpg",
                      "BackURL": "https://i.imgur.com/LXu6uGK.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "5dbd5f",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 7.403318,
                    "posZ": -3.0001,
                    "rotX": -0.000590521842,
                    "rotY": 180.000549,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Profond Sommeil",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06095\",\n  \"traits\": \"Curse.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 278834,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2788": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "9cb55c",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 7.55083752,
                    "posZ": -3.0001,
                    "rotX": -0.000590983,
                    "rotY": 180.000549,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Somniphobie",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06094\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 278835,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2788": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "bc46c1",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 7.35083675,
                    "posZ": -3.0001,
                    "rotX": -0.000590983,
                    "rotY": 180.000549,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Somniphobie",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06094\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 278836,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2788": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "a9c5d2",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 6.8033185,
                    "posZ": -3.0001,
                    "rotX": -0.0005905863,
                    "rotY": 180.000549,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Malédiction du Rêveur",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06093\",\n  \"traits\": \"Curse.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 278837,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2788": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "f7536f",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 6.950838,
                    "posZ": -3.0001,
                    "rotX": -0.000590983,
                    "rotY": 180.000549,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Malédiction du Rêveur",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06093\",\n  \"traits\": \"Curse.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 278838,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2788": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "6fbd44",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 6.75083828,
                    "posZ": -3.0001,
                    "rotX": -0.000590983,
                    "rotY": 180.000549,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Loi de 'Ygiroth (Pandémonium)",
                  "Description": "",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"hidden\": \"true\",\n  \"id\": \"06089\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 304546,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "3045": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "b43290",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 6.203319,
                    "posZ": -3.0001,
                    "rotX": -0.00059062487,
                    "rotY": 180.000549,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Loi de 'Ygiroth (Discorde)",
                  "Description": "",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"hidden\": \"true\",\n  \"id\": \"06088\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 304547,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "3045": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "fd8f43",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 6.350838,
                    "posZ": -3.0001,
                    "rotX": -0.000590983,
                    "rotY": 180.000549,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Loi de 'Ygiroth (Chaos)",
                  "Description": "",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"hidden\": \"true\",\n  \"id\": \"06087\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 304553,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "3045": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "c6bec3",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 6.150838,
                    "posZ": -3.0001,
                    "rotX": -0.000590983,
                    "rotY": 180.000549,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Abandonné par les Dieux",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06322\",\n  \"traits\": \"Curse.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 275842,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2758": {
                      "FaceURL": "https://i.imgur.com/NVBM8Hg.jpg",
                      "BackURL": "https://i.imgur.com/LXu6uGK.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "42313a",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 5.603319,
                    "posZ": -3.0001,
                    "rotX": -0.0005905831,
                    "rotY": 180.000549,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Abandonné par les Dieux",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06322\",\n  \"traits\": \"Curse.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 275840,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2758": {
                      "FaceURL": "https://i.imgur.com/NVBM8Hg.jpg",
                      "BackURL": "https://i.imgur.com/LXu6uGK.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "6d624a",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 5.75083828,
                    "posZ": -3.0001,
                    "rotX": -0.000590983,
                    "rotY": 180.000549,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Voyage Agité (Mensonges)",
                  "Description": "",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"hidden\": \"true\",\n  \"id\": \"06321\",\n  \"traits\": \"Curse.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 275841,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2758": {
                      "FaceURL": "https://i.imgur.com/NVBM8Hg.jpg",
                      "BackURL": "https://i.imgur.com/LXu6uGK.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "891858",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 5.550838,
                    "posZ": -3.0001,
                    "rotX": -0.000590983,
                    "rotY": 180.000549,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Voyage Agité (Adversité)",
                  "Description": "",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"hidden\": \"true\",\n  \"id\": \"06320\",\n  \"traits\": \"Curse.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 275838,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2758": {
                      "FaceURL": "https://i.imgur.com/NVBM8Hg.jpg",
                      "BackURL": "https://i.imgur.com/LXu6uGK.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "503e8a",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 5.350838,
                    "posZ": -3.0001,
                    "rotX": -0.000590983,
                    "rotY": 180.000549,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Voyage Agité (Fausseté)",
                  "Description": "",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"hidden\": \"true\",\n  \"id\": \"06319\",\n  \"traits\": \"Curse.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 275839,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2758": {
                      "FaceURL": "https://i.imgur.com/NVBM8Hg.jpg",
                      "BackURL": "https://i.imgur.com/LXu6uGK.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "3240c3",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 5.150838,
                    "posZ": -3.0001,
                    "rotX": -0.000590983,
                    "rotY": 180.000549,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Menteur sans Visage",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 4,\n  \"id\": \"06313\",\n  \"traits\": \"Monster. Cultist. Servitor.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 275830,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2758": {
                      "FaceURL": "https://i.imgur.com/NVBM8Hg.jpg",
                      "BackURL": "https://i.imgur.com/LXu6uGK.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "099f7e",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 4.950838,
                    "posZ": -3.0001,
                    "rotX": -0.000590983,
                    "rotY": 180.000549,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Menteur sans Visage",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 4,\n  \"id\": \"06313\",\n  \"traits\": \"Monster. Cultist. Servitor.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 275831,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2758": {
                      "FaceURL": "https://i.imgur.com/NVBM8Hg.jpg",
                      "BackURL": "https://i.imgur.com/LXu6uGK.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "48dc29",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 4.75083828,
                    "posZ": -3.0001,
                    "rotX": -0.000590983,
                    "rotY": 180.000549,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Menteur sans Visage",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 4,\n  \"id\": \"06313\",\n  \"traits\": \"Monster. Cultist. Servitor.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 275829,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2758": {
                      "FaceURL": "https://i.imgur.com/NVBM8Hg.jpg",
                      "BackURL": "https://i.imgur.com/LXu6uGK.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "1e9198",
              "Name": "Custom_Model",
              "Transform": {
                "posX": -29.5000038,
                "posY": 1.77100027,
                "posZ": 13.4999962,
                "rotX": 5.073796E-06,
                "rotY": 0.0006381709,
                "rotZ": 3.30340526E-07,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Tour Abandonnée",
              "Description": "Place 4 lieux Tour Abandonnée",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.0,
                "g": 0.0,
                "b": 0.0,
                "a": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": true,
              "Grid": true,
              "Snap": false,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": false,
              "Tooltip": false,
              "GridProjection": true,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/1478820768302617365/27883B7913E0E69143C3AA03493B7E7C4E8C29C0/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 1,
                "TypeIndex": 0,
                "CastShadows": true
              },
              "LuaScript": "-- Code for bag to identify text tool objects\r\nmovableTextTool_cowgoesmoo33 = true\r\n\r\n-- Number of characters before the text box width expands.\r\nEXPAND_INTERVAL = 20\r\n\r\n-- This table controls what is passed between save/load\r\ndata = {}\r\n\r\nfunction onLoad(saved_data)\r\n  if saved_data ~= '' then\r\n    data = JSON.decode(saved_data)\r\n    if data.text ~= '' then\r\n      self.interactable = data.interactable\r\n      staticMode()\r\n      return\r\n    end\r\n  else\r\n    data = {size=200, color=Color(0,0,0), text='', interactable=true,\r\n        enter_to_finish=false, autolock=false, autolift=false,\r\n        hover_height=0.05, box_transparency=1}\r\n  end\r\n\r\n  inputMode()\r\nend\r\n\r\n-- True if in the middle of delay after pressing Enter (with enter_to_finish on)\r\nfinishing = false\r\nfunction input_func(obj, color, input, stillEditing)\r\n  local params = getBox(input)\r\n  if params then\r\n    params.value = input\r\n    self.editInput(params)\r\n  end\r\n\r\n  if not stillEditing then\r\n    data.text = input\r\n    updateState()\r\n    if input ~= '' then staticMode(color) end\r\n  elseif data.enter_to_finish then\r\n    -- If enter is pressed: remove last newline and force finish\r\n    if not finishing and input:sub(-1) == '\\n' then\r\n      finishing = true\r\n      -- Delay to avoid user's Enter keypress being detected (opens chat box)\r\n      Wait.frames(function()\r\n        input = input:sub(1, -2)\r\n        data.text = input\r\n        updateState()\r\n        if input ~= '' then staticMode(color) else inputMode() end\r\n        finishing = false\r\n      end, 10)\r\n    end\r\n  end\r\nend\r\n\r\n-- When the inpupt box appears and lets the player type in it.\r\nfunction inputMode()\r\n  self.clearContextMenu()\r\n  self.clearInputs()\r\n  self.clearButtons()\r\n\r\n  local size = getBox(data.text, true)\r\n\r\n  self.createInput({\r\n    input_function = \"input_func\",\r\n    function_owner = self,\r\n    label          = \"Type Here\",\r\n    alignment      = 3,\r\n    position       = {x=0, y=data.hover_height, z=0},\r\n    rotation       = {0, 180, 0},\r\n    width          = size.width,\r\n    height         = size.height,\r\n    color          = getBackground(data.color),\r\n    font_color     = data.color,\r\n    font_size      = data.size,\r\n    value          = data.text,\r\n  })\r\n\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\nend\r\n\r\n-- When the input box disappears and displays the text.\r\nfunction staticMode(player)\r\n  self.clearContextMenu()\r\n  if data.autolock then\r\n    self.locked = true\r\n  end\r\n  if self.getInputs() and #self.getInputs() ~= 0 then\r\n    self.removeInput(0)\r\n  end\r\n\r\n  -- Clear from selecting player\r\n  if player then\r\n    self.removeFromPlayerSelection(player)\r\n  end\r\n\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  self.createButton({\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=self,\r\n    position={0,data.hover_height,0}, rotation={0,180,0}, height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  })\r\n\r\n  self.addContextMenuItem('Edit Text', function(color)\r\n    self.removeFromPlayerSelection(color)\r\n    inputMode()\r\n  end)\r\n  self.addContextMenuItem('Clear', function(color)\r\n    applyMultiple(color, 'clear', _, true)\r\n  end)\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\n  self.addContextMenuItem('Permanently Attach', attemptAttach)\r\n  self.addContextMenuItem('Permalock', function(color)\r\n    applyMultiple(color, 'permalock', _, true)\r\n  end)\r\nend\r\n\r\nfunction changeSize(params)\r\n  local delta = params[1]\r\n  local newSize = data.size + delta\r\n  if newSize > 800  or newSize < 50 then\r\n    return\r\n  end\r\n  data.size = newSize\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_size=data.size})\r\n  else\r\n    local size = getBox(data.text, true)\r\n    self.editInput({width=size.width, height=size.height, font_size=data.size})\r\n  end\r\nend\r\n\r\nfunction setColor(params)\r\n  if params and params[1] then\r\n    data.color = params[1]\r\n  else\r\n    data.color = self.getColorTint():setAt('a', 1) -- Take on color of object tint\r\n  end\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_color=data.color})\r\n  else\r\n    self.editInput({font_color=data.color, color=getBackground(data.color)})\r\n  end\r\nend\r\n\r\nfunction getBackground(color) --determines whether to use black or white depending on luminance\r\n  local r,g,b = Color(color):get()\r\n\r\n  local lum = 0.2126*r + 0.7152*g + 0.0722*b\r\n  if lum > 0.75 then\r\n    return {0.2,0.2,0.2, data.box_transparency}\r\n  else\r\n    return {1,1,1, data.box_transparency}\r\n  end\r\nend\r\n\r\nfunction clear()\r\n  data.text = ''\r\n  updateState()\r\n  inputMode()\r\nend\r\n\r\nfunction permalock()\r\n  self.interactable = false\r\n  data.interactable = false\r\n  updateState()\r\nend\r\n\r\nlocal target_script = [[\r\nfunction onLoad(script_state)\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    for _,entry in ipairs(state) do\r\n      self.createButton(entry)\r\n    end\r\n    self.addContextMenuItem('Clear All Text', function(color)\r\n      self.clearContextMenu()\r\n      self.clearButtons()\r\n      self.script_state = ''\r\n      self.script_code = ''\r\n    end)\r\n  end\r\nend\r\n]]\r\n\r\nfunction attemptAttach(player_color)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  local attachee\r\n  local attachers = {}\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if obj ~= self then\r\n        table.insert(attachers, obj)\r\n      end\r\n    else\r\n      if attachee then\r\n        broadcastToColor(\"More than one target selected.\", player_color)\r\n        return\r\n      else\r\n        attachee = obj\r\n      end\r\n    end\r\n  end\r\n  if attachee then\r\n    local code = attachee.script_code\r\n    if code and code ~= '' and code ~= target_script then\r\n      broadcastToColor(\"Warning: script on card has been overriden. Rewind time to undo.\", player_color)\r\n    end\r\n    for i,attacher in ipairs(attachers) do\r\n      attacher.call('attach', {target = attachee})\r\n    end\r\n    attach({target = attachee})\r\n    local type, flip = attachee.type, attachee.getRotation().z\r\n    if (type == 'Card' or type == 'Deck') and flip > 175 and flip < 185 then\r\n      broadcastToColor(\"Warning: text will not display if card or deck is facing down.\", player_color)\r\n    end\r\n  else\r\n    broadcastToColor(\"You must have a target object in your selection (using click-and-drag or Ctrl+Click) to use this option.\", player_color)\r\n  end\r\nend\r\n\r\nfunction attach(params)\r\n  local target = params.target\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  local textRotation = self.getRotation():sub(target.getRotation())\r\n    :add(Vector(180, 0, 180))\r\n\r\n  local textPosition = target.positionToLocal(\r\n    self.getPosition():add(Vector(0, data.hover_height, 0))\r\n  )\r\n  textPosition.x = -textPosition.x\r\n\r\n  local textScale = {}\r\n  textScale.x = self.getScale().x / target.getScale().x\r\n  textScale.y = self.getScale().x / target.getScale().y\r\n  textScale.z = self.getScale().x / target.getScale().z\r\n\r\n  local details = {\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=nil,\r\n    position=textPosition,\r\n    rotation=textRotation,\r\n    scale=textScale,\r\n    height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  }\r\n\r\n  target.createButton(details)\r\n\r\n  local script_state = target.script_state\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    table.insert(state, details)\r\n    target.script_state = JSON.encode(state)\r\n  else\r\n    target.script_state = JSON.encode({[1]=details})\r\n  end\r\n\r\n  target.script_code = target_script\r\n\r\n  self.destruct()\r\nend\r\n\r\nfunction applyMultiple(player_color, func_string, params, static_only)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if not static_only or obj.call('isStatic') then\r\n        obj.call(func_string, params)\r\n      end\r\n    end\r\n  end\r\nend\r\n\r\nfunction isStatic()\r\n  local input = self.getInputs()\r\n  return not input or #input == 0\r\nend\r\n\r\nfunction getBox(input, force)\r\n  local maxLength, lineCount = EXPAND_INTERVAL, 1\r\n  local lineLength = 0\r\n  for i = 1, #input do\r\n    local c = input:sub(i,i)\r\n    if c == '\\n' then\r\n      lineCount = lineCount + 1\r\n      if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n      lineLength = 0\r\n    else\r\n      lineLength = lineLength + 1\r\n    end\r\n  end\r\n  if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n\r\n  newWidth = data.size * maxLength * 0.9\r\n  newHeight = data.size * lineCount + 23\r\n\r\n  if force or boxWidth ~= newWidth or boxHeight ~= newHeight then\r\n    boxWidth, boxHeight = newWidth, newHeight\r\n    return {width = boxWidth, height = boxHeight}\r\n  end\r\n  return nil\r\nend\r\n\r\ntemp_lift = nil\r\nfunction onPickUp(player_color)\r\n  if data.autolift then\r\n    local player = Player[player_color]\r\n    temp_lift = player.lift_height\r\n    player.lift_height = 0\r\n  end\r\nend\r\n\r\nfunction onDrop(player_color)\r\n  if data.autolift and temp_lift then\r\n    Player[player_color].lift_height = temp_lift\r\n  end\r\nend\r\n\r\n-- Should be called every time data is modified, allows info to be saved on copy/paste\r\nfunction updateState()\r\n  self.script_state = JSON.encode(data)\r\nend\r\n\r\nfunction onSave()\r\n  self.script_state = JSON.encode(data)\r\n  return self.script_state\r\nend",
              "LuaScriptState": "{\"autolift\":false,\"autolock\":false,\"box_transparency\":1,\"color\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1},\"enter_to_finish\":false,\"hover_height\":0.05,\"interactable\":true,\"size\":250,\"text\":\"Nouvelle position \\nChâteau d'Onyx\"}",
              "XmlUI": ""
            },
            {
              "GUID": "1fc3cc",
              "Name": "Card",
              "Transform": {
                "posX": -29.9120121,
                "posY": 1.833605,
                "posZ": 3.00009751,
                "rotX": 6.739028E-06,
                "rotY": 179.988632,
                "rotZ": -1.40554148E-05,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Une Multitude de Formes",
              "Description": "",
              "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06318\",\n  \"traits\": \"Power.\",\n  \"type\": \"Treachery\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 275836,
              "SidewaysCard": false,
              "CustomDeck": {
                "2758": {
                  "FaceURL": "https://i.imgur.com/NVBM8Hg.jpg",
                  "BackURL": "https://i.imgur.com/LXu6uGK.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "20bdd8",
              "Name": "Card",
              "Transform": {
                "posX": -24.5955429,
                "posY": 1.78337348,
                "posZ": 6.97504044,
                "rotX": 0.0022371714,
                "rotY": 180.461731,
                "rotZ": 359.98407,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Chaos Chuchotant (Sud)",
              "Description": "",
              "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"hidden\": \"true\",\n  \"id\": \"06316\",\n  \"traits\": \"Power.\",\n  \"type\": \"Treachery\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 275835,
              "SidewaysCard": false,
              "CustomDeck": {
                "2758": {
                  "FaceURL": "https://i.imgur.com/NVBM8Hg.jpg",
                  "BackURL": "https://i.imgur.com/LXu6uGK.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "254d38",
              "Name": "Custom_Model_Bag",
              "Transform": {
                "posX": -23.0,
                "posY": 1.84000051,
                "posZ": 11.5,
                "rotX": -5.255623E-06,
                "rotY": 179.9953,
                "rotZ": 8.248564E-08,
                "scaleX": 0.7,
                "scaleY": 0.7,
                "scaleZ": 0.7
              },
              "Nickname": "Placement des lieux Tour Abandonnée\nTour Abandonnée",
              "Description": "merci à Chr1Z pour le script",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.614982545,
                "g": 0.0,
                "b": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "CustomMesh": {
                "MeshURL": "https://pastebin.com/raw/ALrYhQGb",
                "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/1985555189151753216/02F1A097CC7201A18875102601C1B97E0FD171DD/",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 6,
                "CustomShader": {
                  "SpecularColor": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "SpecularIntensity": 0.0,
                  "SpecularSharpness": 2.0,
                  "FresnelStrength": 0.0
                },
                "CastShadows": true
              },
              "Bag": {
                "Order": 0
              },
              "LuaScript": "-- Random memory bag\r\n-- based on Utility memory bag by Directsun (Version 2.7.0)\r\n\r\nlocal CONFIG = {\r\n    MEMORY_GROUP = {\r\n        -- This determines how many frames to wait before actually placing objects onto the table when the \"Place\" button is clicked.\r\n        -- This gives the other bags time to recall their objects.\r\n        -- The delay ONLY occurs if other bags have objects out.\r\n        FRAME_DELAY_BEFORE_PLACING_OBJECTS = 30\r\n    }\r\n}\r\n\r\nmath.randomseed(os.time())\r\n\r\n--[[ Memory Bag Groups ]]\r\n--[[ Utility Memory Bags may be added to a named group, called a \"memory group\".\r\nYou can add a bag to a group through the bag's UI: \"Setup\" > \"Group Name\" (to the left of the bag).\r\nOnly one bag from a group may have it's contents placed on the table at a time.\r\nWhen \"Place\" is clicked on a bag, the other bags in it's memory group are recalled.\r\nBy default a memory bag is not in any group. It's memory group is \"nil\". --]]\r\n\r\nmemoryGroupName = { memoryBag = self }\r\nfunction memoryGroupName:get()\r\n    return self._name\r\nend\r\n\r\nfunction memoryGroupName:set(newName)\r\n    GlobalMemoryGroups:unregisterBagInGroup(self:get(), self.memoryBag.getGUID())\r\n    GlobalMemoryGroups:registerBagInGroup(newName, self.memoryBag.getGUID())\r\n\r\n    if newName == \"\" then\r\n        self._name = nil\r\n    else\r\n        self._name = newName\r\n    end\r\nend\r\n\r\n-- Click the \"Recall\" button on all other bags in my memory group.\r\nfunction recallOtherBagsInMyGroup()\r\n    for _, bag in ipairs(getOtherBagsInMyGroup()) do\r\n        bag.call('buttonClick_recall')\r\n    end\r\nend\r\n\r\n-- Return \"true\" if another bag in my memory group has any objects out on the table.\r\nfunction anyOtherBagsInMyGroupArePlaced()\r\n    for _, bag in ipairs(getOtherBagsInMyGroup()) do\r\n        local state = bag.call('areAnyOfMyObjectsPlaced')\r\n        if state then return true end\r\n    end\r\n\r\n    return false\r\nend\r\n\r\n-- Return \"true\" if at least one object from this memory bag is out on the table.\r\nfunction areAnyOfMyObjectsPlaced()\r\n    for guid, _ in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then\r\n            return true\r\n        end\r\n    end\r\n    return false\r\nend\r\n\r\nfunction getOtherBagsInMyGroup()\r\n    local bags = {}\r\n    for bagGuid, _ in pairs(GlobalMemoryGroups:getGroup(memoryGroupName:get())) do\r\n        if bagGuid ~= self.getGUID() then\r\n            bag = getObjectFromGUID(bagGuid)\r\n            -- \"bag\" is nill if it has been deleted since the last time onLoad() was called.\r\n            if bag ~= nil then\r\n                table.insert(bags, bag)\r\n            end\r\n        end\r\n    end\r\n    return bags\r\nend\r\n\r\n--[[\r\nThis object provides access to a variable stored on the \"Global script\".\r\nThe variable holds the names & guids of all memory bag groups.\r\nThe global variable is a table and holds data like this:\r\n{\r\n    'My First Group Name' = {\r\n        '805ebd' = {},\r\n        '35cc21' = {},\r\n        'fc8886' = {},\r\n    },\r\n    'My Second Group Name' = {\r\n        'f50264' = {},\r\n        '5f5f63' = {},\r\n    },\r\n}\r\n--]]\r\nGlobalMemoryGroups = { NAME_OF_GLOBAL_VARIABLE = '_GlobalUtilityMemoryBagGroups' }\r\n\r\n-- Call me inside this script's \"onLoad()\" method!\r\nfunction GlobalMemoryGroups:onLoad(myGuid)\r\n    -- Create and initialize the global variable if it doesn't already exist:\r\n    if self:_getGroups() == nil then\r\n        self:_setGroups({})\r\n    end\r\nend\r\n\r\n-- Return the GUIDs of all bags in the \"groupName\". The return value is a dictionary that maps [GUID -> empty table].\r\nfunction GlobalMemoryGroups:getGroup(groupName)\r\n    guids = self:_getGroups()[groupName] or {}\r\n    return guids\r\nend\r\n\r\n-- Registers a bag in a memory group. Creates a new group if one doesn't exist.\r\nfunction GlobalMemoryGroups:registerBagInGroup(groupName, bagGuid)\r\n    if groupName == nil or groupName == \"\" then\r\n        return\r\n    end\r\n\r\n    self:_tryCreateNewGroup(groupName)\r\n    local groups = self:_getGroups()\r\n    groups[groupName][bagGuid] = {}\r\n    self:_setGroups(groups)\r\nend\r\n\r\n-- Removes this bag from the memory group.\r\nfunction GlobalMemoryGroups:unregisterBagInGroup(groupName, bagGuid)\r\n    local groups = self:_getGroups()\r\n    local group = groups[groupName]\r\n    if group ~= nil then\r\n        group[bagGuid] = nil\r\n        self:_setGroups(groups)\r\n    end\r\nend\r\n\r\n-- Return the global variable, which is a table holding all memory group names & guids.\r\nfunction GlobalMemoryGroups:_getGroups()\r\n    return Global.getTable(self.NAME_OF_GLOBAL_VARIABLE)\r\nend\r\n\r\n-- Override the global variable (i.e. the entire table).\r\nfunction GlobalMemoryGroups:_setGroups(newTable)\r\n    Global.setTable(self.NAME_OF_GLOBAL_VARIABLE, newTable)\r\nend\r\n\r\n-- Add a new memory group named \"groupName\" to the global variable, if one doesn't already exist.\r\nfunction GlobalMemoryGroups:_tryCreateNewGroup(groupName)\r\n    local groups = self:_getGroups()\r\n    if groups[groupName] == nil then\r\n        groups[groupName] = {}\r\n        self:_setGroups(groups)\r\n    end\r\nend\r\n\r\n-- This object controls the \"Group Name\" input text field that is part of the bag's ingame UI.\r\ngroupNameInput = {\r\n    greyedOutText     = \"Group Name\",\r\n    widthPerCharacter = 100,\r\n    padding           = 4,\r\n    memoryBag         = self\r\n}\r\nfunction groupNameInput:create(optionalStartingValue)\r\n    local effectiveText = optionalStartingValue or self.greyedOutText\r\n    local width = self:computeWidth(effectiveText)\r\n\r\n    self.memoryBag.createInput({\r\n        label = self.greyedOutText,\r\n        value = optionalStartingValue or nil,\r\n        alignment = 3, -- Center aligned\r\n        input_function = \"groupNameInput_onCharacterTyped\", function_owner = self.memoryBag,\r\n        position = { 2.1, 0.3, 0 }, rotation = { 0, 270, 0 }, width = width, height = 350,\r\n        font_size = 250, color = { 0, 0, 0 }, font_color = { 1, 1, 1 },\r\n    })\r\nend\r\n\r\nfunction groupNameInput:computeWidth(text)\r\n    return (string.len(text) + self.padding) * self.widthPerCharacter\r\nend\r\n\r\nfunction groupNameInput:updatedWidth(text)\r\n    self.memoryBag.editInput({\r\n        index = 0,\r\n        width = self:computeWidth(text)\r\n    })\r\nend\r\n\r\nfunction groupNameInput:onCharacterTyped(text, stillEditing)\r\n    if stillEditing then\r\n        self:updatedWidth(text)\r\n    else\r\n        if text == \"\" then\r\n            self:updatedWidth(self.greyedOutText)\r\n        end\r\n    end\r\nend\r\n\r\nfunction groupNameInput_onCharacterTyped(memoryBag, playerColor, text, stillEditing)\r\n    groupNameInput:onCharacterTyped(text, stillEditing)\r\nend\r\n\r\nfunction groupNameInput:setGroupNameToInputField()\r\n    local inputFields = self.memoryBag.getInputs()\r\n    if inputFields ~= nil then\r\n        -- Get input field 0, which corresponds to the groupNameInput.\r\n        -- Unfortunately \"self.getInputs()\" doesn't return the inputs in a guaranteed order.\r\n        local nameField = nil\r\n        for _, field in ipairs(inputFields) do\r\n            if field.index == 0 then\r\n                nameField = field\r\n            end\r\n        end\r\n\r\n        memoryGroupName:set(nameField.value)\r\n    end\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = { [\"ml\"] = memoryList, [\"groupName\"] = memoryGroupName:get() }\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction combineMemoryFromBagsWithin()\r\n    local bagObjList = self.getObjects()\r\n    for _, bagObj in ipairs(bagObjList) do\r\n        local data = bagObj.lua_script_state\r\n        if data ~= nil then\r\n            local j = JSON.decode(data)\r\n            if j ~= nil and j.ml ~= nil then\r\n                for guid, entry in pairs(j.ml) do\r\n                    memoryList[guid] = entry\r\n                end\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateMemoryWithMoves()\r\n    memoryList = memoryListBackup\r\n    --get the first transposed object's coordinates\r\n    local obj = getObjectFromGUID(moveGuid)\r\n\r\n    -- p1 is where needs to go, p2 is where it was\r\n    local refObjPos = memoryList[moveGuid].pos\r\n    local deltaPos = findOffsetDistance(obj.getPosition(), refObjPos, nil)\r\n    local movedRotation = obj.getRotation()\r\n    for guid, entry in pairs(memoryList) do\r\n        memoryList[guid].pos.x = entry.pos.x - deltaPos.x\r\n        memoryList[guid].pos.y = entry.pos.y - deltaPos.y\r\n        memoryList[guid].pos.z = entry.pos.z - deltaPos.z\r\n    end\r\n    moveList = {}\r\nend\r\n\r\nfunction onload(saved_data)\r\n    GlobalMemoryGroups:onLoad(self.getGUID())\r\n    AllMemoryBagsInScene:add(self.getGUID())\r\n\r\n    fresh = true\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n        memoryGroupName:set(loaded_data.groupName)\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n        memoryGroupName:set(nil)\r\n    end\r\n\r\n    moveList = {}\r\n    moveGuid = nil\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        fresh = false\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n--Beginning Setup\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n      label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n      position={0,0.3,2}, rotation={0,0,0}, height=350, width=800,\r\n      font_size=250, color={0,0,0}, font_color={1,1,1}\r\n  })\r\nend\r\n\r\n--Triggered by Transpose button\r\nfunction buttonClick_transpose()\r\n    moveGuid = nil\r\n    broadcastToAll(\"Select one object and move it- all objects will move relative to the new location\", { 0.75, 0.75, 1 })\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(true)\r\n    createSetupActionButtons(true)\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(false)\r\n    createSetupActionButtons(false)\r\nend\r\n\r\nfunction getAllObjectsInMemory()\r\n    local objTable = {}\r\n    local curObj = {}\r\n\r\n    for guid in pairs(memoryListBackup) do\r\n        curObj = getObjectFromGUID(guid)\r\n        table.insert(objTable, curObj)\r\n    end\r\n\r\n    return objTable\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects(move)\r\n    buttonIndexMap = {}\r\n    local howManyButtons = 0\r\n\r\n    local objsToHaveButtons = {}\r\n    if move == true then\r\n        objsToHaveButtons = getAllObjectsInMemory()\r\n    else\r\n        objsToHaveButtons = getAllObjects()\r\n    end\r\n\r\n    for _, obj in ipairs(objsToHaveButtons) do\r\n        if obj ~= self then\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1 * 1 / self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor + 2\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Workaround for custom PDFs\r\n            if obj.Book then\r\n                objPos.y = objPos.y + 0.5\r\n            end\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(obj, move) end\r\n            local color = { 0.75, 0.25, 0.25, 0.6 }\r\n            local colorMove = { 0, 0, 1, 0.6 }\r\n            if move == true then\r\n                color = colorMove\r\n            end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function = funcName, function_owner = self,\r\n                position = objPos, rotation = rot, height = 1000, width = 1000,\r\n                color = color,\r\n            })\r\n            buttonIndexMap[obj.getGUID()] = howManyButtons\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n  --Creates submit and cancel buttons\r\n  function createSetupActionButtons(move)\r\n      self.createButton({\r\n         label=\"Annuler\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n         position={-1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n         font_size=250, color={0,0,0}, font_color={1,1,1}\r\n      })\r\n\r\n      self.createButton({\r\n        label=\"Valider\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={-1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n      })\r\n\r\n      if move == false then\r\n        self.createButton({\r\n            label=\"Ajouter\", click_function=\"buttonClick_add\", function_owner=self,\r\n            position={1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n            font_size=250, color={0,0,0}, font_color={0.25,1,0.25}\r\n          })\r\n\r\n          self.createButton({\r\n              label=\"Sélection\", click_function=\"editDragSelection\", function_owner=self,\r\n              position={-1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n              font_size=250, color={0,0,0}, font_color={1,1,1}\r\n          })\r\n\r\n          if fresh == false then\r\n              self.createButton({\r\n                  label=\"Mise à Jour\", click_function=\"buttonClick_setNew\", function_owner=self,\r\n                  position={1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n                  font_size=180, color={0,0,0}, font_color={0.75,0.75,1}\r\n              })\r\n              self.createButton({\r\n                  label=\"Retirer\", click_function=\"buttonClick_remove\", function_owner=self,\r\n                  position={1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n                  font_size=250, color={0,0,0}, font_color={1,0.25,0.25}\r\n              })\r\n          end\r\n      end\r\n\r\n      self.createButton({\r\n          label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n          position={0,0.3,-2}, rotation={0,0,0}, height=350, width=800,\r\n          font_size=250, color={0,0,0}, font_color={1,1,1}\r\n      })\r\n  end\r\n\r\n\r\n--During Setup\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(obj, move)\r\n    local index = buttonIndexMap[obj.getGUID()]\r\n    local colorMove = { 0, 0, 1, 0.6 }\r\n    local color = { 0, 1, 0, 0.6 }\r\n\r\n    previousGuid = selectedGuid\r\n    selectedGuid = obj.getGUID()\r\n\r\n    theList = memoryList\r\n    if move == true then\r\n        theList = moveList\r\n        if previousGuid ~= nil and previousGuid ~= selectedGuid then\r\n            local prevObj = getObjectFromGUID(previousGuid)\r\n            prevObj.highlightOff()\r\n            self.editButton({ index = previousIndex, color = colorMove })\r\n            theList[previousGuid] = nil\r\n        end\r\n        previousIndex = index\r\n    end\r\n\r\n    if theList[selectedGuid] == nil then\r\n        self.editButton({ index = index, color = color })\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        theList[obj.getGUID()] = {\r\n            pos = { x = round(pos.x, 4), y = round(pos.y, 4), z = round(pos.z, 4) },\r\n            rot = { x = round(rot.x, 4), y = round(rot.y, 4), z = round(rot.z, 4) },\r\n            lock = obj.getLock(),\r\n            tint = obj.getColorTint()\r\n        }\r\n        obj.highlightOn({ 0, 1, 0 })\r\n    else\r\n        color = { 0.75, 0.25, 0.25, 0.6 }\r\n        if move == true then\r\n            color = colorMove\r\n        end\r\n        self.editButton({ index = index, color = color })\r\n        theList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\nfunction editDragSelection(bagObj, player, remove)\r\n    local selectedObjs = Player[player].getSelectedObjects()\r\n    if not remove then\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            --Ignore if already in the memory list, or does not have a button\r\n            if index and not memoryList[obj.getGUID()] then\r\n                self.editButton({ index = index, color = { 0, 1, 0, 0.6 } })\r\n                --Adding pos/rot to memory table\r\n                local pos, rot = obj.getPosition(), obj.getRotation()\r\n                --I need to add it like this or it won't save due to indexing issue\r\n                memoryList[obj.getGUID()] = {\r\n                    pos = { x = round(pos.x, 4), y = round(pos.y, 4), z = round(pos.z, 4) },\r\n                    rot = { x = round(rot.x, 4), y = round(rot.y, 4), z = round(rot.z, 4) },\r\n                    lock = obj.getLock(),\r\n                    tint = obj.getColorTint()\r\n                }\r\n                obj.highlightOn({ 0, 1, 0 })\r\n            end\r\n        end\r\n    else\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            if index and memoryList[obj.getGUID()] then\r\n                color = { 0.75, 0.25, 0.25, 0.6 }\r\n                self.editButton({ index = index, color = color })\r\n                memoryList[obj.getGUID()] = nil\r\n                obj.highlightOff()\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Sélection annulée\", { 1, 1, 1 })\r\n    moveGuid = nil\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    fresh = false\r\n    if next(moveList) ~= nil then\r\n        for guid in pairs(moveList) do\r\n            moveGuid = guid\r\n        end\r\n        if memoryListBackup[moveGuid] == nil then\r\n            broadcastToAll(\"Item selected for moving is not already in memory\", { 1, 0.25, 0.25 })\r\n        else\r\n            broadcastToAll(\"Moving all items in memory relative to new objects position!\", { 0.75, 0.75, 1 })\r\n            self.clearButtons()\r\n            self.clearInputs()\r\n            createMemoryActionButtons()\r\n            local count = 0\r\n            for guid in pairs(moveList) do\r\n                moveGuid = guid\r\n                count = count + 1\r\n                local obj = getObjectFromGUID(guid)\r\n                if obj ~= nil then obj.highlightOff() end\r\n            end\r\n            updateMemoryWithMoves()\r\n            updateSave()\r\n            buttonClick_place()\r\n        end\r\n    elseif next(memoryList) == nil and moveGuid == nil then\r\n        memoryList = memoryListBackup\r\n        broadcastToAll(\"No selections made.\", { 0.75, 0.25, 0.25 })\r\n    end\r\n    combineMemoryFromBagsWithin()\r\n    groupNameInput:setGroupNameToInputField()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count .. \" Objects Saved\", { 1, 1, 1 })\r\n    updateSave()\r\n    moveGuid = nil\r\nend\r\n\r\nfunction combineTables(first_table, second_table)\r\n    for k, v in pairs(second_table) do first_table[k] = v end\r\nend\r\n\r\nfunction buttonClick_add()\r\n    fresh = false\r\n    combineTables(memoryList, memoryListBackup)\r\n    broadcastToAll(\"Adding internal bags and selections to existing memory\", { 0.25, 0.75, 0.25 })\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count .. \" Objects Saved\", { 1, 1, 1 })\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_remove()\r\n    broadcastToAll(\"Removing Selected Entries From Memory\", { 1.0, 0.25, 0.25 })\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        memoryListBackup[guid] = nil\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count .. \" Objects Removed\", { 1, 1, 1 })\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_setNew()\r\n    broadcastToAll(\"Setting new position relative to items in memory\", { 0.75, 0.75, 1 })\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        guid = obj.guid\r\n        if memoryListBackup[guid] ~= nil then\r\n            count = count + 1\r\n            memoryListBackup[guid].pos = obj.getPosition()\r\n            memoryListBackup[guid].rot = obj.getRotation()\r\n            memoryListBackup[guid].lock = obj.getLock()\r\n            memoryListBackup[guid].tint = obj.getColorTint()\r\n        end\r\n    end\r\n    broadcastToAll(count .. \" Objects Saved\", { 1, 1, 1 })\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    fresh = true\r\n    memoryList = {}\r\n    memoryGroupName:set(nil)\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", { 1, 1, 1 })\r\n    updateSave()\r\nend\r\n\r\n--After Setup\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Placer au hasard\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,2}, rotation={0,0,0}, height=350, width=2000,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Ranger\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,2.8}, rotation={0,0,0}, height=350, width=1000,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={2,0.3,0}, rotation={0,90,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    ---    self.createButton({\r\n    ---      label=\"Bouger\", click_function=\"buttonClick_transpose\", function_owner=self,\r\n    ---      position={-2,0.3,0.8}, rotation={0,270,0}, height=350, width=800,\r\n    ---      font_size=250, color={0,0,0}, font_color={0.75,0.75,1}\r\n    ---\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    if anyOtherBagsInMyGroupArePlaced() then\r\n        recallOtherBagsInMyGroup()\r\n        Wait.frames(_placeObjects, CONFIG.MEMORY_GROUP.FRAME_DELAY_BEFORE_PLACING_OBJECTS)\r\n    else\r\n        _placeObjects()\r\n    end\r\nend\r\n\r\nfunction _placeObjects()\r\n    local bagObjList = self.getObjects()\r\n\r\n    -- randomize memorylist position\r\n    local positionList = {}\r\n    for guid, entry in pairs(memoryList) do\r\n        table.insert(positionList, memoryList[guid].pos)\r\n    end\r\n\r\n    for i = #positionList, 2, -1 do\r\n        local j = math.random(i)\r\n        positionList[i], positionList[j] = positionList[j], positionList[i]\r\n    end\r\n\r\n    local i = 1\r\n    for guid, entry in pairs(memoryList) do\r\n        memoryList[guid].pos = positionList[i]\r\n        i = i + 1\r\n    end\r\n\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n            obj.setColorTint(entry.tint)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid = guid, position = entry.pos, rotation = entry.rot, smooth = false\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    item.setColorTint(entry.tint)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objets placés au hasard\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objets rangés\", {1,1,1})\r\nend\r\n\r\n--Utility functions\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local yOffset = 0\r\n    if obj ~= nil then\r\n        local bounds = obj.getBounds()\r\n        yOffset = (bounds.size.y - bounds.offset.y)\r\n    end\r\n    local deltaPos = {}\r\n    deltaPos.x = (p2.x - p1.x)\r\n    deltaPos.y = (p2.y - p1.y) + yOffset\r\n    deltaPos.z = (p2.z - p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n    local objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n    local x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n    local z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n    --return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return { x = x, y = desiredPos.y, z = z }\r\nend\r\n\r\nfunction rotateMyCoordinates(desiredPos, obj)\r\n    local angle = math.rad(obj.getRotation().y)\r\n    local x = desiredPos.x * math.sin(angle)\r\n    local z = desiredPos.z * math.cos(angle)\r\n    return { x = x, y = desiredPos.y, z = z }\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n    local mult = 10 ^ (dec or 0)\r\n    return math.floor(num * mult + 0.5) / mult\r\nend\r\n\r\n--[[ This object provides access to a variable stored on the \"Global script\".\r\nThe variable holds the GUIDs for every Utility Memory Bag in the scene.\r\nExample: {'805ebd', '35cc21', 'fc8886', 'f50264', '5f5f63'} --]]\r\nAllMemoryBagsInScene = {\r\n    NAME_OF_GLOBAL_VARIABLE = \"_UtilityMemoryBag_AllMemoryBagsInScene\"\r\n}\r\n\r\nfunction AllMemoryBagsInScene:add(guid)\r\n    local guids = Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\n    table.insert(guids, guid)\r\n    Global.setTable(self.NAME_OF_GLOBAL_VARIABLE, guids)\r\nend\r\n\r\nfunction AllMemoryBagsInScene:getGuidList()\r\n    return Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\nend",
              "LuaScriptState": "{\"ml\":{\"382410\":{\"lock\":false,\"pos\":{\"x\":-31.9115695953369,\"y\":1.82890164852142,\"z\":15.018985748291},\"rot\":{\"x\":4.8415995479445E-06,\"y\":179.756301879883,\"z\":-1.34503843582934E-05},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"38bcdd\":{\"lock\":false,\"pos\":{\"x\":6.49999856948853,\"y\":1.52059996128082,\"z\":22.5000038146973},\"rot\":{\"x\":0.0108914943411946,\"y\":179.999893188477,\"z\":0.00494822533801198},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"750979\":{\"lock\":false,\"pos\":{\"x\":-32.4831657409668,\"y\":1.77890491485596,\"z\":15.0148649215698},\"rot\":{\"x\":-1.44195803386538E-06,\"y\":179.729156494141,\"z\":-2.54565893555991E-05},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"83fecf\":{\"lock\":false,\"pos\":{\"x\":-2.50000166893005,\"y\":1.51966643333435,\"z\":13.5000038146973},\"rot\":{\"x\":0.0108931120485067,\"y\":179.980514526367,\"z\":0.00494459364563227},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"925c05\":{\"lock\":false,\"pos\":{\"x\":15.4999980926514,\"y\":1.51811194419861,\"z\":13.5000038146973},\"rot\":{\"x\":0.0108915334567428,\"y\":179.99983215332,\"z\":0.00494819320738316},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"eb778a\":{\"lock\":false,\"pos\":{\"x\":6.49999856948853,\"y\":1.51717829704285,\"z\":4.50000381469727},\"rot\":{\"x\":0.0108910324051976,\"y\":180.005218505859,\"z\":0.00494930054992437},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}}}}",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "382410",
                  "Name": "Card",
                  "Transform": {
                    "posX": -31.91157,
                    "posY": 1.82993937,
                    "posZ": 15.0189829,
                    "rotX": 359.960449,
                    "rotY": 179.756378,
                    "rotZ": 0.00101560657,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Tour Abandonnée",
                  "Description": "Kadath.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06301\",\n  \"locationBack\": {\n    \"connections\": \"Square\",\n    \"icons\": \"SlantedEquals\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    }\n  },\n  \"locationFront\": {\n    \"connections\": \"Square\",\n    \"icons\": \"SlantedEquals\"\n  },\n  \"traits\": \"Kadath.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 275817,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2758": {
                      "FaceURL": "https://i.imgur.com/NVBM8Hg.jpg",
                      "BackURL": "https://i.imgur.com/LXu6uGK.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "38bcdd",
                  "Name": "Card",
                  "Transform": {
                    "posX": 6.50000429,
                    "posY": 1.52060044,
                    "posZ": 22.5000076,
                    "rotX": 0.0108888205,
                    "rotY": 179.999817,
                    "rotZ": 0.00500560552,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Tour Abandonnée",
                  "Description": "Kadath.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06305\",\n  \"locationBack\": {\n    \"connections\": \"Square\",\n    \"icons\": \"SlantedEquals\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    }\n  },\n  \"locationFront\": {\n    \"connections\": \"Square\",\n    \"icons\": \"SlantedEquals\"\n  },\n  \"traits\": \"Kadath.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 275820,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2758": {
                      "FaceURL": "https://i.imgur.com/NVBM8Hg.jpg",
                      "BackURL": "https://i.imgur.com/LXu6uGK.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "750979",
                  "Name": "Card",
                  "Transform": {
                    "posX": -32.48317,
                    "posY": 1.77996755,
                    "posZ": 15.0148716,
                    "rotX": 359.960022,
                    "rotY": 179.729279,
                    "rotZ": -0.00033958655,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Tour Abandonnée",
                  "Description": "Kadath.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06302\",\n  \"locationBack\": {\n    \"connections\": \"Square\",\n    \"icons\": \"SlantedEquals\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    }\n  },\n  \"locationFront\": {\n    \"connections\": \"Square\",\n    \"icons\": \"SlantedEquals\"\n  },\n  \"traits\": \"Kadath.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 275819,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2758": {
                      "FaceURL": "https://i.imgur.com/NVBM8Hg.jpg",
                      "BackURL": "https://i.imgur.com/LXu6uGK.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "83fecf",
                  "Name": "Card",
                  "Transform": {
                    "posX": -2.500003,
                    "posY": 1.519667,
                    "posZ": 13.5000029,
                    "rotX": 0.010890889,
                    "rotY": 179.98053,
                    "rotZ": 0.00497775851,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Tour Abandonnée",
                  "Description": "Kadath.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06300\",\n  \"locationBack\": {\n    \"connections\": \"Square\",\n    \"icons\": \"SlantedEquals\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    }\n  },\n  \"locationFront\": {\n    \"connections\": \"Square\",\n    \"icons\": \"SlantedEquals\"\n  },\n  \"traits\": \"Kadath.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 275816,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2758": {
                      "FaceURL": "https://i.imgur.com/NVBM8Hg.jpg",
                      "BackURL": "https://i.imgur.com/LXu6uGK.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "925c05",
                  "Name": "Card",
                  "Transform": {
                    "posX": 15.4999981,
                    "posY": 1.518112,
                    "posZ": 13.5000038,
                    "rotX": 0.0108915046,
                    "rotY": 179.999817,
                    "rotZ": 0.004948171,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Tour Abandonnée",
                  "Description": "Kadath.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06303\",\n  \"locationBack\": {\n    \"connections\": \"Square\",\n    \"icons\": \"SlantedEquals\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    }\n  },\n  \"locationFront\": {\n    \"connections\": \"Square\",\n    \"icons\": \"SlantedEquals\"\n  },\n  \"traits\": \"Kadath.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 275818,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2758": {
                      "FaceURL": "https://i.imgur.com/NVBM8Hg.jpg",
                      "BackURL": "https://i.imgur.com/LXu6uGK.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "eb778a",
                  "Name": "Card",
                  "Transform": {
                    "posX": 6.500004,
                    "posY": 1.51717877,
                    "posZ": 4.500008,
                    "rotX": 0.0108889854,
                    "rotY": 180.005127,
                    "rotZ": 0.00500466954,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Tour Abandonnée",
                  "Description": "Kadath.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06304\",\n  \"locationBack\": {\n    \"connections\": \"Square\",\n    \"icons\": \"SlantedEquals\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    }\n  },\n  \"locationFront\": {\n    \"connections\": \"Square\",\n    \"icons\": \"SlantedEquals\"\n  },\n  \"traits\": \"Kadath.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 275821,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2758": {
                      "FaceURL": "https://i.imgur.com/NVBM8Hg.jpg",
                      "BackURL": "https://i.imgur.com/LXu6uGK.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "2c9a74",
              "Name": "Card",
              "Transform": {
                "posX": -29.4128857,
                "posY": 1.83246374,
                "posZ": 6.99955,
                "rotX": 0.00573135773,
                "rotY": 180.030258,
                "rotZ": 0.0594338775,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Nyarlathotep",
              "Description": "Le Messager des Dieux Extérieurs",
              "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"health\": 4,\n  \"hidden\": \"true\",\n  \"id\": \"06308\",\n  \"traits\": \"Ancient One. Elite.\",\n  \"type\": \"Enemy\",\n  \"victory\": 2\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 275824,
              "SidewaysCard": false,
              "CustomDeck": {
                "2758": {
                  "FaceURL": "https://i.imgur.com/NVBM8Hg.jpg",
                  "BackURL": "https://i.imgur.com/LXu6uGK.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "31a6ea",
              "Name": "Custom_Model",
              "Transform": {
                "posX": -26.5,
                "posY": 1.77100015,
                "posZ": 15.4999981,
                "rotX": 5.02897865E-06,
                "rotY": -2.608913E-05,
                "rotZ": -4.9101093E-08,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Text Tool",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.0,
                "g": 0.0,
                "b": 0.0,
                "a": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": false,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": false,
              "Tooltip": false,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/1478820768302617365/27883B7913E0E69143C3AA03493B7E7C4E8C29C0/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 1,
                "TypeIndex": 0,
                "CastShadows": true
              },
              "LuaScript": "-- Code for bag to identify text tool objects\r\nmovableTextTool_cowgoesmoo33 = true\r\n\r\n-- Number of characters before the text box width expands.\r\nEXPAND_INTERVAL = 20\r\n\r\n-- This table controls what is passed between save/load\r\ndata = {}\r\n\r\nfunction onLoad(saved_data)\r\n  if saved_data ~= '' then\r\n    data = JSON.decode(saved_data)\r\n    if data.text ~= '' then\r\n      self.interactable = data.interactable\r\n      staticMode()\r\n      return\r\n    end\r\n  else\r\n    data = {size=200, color=Color(0,0,0), text='', interactable=true,\r\n        enter_to_finish=false, autolock=false, autolift=false,\r\n        hover_height=0.05, box_transparency=1}\r\n  end\r\n\r\n  inputMode()\r\nend\r\n\r\n-- True if in the middle of delay after pressing Enter (with enter_to_finish on)\r\nfinishing = false\r\nfunction input_func(obj, color, input, stillEditing)\r\n  local params = getBox(input)\r\n  if params then\r\n    params.value = input\r\n    self.editInput(params)\r\n  end\r\n\r\n  if not stillEditing then\r\n    data.text = input\r\n    updateState()\r\n    if input ~= '' then staticMode(color) end\r\n  elseif data.enter_to_finish then\r\n    -- If enter is pressed: remove last newline and force finish\r\n    if not finishing and input:sub(-1) == '\\n' then\r\n      finishing = true\r\n      -- Delay to avoid user's Enter keypress being detected (opens chat box)\r\n      Wait.frames(function()\r\n        input = input:sub(1, -2)\r\n        data.text = input\r\n        updateState()\r\n        if input ~= '' then staticMode(color) else inputMode() end\r\n        finishing = false\r\n      end, 10)\r\n    end\r\n  end\r\nend\r\n\r\n-- When the inpupt box appears and lets the player type in it.\r\nfunction inputMode()\r\n  self.clearContextMenu()\r\n  self.clearInputs()\r\n  self.clearButtons()\r\n\r\n  local size = getBox(data.text, true)\r\n\r\n  self.createInput({\r\n    input_function = \"input_func\",\r\n    function_owner = self,\r\n    label          = \"Type Here\",\r\n    alignment      = 3,\r\n    position       = {x=0, y=data.hover_height, z=0},\r\n    rotation       = {0, 180, 0},\r\n    width          = size.width,\r\n    height         = size.height,\r\n    color          = getBackground(data.color),\r\n    font_color     = data.color,\r\n    font_size      = data.size,\r\n    value          = data.text,\r\n  })\r\n\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\nend\r\n\r\n-- When the input box disappears and displays the text.\r\nfunction staticMode(player)\r\n  self.clearContextMenu()\r\n  if data.autolock then\r\n    self.locked = true\r\n  end\r\n  if self.getInputs() and #self.getInputs() ~= 0 then\r\n    self.removeInput(0)\r\n  end\r\n\r\n  -- Clear from selecting player\r\n  if player then\r\n    self.removeFromPlayerSelection(player)\r\n  end\r\n\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  self.createButton({\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=self,\r\n    position={0,data.hover_height,0}, rotation={0,180,0}, height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  })\r\n\r\n  self.addContextMenuItem('Edit Text', function(color)\r\n    self.removeFromPlayerSelection(color)\r\n    inputMode()\r\n  end)\r\n  self.addContextMenuItem('Clear', function(color)\r\n    applyMultiple(color, 'clear', _, true)\r\n  end)\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\n  self.addContextMenuItem('Permanently Attach', attemptAttach)\r\n  self.addContextMenuItem('Permalock', function(color)\r\n    applyMultiple(color, 'permalock', _, true)\r\n  end)\r\nend\r\n\r\nfunction changeSize(params)\r\n  local delta = params[1]\r\n  local newSize = data.size + delta\r\n  if newSize > 800  or newSize < 50 then\r\n    return\r\n  end\r\n  data.size = newSize\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_size=data.size})\r\n  else\r\n    local size = getBox(data.text, true)\r\n    self.editInput({width=size.width, height=size.height, font_size=data.size})\r\n  end\r\nend\r\n\r\nfunction setColor(params)\r\n  if params and params[1] then\r\n    data.color = params[1]\r\n  else\r\n    data.color = self.getColorTint():setAt('a', 1) -- Take on color of object tint\r\n  end\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_color=data.color})\r\n  else\r\n    self.editInput({font_color=data.color, color=getBackground(data.color)})\r\n  end\r\nend\r\n\r\nfunction getBackground(color) --determines whether to use black or white depending on luminance\r\n  local r,g,b = Color(color):get()\r\n\r\n  local lum = 0.2126*r + 0.7152*g + 0.0722*b\r\n  if lum > 0.75 then\r\n    return {0.2,0.2,0.2, data.box_transparency}\r\n  else\r\n    return {1,1,1, data.box_transparency}\r\n  end\r\nend\r\n\r\nfunction clear()\r\n  data.text = ''\r\n  updateState()\r\n  inputMode()\r\nend\r\n\r\nfunction permalock()\r\n  self.interactable = false\r\n  data.interactable = false\r\n  updateState()\r\nend\r\n\r\nlocal target_script = [[\r\nfunction onLoad(script_state)\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    for _,entry in ipairs(state) do\r\n      self.createButton(entry)\r\n    end\r\n    self.addContextMenuItem('Clear All Text', function(color)\r\n      self.clearContextMenu()\r\n      self.clearButtons()\r\n      self.script_state = ''\r\n      self.script_code = ''\r\n    end)\r\n  end\r\nend\r\n]]\r\n\r\nfunction attemptAttach(player_color)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  local attachee\r\n  local attachers = {}\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if obj ~= self then\r\n        table.insert(attachers, obj)\r\n      end\r\n    else\r\n      if attachee then\r\n        broadcastToColor(\"More than one target selected.\", player_color)\r\n        return\r\n      else\r\n        attachee = obj\r\n      end\r\n    end\r\n  end\r\n  if attachee then\r\n    local code = attachee.script_code\r\n    if code and code ~= '' and code ~= target_script then\r\n      broadcastToColor(\"Warning: script on card has been overriden. Rewind time to undo.\", player_color)\r\n    end\r\n    for i,attacher in ipairs(attachers) do\r\n      attacher.call('attach', {target = attachee})\r\n    end\r\n    attach({target = attachee})\r\n    local type, flip = attachee.type, attachee.getRotation().z\r\n    if (type == 'Card' or type == 'Deck') and flip > 175 and flip < 185 then\r\n      broadcastToColor(\"Warning: text will not display if card or deck is facing down.\", player_color)\r\n    end\r\n  else\r\n    broadcastToColor(\"You must have a target object in your selection (using click-and-drag or Ctrl+Click) to use this option.\", player_color)\r\n  end\r\nend\r\n\r\nfunction attach(params)\r\n  local target = params.target\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  local textRotation = self.getRotation():sub(target.getRotation())\r\n    :add(Vector(180, 0, 180))\r\n\r\n  local textPosition = target.positionToLocal(\r\n    self.getPosition():add(Vector(0, data.hover_height, 0))\r\n  )\r\n  textPosition.x = -textPosition.x\r\n\r\n  local textScale = {}\r\n  textScale.x = self.getScale().x / target.getScale().x\r\n  textScale.y = self.getScale().x / target.getScale().y\r\n  textScale.z = self.getScale().x / target.getScale().z\r\n\r\n  local details = {\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=nil,\r\n    position=textPosition,\r\n    rotation=textRotation,\r\n    scale=textScale,\r\n    height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  }\r\n\r\n  target.createButton(details)\r\n\r\n  local script_state = target.script_state\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    table.insert(state, details)\r\n    target.script_state = JSON.encode(state)\r\n  else\r\n    target.script_state = JSON.encode({[1]=details})\r\n  end\r\n\r\n  target.script_code = target_script\r\n\r\n  self.destruct()\r\nend\r\n\r\nfunction applyMultiple(player_color, func_string, params, static_only)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if not static_only or obj.call('isStatic') then\r\n        obj.call(func_string, params)\r\n      end\r\n    end\r\n  end\r\nend\r\n\r\nfunction isStatic()\r\n  local input = self.getInputs()\r\n  return not input or #input == 0\r\nend\r\n\r\nfunction getBox(input, force)\r\n  local maxLength, lineCount = EXPAND_INTERVAL, 1\r\n  local lineLength = 0\r\n  for i = 1, #input do\r\n    local c = input:sub(i,i)\r\n    if c == '\\n' then\r\n      lineCount = lineCount + 1\r\n      if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n      lineLength = 0\r\n    else\r\n      lineLength = lineLength + 1\r\n    end\r\n  end\r\n  if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n\r\n  newWidth = data.size * maxLength * 0.9\r\n  newHeight = data.size * lineCount + 23\r\n\r\n  if force or boxWidth ~= newWidth or boxHeight ~= newHeight then\r\n    boxWidth, boxHeight = newWidth, newHeight\r\n    return {width = boxWidth, height = boxHeight}\r\n  end\r\n  return nil\r\nend\r\n\r\ntemp_lift = nil\r\nfunction onPickUp(player_color)\r\n  if data.autolift then\r\n    local player = Player[player_color]\r\n    temp_lift = player.lift_height\r\n    player.lift_height = 0\r\n  end\r\nend\r\n\r\nfunction onDrop(player_color)\r\n  if data.autolift and temp_lift then\r\n    Player[player_color].lift_height = temp_lift\r\n  end\r\nend\r\n\r\n-- Should be called every time data is modified, allows info to be saved on copy/paste\r\nfunction updateState()\r\n  self.script_state = JSON.encode(data)\r\nend\r\n\r\nfunction onSave()\r\n  self.script_state = JSON.encode(data)\r\n  return self.script_state\r\nend",
              "LuaScriptState": "{\"autolift\":false,\"autolock\":false,\"box_transparency\":1,\"color\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1},\"enter_to_finish\":false,\"hover_height\":0.05,\"interactable\":true,\"size\":450,\"text\":\"Mise en place acte 4a\"}",
              "XmlUI": ""
            },
            {
              "GUID": "31e118",
              "Name": "Card",
              "Transform": {
                "posX": -30.5000362,
                "posY": 1.78360569,
                "posZ": 2.99996686,
                "rotX": -8.746669E-07,
                "rotY": 179.988739,
                "rotZ": -2.80562381E-05,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Une Multitude de Formes",
              "Description": "",
              "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06318\",\n  \"traits\": \"Power.\",\n  \"type\": \"Treachery\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 275837,
              "SidewaysCard": false,
              "CustomDeck": {
                "2758": {
                  "FaceURL": "https://i.imgur.com/NVBM8Hg.jpg",
                  "BackURL": "https://i.imgur.com/LXu6uGK.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "421e8b",
              "Name": "Card",
              "Transform": {
                "posX": -24.01687,
                "posY": 1.83270645,
                "posZ": 6.97036934,
                "rotX": 0.00298858318,
                "rotY": 180.462021,
                "rotZ": 0.07026581,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Chaos Chuchotant (Ouest)",
              "Description": "",
              "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"hidden\": \"true\",\n  \"id\": \"06317\",\n  \"traits\": \"Power.\",\n  \"type\": \"Treachery\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 275834,
              "SidewaysCard": false,
              "CustomDeck": {
                "2758": {
                  "FaceURL": "https://i.imgur.com/NVBM8Hg.jpg",
                  "BackURL": "https://i.imgur.com/LXu6uGK.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "570d6e",
              "Name": "Custom_Model",
              "Transform": {
                "posX": -32.5000076,
                "posY": 1.77100027,
                "posZ": 13.4999952,
                "rotX": 4.68965345E-06,
                "rotY": -0.00143003161,
                "rotZ": 6.79056544E-09,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Text Tool",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.0,
                "g": 0.0,
                "b": 0.0,
                "a": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": false,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": false,
              "Tooltip": false,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/1478820768302617365/27883B7913E0E69143C3AA03493B7E7C4E8C29C0/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 1,
                "TypeIndex": 0,
                "CastShadows": true
              },
              "LuaScript": "-- Code for bag to identify text tool objects\r\nmovableTextTool_cowgoesmoo33 = true\r\n\r\n-- Number of characters before the text box width expands.\r\nEXPAND_INTERVAL = 20\r\n\r\n-- This table controls what is passed between save/load\r\ndata = {}\r\n\r\nfunction onLoad(saved_data)\r\n  if saved_data ~= '' then\r\n    data = JSON.decode(saved_data)\r\n    if data.text ~= '' then\r\n      self.interactable = data.interactable\r\n      staticMode()\r\n      return\r\n    end\r\n  else\r\n    data = {size=200, color=Color(0,0,0), text='', interactable=true,\r\n        enter_to_finish=false, autolock=false, autolift=false,\r\n        hover_height=0.05, box_transparency=1}\r\n  end\r\n\r\n  inputMode()\r\nend\r\n\r\n-- True if in the middle of delay after pressing Enter (with enter_to_finish on)\r\nfinishing = false\r\nfunction input_func(obj, color, input, stillEditing)\r\n  local params = getBox(input)\r\n  if params then\r\n    params.value = input\r\n    self.editInput(params)\r\n  end\r\n\r\n  if not stillEditing then\r\n    data.text = input\r\n    updateState()\r\n    if input ~= '' then staticMode(color) end\r\n  elseif data.enter_to_finish then\r\n    -- If enter is pressed: remove last newline and force finish\r\n    if not finishing and input:sub(-1) == '\\n' then\r\n      finishing = true\r\n      -- Delay to avoid user's Enter keypress being detected (opens chat box)\r\n      Wait.frames(function()\r\n        input = input:sub(1, -2)\r\n        data.text = input\r\n        updateState()\r\n        if input ~= '' then staticMode(color) else inputMode() end\r\n        finishing = false\r\n      end, 10)\r\n    end\r\n  end\r\nend\r\n\r\n-- When the inpupt box appears and lets the player type in it.\r\nfunction inputMode()\r\n  self.clearContextMenu()\r\n  self.clearInputs()\r\n  self.clearButtons()\r\n\r\n  local size = getBox(data.text, true)\r\n\r\n  self.createInput({\r\n    input_function = \"input_func\",\r\n    function_owner = self,\r\n    label          = \"Type Here\",\r\n    alignment      = 3,\r\n    position       = {x=0, y=data.hover_height, z=0},\r\n    rotation       = {0, 180, 0},\r\n    width          = size.width,\r\n    height         = size.height,\r\n    color          = getBackground(data.color),\r\n    font_color     = data.color,\r\n    font_size      = data.size,\r\n    value          = data.text,\r\n  })\r\n\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\nend\r\n\r\n-- When the input box disappears and displays the text.\r\nfunction staticMode(player)\r\n  self.clearContextMenu()\r\n  if data.autolock then\r\n    self.locked = true\r\n  end\r\n  if self.getInputs() and #self.getInputs() ~= 0 then\r\n    self.removeInput(0)\r\n  end\r\n\r\n  -- Clear from selecting player\r\n  if player then\r\n    self.removeFromPlayerSelection(player)\r\n  end\r\n\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  self.createButton({\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=self,\r\n    position={0,data.hover_height,0}, rotation={0,180,0}, height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  })\r\n\r\n  self.addContextMenuItem('Edit Text', function(color)\r\n    self.removeFromPlayerSelection(color)\r\n    inputMode()\r\n  end)\r\n  self.addContextMenuItem('Clear', function(color)\r\n    applyMultiple(color, 'clear', _, true)\r\n  end)\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\n  self.addContextMenuItem('Permanently Attach', attemptAttach)\r\n  self.addContextMenuItem('Permalock', function(color)\r\n    applyMultiple(color, 'permalock', _, true)\r\n  end)\r\nend\r\n\r\nfunction changeSize(params)\r\n  local delta = params[1]\r\n  local newSize = data.size + delta\r\n  if newSize > 800  or newSize < 50 then\r\n    return\r\n  end\r\n  data.size = newSize\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_size=data.size})\r\n  else\r\n    local size = getBox(data.text, true)\r\n    self.editInput({width=size.width, height=size.height, font_size=data.size})\r\n  end\r\nend\r\n\r\nfunction setColor(params)\r\n  if params and params[1] then\r\n    data.color = params[1]\r\n  else\r\n    data.color = self.getColorTint():setAt('a', 1) -- Take on color of object tint\r\n  end\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_color=data.color})\r\n  else\r\n    self.editInput({font_color=data.color, color=getBackground(data.color)})\r\n  end\r\nend\r\n\r\nfunction getBackground(color) --determines whether to use black or white depending on luminance\r\n  local r,g,b = Color(color):get()\r\n\r\n  local lum = 0.2126*r + 0.7152*g + 0.0722*b\r\n  if lum > 0.75 then\r\n    return {0.2,0.2,0.2, data.box_transparency}\r\n  else\r\n    return {1,1,1, data.box_transparency}\r\n  end\r\nend\r\n\r\nfunction clear()\r\n  data.text = ''\r\n  updateState()\r\n  inputMode()\r\nend\r\n\r\nfunction permalock()\r\n  self.interactable = false\r\n  data.interactable = false\r\n  updateState()\r\nend\r\n\r\nlocal target_script = [[\r\nfunction onLoad(script_state)\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    for _,entry in ipairs(state) do\r\n      self.createButton(entry)\r\n    end\r\n    self.addContextMenuItem('Clear All Text', function(color)\r\n      self.clearContextMenu()\r\n      self.clearButtons()\r\n      self.script_state = ''\r\n      self.script_code = ''\r\n    end)\r\n  end\r\nend\r\n]]\r\n\r\nfunction attemptAttach(player_color)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  local attachee\r\n  local attachers = {}\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if obj ~= self then\r\n        table.insert(attachers, obj)\r\n      end\r\n    else\r\n      if attachee then\r\n        broadcastToColor(\"More than one target selected.\", player_color)\r\n        return\r\n      else\r\n        attachee = obj\r\n      end\r\n    end\r\n  end\r\n  if attachee then\r\n    local code = attachee.script_code\r\n    if code and code ~= '' and code ~= target_script then\r\n      broadcastToColor(\"Warning: script on card has been overriden. Rewind time to undo.\", player_color)\r\n    end\r\n    for i,attacher in ipairs(attachers) do\r\n      attacher.call('attach', {target = attachee})\r\n    end\r\n    attach({target = attachee})\r\n    local type, flip = attachee.type, attachee.getRotation().z\r\n    if (type == 'Card' or type == 'Deck') and flip > 175 and flip < 185 then\r\n      broadcastToColor(\"Warning: text will not display if card or deck is facing down.\", player_color)\r\n    end\r\n  else\r\n    broadcastToColor(\"You must have a target object in your selection (using click-and-drag or Ctrl+Click) to use this option.\", player_color)\r\n  end\r\nend\r\n\r\nfunction attach(params)\r\n  local target = params.target\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  local textRotation = self.getRotation():sub(target.getRotation())\r\n    :add(Vector(180, 0, 180))\r\n\r\n  local textPosition = target.positionToLocal(\r\n    self.getPosition():add(Vector(0, data.hover_height, 0))\r\n  )\r\n  textPosition.x = -textPosition.x\r\n\r\n  local textScale = {}\r\n  textScale.x = self.getScale().x / target.getScale().x\r\n  textScale.y = self.getScale().x / target.getScale().y\r\n  textScale.z = self.getScale().x / target.getScale().z\r\n\r\n  local details = {\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=nil,\r\n    position=textPosition,\r\n    rotation=textRotation,\r\n    scale=textScale,\r\n    height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  }\r\n\r\n  target.createButton(details)\r\n\r\n  local script_state = target.script_state\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    table.insert(state, details)\r\n    target.script_state = JSON.encode(state)\r\n  else\r\n    target.script_state = JSON.encode({[1]=details})\r\n  end\r\n\r\n  target.script_code = target_script\r\n\r\n  self.destruct()\r\nend\r\n\r\nfunction applyMultiple(player_color, func_string, params, static_only)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if not static_only or obj.call('isStatic') then\r\n        obj.call(func_string, params)\r\n      end\r\n    end\r\n  end\r\nend\r\n\r\nfunction isStatic()\r\n  local input = self.getInputs()\r\n  return not input or #input == 0\r\nend\r\n\r\nfunction getBox(input, force)\r\n  local maxLength, lineCount = EXPAND_INTERVAL, 1\r\n  local lineLength = 0\r\n  for i = 1, #input do\r\n    local c = input:sub(i,i)\r\n    if c == '\\n' then\r\n      lineCount = lineCount + 1\r\n      if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n      lineLength = 0\r\n    else\r\n      lineLength = lineLength + 1\r\n    end\r\n  end\r\n  if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n\r\n  newWidth = data.size * maxLength * 0.9\r\n  newHeight = data.size * lineCount + 23\r\n\r\n  if force or boxWidth ~= newWidth or boxHeight ~= newHeight then\r\n    boxWidth, boxHeight = newWidth, newHeight\r\n    return {width = boxWidth, height = boxHeight}\r\n  end\r\n  return nil\r\nend\r\n\r\ntemp_lift = nil\r\nfunction onPickUp(player_color)\r\n  if data.autolift then\r\n    local player = Player[player_color]\r\n    temp_lift = player.lift_height\r\n    player.lift_height = 0\r\n  end\r\nend\r\n\r\nfunction onDrop(player_color)\r\n  if data.autolift and temp_lift then\r\n    Player[player_color].lift_height = temp_lift\r\n  end\r\nend\r\n\r\n-- Should be called every time data is modified, allows info to be saved on copy/paste\r\nfunction updateState()\r\n  self.script_state = JSON.encode(data)\r\nend\r\n\r\nfunction onSave()\r\n  self.script_state = JSON.encode(data)\r\n  return self.script_state\r\nend",
              "LuaScriptState": "{\"autolift\":false,\"autolock\":false,\"box_transparency\":1,\"color\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1},\"enter_to_finish\":false,\"hover_height\":0.05,\"interactable\":true,\"size\":400,\"text\":\"1)\"}",
              "XmlUI": ""
            },
            {
              "GUID": "6915db",
              "Name": "Card",
              "Transform": {
                "posX": -28.8246574,
                "posY": 1.88016653,
                "posZ": 6.9992485,
                "rotX": 0.00588230649,
                "rotY": 180.0281,
                "rotZ": 0.230813414,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Nyarlathotep",
              "Description": "Le Chuchoteur sans Visage",
              "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"health\": 3,\n  \"hidden\": \"true\",\n  \"id\": \"06307\",\n  \"traits\": \"Ancient One. Elite.\",\n  \"type\": \"Enemy\",\n  \"victory\": 2\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 275822,
              "SidewaysCard": false,
              "CustomDeck": {
                "2758": {
                  "FaceURL": "https://i.imgur.com/NVBM8Hg.jpg",
                  "BackURL": "https://i.imgur.com/LXu6uGK.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "6c6c9f",
              "Name": "Card",
              "Transform": {
                "posX": 13.5000114,
                "posY": 1.51657379,
                "posZ": 4.500002,
                "rotX": 0.01089152,
                "rotY": 179.999649,
                "rotZ": 180.004959,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Le Château d'Onyx",
              "Description": "Kadath.",
              "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06299\",\n  \"locationBack\": {\n    \"connections\": \"SlantedEquals\",\n    \"icons\": \"Square\"\n  },\n  \"locationFront\": {\n    \"connections\": \"Tee\",\n    \"icons\": \"Square\"\n  },\n  \"traits\": \"Kadath.\",\n  \"type\": \"Location\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 275814,
              "SidewaysCard": false,
              "CustomDeck": {
                "2758": {
                  "FaceURL": "https://i.imgur.com/NVBM8Hg.jpg",
                  "BackURL": "https://i.imgur.com/LXu6uGK.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "6de436",
              "Name": "Custom_Model_Bag",
              "Transform": {
                "posX": -29.5000038,
                "posY": 1.84000039,
                "posZ": 11.4999962,
                "rotX": -5.192532E-06,
                "rotY": 180.015121,
                "rotZ": 1.33421258E-06,
                "scaleX": 0.7,
                "scaleY": 0.7,
                "scaleZ": 0.7
              },
              "Nickname": "Nouvelle position Château d'Onyx",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "Number": 0,
              "CustomMesh": {
                "MeshURL": "https://pastebin.com/raw/ALrYhQGb",
                "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/1985555189151753216/02F1A097CC7201A18875102601C1B97E0FD171DD/",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 6,
                "CustomShader": {
                  "SpecularColor": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "SpecularIntensity": 0.0,
                  "SpecularSharpness": 2.0,
                  "FresnelStrength": 0.0
                },
                "CastShadows": true
              },
              "Bag": {
                "Order": 0
              },
              "LuaScript": "-- Utility memory bag by Directsun\r\n-- Version 2.7.0\r\n-- Fork of Memory Bag 2.0 by MrStump\r\n--\r\n-- Want to contribute? Create an issue or fork the code on GitHub and submit a pull request:\r\n-- https://github.com/sunflowermans/TTS-UtilityMemoryBag\r\n\r\n\r\nfunction updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction combineMemoryFromBagsWithin()\r\n    local bagObjList = self.getObjects()\r\n    for _, bagObj in ipairs(bagObjList) do\r\n        local data = bagObj.lua_script_state\r\n        if data ~= nil then\r\n            local j = JSON.decode(data)\r\n            if j ~= nil and j.ml ~= nil then\r\n                for guid, entry in pairs(j.ml) do\r\n                    memoryList[guid] = entry\r\n                end\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateMemoryWithMoves()\r\n    memoryList = memoryListBackup\r\n    --get the first transposed object's coordinates\r\n    local obj = getObjectFromGUID(moveGuid)\r\n\r\n    -- p1 is where needs to go, p2 is where it was\r\n    local refObjPos = memoryList[moveGuid].pos\r\n    local deltaPos = findOffsetDistance(obj.getPosition(), refObjPos, nil)\r\n    local movedRotation = obj.getRotation()\r\n    for guid, entry in pairs(memoryList) do\r\n        memoryList[guid].pos.x = entry.pos.x - deltaPos.x\r\n        memoryList[guid].pos.y = entry.pos.y - deltaPos.y\r\n        memoryList[guid].pos.z = entry.pos.z - deltaPos.z\r\n        -- memoryList[guid].rot.x = movedRotation.x\r\n        -- memoryList[guid].rot.y = movedRotation.y\r\n        -- memoryList[guid].rot.z = movedRotation.z\r\n    end\r\n\r\n    --theList[obj.getGUID()] = {\r\n    --    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n    --    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n    --    lock=obj.getLock()\r\n    --}\r\n    moveList = {}\r\nend\r\n\r\nfunction onload(saved_data)\r\n\r\n    fresh = true\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n\r\n    end\r\n\r\n    moveList = {}\r\n    moveGuid = nil\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        fresh = false\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,2}, rotation={0,0,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by Transpose button\r\nfunction buttonClick_transpose()\r\n    moveGuid = nil\r\n    broadcastToAll(\"Select one object and move it- all objects will move relative to the new location\", {0.75, 0.75, 1})\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(true)\r\n    createSetupActionButtons(true)\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(false)\r\n    createSetupActionButtons(false)\r\nend\r\n\r\nfunction getAllObjectsInMemory()\r\n    local objTable = {}\r\n    local curObj = {}\r\n\r\n    for guid in pairs(memoryListBackup) do\r\n        curObj = getObjectFromGUID(guid)\r\n        table.insert(objTable, curObj)\r\n    end\r\n\r\n    return objTable\r\n    -- return getAllObjects()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects(move)\r\n    buttonIndexMap = {}\r\n    local howManyButtons = 0\r\n\r\n    local objsToHaveButtons = {}\r\n    if move == true then\r\n        objsToHaveButtons = getAllObjectsInMemory()\r\n    else\r\n        objsToHaveButtons = getAllObjects()\r\n    end\r\n\r\n    for _, obj in ipairs(objsToHaveButtons) do\r\n        if obj ~= self then\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor +2\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Workaround for custom PDFs\r\n            if obj.Book then\r\n                objPos.y = objPos.y + 0.5\r\n            end\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(obj, move) end\r\n            local color = {0.75,0.25,0.25,0.6}\r\n            local colorMove = {0,0,1,0.6}\r\n            if move == true then\r\n                color = colorMove\r\n            end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color=color,\r\n            })\r\n            buttonIndexMap[obj.getGUID()] = howManyButtons\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons(move)\r\n    self.createButton({\r\n       label=\"Annuler\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n       position={-1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n       font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    self.createButton({\r\n      label=\"Valider\", click_function=\"buttonClick_submit\", function_owner=self,\r\n      position={-1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n      font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    if move == false then\r\n      self.createButton({\r\n          label=\"Ajouter\", click_function=\"buttonClick_add\", function_owner=self,\r\n          position={1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n          font_size=250, color={0,0,0}, font_color={0.25,1,0.25}\r\n        })\r\n\r\n        self.createButton({\r\n            label=\"Sélection\", click_function=\"editDragSelection\", function_owner=self,\r\n            position={-1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n            font_size=250, color={0,0,0}, font_color={1,1,1}\r\n        })\r\n\r\n        if fresh == false then\r\n            self.createButton({\r\n                label=\"Mise à Jour\", click_function=\"buttonClick_setNew\", function_owner=self,\r\n                position={1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n                font_size=180, color={0,0,0}, font_color={0.75,0.75,1}\r\n            })\r\n            self.createButton({\r\n                label=\"Retirer\", click_function=\"buttonClick_remove\", function_owner=self,\r\n                position={1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n                font_size=250, color={0,0,0}, font_color={1,0.25,0.25}\r\n            })\r\n        end\r\n    end\r\n\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,0,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(obj, move)\r\n    local index = buttonIndexMap[obj.getGUID()]\r\n    local colorMove = {0,0,1,0.6}\r\n    local color = {0,1,0,0.6}\r\n\r\n    previousGuid = selectedGuid\r\n    selectedGuid = obj.getGUID()\r\n\r\n    theList = memoryList\r\n    if move == true then\r\n        theList = moveList\r\n        if previousGuid ~= nil and previousGuid ~= selectedGuid then\r\n            local prevObj = getObjectFromGUID(previousGuid)\r\n            prevObj.highlightOff()\r\n            self.editButton({index=previousIndex, color=colorMove})\r\n            theList[previousGuid] = nil\r\n        end\r\n        previousIndex = index\r\n    end\r\n\r\n    if theList[selectedGuid] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        theList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock(),\r\n            tint=obj.getColorTint()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        if move == true then\r\n            color = colorMove\r\n        end\r\n        self.editButton({index=index, color=color})\r\n        theList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\nfunction editDragSelection(bagObj, player, remove)\r\n    local selectedObjs = Player[player].getSelectedObjects()\r\n    if not remove then\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            --Ignore if already in the memory list, or does not have a button\r\n            if index and not memoryList[obj.getGUID()] then\r\n                self.editButton({index=index, color={0,1,0,0.6}})\r\n                --Adding pos/rot to memory table\r\n                local pos, rot = obj.getPosition(), obj.getRotation()\r\n                --I need to add it like this or it won't save due to indexing issue\r\n                memoryList[obj.getGUID()] = {\r\n                    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n                    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n                    lock=obj.getLock(),\r\n                    tint=obj.getColorTint()\r\n                }\r\n                obj.highlightOn({0,1,0})\r\n            end\r\n        end\r\n    else\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            if index and memoryList[obj.getGUID()] then\r\n                color = {0.75,0.25,0.25,0.6}\r\n                self.editButton({index=index, color=color})\r\n                memoryList[obj.getGUID()] = nil\r\n                obj.highlightOff()\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Sélection annulée\", {1,1,1})\r\n    moveGuid = nil\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    fresh = false\r\n    if next(moveList) ~= nil then\r\n        for guid in pairs(moveList) do\r\n            moveGuid = guid\r\n        end\r\n        if memoryListBackup[moveGuid] == nil then\r\n            broadcastToAll(\"Item selected for moving is not already in memory\", {1, 0.25, 0.25})\r\n        else\r\n            broadcastToAll(\"Moving all items in memory relative to new objects position!\", {0.75, 0.75, 1})\r\n            self.clearButtons()\r\n            self.clearInputs()\r\n            createMemoryActionButtons()\r\n            local count = 0\r\n            for guid in pairs(moveList) do\r\n                moveGuid = guid\r\n                count = count + 1\r\n                local obj = getObjectFromGUID(guid)\r\n                if obj ~= nil then obj.highlightOff() end\r\n            end\r\n            updateMemoryWithMoves()\r\n            updateSave()\r\n            buttonClick_place()\r\n        end\r\n    elseif next(memoryList) == nil and moveGuid == nil then\r\n        memoryList = memoryListBackup\r\n        broadcastToAll(\"No selections made.\", {0.75, 0.25, 0.25})\r\n    end\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\n    moveGuid = nil\r\nend\r\n\r\nfunction combineTables(first_table, second_table)\r\n    for k,v in pairs(second_table) do first_table[k] = v end\r\nend\r\n\r\nfunction buttonClick_add()\r\n    fresh = false\r\n    combineTables(memoryList, memoryListBackup)\r\n    broadcastToAll(\"Adding internal bags and selections to existing memory\", {0.25, 0.75, 0.25})\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_remove()\r\n    broadcastToAll(\"Removing Selected Entries From Memory\", {1.0, 0.25, 0.25})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        memoryListBackup[guid] = nil\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Removed\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_setNew()\r\n    broadcastToAll(\"Setting new position relative to items in memory\", {0.75, 0.75, 1})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        guid = obj.guid\r\n        if memoryListBackup[guid] ~= nil then\r\n            count = count + 1\r\n            memoryListBackup[guid].pos = obj.getPosition()\r\n            memoryListBackup[guid].rot = obj.getRotation()\r\n            memoryListBackup[guid].lock = obj.getLock()\r\n            memoryListBackup[guid].tint = obj.getColorTint()\r\n        end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    fresh = true\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Déplacer\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,2}, rotation={0,0,0}, height=350, width=1200,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n  --  self.createButton({\r\n    --    label=\"Ranger\", click_function=\"buttonClick_recall\", function_owner=self,\r\n    --    position={0,0.3,2.8}, rotation={0,0,0}, height=350, width=1000,\r\n  --      font_size=250, color={0,0,0}, font_color={1,1,1}\r\n  --  })\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={2,0.3,0}, rotation={0,90,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    ---    self.createButton({\r\n    ---      label=\"Bouger\", click_function=\"buttonClick_transpose\", function_owner=self,\r\n    ---      position={-2,0.3,0.8}, rotation={0,270,0}, height=350, width=800,\r\n    ---      font_size=250, color={0,0,0}, font_color={0.75,0.75,1}\r\n    ---\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n            obj.setColorTint(entry.tint)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot, smooth=false\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    item.setColorTint(entry.tint)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objets placés\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objets rangés\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local yOffset = 0\r\n    if obj ~= nil then\r\n        local bounds = obj.getBounds()\r\n        yOffset = (bounds.size.y - bounds.offset.y)\r\n    end\r\n    local deltaPos = {}\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + yOffset\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n    local objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n    local x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n    local z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n    --return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\nfunction rotateMyCoordinates(desiredPos, obj)\r\n    local angle = math.rad(obj.getRotation().y)\r\n    local x = desiredPos.x * math.sin(angle)\r\n    local z = desiredPos.z * math.cos(angle)\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n    local mult = 10^(dec or 0)\r\n    return math.floor(num * mult + 0.5) / mult\r\nend\r\n\r\n\r\n--[[\r\nThis object provides access to a variable stored on the \"Global script\".\r\nThe variable holds the GUIDs for every Utility Memory Bag in the scene.\r\nExample:\r\n{'805ebd', '35cc21', 'fc8886', 'f50264', '5f5f63'}\r\n--]]\r\nAllMemoryBagsInScene = {\r\n    NAME_OF_GLOBAL_VARIABLE = \"_UtilityMemoryBag_AllMemoryBagsInScene\"\r\n}\r\n\r\nfunction AllMemoryBagsInScene:add(guid)\r\n    local guids = Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\n    table.insert(guids, guid)\r\n    Global.setTable(self.NAME_OF_GLOBAL_VARIABLE, guids)\r\nend\r\n\r\nfunction AllMemoryBagsInScene:getGuidList()\r\n    return Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"6c6c9f\":{\"lock\":false,\"pos\":{\"x\":6.49999856948853,\"y\":1.51888918876648,\"z\":13.5000038146973},\"rot\":{\"x\":0.0108915790915489,\"y\":179.999908447266,\"z\":180.004959106445},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"7234af\":{\"lock\":false,\"pos\":{\"x\":6.49999856948853,\"y\":1.50442910194397,\"z\":9.00000381469727},\"rot\":{\"x\":0.0108899064362049,\"y\":180.020370483398,\"z\":0.00495947944000363},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"769229\":{\"lock\":false,\"pos\":{\"x\":-26.4999828338623,\"y\":1.77890491485596,\"z\":19.0000247955322},\"rot\":{\"x\":-5.17314310854999E-06,\"y\":180.000335693359,\"z\":3.98530168865818E-08},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"868c61\":{\"lock\":false,\"pos\":{\"x\":-23.4999809265137,\"y\":1.77890491485596,\"z\":19.0000267028809},\"rot\":{\"x\":-4.8988772505254E-06,\"y\":180.003997802734,\"z\":9.91531976524129E-08},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"925067\":{\"lock\":false,\"pos\":{\"x\":6.49999856948853,\"y\":1.50613987445831,\"z\":18.0000038146973},\"rot\":{\"x\":0.0108899073675275,\"y\":180.020370483398,\"z\":0.00495629943907261},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"9e20db\":{\"lock\":false,\"pos\":{\"x\":10.9999990463257,\"y\":1.50489592552185,\"z\":13.5000038146973},\"rot\":{\"x\":0.00494773825630546,\"y\":89.9994964599609,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"b4357e\":{\"lock\":false,\"pos\":{\"x\":-32.5000038146973,\"y\":1.77890491485596,\"z\":19.0000019073486},\"rot\":{\"x\":-4.9752084123611E-06,\"y\":179.999633789063,\"z\":4.08898230830346E-08},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"c56db4\":{\"lock\":false,\"pos\":{\"x\":1.99999797344208,\"y\":1.50567317008972,\"z\":13.5000038146973},\"rot\":{\"x\":0.00494769774377346,\"y\":90.0001220703125,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"d22da8\":{\"lock\":false,\"pos\":{\"x\":-29.5,\"y\":1.77890491485596,\"z\":19.0000038146973},\"rot\":{\"x\":-5.01330441693426E-06,\"y\":180.002365112305,\"z\":1.04001813383547E-07},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}}}}",
              "XmlUI": ""
            },
            {
              "GUID": "718267",
              "Name": "Custom_Tile",
              "Transform": {
                "posX": 2.99999952,
                "posY": 1.50178492,
                "posZ": -6.4999,
                "rotX": 0.0108905463,
                "rotY": 180.0095,
                "rotZ": 0.00495024,
                "scaleX": 1.6428808,
                "scaleY": 1.0,
                "scaleZ": 1.6428808
              },
              "Nickname": "Mise en place du Chaos Bag",
              "Description": "IV-A : La Demeure des Dieux",
              "GMNotes": "{\"data\":\"Where the Gods Dwell\",\"easy\":false,\"expert\":false,\"hard\":false,\"normal\":false,\"standalone\":true}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.8745098,
                "g": 0.8,
                "b": 0.7019608
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/2011456161884106028/81BF2DAD34FE18B6788B56E21F16B81E6525AD99/",
                "ImageSecondaryURL": "https://steamusercontent-a.akamaihd.net/ugc/2011456161884106028/81BF2DAD34FE18B6788B56E21F16B81E6525AD99/",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomTile": {
                  "Type": 3,
                  "Thickness": 0.1,
                  "Stackable": false,
                  "Stretch": true
                }
              },
              "LuaScript": "\r\njacqueline_guid = '42cd6e'\r\n\r\nbuttonparams = {\r\n   ['easy'] = {label = \"Facile\", click_function = 'modeEasy', z_i = -0.2},\r\n   ['normal'] = {label = \"Standard\", click_function = 'modeNormal', z_i = 0.1},\r\n   ['hard'] = {label = \"Difficile\", click_function = 'modeHard', z_i = 0.4},\r\n   ['expert'] = {label = \"Expert\", click_function = 'modeExpert', z_i = 0.7},\r\n   ['standalone'] = {label = \"Indépendant\", click_function = 'modeStandalone', z_i = 0},\r\n}\r\n\r\nfunction onLoad()\r\n\r\n    metadata = JSON.decode(self.getGMNotes())\r\n    buttontable = {}\r\n    for key, value in pairs(buttonparams) do\r\n        if metadata[key] == true then\r\n            table.insert(buttontable,value)\r\n        end\r\n        \r\n    end\r\n\r\n    for _, button in pairs(buttontable) do\r\n        local data = {\r\n            click_function = button.click_function, \r\n            function_owner = self, \r\n            label = button.label, \r\n            position = {0, 0.1, button.z_i}, \r\n            scale = {0.3, 0.5, 0.3}, \r\n            width = 1500, \r\n            height = 400, \r\n            font_size = 250, \r\n            tooltip = \"Chaos bag du mode \"..button.label,\r\n            color = {0.5647, 0.4627, 0.2353, 1}, \r\n            font_color = {0.9041, 0.8313, 0.7356, 1},\r\n            hover_color = {99/255, 85/255, 48/255},\r\n            press_color = {192/255, 152/255, 94/255} }\r\n        self.createButton(data)\r\n        \r\n    end\r\n    jacqueline = getObjectFromGUID(jacqueline_guid)\r\n    chaosdata = jacqueline.getTable('chaosdata')\r\nend\r\n\r\nfunction modeEasy()\r\n    local  params ={}\r\n     params.mode = 'easy'\r\n     params.data = metadata.data\r\n     jacqueline.call('setChaosBag', params)\r\n  \r\nend\r\n\r\nfunction modeNormal()\r\n      local  params ={}\r\n       params.mode = 'normal'\r\n       params.data = metadata.data\r\n       jacqueline.call('setChaosBag', params)\r\n    \r\nend\r\n\r\nfunction modeHard()\r\n    local  params ={}\r\n     params.mode = 'hard'\r\n     params.data = metadata.data\r\n     jacqueline.call('setChaosBag', params)\r\n  \r\nend\r\n\r\nfunction modeExpert()\r\n    local  params ={}\r\n     params.mode = 'expert'\r\n     params.data = metadata.data\r\n     jacqueline.call('setChaosBag', params)\r\n  \r\nend\r\n\r\nfunction modeStandalone()\r\n    local  params ={}\r\n     params.mode = 'standalone'\r\n     params.data = metadata.data\r\n     jacqueline.call('setChaosBag', params)\r\n  \r\nend",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "7234af",
              "Name": "Custom_Tile",
              "Transform": {
                "posX": 4.49999857,
                "posY": 1.50460184,
                "posZ": 9.000003,
                "rotX": 0.0108897984,
                "rotY": 180.020386,
                "rotZ": 0.004955953,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.6045295,
                "g": 0.6045295,
                "b": 0.6045295
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://i.imgur.com/vppt2my.png",
                "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomTile": {
                  "Type": 3,
                  "Thickness": 0.1,
                  "Stackable": false,
                  "Stretch": true
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "States": {
                "2": {
                  "GUID": "44b0c5",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -39.7933121,
                    "posY": 1.63758957,
                    "posZ": 2.038383,
                    "rotX": 359.9201,
                    "rotY": 269.9961,
                    "rotZ": 0.0168742146,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                "3": {
                  "GUID": "5b38c6",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -38.8217163,
                    "posY": 1.99356019,
                    "posZ": 0.4159239,
                    "rotX": 359.9201,
                    "rotY": 272.9828,
                    "rotZ": 0.01687373,
                    "scaleX": 0.8,
                    "scaleY": 1.0,
                    "scaleZ": 0.8
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              }
            },
            {
              "GUID": "769229",
              "Name": "Card",
              "Transform": {
                "posX": 4.500002,
                "posY": 1.51906192,
                "posZ": 13.4999943,
                "rotX": 0.0108914375,
                "rotY": 180.000671,
                "rotZ": 0.004948406,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Désert Glacé",
              "Description": "Leng.",
              "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06296\",\n  \"locationBack\": {\n    \"connections\": \"Diamond|Plus|Tee\",\n    \"icons\": \"Triangle\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    }\n  },\n  \"locationFront\": {\n    \"connections\": \"Diamond|Plus|Tee\",\n    \"icons\": \"Triangle\"\n  },\n  \"traits\": \"Leng.\",\n  \"type\": \"Location\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 275812,
              "SidewaysCard": false,
              "CustomDeck": {
                "2758": {
                  "FaceURL": "https://i.imgur.com/NVBM8Hg.jpg",
                  "BackURL": "https://i.imgur.com/LXu6uGK.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "799fdc",
              "Name": "Deck",
              "Transform": {
                "posX": 17.5016327,
                "posY": 1.54562414,
                "posZ": -6.021046,
                "rotX": 0.004943607,
                "rotY": 89.9760361,
                "rotZ": 359.9891,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": false,
              "SidewaysCard": true,
              "DeckIDs": [
                1143107,
                1143106,
                275605,
                1143104,
                275603
              ],
              "CustomDeck": {
                "11431": {
                  "FaceURL": "https://i.imgur.com/QyUaviU.jpg",
                  "BackURL": "https://i.imgur.com/3uQ6lEu.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                },
                "2756": {
                  "FaceURL": "https://i.imgur.com/QyUaviU.jpg",
                  "BackURL": "https://i.imgur.com/3uQ6lEu.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": false,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "057c9c",
                  "Name": "Card",
                  "Transform": {
                    "posX": 17.5016289,
                    "posY": 4.850164,
                    "posZ": -6.021045,
                    "rotX": 0.00494134426,
                    "rotY": 89.9761,
                    "rotZ": 359.989136,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Les Dévoreurs de Rêves",
                  "Description": "Acte 5a",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06294\",\n  \"type\": \"Act\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 1143107,
                  "SidewaysCard": true,
                  "CustomDeck": {
                    "11431": {
                      "FaceURL": "https://i.imgur.com/QyUaviU.jpg",
                      "BackURL": "https://i.imgur.com/3uQ6lEu.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "99276e",
                  "Name": "Card",
                  "Transform": {
                    "posX": 17.5016289,
                    "posY": 5.001028,
                    "posZ": -6.021044,
                    "rotX": 0.00494347373,
                    "rotY": 89.9761,
                    "rotZ": 359.9891,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Vérité et Mensonges",
                  "Description": "Acte 4a",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06293\",\n  \"type\": \"Act\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 1143106,
                  "SidewaysCard": true,
                  "CustomDeck": {
                    "11431": {
                      "FaceURL": "https://i.imgur.com/QyUaviU.jpg",
                      "BackURL": "https://i.imgur.com/3uQ6lEu.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "85f194",
                  "Name": "Card",
                  "Transform": {
                    "posX": 17.5016289,
                    "posY": 4.801028,
                    "posZ": -6.021044,
                    "rotX": 0.00494347373,
                    "rotY": 89.9761,
                    "rotZ": 359.9891,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06292\",\n  \"type\": \"Act\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 275605,
                  "SidewaysCard": true,
                  "CustomDeck": {
                    "2756": {
                      "FaceURL": "https://i.imgur.com/QyUaviU.jpg",
                      "BackURL": "https://i.imgur.com/3uQ6lEu.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": false,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "e4c45d",
                  "Name": "Card",
                  "Transform": {
                    "posX": 17.50163,
                    "posY": 1.6086365,
                    "posZ": -6.021048,
                    "rotX": 0.00446169358,
                    "rotY": 89.9761,
                    "rotZ": 359.988647,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "La Chose en Robes",
                  "Description": "Acte 2a",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06291\",\n  \"type\": \"Act\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 1143104,
                  "SidewaysCard": true,
                  "CustomDeck": {
                    "11431": {
                      "FaceURL": "https://i.imgur.com/QyUaviU.jpg",
                      "BackURL": "https://i.imgur.com/3uQ6lEu.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "accecb",
                  "Name": "Card",
                  "Transform": {
                    "posX": 17.5016365,
                    "posY": 1.62997174,
                    "posZ": -6.02106047,
                    "rotX": 0.007964981,
                    "rotY": 89.97609,
                    "rotZ": 359.9877,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"clueThresholdPerInvestigator\": 2,\n  \"cycle\": \"Standalone\",\n  \"id\": \"06290\",\n  \"type\": \"Act\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 275603,
                  "SidewaysCard": true,
                  "CustomDeck": {
                    "2756": {
                      "FaceURL": "https://i.imgur.com/QyUaviU.jpg",
                      "BackURL": "https://i.imgur.com/3uQ6lEu.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": false,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "868c61",
              "Name": "Card",
              "Transform": {
                "posX": 4.50019,
                "posY": 1.517351,
                "posZ": 4.49998236,
                "rotX": 0.0108905509,
                "rotY": 180.011032,
                "rotZ": 0.00495045073,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Portes d'Onyx",
              "Description": "Leng. Kadath.",
              "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06298\",\n  \"locationBack\": {\n    \"connections\": \"Triangle|Square\",\n    \"icons\": \"Tee\",\n    \"uses\": {\n      \"count\": 12,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    }\n  },\n  \"locationFront\": {\n    \"connections\": \"Triangle|Square\",\n    \"icons\": \"Tee\"\n  },\n  \"traits\": \"Leng. Kadath.\",\n  \"type\": \"Location\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 275815,
              "SidewaysCard": false,
              "CustomDeck": {
                "2758": {
                  "FaceURL": "https://i.imgur.com/NVBM8Hg.jpg",
                  "BackURL": "https://i.imgur.com/LXu6uGK.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "86f98f",
              "Name": "Card",
              "Transform": {
                "posX": -23.437994,
                "posY": 1.88246024,
                "posZ": 6.965765,
                "rotX": 0.002989292,
                "rotY": 180.460327,
                "rotZ": 0.07026568,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Chaos Chuchotant (Est)",
              "Description": "",
              "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"hidden\": \"true\",\n  \"id\": \"06315\",\n  \"traits\": \"Power.\",\n  \"type\": \"Treachery\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 275833,
              "SidewaysCard": false,
              "CustomDeck": {
                "2758": {
                  "FaceURL": "https://i.imgur.com/NVBM8Hg.jpg",
                  "BackURL": "https://i.imgur.com/LXu6uGK.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "925067",
              "Name": "Custom_Tile",
              "Transform": {
                "posX": 4.49999857,
                "posY": 1.50631261,
                "posZ": 18.0000038,
                "rotX": 0.0108898636,
                "rotY": 180.02034,
                "rotZ": 0.00495642656,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.6045295,
                "g": 0.6045295,
                "b": 0.6045295
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://i.imgur.com/vppt2my.png",
                "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomTile": {
                  "Type": 3,
                  "Thickness": 0.1,
                  "Stackable": false,
                  "Stretch": true
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "States": {
                "2": {
                  "GUID": "44b0c5",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -39.7933121,
                    "posY": 1.63758957,
                    "posZ": 2.038383,
                    "rotX": 359.9201,
                    "rotY": 269.9961,
                    "rotZ": 0.0168742146,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                "3": {
                  "GUID": "5b38c6",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -38.8217163,
                    "posY": 1.99356019,
                    "posZ": 0.4159239,
                    "rotX": 359.9201,
                    "rotY": 272.9828,
                    "rotZ": 0.01687373,
                    "scaleX": 0.8,
                    "scaleY": 1.0,
                    "scaleZ": 0.8
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              }
            },
            {
              "GUID": "9e20db",
              "Name": "Custom_Tile",
              "Transform": {
                "posX": 8.999999,
                "posY": 1.50335777,
                "posZ": 4.500003,
                "rotX": 0.00494778529,
                "rotY": 89.99958,
                "rotZ": 359.9891,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.6045295,
                "g": 0.6045295,
                "b": 0.6045295
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://i.imgur.com/vppt2my.png",
                "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomTile": {
                  "Type": 3,
                  "Thickness": 0.1,
                  "Stackable": false,
                  "Stretch": true
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "States": {
                "2": {
                  "GUID": "44b0c5",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -39.7933121,
                    "posY": 1.63758957,
                    "posZ": 2.038383,
                    "rotX": 359.9201,
                    "rotY": 269.9961,
                    "rotZ": 0.0168742146,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                "3": {
                  "GUID": "5b38c6",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -38.8217163,
                    "posY": 1.99356019,
                    "posZ": 0.4159239,
                    "rotX": 359.9201,
                    "rotY": 272.9828,
                    "rotZ": 0.01687373,
                    "scaleX": 0.8,
                    "scaleY": 1.0,
                    "scaleZ": 0.8
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              }
            },
            {
              "GUID": "a1f597",
              "Name": "Custom_Model",
              "Transform": {
                "posX": -23.0,
                "posY": 1.77100027,
                "posZ": 13.5,
                "rotX": 5.19778041E-06,
                "rotY": 0.000870790856,
                "rotZ": 5.94881939E-08,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Tour Abandonnée",
              "Description": "Place 4 lieux Tour Abandonnée",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.0,
                "g": 0.0,
                "b": 0.0,
                "a": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": true,
              "Grid": true,
              "Snap": false,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": false,
              "Tooltip": false,
              "GridProjection": true,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/1478820768302617365/27883B7913E0E69143C3AA03493B7E7C4E8C29C0/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 1,
                "TypeIndex": 0,
                "CastShadows": true
              },
              "LuaScript": "-- Code for bag to identify text tool objects\r\nmovableTextTool_cowgoesmoo33 = true\r\n\r\n-- Number of characters before the text box width expands.\r\nEXPAND_INTERVAL = 20\r\n\r\n-- This table controls what is passed between save/load\r\ndata = {}\r\n\r\nfunction onLoad(saved_data)\r\n  if saved_data ~= '' then\r\n    data = JSON.decode(saved_data)\r\n    if data.text ~= '' then\r\n      self.interactable = data.interactable\r\n      staticMode()\r\n      return\r\n    end\r\n  else\r\n    data = {size=200, color=Color(0,0,0), text='', interactable=true,\r\n        enter_to_finish=false, autolock=false, autolift=false,\r\n        hover_height=0.05, box_transparency=1}\r\n  end\r\n\r\n  inputMode()\r\nend\r\n\r\n-- True if in the middle of delay after pressing Enter (with enter_to_finish on)\r\nfinishing = false\r\nfunction input_func(obj, color, input, stillEditing)\r\n  local params = getBox(input)\r\n  if params then\r\n    params.value = input\r\n    self.editInput(params)\r\n  end\r\n\r\n  if not stillEditing then\r\n    data.text = input\r\n    updateState()\r\n    if input ~= '' then staticMode(color) end\r\n  elseif data.enter_to_finish then\r\n    -- If enter is pressed: remove last newline and force finish\r\n    if not finishing and input:sub(-1) == '\\n' then\r\n      finishing = true\r\n      -- Delay to avoid user's Enter keypress being detected (opens chat box)\r\n      Wait.frames(function()\r\n        input = input:sub(1, -2)\r\n        data.text = input\r\n        updateState()\r\n        if input ~= '' then staticMode(color) else inputMode() end\r\n        finishing = false\r\n      end, 10)\r\n    end\r\n  end\r\nend\r\n\r\n-- When the inpupt box appears and lets the player type in it.\r\nfunction inputMode()\r\n  self.clearContextMenu()\r\n  self.clearInputs()\r\n  self.clearButtons()\r\n\r\n  local size = getBox(data.text, true)\r\n\r\n  self.createInput({\r\n    input_function = \"input_func\",\r\n    function_owner = self,\r\n    label          = \"Type Here\",\r\n    alignment      = 3,\r\n    position       = {x=0, y=data.hover_height, z=0},\r\n    rotation       = {0, 180, 0},\r\n    width          = size.width,\r\n    height         = size.height,\r\n    color          = getBackground(data.color),\r\n    font_color     = data.color,\r\n    font_size      = data.size,\r\n    value          = data.text,\r\n  })\r\n\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\nend\r\n\r\n-- When the input box disappears and displays the text.\r\nfunction staticMode(player)\r\n  self.clearContextMenu()\r\n  if data.autolock then\r\n    self.locked = true\r\n  end\r\n  if self.getInputs() and #self.getInputs() ~= 0 then\r\n    self.removeInput(0)\r\n  end\r\n\r\n  -- Clear from selecting player\r\n  if player then\r\n    self.removeFromPlayerSelection(player)\r\n  end\r\n\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  self.createButton({\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=self,\r\n    position={0,data.hover_height,0}, rotation={0,180,0}, height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  })\r\n\r\n  self.addContextMenuItem('Edit Text', function(color)\r\n    self.removeFromPlayerSelection(color)\r\n    inputMode()\r\n  end)\r\n  self.addContextMenuItem('Clear', function(color)\r\n    applyMultiple(color, 'clear', _, true)\r\n  end)\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\n  self.addContextMenuItem('Permanently Attach', attemptAttach)\r\n  self.addContextMenuItem('Permalock', function(color)\r\n    applyMultiple(color, 'permalock', _, true)\r\n  end)\r\nend\r\n\r\nfunction changeSize(params)\r\n  local delta = params[1]\r\n  local newSize = data.size + delta\r\n  if newSize > 800  or newSize < 50 then\r\n    return\r\n  end\r\n  data.size = newSize\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_size=data.size})\r\n  else\r\n    local size = getBox(data.text, true)\r\n    self.editInput({width=size.width, height=size.height, font_size=data.size})\r\n  end\r\nend\r\n\r\nfunction setColor(params)\r\n  if params and params[1] then\r\n    data.color = params[1]\r\n  else\r\n    data.color = self.getColorTint():setAt('a', 1) -- Take on color of object tint\r\n  end\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_color=data.color})\r\n  else\r\n    self.editInput({font_color=data.color, color=getBackground(data.color)})\r\n  end\r\nend\r\n\r\nfunction getBackground(color) --determines whether to use black or white depending on luminance\r\n  local r,g,b = Color(color):get()\r\n\r\n  local lum = 0.2126*r + 0.7152*g + 0.0722*b\r\n  if lum > 0.75 then\r\n    return {0.2,0.2,0.2, data.box_transparency}\r\n  else\r\n    return {1,1,1, data.box_transparency}\r\n  end\r\nend\r\n\r\nfunction clear()\r\n  data.text = ''\r\n  updateState()\r\n  inputMode()\r\nend\r\n\r\nfunction permalock()\r\n  self.interactable = false\r\n  data.interactable = false\r\n  updateState()\r\nend\r\n\r\nlocal target_script = [[\r\nfunction onLoad(script_state)\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    for _,entry in ipairs(state) do\r\n      self.createButton(entry)\r\n    end\r\n    self.addContextMenuItem('Clear All Text', function(color)\r\n      self.clearContextMenu()\r\n      self.clearButtons()\r\n      self.script_state = ''\r\n      self.script_code = ''\r\n    end)\r\n  end\r\nend\r\n]]\r\n\r\nfunction attemptAttach(player_color)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  local attachee\r\n  local attachers = {}\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if obj ~= self then\r\n        table.insert(attachers, obj)\r\n      end\r\n    else\r\n      if attachee then\r\n        broadcastToColor(\"More than one target selected.\", player_color)\r\n        return\r\n      else\r\n        attachee = obj\r\n      end\r\n    end\r\n  end\r\n  if attachee then\r\n    local code = attachee.script_code\r\n    if code and code ~= '' and code ~= target_script then\r\n      broadcastToColor(\"Warning: script on card has been overriden. Rewind time to undo.\", player_color)\r\n    end\r\n    for i,attacher in ipairs(attachers) do\r\n      attacher.call('attach', {target = attachee})\r\n    end\r\n    attach({target = attachee})\r\n    local type, flip = attachee.type, attachee.getRotation().z\r\n    if (type == 'Card' or type == 'Deck') and flip > 175 and flip < 185 then\r\n      broadcastToColor(\"Warning: text will not display if card or deck is facing down.\", player_color)\r\n    end\r\n  else\r\n    broadcastToColor(\"You must have a target object in your selection (using click-and-drag or Ctrl+Click) to use this option.\", player_color)\r\n  end\r\nend\r\n\r\nfunction attach(params)\r\n  local target = params.target\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  local textRotation = self.getRotation():sub(target.getRotation())\r\n    :add(Vector(180, 0, 180))\r\n\r\n  local textPosition = target.positionToLocal(\r\n    self.getPosition():add(Vector(0, data.hover_height, 0))\r\n  )\r\n  textPosition.x = -textPosition.x\r\n\r\n  local textScale = {}\r\n  textScale.x = self.getScale().x / target.getScale().x\r\n  textScale.y = self.getScale().x / target.getScale().y\r\n  textScale.z = self.getScale().x / target.getScale().z\r\n\r\n  local details = {\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=nil,\r\n    position=textPosition,\r\n    rotation=textRotation,\r\n    scale=textScale,\r\n    height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  }\r\n\r\n  target.createButton(details)\r\n\r\n  local script_state = target.script_state\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    table.insert(state, details)\r\n    target.script_state = JSON.encode(state)\r\n  else\r\n    target.script_state = JSON.encode({[1]=details})\r\n  end\r\n\r\n  target.script_code = target_script\r\n\r\n  self.destruct()\r\nend\r\n\r\nfunction applyMultiple(player_color, func_string, params, static_only)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if not static_only or obj.call('isStatic') then\r\n        obj.call(func_string, params)\r\n      end\r\n    end\r\n  end\r\nend\r\n\r\nfunction isStatic()\r\n  local input = self.getInputs()\r\n  return not input or #input == 0\r\nend\r\n\r\nfunction getBox(input, force)\r\n  local maxLength, lineCount = EXPAND_INTERVAL, 1\r\n  local lineLength = 0\r\n  for i = 1, #input do\r\n    local c = input:sub(i,i)\r\n    if c == '\\n' then\r\n      lineCount = lineCount + 1\r\n      if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n      lineLength = 0\r\n    else\r\n      lineLength = lineLength + 1\r\n    end\r\n  end\r\n  if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n\r\n  newWidth = data.size * maxLength * 0.9\r\n  newHeight = data.size * lineCount + 23\r\n\r\n  if force or boxWidth ~= newWidth or boxHeight ~= newHeight then\r\n    boxWidth, boxHeight = newWidth, newHeight\r\n    return {width = boxWidth, height = boxHeight}\r\n  end\r\n  return nil\r\nend\r\n\r\ntemp_lift = nil\r\nfunction onPickUp(player_color)\r\n  if data.autolift then\r\n    local player = Player[player_color]\r\n    temp_lift = player.lift_height\r\n    player.lift_height = 0\r\n  end\r\nend\r\n\r\nfunction onDrop(player_color)\r\n  if data.autolift and temp_lift then\r\n    Player[player_color].lift_height = temp_lift\r\n  end\r\nend\r\n\r\n-- Should be called every time data is modified, allows info to be saved on copy/paste\r\nfunction updateState()\r\n  self.script_state = JSON.encode(data)\r\nend\r\n\r\nfunction onSave()\r\n  self.script_state = JSON.encode(data)\r\n  return self.script_state\r\nend",
              "LuaScriptState": "{\"autolift\":false,\"autolock\":false,\"box_transparency\":1,\"color\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1},\"enter_to_finish\":false,\"hover_height\":0.05,\"interactable\":true,\"size\":250,\"text\":\"Placement des lieux\\nTour Abandonnée\"}",
              "XmlUI": ""
            },
            {
              "GUID": "b4357e",
              "Name": "Card",
              "Transform": {
                "posX": 4.50010872,
                "posY": 1.5207727,
                "posZ": 22.5000229,
                "rotX": 0.0108907036,
                "rotY": 180.008118,
                "rotZ": 0.00494992733,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Plateau de Leng",
              "Description": "Leng.",
              "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06295\",\n  \"locationBack\": {\n    \"connections\": \"Triangle\",\n    \"icons\": \"Diamond\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    }\n  },\n  \"locationFront\": {\n    \"connections\": \"Triangle\",\n    \"icons\": \"Diamond\"\n  },\n  \"traits\": \"Leng.\",\n  \"type\": \"Location\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 275811,
              "SidewaysCard": false,
              "CustomDeck": {
                "2758": {
                  "FaceURL": "https://i.imgur.com/NVBM8Hg.jpg",
                  "BackURL": "https://i.imgur.com/LXu6uGK.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "bc5efd",
              "Name": "Card",
              "Transform": {
                "posX": 23.5012913,
                "posY": 1.51380479,
                "posZ": -5.52293825,
                "rotX": 0.0108914347,
                "rotY": 180.000565,
                "rotZ": 0.00494843535,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Référence",
              "Description": "La Demeure des Dieux",
              "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"id\": \"06286\",\n  \"type\": \"ScenarioReference\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 275810,
              "SidewaysCard": false,
              "CustomDeck": {
                "2758": {
                  "FaceURL": "https://i.imgur.com/NVBM8Hg.jpg",
                  "BackURL": "https://i.imgur.com/LXu6uGK.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "c3e9d8",
              "Name": "Card",
              "Transform": {
                "posX": -23.0000114,
                "posY": 1.783606,
                "posZ": 2.99998832,
                "rotX": -4.974975E-06,
                "rotY": 180.001511,
                "rotZ": -8.72577246E-08,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Grand Prêtre qu'on ne Peut Décrire",
              "Description": "Agent des Autres Dieux",
              "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 3,\n  \"healthPerInv\": \"true\",\n  \"id\": \"06311\",\n  \"traits\": \"Monster. Cultist. Avatar. Elite.\",\n  \"type\": \"Enemy\",\n  \"victory\": 2\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 275826,
              "SidewaysCard": false,
              "CustomDeck": {
                "2758": {
                  "FaceURL": "https://i.imgur.com/NVBM8Hg.jpg",
                  "BackURL": "https://i.imgur.com/LXu6uGK.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "c56db4",
              "Name": "Custom_Tile",
              "Transform": {
                "posX": 0.0154812271,
                "posY": 1.50584447,
                "posZ": 13.4999971,
                "rotX": 0.00494782161,
                "rotY": 90.0002441,
                "rotZ": 359.9891,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.6045295,
                "g": 0.6045295,
                "b": 0.6045295
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://i.imgur.com/vppt2my.png",
                "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomTile": {
                  "Type": 3,
                  "Thickness": 0.1,
                  "Stackable": false,
                  "Stretch": true
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "States": {
                "2": {
                  "GUID": "44b0c5",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -39.7933121,
                    "posY": 1.63758957,
                    "posZ": 2.038383,
                    "rotX": 359.9201,
                    "rotY": 269.9961,
                    "rotZ": 0.0168742146,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                "3": {
                  "GUID": "5b38c6",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -38.8217163,
                    "posY": 1.99356019,
                    "posZ": 0.4159239,
                    "rotX": 359.9201,
                    "rotY": 272.9828,
                    "rotZ": 0.01687373,
                    "scaleX": 0.8,
                    "scaleY": 1.0,
                    "scaleZ": 0.8
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              }
            },
            {
              "GUID": "d22da8",
              "Name": "Card",
              "Transform": {
                "posX": -4.49989748,
                "posY": 1.51983917,
                "posZ": 13.500021,
                "rotX": 0.0108906385,
                "rotY": 180.009659,
                "rotZ": 0.004950111,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Monastère de Leng",
              "Description": "Leng.",
              "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06297\",\n  \"locationBack\": {\n    \"connections\": \"Triangle\",\n    \"icons\": \"Plus\",\n    \"uses\": {\n      \"countPerInvestigator\": 2,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    }\n  },\n  \"locationFront\": {\n    \"connections\": \"Triangle\",\n    \"icons\": \"Plus\"\n  },\n  \"traits\": \"Leng.\",\n  \"type\": \"Location\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 275813,
              "SidewaysCard": false,
              "CustomDeck": {
                "2758": {
                  "FaceURL": "https://i.imgur.com/NVBM8Hg.jpg",
                  "BackURL": "https://i.imgur.com/LXu6uGK.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "d4f4a8",
              "Name": "Card",
              "Transform": {
                "posX": -26.5000134,
                "posY": 1.783606,
                "posZ": 2.99998546,
                "rotX": -5.03466072E-06,
                "rotY": 179.981781,
                "rotZ": 1.3495665E-07,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "La Brume Rampante",
              "Description": "",
              "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 5,\n  \"id\": \"06086\",\n  \"traits\": \"Monster. Avatar.\",\n  \"type\": \"Enemy\",\n  \"victory\": 1\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 304552,
              "SidewaysCard": false,
              "CustomDeck": {
                "3045": {
                  "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "d7b302",
              "Name": "Card",
              "Transform": {
                "posX": -28.2367764,
                "posY": 1.92957783,
                "posZ": 6.99912262,
                "rotX": 0.00588569744,
                "rotY": 180.024429,
                "rotZ": 0.23081328,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Nyarlathotep",
              "Description": "L'Arpenteur des Étoiles",
              "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"health\": 7,\n  \"hidden\": \"true\",\n  \"id\": \"06310\",\n  \"traits\": \"Ancient One. Elite.\",\n  \"type\": \"Enemy\",\n  \"victory\": 2\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 275827,
              "SidewaysCard": false,
              "CustomDeck": {
                "2758": {
                  "FaceURL": "https://i.imgur.com/NVBM8Hg.jpg",
                  "BackURL": "https://i.imgur.com/LXu6uGK.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "dc04a6",
              "Name": "Card",
              "Transform": {
                "posX": -22.8599644,
                "posY": 1.93417108,
                "posZ": 6.96131563,
                "rotX": 0.00333139463,
                "rotY": 180.4529,
                "rotZ": 0.09407437,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Chaos Chuchotant (Nord)",
              "Description": "",
              "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"hidden\": \"true\",\n  \"id\": \"06314\",\n  \"traits\": \"Power.\",\n  \"type\": \"Treachery\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 275832,
              "SidewaysCard": false,
              "CustomDeck": {
                "2758": {
                  "FaceURL": "https://i.imgur.com/NVBM8Hg.jpg",
                  "BackURL": "https://i.imgur.com/LXu6uGK.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "dfa076",
              "Name": "Custom_Model",
              "Transform": {
                "posX": -26.5,
                "posY": 1.77100027,
                "posZ": 13.4999981,
                "rotX": 5.100129E-06,
                "rotY": -0.001083997,
                "rotZ": -1.46598E-07,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Text Tool",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.0,
                "g": 0.0,
                "b": 0.0,
                "a": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": false,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": false,
              "Tooltip": false,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/1478820768302617365/27883B7913E0E69143C3AA03493B7E7C4E8C29C0/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 1,
                "TypeIndex": 0,
                "CastShadows": true
              },
              "LuaScript": "-- Code for bag to identify text tool objects\r\nmovableTextTool_cowgoesmoo33 = true\r\n\r\n-- Number of characters before the text box width expands.\r\nEXPAND_INTERVAL = 20\r\n\r\n-- This table controls what is passed between save/load\r\ndata = {}\r\n\r\nfunction onLoad(saved_data)\r\n  if saved_data ~= '' then\r\n    data = JSON.decode(saved_data)\r\n    if data.text ~= '' then\r\n      self.interactable = data.interactable\r\n      staticMode()\r\n      return\r\n    end\r\n  else\r\n    data = {size=200, color=Color(0,0,0), text='', interactable=true,\r\n        enter_to_finish=false, autolock=false, autolift=false,\r\n        hover_height=0.05, box_transparency=1}\r\n  end\r\n\r\n  inputMode()\r\nend\r\n\r\n-- True if in the middle of delay after pressing Enter (with enter_to_finish on)\r\nfinishing = false\r\nfunction input_func(obj, color, input, stillEditing)\r\n  local params = getBox(input)\r\n  if params then\r\n    params.value = input\r\n    self.editInput(params)\r\n  end\r\n\r\n  if not stillEditing then\r\n    data.text = input\r\n    updateState()\r\n    if input ~= '' then staticMode(color) end\r\n  elseif data.enter_to_finish then\r\n    -- If enter is pressed: remove last newline and force finish\r\n    if not finishing and input:sub(-1) == '\\n' then\r\n      finishing = true\r\n      -- Delay to avoid user's Enter keypress being detected (opens chat box)\r\n      Wait.frames(function()\r\n        input = input:sub(1, -2)\r\n        data.text = input\r\n        updateState()\r\n        if input ~= '' then staticMode(color) else inputMode() end\r\n        finishing = false\r\n      end, 10)\r\n    end\r\n  end\r\nend\r\n\r\n-- When the inpupt box appears and lets the player type in it.\r\nfunction inputMode()\r\n  self.clearContextMenu()\r\n  self.clearInputs()\r\n  self.clearButtons()\r\n\r\n  local size = getBox(data.text, true)\r\n\r\n  self.createInput({\r\n    input_function = \"input_func\",\r\n    function_owner = self,\r\n    label          = \"Type Here\",\r\n    alignment      = 3,\r\n    position       = {x=0, y=data.hover_height, z=0},\r\n    rotation       = {0, 180, 0},\r\n    width          = size.width,\r\n    height         = size.height,\r\n    color          = getBackground(data.color),\r\n    font_color     = data.color,\r\n    font_size      = data.size,\r\n    value          = data.text,\r\n  })\r\n\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\nend\r\n\r\n-- When the input box disappears and displays the text.\r\nfunction staticMode(player)\r\n  self.clearContextMenu()\r\n  if data.autolock then\r\n    self.locked = true\r\n  end\r\n  if self.getInputs() and #self.getInputs() ~= 0 then\r\n    self.removeInput(0)\r\n  end\r\n\r\n  -- Clear from selecting player\r\n  if player then\r\n    self.removeFromPlayerSelection(player)\r\n  end\r\n\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  self.createButton({\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=self,\r\n    position={0,data.hover_height,0}, rotation={0,180,0}, height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  })\r\n\r\n  self.addContextMenuItem('Edit Text', function(color)\r\n    self.removeFromPlayerSelection(color)\r\n    inputMode()\r\n  end)\r\n  self.addContextMenuItem('Clear', function(color)\r\n    applyMultiple(color, 'clear', _, true)\r\n  end)\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\n  self.addContextMenuItem('Permanently Attach', attemptAttach)\r\n  self.addContextMenuItem('Permalock', function(color)\r\n    applyMultiple(color, 'permalock', _, true)\r\n  end)\r\nend\r\n\r\nfunction changeSize(params)\r\n  local delta = params[1]\r\n  local newSize = data.size + delta\r\n  if newSize > 800  or newSize < 50 then\r\n    return\r\n  end\r\n  data.size = newSize\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_size=data.size})\r\n  else\r\n    local size = getBox(data.text, true)\r\n    self.editInput({width=size.width, height=size.height, font_size=data.size})\r\n  end\r\nend\r\n\r\nfunction setColor(params)\r\n  if params and params[1] then\r\n    data.color = params[1]\r\n  else\r\n    data.color = self.getColorTint():setAt('a', 1) -- Take on color of object tint\r\n  end\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_color=data.color})\r\n  else\r\n    self.editInput({font_color=data.color, color=getBackground(data.color)})\r\n  end\r\nend\r\n\r\nfunction getBackground(color) --determines whether to use black or white depending on luminance\r\n  local r,g,b = Color(color):get()\r\n\r\n  local lum = 0.2126*r + 0.7152*g + 0.0722*b\r\n  if lum > 0.75 then\r\n    return {0.2,0.2,0.2, data.box_transparency}\r\n  else\r\n    return {1,1,1, data.box_transparency}\r\n  end\r\nend\r\n\r\nfunction clear()\r\n  data.text = ''\r\n  updateState()\r\n  inputMode()\r\nend\r\n\r\nfunction permalock()\r\n  self.interactable = false\r\n  data.interactable = false\r\n  updateState()\r\nend\r\n\r\nlocal target_script = [[\r\nfunction onLoad(script_state)\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    for _,entry in ipairs(state) do\r\n      self.createButton(entry)\r\n    end\r\n    self.addContextMenuItem('Clear All Text', function(color)\r\n      self.clearContextMenu()\r\n      self.clearButtons()\r\n      self.script_state = ''\r\n      self.script_code = ''\r\n    end)\r\n  end\r\nend\r\n]]\r\n\r\nfunction attemptAttach(player_color)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  local attachee\r\n  local attachers = {}\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if obj ~= self then\r\n        table.insert(attachers, obj)\r\n      end\r\n    else\r\n      if attachee then\r\n        broadcastToColor(\"More than one target selected.\", player_color)\r\n        return\r\n      else\r\n        attachee = obj\r\n      end\r\n    end\r\n  end\r\n  if attachee then\r\n    local code = attachee.script_code\r\n    if code and code ~= '' and code ~= target_script then\r\n      broadcastToColor(\"Warning: script on card has been overriden. Rewind time to undo.\", player_color)\r\n    end\r\n    for i,attacher in ipairs(attachers) do\r\n      attacher.call('attach', {target = attachee})\r\n    end\r\n    attach({target = attachee})\r\n    local type, flip = attachee.type, attachee.getRotation().z\r\n    if (type == 'Card' or type == 'Deck') and flip > 175 and flip < 185 then\r\n      broadcastToColor(\"Warning: text will not display if card or deck is facing down.\", player_color)\r\n    end\r\n  else\r\n    broadcastToColor(\"You must have a target object in your selection (using click-and-drag or Ctrl+Click) to use this option.\", player_color)\r\n  end\r\nend\r\n\r\nfunction attach(params)\r\n  local target = params.target\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  local textRotation = self.getRotation():sub(target.getRotation())\r\n    :add(Vector(180, 0, 180))\r\n\r\n  local textPosition = target.positionToLocal(\r\n    self.getPosition():add(Vector(0, data.hover_height, 0))\r\n  )\r\n  textPosition.x = -textPosition.x\r\n\r\n  local textScale = {}\r\n  textScale.x = self.getScale().x / target.getScale().x\r\n  textScale.y = self.getScale().x / target.getScale().y\r\n  textScale.z = self.getScale().x / target.getScale().z\r\n\r\n  local details = {\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=nil,\r\n    position=textPosition,\r\n    rotation=textRotation,\r\n    scale=textScale,\r\n    height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  }\r\n\r\n  target.createButton(details)\r\n\r\n  local script_state = target.script_state\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    table.insert(state, details)\r\n    target.script_state = JSON.encode(state)\r\n  else\r\n    target.script_state = JSON.encode({[1]=details})\r\n  end\r\n\r\n  target.script_code = target_script\r\n\r\n  self.destruct()\r\nend\r\n\r\nfunction applyMultiple(player_color, func_string, params, static_only)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if not static_only or obj.call('isStatic') then\r\n        obj.call(func_string, params)\r\n      end\r\n    end\r\n  end\r\nend\r\n\r\nfunction isStatic()\r\n  local input = self.getInputs()\r\n  return not input or #input == 0\r\nend\r\n\r\nfunction getBox(input, force)\r\n  local maxLength, lineCount = EXPAND_INTERVAL, 1\r\n  local lineLength = 0\r\n  for i = 1, #input do\r\n    local c = input:sub(i,i)\r\n    if c == '\\n' then\r\n      lineCount = lineCount + 1\r\n      if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n      lineLength = 0\r\n    else\r\n      lineLength = lineLength + 1\r\n    end\r\n  end\r\n  if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n\r\n  newWidth = data.size * maxLength * 0.9\r\n  newHeight = data.size * lineCount + 23\r\n\r\n  if force or boxWidth ~= newWidth or boxHeight ~= newHeight then\r\n    boxWidth, boxHeight = newWidth, newHeight\r\n    return {width = boxWidth, height = boxHeight}\r\n  end\r\n  return nil\r\nend\r\n\r\ntemp_lift = nil\r\nfunction onPickUp(player_color)\r\n  if data.autolift then\r\n    local player = Player[player_color]\r\n    temp_lift = player.lift_height\r\n    player.lift_height = 0\r\n  end\r\nend\r\n\r\nfunction onDrop(player_color)\r\n  if data.autolift and temp_lift then\r\n    Player[player_color].lift_height = temp_lift\r\n  end\r\nend\r\n\r\n-- Should be called every time data is modified, allows info to be saved on copy/paste\r\nfunction updateState()\r\n  self.script_state = JSON.encode(data)\r\nend\r\n\r\nfunction onSave()\r\n  self.script_state = JSON.encode(data)\r\n  return self.script_state\r\nend",
              "LuaScriptState": "{\"autolift\":false,\"autolock\":false,\"box_transparency\":1,\"color\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1},\"enter_to_finish\":false,\"hover_height\":0.05,\"interactable\":true,\"size\":400,\"text\":\"2)\"}",
              "XmlUI": ""
            },
            {
              "GUID": "f0513a",
              "Name": "Deck",
              "Transform": {
                "posX": 12.5010023,
                "posY": 1.53642881,
                "posZ": -6.016801,
                "rotX": 0.004950896,
                "rotY": 90.01487,
                "rotZ": 359.9891,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": false,
              "SidewaysCard": true,
              "DeckIDs": [
                1143202,
                1143201,
                1143200
              ],
              "CustomDeck": {
                "11432": {
                  "FaceURL": "https://i.imgur.com/QyUaviU.jpg",
                  "BackURL": "https://i.imgur.com/3uQ6lEu.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "60560a",
                  "Name": "Card",
                  "Transform": {
                    "posX": 12.5010014,
                    "posY": 4.79183245,
                    "posZ": -6.016798,
                    "rotX": 0.00495075341,
                    "rotY": 90.0149,
                    "rotZ": 359.9891,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Le Chaos Incarné",
                  "Description": "Intrigue 3a",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"doomThreshold\": 5,\n  \"id\": \"06289\",\n  \"type\": \"Agenda\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 1143202,
                  "SidewaysCard": true,
                  "CustomDeck": {
                    "11432": {
                      "FaceURL": "https://i.imgur.com/QyUaviU.jpg",
                      "BackURL": "https://i.imgur.com/3uQ6lEu.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "b4eccd",
                  "Name": "Card",
                  "Transform": {
                    "posX": 12.5010014,
                    "posY": 4.59183264,
                    "posZ": -6.016798,
                    "rotX": 0.00495075341,
                    "rotY": 90.0149,
                    "rotZ": 359.9891,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "L'Apparence du Chaos",
                  "Description": "Intrigue 2a",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"doomThreshold\": 5,\n  \"id\": \"06288\",\n  \"type\": \"Agenda\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 1143201,
                  "SidewaysCard": true,
                  "CustomDeck": {
                    "11432": {
                      "FaceURL": "https://i.imgur.com/QyUaviU.jpg",
                      "BackURL": "https://i.imgur.com/3uQ6lEu.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "d21285",
                  "Name": "Card",
                  "Transform": {
                    "posX": 12.501008,
                    "posY": 1.61307645,
                    "posZ": -6.01681328,
                    "rotX": 0.00257194554,
                    "rotY": 90.0149,
                    "rotZ": 359.985962,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "L'Œil du Chaos",
                  "Description": "Intrigue 1a",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"doomThreshold\": 7,\n  \"id\": \"06287\",\n  \"type\": \"Agenda\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 1143200,
                  "SidewaysCard": true,
                  "CustomDeck": {
                    "11432": {
                      "FaceURL": "https://i.imgur.com/QyUaviU.jpg",
                      "BackURL": "https://i.imgur.com/3uQ6lEu.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "fd22d2",
              "Name": "Card",
              "Transform": {
                "posX": -27.6524467,
                "posY": 1.980434,
                "posZ": 6.998806,
                "rotX": 0.005989617,
                "rotY": 180.028381,
                "rotZ": 0.257896334,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Nyarlathotep",
              "Description": "Le Dieu aux Mille Formes",
              "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"health\": 6,\n  \"hidden\": \"true\",\n  \"id\": \"06309\",\n  \"traits\": \"Ancient One. Elite.\",\n  \"type\": \"Enemy\",\n  \"victory\": 2\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 275825,
              "SidewaysCard": false,
              "CustomDeck": {
                "2758": {
                  "FaceURL": "https://i.imgur.com/NVBM8Hg.jpg",
                  "BackURL": "https://i.imgur.com/LXu6uGK.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "fed0af",
              "Name": "Card",
              "Transform": {
                "posX": -30.0010052,
                "posY": 1.78340435,
                "posZ": 6.999863,
                "rotX": 0.00562388869,
                "rotY": 180.030289,
                "rotZ": 359.9808,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Nyarlathotep",
              "Description": "Le Chaos Rampant",
              "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"health\": 5,\n  \"hidden\": \"true\",\n  \"id\": \"06306\",\n  \"traits\": \"Ancient One. Elite.\",\n  \"type\": \"Enemy\",\n  \"victory\": 2\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 275823,
              "SidewaysCard": false,
              "CustomDeck": {
                "2758": {
                  "FaceURL": "https://i.imgur.com/NVBM8Hg.jpg",
                  "BackURL": "https://i.imgur.com/LXu6uGK.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            }
          ],
          "AttachedDecals": [
            {
              "Transform": {
                "posX": -0.0021877822,
                "posY": -0.08963572,
                "posZ": -0.00288731651,
                "rotX": 270.0,
                "rotY": 359.869568,
                "rotZ": 0.0,
                "scaleX": 2.00000215,
                "scaleY": 2.00000238,
                "scaleZ": 2.00000262
              },
              "CustomDecal": {
                "Name": "dunwich_back",
                "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/959719855119695911/931B9829687A20F4DEADB36DA57B7E6D76792231/",
                "Size": 7.4
              }
            }
          ]
        },
        {
          "GUID": "911e8c",
          "Name": "Custom_Model_Bag",
          "Transform": {
            "posX": 4.500005,
            "posY": 0.979997337,
            "posZ": 46.5000076,
            "rotX": -5.17094441E-06,
            "rotY": 180.000076,
            "rotZ": 3.13049071E-07,
            "scaleX": 1.493596,
            "scaleY": 0.310884237,
            "scaleZ": 1.63552141
          },
          "Nickname": "II-B: Mille Nuances d'Horreur",
          "Description": "Les Dévoreurs de Rêves",
          "GMNotes": "Mille Nuances d'Horreur",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "CustomMesh": {
            "MeshURL": "https://raw.githubusercontent.com/RobMayer/TTSLibrary/master/advboxes/tuckbox_h_MSH.obj",
            "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/778493212055118180/AF19CB69440DFCBD745645A13A4DAC2A6509A813/",
            "NormalURL": "",
            "ColliderURL": "",
            "Convex": true,
            "MaterialIndex": 3,
            "TypeIndex": 6,
            "CustomShader": {
              "SpecularColor": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "SpecularIntensity": 0.0,
              "SpecularSharpness": 2.0,
              "FresnelStrength": 0.0
            },
            "CastShadows": true
          },
          "Bag": {
            "Order": 0
          },
          "LuaScript": "-- Utility memory bag by Directsun\r\n-- Version 2.7.0\r\n-- Fork of Memory Bag 2.0 by MrStump\r\n--\r\n-- Want to contribute? Create an issue or fork the code on GitHub and submit a pull request:\r\n-- https://github.com/sunflowermans/TTS-UtilityMemoryBag\r\n\r\n\r\nfunction updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction combineMemoryFromBagsWithin()\r\n    local bagObjList = self.getObjects()\r\n    for _, bagObj in ipairs(bagObjList) do\r\n        local data = bagObj.lua_script_state\r\n        if data ~= nil then\r\n            local j = JSON.decode(data)\r\n            if j ~= nil and j.ml ~= nil then\r\n                for guid, entry in pairs(j.ml) do\r\n                    memoryList[guid] = entry\r\n                end\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateMemoryWithMoves()\r\n    memoryList = memoryListBackup\r\n    --get the first transposed object's coordinates\r\n    local obj = getObjectFromGUID(moveGuid)\r\n\r\n    -- p1 is where needs to go, p2 is where it was\r\n    local refObjPos = memoryList[moveGuid].pos\r\n    local deltaPos = findOffsetDistance(obj.getPosition(), refObjPos, nil)\r\n    local movedRotation = obj.getRotation()\r\n    for guid, entry in pairs(memoryList) do\r\n        memoryList[guid].pos.x = entry.pos.x - deltaPos.x\r\n        memoryList[guid].pos.y = entry.pos.y - deltaPos.y\r\n        memoryList[guid].pos.z = entry.pos.z - deltaPos.z\r\n        -- memoryList[guid].rot.x = movedRotation.x\r\n        -- memoryList[guid].rot.y = movedRotation.y\r\n        -- memoryList[guid].rot.z = movedRotation.z\r\n    end\r\n\r\n    --theList[obj.getGUID()] = {\r\n    --    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n    --    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n    --    lock=obj.getLock()\r\n    --}\r\n    moveList = {}\r\nend\r\n\r\nfunction onload(saved_data)\r\n\r\n    fresh = true\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n\r\n    end\r\n\r\n    moveList = {}\r\n    moveGuid = nil\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        fresh = false\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\n function createSetupButton()\r\n    self.createButton({\r\n      label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n      position={0,0.1,-2.1}, rotation={0,0,0}, height=275, width=625,\r\n      font_size=150, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n end\r\n\r\n--Triggered by Transpose button\r\nfunction buttonClick_transpose()\r\n    moveGuid = nil\r\n    broadcastToAll(\"Select one object and move it- all objects will move relative to the new location\", {0.75, 0.75, 1})\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(true)\r\n    createSetupActionButtons(true)\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(false)\r\n    createSetupActionButtons(false)\r\nend\r\n\r\nfunction getAllObjectsInMemory()\r\n    local objTable = {}\r\n    local curObj = {}\r\n\r\n    for guid in pairs(memoryListBackup) do\r\n        curObj = getObjectFromGUID(guid)\r\n        table.insert(objTable, curObj)\r\n    end\r\n\r\n    return objTable\r\n    -- return getAllObjects()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects(move)\r\n    buttonIndexMap = {}\r\n    local howManyButtons = 0\r\n\r\n    local objsToHaveButtons = {}\r\n    if move == true then\r\n        objsToHaveButtons = getAllObjectsInMemory()\r\n    else\r\n        objsToHaveButtons = getAllObjects()\r\n    end\r\n\r\n    for _, obj in ipairs(objsToHaveButtons) do\r\n        if obj ~= self then\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1* 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor + 2\r\n            objPos.z = objPos.z * globalScaleFactor * 0.9\r\n            --Workaround for custom PDFs\r\n            if obj.Book then\r\n                objPos.y = objPos.y + 0.5\r\n            end\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(obj, move) end\r\n            local color = {0.75,0.25,0.25,0.6}\r\n            local colorMove = {0,0,1,0.6}\r\n            if move == true then\r\n                color = colorMove\r\n            end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=500, width=500,\r\n                color=color,\r\n            })\r\n            buttonIndexMap[obj.getGUID()] = howManyButtons\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons(move)\r\n    self.createButton({\r\n        label=\"Annuler\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n      position={-0.7,0.1,2.1}, rotation={0,0,0}, height=275, width=625,\r\n      font_size=145, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    self.createButton({\r\n        label=\"Valider\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={-0.7,0.3,2.6}, rotation={0,0,0}, height=275, width=625,\r\n        font_size=140, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    if move == false then\r\n      self.createButton({\r\n          label=\"Ajouter\", click_function=\"buttonClick_add\", function_owner=self,\r\n          position={0.7,0.3,2.1}, rotation={0,0,0}, height=275, width=625,\r\n          font_size=140, color={0,0,0}, font_color={0.25,1,0.25}\r\n      })\r\n\r\n        self.createButton({\r\n            label=\"Sélection\", click_function=\"editDragSelection\", function_owner=self,\r\n            position={-0.7,0.3,3.1}, rotation={0,0,0}, height=275, width=625,\r\n            font_size=125, color={0,0,0}, font_color={1,1,1}\r\n        })\r\n\r\n        if fresh == false then\r\n                self.createButton({\r\n                    label=\"Mise à jour\", click_function=\"buttonClick_setNew\", function_owner=self,\r\n                    position={0.7,0.3,3.1}, rotation={0,0,0}, height=275, width=625,\r\n                    font_size=105, color={0,0,0}, font_color={0.75,0.75,1}\r\n                })\r\n                self.createButton({\r\n                    label=\"Retirer\", click_function=\"buttonClick_remove\", function_owner=self,\r\n                    position={0.7,0.3,2.6}, rotation={0,0,0}, height=275, width=625,\r\n                    font_size=140, color={0,0,0}, font_color={1,0.25,0.25}\r\n                })\r\n            end\r\n        end\r\n\r\n        self.createButton({\r\n            label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n            position={0,0.3,-2.1}, rotation={0,0,0}, height=275, width=625,\r\n            font_size=165, color={0,0,0}, font_color={1,1,1}\r\n        })\r\n    end\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(obj, move)\r\n    local index = buttonIndexMap[obj.getGUID()]\r\n    local colorMove = {0,0,1,0.6}\r\n    local color = {0,1,0,0.6}\r\n\r\n    previousGuid = selectedGuid\r\n    selectedGuid = obj.getGUID()\r\n\r\n    theList = memoryList\r\n    if move == true then\r\n        theList = moveList\r\n        if previousGuid ~= nil and previousGuid ~= selectedGuid then\r\n            local prevObj = getObjectFromGUID(previousGuid)\r\n            prevObj.highlightOff()\r\n            self.editButton({index=previousIndex, color=colorMove})\r\n            theList[previousGuid] = nil\r\n        end\r\n        previousIndex = index\r\n    end\r\n\r\n    if theList[selectedGuid] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        theList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock(),\r\n            tint=obj.getColorTint()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        if move == true then\r\n            color = colorMove\r\n        end\r\n        self.editButton({index=index, color=color})\r\n        theList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\nfunction editDragSelection(bagObj, player, remove)\r\n    local selectedObjs = Player[player].getSelectedObjects()\r\n    if not remove then\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            --Ignore if already in the memory list, or does not have a button\r\n            if index and not memoryList[obj.getGUID()] then\r\n                self.editButton({index=index, color={0,1,0,0.6}})\r\n                --Adding pos/rot to memory table\r\n                local pos, rot = obj.getPosition(), obj.getRotation()\r\n                --I need to add it like this or it won't save due to indexing issue\r\n                memoryList[obj.getGUID()] = {\r\n                    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n                    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n                    lock=obj.getLock(),\r\n                    tint=obj.getColorTint()\r\n                }\r\n                obj.highlightOn({0,1,0})\r\n            end\r\n        end\r\n    else\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            if index and memoryList[obj.getGUID()] then\r\n                color = {0.75,0.25,0.25,0.6}\r\n                self.editButton({index=index, color=color})\r\n                memoryList[obj.getGUID()] = nil\r\n                obj.highlightOff()\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Sélection annulée\", {1,1,1})\r\n    moveGuid = nil\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    fresh = false\r\n    if next(moveList) ~= nil then\r\n        for guid in pairs(moveList) do\r\n            moveGuid = guid\r\n        end\r\n        if memoryListBackup[moveGuid] == nil then\r\n            broadcastToAll(\"Item selected for moving is not already in memory\", {1, 0.25, 0.25})\r\n        else\r\n            broadcastToAll(\"Moving all items in memory relative to new objects position!\", {0.75, 0.75, 1})\r\n            self.clearButtons()\r\n            self.clearInputs()\r\n            createMemoryActionButtons()\r\n            local count = 0\r\n            for guid in pairs(moveList) do\r\n                moveGuid = guid\r\n                count = count + 1\r\n                local obj = getObjectFromGUID(guid)\r\n                if obj ~= nil then obj.highlightOff() end\r\n            end\r\n            updateMemoryWithMoves()\r\n            updateSave()\r\n            buttonClick_place()\r\n        end\r\n    elseif next(memoryList) == nil and moveGuid == nil then\r\n        memoryList = memoryListBackup\r\n        broadcastToAll(\"No selections made.\", {0.75, 0.25, 0.25})\r\n    end\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\n    moveGuid = nil\r\nend\r\n\r\nfunction combineTables(first_table, second_table)\r\n    for k,v in pairs(second_table) do first_table[k] = v end\r\nend\r\n\r\nfunction buttonClick_add()\r\n    fresh = false\r\n    combineTables(memoryList, memoryListBackup)\r\n    broadcastToAll(\"Adding internal bags and selections to existing memory\", {0.25, 0.75, 0.25})\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_remove()\r\n    broadcastToAll(\"Removing Selected Entries From Memory\", {1.0, 0.25, 0.25})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        memoryListBackup[guid] = nil\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Removed\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_setNew()\r\n    broadcastToAll(\"Setting new position relative to items in memory\", {0.75, 0.75, 1})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        guid = obj.guid\r\n        if memoryListBackup[guid] ~= nil then\r\n            count = count + 1\r\n            memoryListBackup[guid].pos = obj.getPosition()\r\n            memoryListBackup[guid].rot = obj.getRotation()\r\n            memoryListBackup[guid].lock = obj.getLock()\r\n            memoryListBackup[guid].tint = obj.getColorTint()\r\n        end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    fresh = true\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Placer\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0.7,0.1,2.2}, rotation={0,0,0}, height=275, width=625,\r\n        font_size=150, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Ranger\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={-0.7,0.1,2.2}, rotation={0,0,0}, height=275, width=625,\r\n        font_size=150, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.1,-2.2}, rotation={0,0,0}, height=275, width=625,\r\n        font_size=150, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    ---    self.createButton({\r\n    ---      label=\"Bouger\", click_function=\"buttonClick_transpose\", function_owner=self,\r\n    ---      position={-2,0.3,0.8}, rotation={0,270,0}, height=350, width=800,\r\n    ---      font_size=250, color={0,0,0}, font_color={0.75,0.75,1}\r\n    ---\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n            obj.setColorTint(entry.tint)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot, smooth=false\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    item.setColorTint(entry.tint)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objets placés\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objets rangés\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local yOffset = 0\r\n    if obj ~= nil then\r\n        local bounds = obj.getBounds()\r\n        yOffset = (bounds.size.y - bounds.offset.y)\r\n    end\r\n    local deltaPos = {}\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + yOffset\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n    local objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n    local x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n    local z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n    --return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\nfunction rotateMyCoordinates(desiredPos, obj)\r\n    local angle = math.rad(obj.getRotation().y)\r\n    local x = desiredPos.x * math.sin(angle)\r\n    local z = desiredPos.z * math.cos(angle)\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n    local mult = 10^(dec or 0)\r\n    return math.floor(num * mult + 0.5) / mult\r\nend\r\n\r\n\r\n--[[\r\nThis object provides access to a variable stored on the \"Global script\".\r\nThe variable holds the GUIDs for every Utility Memory Bag in the scene.\r\nExample:\r\n{'805ebd', '35cc21', 'fc8886', 'f50264', '5f5f63'}\r\n--]]\r\nAllMemoryBagsInScene = {\r\n    NAME_OF_GLOBAL_VARIABLE = \"_UtilityMemoryBag_AllMemoryBagsInScene\"\r\n}\r\n\r\nfunction AllMemoryBagsInScene:add(guid)\r\n    local guids = Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\n    table.insert(guids, guid)\r\n    Global.setTable(self.NAME_OF_GLOBAL_VARIABLE, guids)\r\nend\r\n\r\nfunction AllMemoryBagsInScene:getGuidList()\r\n    return Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\nend",
          "LuaScriptState": "{\"ml\":{\"02b348\":{\"lock\":false,\"pos\":{\"x\":11.5,\"y\":1.5161,\"z\":1},\"rot\":{\"x\":0.0109,\"y\":180.0001,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"0569f3\":{\"lock\":false,\"pos\":{\"x\":-23.5000076293945,\"y\":1.81511569023132,\"z\":8.49999237060547},\"rot\":{\"x\":-5.07247841596836E-06,\"y\":180.000076293945,\"z\":-1.43136247743314E-07},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"0a9efe\":{\"lock\":false,\"pos\":{\"x\":-1.00000250339508,\"y\":1.50327098369598,\"z\":-0.499996930360794},\"rot\":{\"x\":0.00494769541546702,\"y\":90.0000076293945,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"0d5525\":{\"lock\":false,\"pos\":{\"x\":-1.50000166893005,\"y\":1.50673580169678,\"z\":17.5000038146973},\"rot\":{\"x\":0.00494792452082038,\"y\":90.0001373291016,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"0e9ce3\":{\"lock\":false,\"pos\":{\"x\":-23.5,\"y\":1.7789,\"z\":8.5},\"rot\":{\"x\":0,\"y\":180.0004,\"z\":0},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"112487\":{\"lock\":false,\"pos\":{\"x\":-20.5,\"y\":1.7836,\"z\":13},\"rot\":{\"x\":0,\"y\":180.0001,\"z\":0},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"1a8396\":{\"lock\":false,\"pos\":{\"x\":30.5,\"y\":1.68467628955841,\"z\":-3.00009989738464},\"rot\":{\"x\":-0.000591194489970803,\"y\":180.000747680664,\"z\":180.001068115234},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"1dc7ab\":{\"lock\":true,\"pos\":{\"x\":-20.5812,\"y\":1.77,\"z\":16.8459},\"rot\":{\"x\":90,\"y\":0,\"z\":0},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"1e80c2\":{\"lock\":false,\"pos\":{\"x\":14.9999980926514,\"y\":1.51720464229584,\"z\":8.50000095367432},\"rot\":{\"x\":0.0108915474265814,\"y\":179.999938964844,\"z\":0.00494819693267345},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"210233\":{\"lock\":false,\"pos\":{\"x\":3.5,\"y\":1.5187,\"z\":11},\"rot\":{\"x\":0.0109,\"y\":180,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"273380\":{\"lock\":false,\"pos\":{\"x\":-4.5,\"y\":1.5213,\"z\":21},\"rot\":{\"x\":0.0109,\"y\":179.9997,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"3125f5\":{\"lock\":false,\"pos\":{\"x\":3.9999988079071,\"y\":1.50721120834351,\"z\":22.5000038146973},\"rot\":{\"x\":0.0108900209888816,\"y\":180.020431518555,\"z\":0.00495596136897802},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"3c80a7\":{\"lock\":false,\"pos\":{\"x\":-23.5000610351563,\"y\":1.78360605239868,\"z\":3.49993062019348},\"rot\":{\"x\":-5.01493423143984E-06,\"y\":180.000411987305,\"z\":2.65572850821627E-07},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"3cd6f7\":{\"lock\":false,\"pos\":{\"x\":7.5,\"y\":1.5174,\"z\":6},\"rot\":{\"x\":0.0109,\"y\":180,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"44b0c5\":{\"lock\":false,\"pos\":{\"x\":3.99999856948853,\"y\":1.50550043582916,\"z\":13.5000028610229},\"rot\":{\"x\":359.989105224609,\"y\":2.69310676230816E-05,\"z\":-0.00495057553052902},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"4bbc8c\":{\"lock\":false,\"pos\":{\"x\":3.00020003318787,\"y\":1.50178337097168,\"z\":-6.50809955596924},\"rot\":{\"x\":0.0108906831592321,\"y\":180.011383056641,\"z\":0.00495053641498089},\"tint\":{\"a\":1,\"b\":0.701960802078247,\"g\":0.800000011920929,\"r\":0.874509811401367}},\"4f0d53\":{\"lock\":false,\"pos\":{\"x\":4,\"y\":1.51815462112427,\"z\":8.50000095367432},\"rot\":{\"x\":0.010891530662775,\"y\":179.999984741211,\"z\":0.00494819972664118},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"4f7fdd\":{\"lock\":false,\"pos\":{\"x\":9.99999809265137,\"y\":1.50574254989624,\"z\":17.5000038146973},\"rot\":{\"x\":0.00494811125099659,\"y\":90.0020370483398,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"59c503\":{\"lock\":false,\"pos\":{\"x\":3.99999856948853,\"y\":1.51986539363861,\"z\":17.5000038146973},\"rot\":{\"x\":0.0108915632590652,\"y\":180,\"z\":0.00494822720065713},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"5ea740\":{\"lock\":false,\"pos\":{\"x\":-1.50000166893005,\"y\":1.50502490997314,\"z\":8.50000286102295},\"rot\":{\"x\":0.00494789937511086,\"y\":90.0001449584961,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"72287f\":{\"lock\":false,\"pos\":{\"x\":17.501,\"y\":1.5312,\"z\":-6.0196},\"rot\":{\"x\":0.005,\"y\":90.0145,\"z\":359.9891},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"7234af\":{\"lock\":false,\"pos\":{\"x\":3.99999856948853,\"y\":1.50369453430176,\"z\":4.00000190734863},\"rot\":{\"x\":0.0108895730227232,\"y\":180.020492553711,\"z\":0.00495612993836403},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"74fb98\":{\"lock\":false,\"pos\":{\"x\":17.5009994506836,\"y\":1.53118240833282,\"z\":-6.01960039138794},\"rot\":{\"x\":0.00495089823380113,\"y\":90.0145416259766,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"7b1b49\":{\"lock\":false,\"pos\":{\"x\":-7.00001335144043,\"y\":1.5191045999527,\"z\":8.5},\"rot\":{\"x\":0.0108915250748396,\"y\":180,\"z\":0.00494818761944771},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"7e45f8\":{\"lock\":false,\"pos\":{\"x\":9.49999809265137,\"y\":1.50407493114471,\"z\":8.50000286102295},\"rot\":{\"x\":0.00494812102988362,\"y\":90.0018920898438,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"882f5b\":{\"lock\":false,\"pos\":{\"x\":12.501,\"y\":1.5364,\"z\":-6.0168},\"rot\":{\"x\":0.005,\"y\":90.0151,\"z\":359.9891},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"98830f\":{\"lock\":false,\"pos\":{\"x\":-27.0000038146973,\"y\":1.84000110626221,\"z\":3.49999642372131},\"rot\":{\"x\":-4.74576700071339E-06,\"y\":179.983459472656,\"z\":-6.79129357195052E-08},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"b00f83\":{\"lock\":false,\"pos\":{\"x\":3.99999833106995,\"y\":1.51644372940063,\"z\":-0.499996542930603},\"rot\":{\"x\":0.0108915362507105,\"y\":180,\"z\":0.00494824256747961},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"b25696\":{\"lock\":false,\"pos\":{\"x\":12.5009841918945,\"y\":1.53642880916595,\"z\":-6.01683187484741},\"rot\":{\"x\":0.00495079578831792,\"y\":90.0148010253906,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"bdeee9\":{\"lock\":true,\"pos\":{\"x\":-31.9938297271729,\"y\":1.77175104618073,\"z\":5.38468217849731},\"rot\":{\"x\":5.16333102495992E-06,\"y\":-0.000147379367263056,\"z\":-1.26464627214773E-07},\"tint\":{\"a\":0,\"b\":0.555448532104492,\"g\":0.677700459957123,\"r\":0}},\"beb0bd\":{\"lock\":false,\"pos\":{\"x\":-29.5022068023682,\"y\":1.74628496170044,\"z\":8.99139308929443},\"rot\":{\"x\":-6.88069349052967E-07,\"y\":-0.000268140312982723,\"z\":1.39182373004587E-06},\"tint\":{\"a\":1,\"b\":0.5,\"g\":0.5,\"r\":0.5}},\"c56dc3\":{\"lock\":false,\"pos\":{\"x\":17.501,\"y\":1.5312,\"z\":-6.0196},\"rot\":{\"x\":0.005,\"y\":90.0147,\"z\":359.9891},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"cd838c\":{\"lock\":false,\"pos\":{\"x\":-0.5,\"y\":1.52,\"z\":16},\"rot\":{\"x\":0.0109,\"y\":180,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"d1bafa\":{\"lock\":false,\"pos\":{\"x\":-20.5000019073486,\"y\":1.78360605239868,\"z\":3.49999856948853},\"rot\":{\"x\":-5.02731654705713E-06,\"y\":180.000335693359,\"z\":3.77821038455295E-07},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"e3cc73\":{\"lock\":false,\"pos\":{\"x\":23.5012969970703,\"y\":1.51380479335785,\"z\":-5.52301406860352},\"rot\":{\"x\":0.0108914924785495,\"y\":180.000213623047,\"z\":0.00494834640994668},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"e4c0a3\":{\"lock\":false,\"pos\":{\"x\":14.9999980926514,\"y\":1.51891541481018,\"z\":17.5000019073486},\"rot\":{\"x\":0.0108915595337749,\"y\":179.999938964844,\"z\":0.00494825048372149},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"e7be4d\":{\"lock\":false,\"pos\":{\"x\":-32.0000114440918,\"y\":1.8400012254715,\"z\":3.4999885559082},\"rot\":{\"x\":-5.11520192958415E-06,\"y\":179.999649047852,\"z\":2.70628675025364E-07},\"tint\":{\"a\":1,\"b\":0,\"g\":0,\"r\":0.614982545375824}},\"ef1e53\":{\"lock\":false,\"pos\":{\"x\":-20.5,\"y\":1.810187458992,\"z\":8.49999904632568},\"rot\":{\"x\":-5.03667843076983E-06,\"y\":180.000274658203,\"z\":2.25556419763961E-07},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"f8dacc\":{\"lock\":false,\"pos\":{\"x\":-6.99999952316284,\"y\":1.52081537246704,\"z\":17.5000019073486},\"rot\":{\"x\":0.0108915194869041,\"y\":179.999984741211,\"z\":0.00494823884218931},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"fde438\":{\"lock\":false,\"pos\":{\"x\":-29.7924041748047,\"y\":1.77175045013428,\"z\":12.0069942474365},\"rot\":{\"x\":5.03001865581609E-06,\"y\":-7.32580447220244E-05,\"z\":-8.63459632682861E-08},\"tint\":{\"a\":0,\"b\":0.555448532104492,\"g\":0.677700459957123,\"r\":0}}}}",
          "XmlUI": "",
          "ContainedObjects": [
            {
              "GUID": "0a9efe",
              "Name": "Custom_Tile",
              "Transform": {
                "posX": -1.00000286,
                "posY": 1.503271,
                "posZ": -0.49999696,
                "rotX": 0.00494770566,
                "rotY": 90.00001,
                "rotZ": 359.9891,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.6045295,
                "g": 0.6045295,
                "b": 0.6045295
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://i.imgur.com/vppt2my.png",
                "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomTile": {
                  "Type": 3,
                  "Thickness": 0.1,
                  "Stackable": false,
                  "Stretch": true
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "States": {
                "2": {
                  "GUID": "44b0c5",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -39.7933121,
                    "posY": 1.63758957,
                    "posZ": 2.038383,
                    "rotX": 359.9201,
                    "rotY": 269.9961,
                    "rotZ": 0.0168742146,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                "3": {
                  "GUID": "5b38c6",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -38.8217163,
                    "posY": 1.99356019,
                    "posZ": 0.4159239,
                    "rotX": 359.9201,
                    "rotY": 272.9828,
                    "rotZ": 0.01687373,
                    "scaleX": 0.8,
                    "scaleY": 1.0,
                    "scaleZ": 0.8
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              }
            },
            {
              "GUID": "0d5525",
              "Name": "Custom_Tile",
              "Transform": {
                "posX": -1.50000167,
                "posY": 1.5067358,
                "posZ": 17.5000038,
                "rotX": 0.0049479343,
                "rotY": 90.00016,
                "rotZ": 359.9891,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.6045295,
                "g": 0.6045295,
                "b": 0.6045295
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://i.imgur.com/vppt2my.png",
                "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomTile": {
                  "Type": 3,
                  "Thickness": 0.1,
                  "Stackable": false,
                  "Stretch": true
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "States": {
                "2": {
                  "GUID": "44b0c5",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -39.7933121,
                    "posY": 1.63758957,
                    "posZ": 2.038383,
                    "rotX": 359.9201,
                    "rotY": 269.9961,
                    "rotZ": 0.0168742146,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                "3": {
                  "GUID": "5b38c6",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -38.8217163,
                    "posY": 1.99356019,
                    "posZ": 0.4159239,
                    "rotX": 359.9201,
                    "rotY": 272.9828,
                    "rotZ": 0.01687373,
                    "scaleX": 0.8,
                    "scaleY": 1.0,
                    "scaleZ": 0.8
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              }
            },
            {
              "GUID": "112487",
              "Name": "Card",
              "Transform": {
                "posX": -20.4999943,
                "posY": 1.78360522,
                "posZ": 13.0000048,
                "rotX": -5.13826262E-06,
                "rotY": 180.000137,
                "rotZ": 1.31984947E-07,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "L'Innommable",
              "Description": "L'Abomination Ultime",
              "GMNotes": "[]",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 571300,
              "SidewaysCard": false,
              "CustomDeck": {
                "5713": {
                  "FaceURL": "https://steamusercontent-a.akamaihd.net/ugc/2012579677839988068/37FFF70172EBEF59D2FBDBC09ED5AF17797C98C1/",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1835784131957489171/6E3F1D1BAA5FBB7101D3F84B5E8502CD0F7E299E/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "1a8396",
              "Name": "Deck",
              "Transform": {
                "posX": 30.5,
                "posY": 1.68467629,
                "posZ": -3.0001,
                "rotX": -0.0005911121,
                "rotY": 180.000748,
                "rotZ": 180.001068,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Deck Rencontre",
              "Description": "Mille Nuances d'Horreur",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": false,
              "SidewaysCard": false,
              "DeckIDs": [
                18100,
                18101,
                18038,
                16900,
                16901,
                16518,
                16524,
                16521,
                16520,
                16523,
                16519,
                16522,
                17201,
                17202,
                17338,
                17204,
                279023,
                279024,
                276601,
                279025,
                279026,
                279027,
                279028,
                278739,
                278740,
                278741,
                278742,
                276264,
                276265,
                276266,
                276267,
                276268,
                276600,
                276602
              ],
              "CustomDeck": {
                "181": {
                  "FaceURL": "https://i.imgur.com/AdR3VIZ.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                },
                "180": {
                  "FaceURL": "https://i.imgur.com/nB9kjFF.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                },
                "169": {
                  "FaceURL": "https://i.imgur.com/7H57eeO.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                },
                "165": {
                  "FaceURL": "https://i.imgur.com/nB9kjFF.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                },
                "172": {
                  "FaceURL": "https://i.imgur.com/f8FRV80.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                },
                "173": {
                  "FaceURL": "https://i.imgur.com/7H57eeO.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                },
                "2790": {
                  "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                },
                "2766": {
                  "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                },
                "2787": {
                  "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                },
                "2762": {
                  "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "8041a2",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 10.8470488,
                    "posZ": -3.0001,
                    "rotX": -0.0005907802,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Nuée de Rats",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 1,\n  \"id\": \"01159\",\n  \"traits\": \"Creature.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 18100,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "181": {
                      "FaceURL": "https://i.imgur.com/AdR3VIZ.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "3c41d5",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 10.9845352,
                    "posZ": -3.00010014,
                    "rotX": -0.0005907493,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Nuée de Rats",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 1,\n  \"id\": \"01159\",\n  \"traits\": \"Creature.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 18101,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "181": {
                      "FaceURL": "https://i.imgur.com/AdR3VIZ.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "b1178a",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 10.7845354,
                    "posZ": -3.00010014,
                    "rotX": -0.0005907493,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Nuée de Rats",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 1,\n  \"id\": \"01159\",\n  \"traits\": \"Creature.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 18038,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "180": {
                      "FaceURL": "https://i.imgur.com/nB9kjFF.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "4b7dd0",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 10.2470484,
                    "posZ": -3.0001,
                    "rotX": -0.000590797164,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Porte Verrouillée",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"01174\",\n  \"traits\": \"Obstacle.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 16900,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "169": {
                      "FaceURL": "https://i.imgur.com/7H57eeO.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "c1f477",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 10.3845358,
                    "posZ": -3.00010014,
                    "rotX": -0.0005907493,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Porte Verrouillée",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"01174\",\n  \"traits\": \"Obstacle.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 16901,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "169": {
                      "FaceURL": "https://i.imgur.com/7H57eeO.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "1eb691",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 10.184535,
                    "posZ": -3.00010014,
                    "rotX": -0.0005907493,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Mains Saisissantes",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"01162\",\n  \"traits\": \"Hazard.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 16518,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "165": {
                      "FaceURL": "https://i.imgur.com/nB9kjFF.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "bf2930",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 9.984535,
                    "posZ": -3.00010014,
                    "rotX": -0.0005907493,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Mains Saisissantes",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"01162\",\n  \"traits\": \"Hazard.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 16524,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "165": {
                      "FaceURL": "https://i.imgur.com/nB9kjFF.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "7db61d",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 9.784535,
                    "posZ": -3.00010014,
                    "rotX": -0.0005907493,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Mains Saisissantes",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"01162\",\n  \"traits\": \"Hazard.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 16521,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "165": {
                      "FaceURL": "https://i.imgur.com/nB9kjFF.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "ef3d34",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 9.247048,
                    "posZ": -3.0001,
                    "rotX": -0.0005907709,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Goule Affamée",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 3,\n  \"id\": \"01161\",\n  \"traits\": \"Humanoid. Monster. Ghoul.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 16520,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "165": {
                      "FaceURL": "https://i.imgur.com/nB9kjFF.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "5459e3",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 9.384536,
                    "posZ": -3.00010014,
                    "rotX": -0.0005907493,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Serviteur Goule",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 2,\n  \"id\": \"01160\",\n  \"traits\": \"Humanoid. Monster. Ghoul.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 16523,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "165": {
                      "FaceURL": "https://i.imgur.com/nB9kjFF.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "0feb76",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 9.184535,
                    "posZ": -3.00010014,
                    "rotX": -0.0005907493,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Serviteur Goule",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 2,\n  \"id\": \"01160\",\n  \"traits\": \"Humanoid. Monster. Ghoul.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 16519,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "165": {
                      "FaceURL": "https://i.imgur.com/nB9kjFF.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "199ce8",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 8.647049,
                    "posZ": -3.0001,
                    "rotX": -0.000590883,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Serviteur Goule",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 2,\n  \"id\": \"01160\",\n  \"traits\": \"Humanoid. Monster. Ghoul.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 16522,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "165": {
                      "FaceURL": "https://i.imgur.com/nB9kjFF.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "082199",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 8.784535,
                    "posZ": -3.00010014,
                    "rotX": -0.0005907493,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Brouilard Couvrant",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"01168\",\n  \"traits\": \"Hazard.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 17201,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "172": {
                      "FaceURL": "https://i.imgur.com/f8FRV80.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "cc1997",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 8.584536,
                    "posZ": -3.00010014,
                    "rotX": -0.0005907493,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Brouilard Couvrant",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"01168\",\n  \"traits\": \"Hazard.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 17202,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "172": {
                      "FaceURL": "https://i.imgur.com/f8FRV80.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "3ec405",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 8.384536,
                    "posZ": -3.00010014,
                    "rotX": -0.0005907493,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Froid de la Crypte",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"01167\",\n  \"traits\": \"Hazard.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 17338,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "173": {
                      "FaceURL": "https://i.imgur.com/7H57eeO.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "4214a2",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 8.184535,
                    "posZ": -3.00010014,
                    "rotX": -0.0005907493,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Froid de la Crypte",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"01167\",\n  \"traits\": \"Hazard.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 17204,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "172": {
                      "FaceURL": "https://i.imgur.com/f8FRV80.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "3126c8",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 7.984535,
                    "posZ": -3.00010014,
                    "rotX": -0.0005907493,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Écheveau de la Réalité",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06100\",\n  \"traits\": \"Power.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 279023,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2790": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "df7d61",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 7.784535,
                    "posZ": -3.00010014,
                    "rotX": -0.0005907493,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Écheveau de la Réalité",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06100\",\n  \"traits\": \"Power.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 279024,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2790": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "cf1c15",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 5.735678,
                    "posZ": -3.00010014,
                    "rotX": -0.0005907493,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Apparition Indescriptible",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06191\",\n  \"traits\": \"Curse.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276601,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "90a3c9",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 7.584535,
                    "posZ": -3.00010014,
                    "rotX": -0.0005907493,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Aperçu du Monde Souterrain",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06099\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 279025,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2790": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "65c5da",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 7.384536,
                    "posZ": -3.00010014,
                    "rotX": -0.0005907493,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Aperçu du Monde Souterrain",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06099\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 279026,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2790": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "332ec0",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 7.184535,
                    "posZ": -3.00010014,
                    "rotX": -0.0005907493,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Terreurs Nocturnes",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06098\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 279027,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2790": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "55d389",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 6.984535,
                    "posZ": -3.00010014,
                    "rotX": -0.0005907493,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Terreurs Nocturnes",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06098\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 279028,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2790": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "d2e5c0",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 6.44705,
                    "posZ": -3.0001,
                    "rotX": -0.000590737967,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Gug Pataud",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 6,\n  \"id\": \"06092\",\n  \"traits\": \"Monster. Gug.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 278739,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2787": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "c89d6b",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 6.58453655,
                    "posZ": -3.00010014,
                    "rotX": -0.0005907493,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Ghast Chasseur",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 2,\n  \"id\": \"06091\",\n  \"traits\": \"Humanoid. Monster. Ghast.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 278740,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2787": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "1dd42e",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 6.38453627,
                    "posZ": -3.00010014,
                    "rotX": -0.0005907493,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Ghast Chasseur",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 2,\n  \"id\": \"06091\",\n  \"traits\": \"Humanoid. Monster. Ghast.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 278741,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2787": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "0e25bf",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 6.18453646,
                    "posZ": -3.00010014,
                    "rotX": -0.0005907493,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Ghast Chasseur",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 2,\n  \"id\": \"06091\",\n  \"traits\": \"Humanoid. Monster. Ghast.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 278742,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2787": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "6f4ec4",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 5.984536,
                    "posZ": -3.00010014,
                    "rotX": -0.0005907493,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Secrets dans la Mansarde",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06194\",\n  \"traits\": \"Scheme.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276264,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "d1cafe",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 5.44705,
                    "posZ": -3.0001,
                    "rotX": -0.0005908658,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Secrets dans la Mansarde",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06194\",\n  \"traits\": \"Scheme.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276265,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "46a9b5",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 5.58453655,
                    "posZ": -3.00010014,
                    "rotX": -0.0005907493,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Souvenirs Trompeurs",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06193\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276266,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "b49e57",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 5.38453627,
                    "posZ": -3.00010014,
                    "rotX": -0.0005907493,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Souvenirs Trompeurs",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06193\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276267,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "b9045e",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 5.18453646,
                    "posZ": -3.00010014,
                    "rotX": -0.0005907493,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Yeux Brillants",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06192\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276268,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "ea1cbd",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 4.984536,
                    "posZ": -3.00010014,
                    "rotX": -0.0005907493,
                    "rotY": 180.000763,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Yeux Brillants",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06192\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276600,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "8b5200",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 1.64927626,
                    "posZ": -3.00009966,
                    "rotX": -0.00136477151,
                    "rotY": 180.000763,
                    "rotZ": 180.0018,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Apparition Indescriptible",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06191\",\n  \"traits\": \"Curse.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276602,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "1dc7ab",
              "Name": "3DText",
              "Transform": {
                "posX": -20.58126,
                "posY": 1.76999688,
                "posZ": 16.8458958,
                "rotX": 90.0,
                "rotY": 0.0,
                "rotZ": 0.0,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "Text": {
                "Text": "Pour remplacer celle\nqui entrera en jeu :)",
                "colorstate": {
                  "r": 0.797940731,
                  "g": 0.797940731,
                  "b": 0.797940731
                },
                "fontSize": 52
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "1e80c2",
              "Name": "Card",
              "Transform": {
                "posX": 14.9999981,
                "posY": 1.51720464,
                "posZ": 8.500001,
                "rotX": 0.0108915716,
                "rotY": 179.999908,
                "rotZ": 0.004948209,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Porte du Rez-de-Chaussée",
              "Description": "",
              "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06177\",\n  \"locationBack\": {\n    \"connections\": \"Square\",\n    \"icons\": \"Hourglass\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    },\n    \"victory\": 1\n  },\n  \"locationFront\": {\n    \"connections\": \"Square\",\n    \"icons\": \"Hourglass\"\n  },\n  \"type\": \"Location\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276546,
              "SidewaysCard": false,
              "CustomDeck": {
                "2765": {
                  "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                  "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "3125f5",
              "Name": "Custom_Tile",
              "Transform": {
                "posX": 3.99999881,
                "posY": 1.50721121,
                "posZ": 22.5000038,
                "rotX": 0.010889831,
                "rotY": 180.020432,
                "rotZ": 0.004956222,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.6045295,
                "g": 0.6045295,
                "b": 0.6045295
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://i.imgur.com/vppt2my.png",
                "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomTile": {
                  "Type": 3,
                  "Thickness": 0.1,
                  "Stackable": false,
                  "Stretch": true
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "States": {
                "2": {
                  "GUID": "44b0c5",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -39.7933121,
                    "posY": 1.63758957,
                    "posZ": 2.038383,
                    "rotX": 359.9201,
                    "rotY": 269.9961,
                    "rotZ": 0.0168742146,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                "3": {
                  "GUID": "5b38c6",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -38.8217163,
                    "posY": 1.99356019,
                    "posZ": 0.4159239,
                    "rotX": 359.9201,
                    "rotY": 272.9828,
                    "rotZ": 0.01687373,
                    "scaleX": 0.8,
                    "scaleY": 1.0,
                    "scaleZ": 0.8
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              }
            },
            {
              "GUID": "3c80a7",
              "Name": "Card",
              "Transform": {
                "posX": -23.5000668,
                "posY": 1.783606,
                "posZ": 3.49992275,
                "rotX": -4.937653E-06,
                "rotY": 180.000412,
                "rotZ": 1.08751422E-07,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Tombe Anonyme",
              "Description": "Cimetière.",
              "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06182\",\n  \"locationBack\": {\n    \"connections\": \"Crescent\",\n    \"icons\": \"Plus\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    },\n    \"victory\": 1\n  },\n  \"locationFront\": {\n    \"connections\": \"Crescent\",\n    \"icons\": \"Plus\"\n  },\n  \"traits\": \"Graveyard.\",\n  \"type\": \"Location\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276551,
              "SidewaysCard": false,
              "CustomDeck": {
                "2765": {
                  "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                  "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "44b0c5",
              "Name": "Custom_Tile",
              "Transform": {
                "posX": 3.99999881,
                "posY": 1.50550044,
                "posZ": 13.5000029,
                "rotX": 359.9891,
                "rotY": 3.091759E-05,
                "rotZ": -0.00495225936,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.6045295,
                "g": 0.6045295,
                "b": 0.6045295
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomTile": {
                  "Type": 3,
                  "Thickness": 0.1,
                  "Stackable": false,
                  "Stretch": true
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "States": {
                "1": {
                  "GUID": "19a7b8",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -1.00084817,
                    "posY": 1.62484574,
                    "posZ": 7.00002575,
                    "rotX": 0.000265118957,
                    "rotY": 180.02388,
                    "rotZ": 0.0008218782,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/vppt2my.png",
                    "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                "3": {
                  "GUID": "5b38c6",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -38.8217163,
                    "posY": 1.99356019,
                    "posZ": 0.4159239,
                    "rotX": 359.9201,
                    "rotY": 272.9828,
                    "rotZ": 0.01687373,
                    "scaleX": 0.8,
                    "scaleY": 1.0,
                    "scaleZ": 0.8
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              }
            },
            {
              "GUID": "4bbc8c",
              "Name": "Custom_Tile",
              "Transform": {
                "posX": 3.0002,
                "posY": 1.50178337,
                "posZ": -6.508099,
                "rotX": 0.0108904745,
                "rotY": 180.011368,
                "rotZ": 0.00495070824,
                "scaleX": 1.6428808,
                "scaleY": 1.0,
                "scaleZ": 1.6428808
              },
              "Nickname": "Mise en place du Chaos Bag",
              "Description": "II-B: Mille Nuances d'Horreur",
              "GMNotes": "{\"data\":\"A Thousand Shapes of Horror\",\"easy\":false,\"expert\":false,\"hard\":false,\"normal\":false,\"standalone\":true}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.8745098,
                "g": 0.8,
                "b": 0.7019608
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/2011456161884106028/81BF2DAD34FE18B6788B56E21F16B81E6525AD99/",
                "ImageSecondaryURL": "https://steamusercontent-a.akamaihd.net/ugc/2011456161884106028/81BF2DAD34FE18B6788B56E21F16B81E6525AD99/",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomTile": {
                  "Type": 3,
                  "Thickness": 0.1,
                  "Stackable": false,
                  "Stretch": true
                }
              },
              "LuaScript": "\r\njacqueline_guid = '42cd6e'\r\n\r\nbuttonparams = {\r\n   ['easy'] = {label = \"Facile\", click_function = 'modeEasy', z_i = -0.2},\r\n   ['normal'] = {label = \"Standard\", click_function = 'modeNormal', z_i = 0.1},\r\n   ['hard'] = {label = \"Difficile\", click_function = 'modeHard', z_i = 0.4},\r\n   ['expert'] = {label = \"Expert\", click_function = 'modeExpert', z_i = 0.7},\r\n   ['standalone'] = {label = \"Indépendant\", click_function = 'modeStandalone', z_i = 0},\r\n}\r\n\r\nfunction onLoad()\r\n\r\n    metadata = JSON.decode(self.getGMNotes())\r\n    buttontable = {}\r\n    for key, value in pairs(buttonparams) do\r\n        if metadata[key] == true then\r\n            table.insert(buttontable,value)\r\n        end\r\n        \r\n    end\r\n\r\n    for _, button in pairs(buttontable) do\r\n        local data = {\r\n            click_function = button.click_function, \r\n            function_owner = self, \r\n            label = button.label, \r\n            position = {0, 0.1, button.z_i}, \r\n            scale = {0.3, 0.5, 0.3}, \r\n            width = 1500, \r\n            height = 400, \r\n            font_size = 250, \r\n            tooltip = \"Chaos bag du mode \"..button.label,\r\n            color = {0.5647, 0.4627, 0.2353, 1}, \r\n            font_color = {0.9041, 0.8313, 0.7356, 1},\r\n            hover_color = {99/255, 85/255, 48/255},\r\n            press_color = {192/255, 152/255, 94/255} }\r\n        self.createButton(data)\r\n        \r\n    end\r\n    jacqueline = getObjectFromGUID(jacqueline_guid)\r\n    chaosdata = jacqueline.getTable('chaosdata')\r\nend\r\n\r\nfunction modeEasy()\r\n    local  params ={}\r\n     params.mode = 'easy'\r\n     params.data = metadata.data\r\n     jacqueline.call('setChaosBag', params)\r\n  \r\nend\r\n\r\nfunction modeNormal()\r\n      local  params ={}\r\n       params.mode = 'normal'\r\n       params.data = metadata.data\r\n       jacqueline.call('setChaosBag', params)\r\n    \r\nend\r\n\r\nfunction modeHard()\r\n    local  params ={}\r\n     params.mode = 'hard'\r\n     params.data = metadata.data\r\n     jacqueline.call('setChaosBag', params)\r\n  \r\nend\r\n\r\nfunction modeExpert()\r\n    local  params ={}\r\n     params.mode = 'expert'\r\n     params.data = metadata.data\r\n     jacqueline.call('setChaosBag', params)\r\n  \r\nend\r\n\r\nfunction modeStandalone()\r\n    local  params ={}\r\n     params.mode = 'standalone'\r\n     params.data = metadata.data\r\n     jacqueline.call('setChaosBag', params)\r\n  \r\nend",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "4f0d53",
              "Name": "Card",
              "Transform": {
                "posX": 3.99999976,
                "posY": 1.51815462,
                "posZ": 8.500001,
                "rotX": 0.0108914552,
                "rotY": 179.999985,
                "rotZ": 0.004948306,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Porte d'Entrée",
              "Description": "",
              "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06175\",\n  \"locationBack\": {\n    \"connections\": \"Crescent|Heart|Hourglass\",\n    \"icons\": \"Square\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    }\n  },\n  \"locationFront\": {\n    \"connections\": \"Crescent|Heart|Hourglass\",\n    \"icons\": \"Square\"\n  },\n  \"type\": \"Location\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276544,
              "SidewaysCard": false,
              "CustomDeck": {
                "2765": {
                  "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                  "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "4f7fdd",
              "Name": "Custom_Tile",
              "Transform": {
                "posX": 9.999998,
                "posY": 1.50574255,
                "posZ": 17.5000038,
                "rotX": 0.00494824443,
                "rotY": 90.00204,
                "rotZ": 359.9891,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.6045295,
                "g": 0.6045295,
                "b": 0.6045295
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://i.imgur.com/vppt2my.png",
                "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomTile": {
                  "Type": 3,
                  "Thickness": 0.1,
                  "Stackable": false,
                  "Stretch": true
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "States": {
                "2": {
                  "GUID": "44b0c5",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -39.7933121,
                    "posY": 1.63758957,
                    "posZ": 2.038383,
                    "rotX": 359.9201,
                    "rotY": 269.9961,
                    "rotZ": 0.0168742146,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                "3": {
                  "GUID": "5b38c6",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -38.8217163,
                    "posY": 1.99356019,
                    "posZ": 0.4159239,
                    "rotX": 359.9201,
                    "rotY": 272.9828,
                    "rotZ": 0.01687373,
                    "scaleX": 0.8,
                    "scaleY": 1.0,
                    "scaleZ": 0.8
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              }
            },
            {
              "GUID": "59c503",
              "Name": "Card",
              "Transform": {
                "posX": 3.99999857,
                "posY": 1.51986539,
                "posZ": 17.5000038,
                "rotX": 0.0108915,
                "rotY": 180.0,
                "rotZ": 0.004948227,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Couloir de l'Étage",
              "Description": "",
              "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06178\",\n  \"locationBack\": {\n    \"connections\": \"Diamond|Square|Circle\",\n    \"icons\": \"Heart\"\n  },\n  \"locationFront\": {\n    \"connections\": \"Diamond|Square|Circle\",\n    \"icons\": \"Heart\"\n  },\n  \"type\": \"Location\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276547,
              "SidewaysCard": false,
              "CustomDeck": {
                "2765": {
                  "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                  "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "5ea740",
              "Name": "Custom_Tile",
              "Transform": {
                "posX": -1.50000167,
                "posY": 1.50502491,
                "posZ": 8.500003,
                "rotX": 0.00494779926,
                "rotY": 90.000145,
                "rotZ": 359.9891,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.6045295,
                "g": 0.6045295,
                "b": 0.6045295
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://i.imgur.com/vppt2my.png",
                "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomTile": {
                  "Type": 3,
                  "Thickness": 0.1,
                  "Stackable": false,
                  "Stretch": true
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "States": {
                "2": {
                  "GUID": "44b0c5",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -39.7933121,
                    "posY": 1.63758957,
                    "posZ": 2.038383,
                    "rotX": 359.9201,
                    "rotY": 269.9961,
                    "rotZ": 0.0168742146,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                "3": {
                  "GUID": "5b38c6",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -38.8217163,
                    "posY": 1.99356019,
                    "posZ": 0.4159239,
                    "rotX": 359.9201,
                    "rotY": 272.9828,
                    "rotZ": 0.01687373,
                    "scaleX": 0.8,
                    "scaleY": 1.0,
                    "scaleZ": 0.8
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              }
            },
            {
              "GUID": "7234af",
              "Name": "Custom_Tile",
              "Transform": {
                "posX": 3.99999857,
                "posY": 1.50369453,
                "posZ": 4.00000143,
                "rotX": 0.0108897872,
                "rotY": 180.0205,
                "rotZ": 0.004956138,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.6045295,
                "g": 0.6045295,
                "b": 0.6045295
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://i.imgur.com/vppt2my.png",
                "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomTile": {
                  "Type": 3,
                  "Thickness": 0.1,
                  "Stackable": false,
                  "Stretch": true
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "States": {
                "2": {
                  "GUID": "44b0c5",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -39.7933121,
                    "posY": 1.63758957,
                    "posZ": 2.038383,
                    "rotX": 359.9201,
                    "rotY": 269.9961,
                    "rotZ": 0.0168742146,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                "3": {
                  "GUID": "5b38c6",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -38.8217163,
                    "posY": 1.99356019,
                    "posZ": 0.4159239,
                    "rotX": 359.9201,
                    "rotY": 272.9828,
                    "rotZ": 0.01687373,
                    "scaleX": 0.8,
                    "scaleY": 1.0,
                    "scaleZ": 0.8
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              }
            },
            {
              "GUID": "7b1b49",
              "Name": "Card",
              "Transform": {
                "posX": -7.000016,
                "posY": 1.5191046,
                "posZ": 8.5,
                "rotX": 0.0108915176,
                "rotY": 180.0,
                "rotZ": 0.004948242,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Porte du Rez-de-Chaussée",
              "Description": "",
              "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06176\",\n  \"locationBack\": {\n    \"connections\": \"Square\",\n    \"icons\": \"Hourglass\",\n    \"uses\": {\n      \"countPerInvestigator\": 2,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    },\n    \"victory\": 1\n  },\n  \"locationFront\": {\n    \"connections\": \"Square\",\n    \"icons\": \"Hourglass\"\n  },\n  \"type\": \"Location\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276545,
              "SidewaysCard": false,
              "CustomDeck": {
                "2765": {
                  "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                  "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "7e45f8",
              "Name": "Custom_Tile",
              "Transform": {
                "posX": 9.499998,
                "posY": 1.50407493,
                "posZ": 8.500003,
                "rotX": 0.00494816946,
                "rotY": 90.00189,
                "rotZ": 359.9891,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.6045295,
                "g": 0.6045295,
                "b": 0.6045295
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://i.imgur.com/vppt2my.png",
                "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomTile": {
                  "Type": 3,
                  "Thickness": 0.1,
                  "Stackable": false,
                  "Stretch": true
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "States": {
                "2": {
                  "GUID": "44b0c5",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -39.7933121,
                    "posY": 1.63758957,
                    "posZ": 2.038383,
                    "rotX": 359.9201,
                    "rotY": 269.9961,
                    "rotZ": 0.0168742146,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                "3": {
                  "GUID": "5b38c6",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -38.8217163,
                    "posY": 1.99356019,
                    "posZ": 0.4159239,
                    "rotX": 359.9201,
                    "rotY": 272.9828,
                    "rotZ": 0.01687373,
                    "scaleX": 0.8,
                    "scaleY": 1.0,
                    "scaleZ": 0.8
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              }
            },
            {
              "GUID": "98830f",
              "Name": "Custom_Model_Bag",
              "Transform": {
                "posX": -27.0000057,
                "posY": 1.84000111,
                "posZ": 3.49999356,
                "rotX": -5.251371E-06,
                "rotY": 179.9835,
                "rotZ": 3.86269676E-07,
                "scaleX": 0.7,
                "scaleY": 0.7,
                "scaleZ": 0.7
              },
              "Nickname": "Soutiens/faiblesses d'histoire",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "CustomMesh": {
                "MeshURL": "https://pastebin.com/raw/ALrYhQGb",
                "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/5077277234347423622/F89B4508C6E2782780C2B5593FB68379E0FB2DB6/",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 6,
                "CustomShader": {
                  "SpecularColor": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "SpecularIntensity": 0.0,
                  "SpecularSharpness": 2.0,
                  "FresnelStrength": 0.0
                },
                "CastShadows": true
              },
              "Bag": {
                "Order": 0
              },
              "LuaScript": "",
              "LuaScriptState": "{\"ml\":[]}",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "b11d47",
                  "Name": "Card",
                  "Transform": {
                    "posX": -27.5,
                    "posY": 1.93745589,
                    "posZ": 3.0,
                    "rotX": 0.00200753938,
                    "rotY": 180.000366,
                    "rotZ": -0.00131887372,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "La Clé d'Argent",
                  "Description": "Clé de la Porte des Rêves",
                  "GMNotes": "{\n  \"class\": \"Neutral\",\n  \"cost\": 2,\n  \"cycle\": \"The Dream-Eaters\",\n  \"id\": \"06189\",\n  \"traits\": \"Item. Charm. Relic.\",\n  \"type\": \"Asset\",\n  \"wildIcons\": 2,\n  \"willpowerIcons\": 1\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276558,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2765": {
                      "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                      "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "b00f83",
              "Name": "Card",
              "Transform": {
                "posX": 3.99999833,
                "posY": 1.51644373,
                "posZ": -0.499996543,
                "rotX": 0.0108914347,
                "rotY": 180.0,
                "rotZ": 0.00494824862,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Site Funéraire",
              "Description": "Cimetière.",
              "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06174\",\n  \"locationBack\": {\n    \"connections\": \"Square|Plus\",\n    \"icons\": \"Crescent\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    },\n    \"victory\": 1\n  },\n  \"locationFront\": {\n    \"connections\": \"Square|Plus\",\n    \"icons\": \"Crescent\"\n  },\n  \"traits\": \"Graveyard.\",\n  \"type\": \"Location\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276543,
              "SidewaysCard": false,
              "CustomDeck": {
                "2765": {
                  "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                  "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "b25696",
              "Name": "Deck",
              "Transform": {
                "posX": 12.5009842,
                "posY": 1.53642881,
                "posZ": -6.016832,
                "rotX": 0.004950868,
                "rotY": 90.0148,
                "rotZ": 359.9891,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": false,
              "SidewaysCard": true,
              "DeckIDs": [
                276315,
                276314,
                276313
              ],
              "CustomDeck": {
                "2763": {
                  "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                  "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "7928ed",
                  "Name": "Card",
                  "Transform": {
                    "posX": 12.501,
                    "posY": 4.79183245,
                    "posZ": -6.01679754,
                    "rotX": 0.00495090242,
                    "rotY": 90.01488,
                    "rotZ": 359.9891,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Le Mort sans Nom",
                  "Description": "Intrigue 3a",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"doomThreshold\": 7,\n  \"id\": \"06171\",\n  \"type\": \"Agenda\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276315,
                  "SidewaysCard": true,
                  "CustomDeck": {
                    "2763": {
                      "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                      "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "459f43",
                  "Name": "Card",
                  "Transform": {
                    "posX": 12.501,
                    "posY": 4.59183264,
                    "posZ": -6.01679754,
                    "rotX": 0.00495090242,
                    "rotY": 90.01488,
                    "rotZ": 359.9891,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "La Chose sans Nom",
                  "Description": "Intrigue 2a",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"doomThreshold\": 6,\n  \"id\": \"06170\",\n  \"type\": \"Agenda\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276314,
                  "SidewaysCard": true,
                  "CustomDeck": {
                    "2763": {
                      "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                      "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "95c3ea",
                  "Name": "Card",
                  "Transform": {
                    "posX": 12.5009861,
                    "posY": 1.580638,
                    "posZ": -6.0168457,
                    "rotX": 0.00110299571,
                    "rotY": 89.99998,
                    "rotZ": -0.004625439,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "La Maison sans Nom",
                  "Description": "Intrigue 1a",
                  "GMNotes": "{\n  \"backEnemy\": {\n    \"traits\": \"Monster. Abomination. Elite.\"\n  },\n  \"cycle\": \"Standalone\",\n  \"doomThreshold\": 5,\n  \"id\": \"06169a\",\n  \"type\": \"Agenda\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276313,
                  "SidewaysCard": true,
                  "CustomDeck": {
                    "2763": {
                      "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                      "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "bdeee9",
              "Name": "Custom_Model",
              "Transform": {
                "posX": -31.99383,
                "posY": 1.771751,
                "posZ": 5.384682,
                "rotX": 5.163331E-06,
                "rotY": -0.000147379367,
                "rotZ": -1.26464627E-07,
                "scaleX": 1.74999952,
                "scaleY": 1.74999952,
                "scaleZ": 1.74999952
              },
              "Nickname": "Acte 1B",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.0,
                "g": 0.67770046,
                "b": 0.555448532,
                "a": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": true,
              "Grid": false,
              "Snap": false,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": false,
              "Tooltip": false,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/1478820768302617365/27883B7913E0E69143C3AA03493B7E7C4E8C29C0/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 1,
                "TypeIndex": 0,
                "CastShadows": true
              },
              "LuaScript": "-- Code for bag to identify text tool objects\r\nmovableTextTool_cowgoesmoo33 = true\r\n\r\n-- Number of characters before the text box width expands.\r\nEXPAND_INTERVAL = 20\r\n\r\n-- This table controls what is passed between save/load\r\ndata = {}\r\n\r\nfunction onLoad(saved_data)\r\n  if saved_data ~= '' then\r\n    data = JSON.decode(saved_data)\r\n    if data.text ~= '' then\r\n      self.interactable = data.interactable\r\n      staticMode()\r\n      return\r\n    end\r\n  else\r\n    data = {size=200, color=Color(0,0,0), text='', interactable=true,\r\n        enter_to_finish=false, autolock=false, autolift=false,\r\n        hover_height=0.05, box_transparency=1}\r\n  end\r\n\r\n  inputMode()\r\nend\r\n\r\n-- True if in the middle of delay after pressing Enter (with enter_to_finish on)\r\nfinishing = false\r\nfunction input_func(obj, color, input, stillEditing)\r\n  local params = getBox(input)\r\n  if params then\r\n    params.value = input\r\n    self.editInput(params)\r\n  end\r\n\r\n  if not stillEditing then\r\n    data.text = input\r\n    updateState()\r\n    if input ~= '' then staticMode(color) end\r\n  elseif data.enter_to_finish then\r\n    -- If enter is pressed: remove last newline and force finish\r\n    if not finishing and input:sub(-1) == '\\n' then\r\n      finishing = true\r\n      -- Delay to avoid user's Enter keypress being detected (opens chat box)\r\n      Wait.frames(function()\r\n        input = input:sub(1, -2)\r\n        data.text = input\r\n        updateState()\r\n        if input ~= '' then staticMode(color) else inputMode() end\r\n        finishing = false\r\n      end, 10)\r\n    end\r\n  end\r\nend\r\n\r\n-- When the inpupt box appears and lets the player type in it.\r\nfunction inputMode()\r\n  self.clearContextMenu()\r\n  self.clearInputs()\r\n  self.clearButtons()\r\n\r\n  local size = getBox(data.text, true)\r\n\r\n  self.createInput({\r\n    input_function = \"input_func\",\r\n    function_owner = self,\r\n    label          = \"Type Here\",\r\n    alignment      = 3,\r\n    position       = {x=0, y=data.hover_height, z=0},\r\n    rotation       = {0, 180, 0},\r\n    width          = size.width,\r\n    height         = size.height,\r\n    color          = getBackground(data.color),\r\n    font_color     = data.color,\r\n    font_size      = data.size,\r\n    value          = data.text,\r\n  })\r\n\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\nend\r\n\r\n-- When the input box disappears and displays the text.\r\nfunction staticMode(player)\r\n  self.clearContextMenu()\r\n  if data.autolock then\r\n    self.locked = true\r\n  end\r\n  if self.getInputs() and #self.getInputs() ~= 0 then\r\n    self.removeInput(0)\r\n  end\r\n\r\n  -- Clear from selecting player\r\n  if player then\r\n    self.removeFromPlayerSelection(player)\r\n  end\r\n\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  self.createButton({\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=self,\r\n    position={0,data.hover_height,0}, rotation={0,180,0}, height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  })\r\n\r\n  self.addContextMenuItem('Edit Text', function(color)\r\n    self.removeFromPlayerSelection(color)\r\n    inputMode()\r\n  end)\r\n  self.addContextMenuItem('Clear', function(color)\r\n    applyMultiple(color, 'clear', _, true)\r\n  end)\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\n  self.addContextMenuItem('Permanently Attach', attemptAttach)\r\n  self.addContextMenuItem('Permalock', function(color)\r\n    applyMultiple(color, 'permalock', _, true)\r\n  end)\r\nend\r\n\r\nfunction changeSize(params)\r\n  local delta = params[1]\r\n  local newSize = data.size + delta\r\n  if newSize > 800  or newSize < 50 then\r\n    return\r\n  end\r\n  data.size = newSize\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_size=data.size})\r\n  else\r\n    local size = getBox(data.text, true)\r\n    self.editInput({width=size.width, height=size.height, font_size=data.size})\r\n  end\r\nend\r\n\r\nfunction setColor(params)\r\n  if params and params[1] then\r\n    data.color = params[1]\r\n  else\r\n    data.color = self.getColorTint():setAt('a', 1) -- Take on color of object tint\r\n  end\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_color=data.color})\r\n  else\r\n    self.editInput({font_color=data.color, color=getBackground(data.color)})\r\n  end\r\nend\r\n\r\nfunction getBackground(color) --determines whether to use black or white depending on luminance\r\n  local r,g,b = Color(color):get()\r\n\r\n  local lum = 0.2126*r + 0.7152*g + 0.0722*b\r\n  if lum > 0.75 then\r\n    return {0.2,0.2,0.2, data.box_transparency}\r\n  else\r\n    return {1,1,1, data.box_transparency}\r\n  end\r\nend\r\n\r\nfunction clear()\r\n  data.text = ''\r\n  updateState()\r\n  inputMode()\r\nend\r\n\r\nfunction permalock()\r\n  self.interactable = false\r\n  data.interactable = false\r\n  updateState()\r\nend\r\n\r\nlocal target_script = [[\r\nfunction onLoad(script_state)\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    for _,entry in ipairs(state) do\r\n      self.createButton(entry)\r\n    end\r\n    self.addContextMenuItem('Clear All Text', function(color)\r\n      self.clearContextMenu()\r\n      self.clearButtons()\r\n      self.script_state = ''\r\n      self.script_code = ''\r\n    end)\r\n  end\r\nend\r\n]]\r\n\r\nfunction attemptAttach(player_color)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  local attachee\r\n  local attachers = {}\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if obj ~= self then\r\n        table.insert(attachers, obj)\r\n      end\r\n    else\r\n      if attachee then\r\n        broadcastToColor(\"More than one target selected.\", player_color)\r\n        return\r\n      else\r\n        attachee = obj\r\n      end\r\n    end\r\n  end\r\n  if attachee then\r\n    local code = attachee.script_code\r\n    if code and code ~= '' and code ~= target_script then\r\n      broadcastToColor(\"Warning: script on card has been overriden. Rewind time to undo.\", player_color)\r\n    end\r\n    for i,attacher in ipairs(attachers) do\r\n      attacher.call('attach', {target = attachee})\r\n    end\r\n    attach({target = attachee})\r\n    local type, flip = attachee.type, attachee.getRotation().z\r\n    if (type == 'Card' or type == 'Deck') and flip > 175 and flip < 185 then\r\n      broadcastToColor(\"Warning: text will not display if card or deck is facing down.\", player_color)\r\n    end\r\n  else\r\n    broadcastToColor(\"You must have a target object in your selection (using click-and-drag or Ctrl+Click) to use this option.\", player_color)\r\n  end\r\nend\r\n\r\nfunction attach(params)\r\n  local target = params.target\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  local textRotation = self.getRotation():sub(target.getRotation())\r\n    :add(Vector(180, 0, 180))\r\n\r\n  local textPosition = target.positionToLocal(\r\n    self.getPosition():add(Vector(0, data.hover_height, 0))\r\n  )\r\n  textPosition.x = -textPosition.x\r\n\r\n  local textScale = {}\r\n  textScale.x = self.getScale().x / target.getScale().x\r\n  textScale.y = self.getScale().x / target.getScale().y\r\n  textScale.z = self.getScale().x / target.getScale().z\r\n\r\n  local details = {\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=nil,\r\n    position=textPosition,\r\n    rotation=textRotation,\r\n    scale=textScale,\r\n    height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  }\r\n\r\n  target.createButton(details)\r\n\r\n  local script_state = target.script_state\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    table.insert(state, details)\r\n    target.script_state = JSON.encode(state)\r\n  else\r\n    target.script_state = JSON.encode({[1]=details})\r\n  end\r\n\r\n  target.script_code = target_script\r\n\r\n  self.destruct()\r\nend\r\n\r\nfunction applyMultiple(player_color, func_string, params, static_only)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if not static_only or obj.call('isStatic') then\r\n        obj.call(func_string, params)\r\n      end\r\n    end\r\n  end\r\nend\r\n\r\nfunction isStatic()\r\n  local input = self.getInputs()\r\n  return not input or #input == 0\r\nend\r\n\r\nfunction getBox(input, force)\r\n  local maxLength, lineCount = EXPAND_INTERVAL, 1\r\n  local lineLength = 0\r\n  for i = 1, #input do\r\n    local c = input:sub(i,i)\r\n    if c == '\\n' then\r\n      lineCount = lineCount + 1\r\n      if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n      lineLength = 0\r\n    else\r\n      lineLength = lineLength + 1\r\n    end\r\n  end\r\n  if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n\r\n  newWidth = data.size * maxLength * 0.9\r\n  newHeight = data.size * lineCount + 23\r\n\r\n  if force or boxWidth ~= newWidth or boxHeight ~= newHeight then\r\n    boxWidth, boxHeight = newWidth, newHeight\r\n    return {width = boxWidth, height = boxHeight}\r\n  end\r\n  return nil\r\nend\r\n\r\ntemp_lift = nil\r\nfunction onPickUp(player_color)\r\n  if data.autolift then\r\n    local player = Player[player_color]\r\n    temp_lift = player.lift_height\r\n    player.lift_height = 0\r\n  end\r\nend\r\n\r\nfunction onDrop(player_color)\r\n  if data.autolift and temp_lift then\r\n    Player[player_color].lift_height = temp_lift\r\n  end\r\nend\r\n\r\n-- Should be called every time data is modified, allows info to be saved on copy/paste\r\nfunction updateState()\r\n  self.script_state = JSON.encode(data)\r\nend\r\n\r\nfunction onSave()\r\n  self.script_state = JSON.encode(data)\r\n  return self.script_state\r\nend",
              "LuaScriptState": "{\"autolift\":false,\"autolock\":false,\"box_transparency\":1,\"color\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1},\"enter_to_finish\":false,\"hover_height\":0.05,\"interactable\":true,\"size\":200,\"text\":\"Passage à l'acte 1B\"}",
              "XmlUI": ""
            },
            {
              "GUID": "beb0bd",
              "Name": "Custom_Model_Bag",
              "Transform": {
                "posX": -29.50221,
                "posY": 1.7462846,
                "posZ": 8.991389,
                "rotX": 7.899346E-06,
                "rotY": -0.000225209122,
                "rotZ": 2.17712426E-07,
                "scaleX": 1.9000001,
                "scaleY": 1.9000001,
                "scaleZ": 1.9000001
              },
              "Nickname": "Cartes retirées de la partie",
              "Description": "Mille Nuances d'Horreur",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.5,
                "g": 0.5,
                "b": 0.5
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "Number": 0,
              "CustomMesh": {
                "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/764975951334964971/3078F312706FC974833ECD2A359B87FD4F283509/",
                "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/764975951334960553/C518D80E31E27DB23EEAC8CF9253E59798865790/",
                "NormalURL": "https://steamusercontent-a.akamaihd.net/ugc/764975951334960069/E70E4A58A1B7827F1E5E2AF9FF44DF0BD5DA33F7/",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 1,
                "TypeIndex": 6,
                "CustomShader": {
                  "SpecularColor": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "SpecularIntensity": 0.0,
                  "SpecularSharpness": 2.0,
                  "FresnelStrength": 0.0
                },
                "CastShadows": true
              },
              "Bag": {
                "Order": 0
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "PhysicsMaterial": {
                "StaticFriction": 0.6,
                "DynamicFriction": 0.6,
                "Bounciness": 0.0,
                "FrictionCombine": 0,
                "BounceCombine": 0
              },
              "Rigidbody": {
                "Mass": 5.0,
                "Drag": 0.1,
                "AngularDrag": 0.1,
                "UseGravity": true
              }
            },
            {
              "GUID": "c56dc3",
              "Name": "Deck",
              "Transform": {
                "posX": 17.501,
                "posY": 1.53118241,
                "posZ": -6.0196,
                "rotX": 0.00495078834,
                "rotY": 90.01476,
                "rotZ": 359.9891,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": false,
              "SidewaysCard": true,
              "DeckIDs": [
                276317,
                276316
              ],
              "CustomDeck": {
                "2763": {
                  "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                  "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "104232",
                  "Name": "Card",
                  "Transform": {
                    "posX": 17.5010014,
                    "posY": 1.51417649,
                    "posZ": -6.01960373,
                    "rotX": 0.005483597,
                    "rotY": 90.01461,
                    "rotZ": 359.9855,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "L'Escalier sans Fin",
                  "Description": "Acte 2a",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06173\",\n  \"type\": \"Act\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276317,
                  "SidewaysCard": true,
                  "CustomDeck": {
                    "2763": {
                      "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                      "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "6a0fc4",
                  "Name": "Card",
                  "Transform": {
                    "posX": 17.5009937,
                    "posY": 1.55293512,
                    "posZ": -6.01960325,
                    "rotX": 0.0017795132,
                    "rotY": 90.0,
                    "rotZ": -0.00137947,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Chercher L'Innommable",
                  "Description": "Acte 1a",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06172\",\n  \"type\": \"Act\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276316,
                  "SidewaysCard": true,
                  "CustomDeck": {
                    "2763": {
                      "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                      "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "d1bafa",
              "Name": "Card",
              "Transform": {
                "posX": -20.50001,
                "posY": 1.783606,
                "posZ": 3.499993,
                "rotX": -5.0124163E-06,
                "rotY": 180.000427,
                "rotZ": 1.37759486E-07,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Mansarde",
              "Description": "",
              "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06181\",\n  \"locationBack\": {\n    \"connections\": \"Heart\",\n    \"icons\": \"Circle\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    },\n    \"victory\": 1\n  },\n  \"locationFront\": {\n    \"connections\": \"Heart\",\n    \"icons\": \"Circle\"\n  },\n  \"type\": \"Location\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276550,
              "SidewaysCard": false,
              "CustomDeck": {
                "2765": {
                  "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                  "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "e3cc73",
              "Name": "Card",
              "Transform": {
                "posX": 23.501297,
                "posY": 1.51380479,
                "posZ": -5.523016,
                "rotX": 0.010891512,
                "rotY": 180.000214,
                "rotZ": 0.004948371,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Référence",
              "Description": "Mille Nuances d'Horreur",
              "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"id\": \"06168\",\n  \"type\": \"ScenarioReference\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276542,
              "SidewaysCard": false,
              "CustomDeck": {
                "2765": {
                  "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                  "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "e4c0a3",
              "Name": "Card",
              "Transform": {
                "posX": 14.9999981,
                "posY": 1.51891541,
                "posZ": 17.5000019,
                "rotX": 0.01089143,
                "rotY": 179.999908,
                "rotZ": 0.004948224,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Porte de l'Étage",
              "Description": "",
              "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06180\",\n  \"locationBack\": {\n    \"connections\": \"Heart\",\n    \"icons\": \"Diamond\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    },\n    \"victory\": 1\n  },\n  \"locationFront\": {\n    \"connections\": \"Heart\",\n    \"icons\": \"Diamond\"\n  },\n  \"type\": \"Location\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276549,
              "SidewaysCard": false,
              "CustomDeck": {
                "2765": {
                  "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                  "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "e7be4d",
              "Name": "Custom_Model_Bag",
              "Transform": {
                "posX": -32.00002,
                "posY": 1.84000134,
                "posZ": 3.499983,
                "rotX": -4.360737E-06,
                "rotY": 179.99971,
                "rotZ": 4.48196175E-07,
                "scaleX": 0.7,
                "scaleY": 0.7,
                "scaleZ": 0.7
              },
              "Nickname": "Acte 1B",
              "Description": "Placer lors du passage à l'acte 1B",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.614982545,
                "g": 0.0,
                "b": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "CustomMesh": {
                "MeshURL": "https://pastebin.com/raw/ALrYhQGb",
                "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/1985555189151521099/71A4C67A9A614952107030BB5179E094E7658988/",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 6,
                "CustomShader": {
                  "SpecularColor": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "SpecularIntensity": 0.0,
                  "SpecularSharpness": 2.0,
                  "FresnelStrength": 0.0
                },
                "CastShadows": true
              },
              "Bag": {
                "Order": 0
              },
              "LuaScript": "-- Random memory bag\r\n-- based on Utility memory bag by Directsun (Version 2.7.0)\r\n\r\nlocal CONFIG = {\r\n    MEMORY_GROUP = {\r\n        -- This determines how many frames to wait before actually placing objects onto the table when the \"Place\" button is clicked.\r\n        -- This gives the other bags time to recall their objects.\r\n        -- The delay ONLY occurs if other bags have objects out.\r\n        FRAME_DELAY_BEFORE_PLACING_OBJECTS = 30\r\n    }\r\n}\r\n\r\nmath.randomseed(os.time())\r\n\r\n--[[ Memory Bag Groups ]]\r\n--[[ Utility Memory Bags may be added to a named group, called a \"memory group\".\r\nYou can add a bag to a group through the bag's UI: \"Setup\" > \"Group Name\" (to the left of the bag).\r\nOnly one bag from a group may have it's contents placed on the table at a time.\r\nWhen \"Place\" is clicked on a bag, the other bags in it's memory group are recalled.\r\nBy default a memory bag is not in any group. It's memory group is \"nil\". --]]\r\n\r\nmemoryGroupName = { memoryBag = self }\r\nfunction memoryGroupName:get()\r\n    return self._name\r\nend\r\n\r\nfunction memoryGroupName:set(newName)\r\n    GlobalMemoryGroups:unregisterBagInGroup(self:get(), self.memoryBag.getGUID())\r\n    GlobalMemoryGroups:registerBagInGroup(newName, self.memoryBag.getGUID())\r\n\r\n    if newName == \"\" then\r\n        self._name = nil\r\n    else\r\n        self._name = newName\r\n    end\r\nend\r\n\r\n-- Click the \"Recall\" button on all other bags in my memory group.\r\nfunction recallOtherBagsInMyGroup()\r\n    for _, bag in ipairs(getOtherBagsInMyGroup()) do\r\n        bag.call('buttonClick_recall')\r\n    end\r\nend\r\n\r\n-- Return \"true\" if another bag in my memory group has any objects out on the table.\r\nfunction anyOtherBagsInMyGroupArePlaced()\r\n    for _, bag in ipairs(getOtherBagsInMyGroup()) do\r\n        local state = bag.call('areAnyOfMyObjectsPlaced')\r\n        if state then return true end\r\n    end\r\n\r\n    return false\r\nend\r\n\r\n-- Return \"true\" if at least one object from this memory bag is out on the table.\r\nfunction areAnyOfMyObjectsPlaced()\r\n    for guid, _ in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then\r\n            return true\r\n        end\r\n    end\r\n    return false\r\nend\r\n\r\nfunction getOtherBagsInMyGroup()\r\n    local bags = {}\r\n    for bagGuid, _ in pairs(GlobalMemoryGroups:getGroup(memoryGroupName:get())) do\r\n        if bagGuid ~= self.getGUID() then\r\n            bag = getObjectFromGUID(bagGuid)\r\n            -- \"bag\" is nill if it has been deleted since the last time onLoad() was called.\r\n            if bag ~= nil then\r\n                table.insert(bags, bag)\r\n            end\r\n        end\r\n    end\r\n    return bags\r\nend\r\n\r\n--[[\r\nThis object provides access to a variable stored on the \"Global script\".\r\nThe variable holds the names & guids of all memory bag groups.\r\nThe global variable is a table and holds data like this:\r\n{\r\n    'My First Group Name' = {\r\n        '805ebd' = {},\r\n        '35cc21' = {},\r\n        'fc8886' = {},\r\n    },\r\n    'My Second Group Name' = {\r\n        'f50264' = {},\r\n        '5f5f63' = {},\r\n    },\r\n}\r\n--]]\r\nGlobalMemoryGroups = { NAME_OF_GLOBAL_VARIABLE = '_GlobalUtilityMemoryBagGroups' }\r\n\r\n-- Call me inside this script's \"onLoad()\" method!\r\nfunction GlobalMemoryGroups:onLoad(myGuid)\r\n    -- Create and initialize the global variable if it doesn't already exist:\r\n    if self:_getGroups() == nil then\r\n        self:_setGroups({})\r\n    end\r\nend\r\n\r\n-- Return the GUIDs of all bags in the \"groupName\". The return value is a dictionary that maps [GUID -> empty table].\r\nfunction GlobalMemoryGroups:getGroup(groupName)\r\n    guids = self:_getGroups()[groupName] or {}\r\n    return guids\r\nend\r\n\r\n-- Registers a bag in a memory group. Creates a new group if one doesn't exist.\r\nfunction GlobalMemoryGroups:registerBagInGroup(groupName, bagGuid)\r\n    if groupName == nil or groupName == \"\" then\r\n        return\r\n    end\r\n\r\n    self:_tryCreateNewGroup(groupName)\r\n    local groups = self:_getGroups()\r\n    groups[groupName][bagGuid] = {}\r\n    self:_setGroups(groups)\r\nend\r\n\r\n-- Removes this bag from the memory group.\r\nfunction GlobalMemoryGroups:unregisterBagInGroup(groupName, bagGuid)\r\n    local groups = self:_getGroups()\r\n    local group = groups[groupName]\r\n    if group ~= nil then\r\n        group[bagGuid] = nil\r\n        self:_setGroups(groups)\r\n    end\r\nend\r\n\r\n-- Return the global variable, which is a table holding all memory group names & guids.\r\nfunction GlobalMemoryGroups:_getGroups()\r\n    return Global.getTable(self.NAME_OF_GLOBAL_VARIABLE)\r\nend\r\n\r\n-- Override the global variable (i.e. the entire table).\r\nfunction GlobalMemoryGroups:_setGroups(newTable)\r\n    Global.setTable(self.NAME_OF_GLOBAL_VARIABLE, newTable)\r\nend\r\n\r\n-- Add a new memory group named \"groupName\" to the global variable, if one doesn't already exist.\r\nfunction GlobalMemoryGroups:_tryCreateNewGroup(groupName)\r\n    local groups = self:_getGroups()\r\n    if groups[groupName] == nil then\r\n        groups[groupName] = {}\r\n        self:_setGroups(groups)\r\n    end\r\nend\r\n\r\n-- This object controls the \"Group Name\" input text field that is part of the bag's ingame UI.\r\ngroupNameInput = {\r\n    greyedOutText     = \"Group Name\",\r\n    widthPerCharacter = 100,\r\n    padding           = 4,\r\n    memoryBag         = self\r\n}\r\nfunction groupNameInput:create(optionalStartingValue)\r\n    local effectiveText = optionalStartingValue or self.greyedOutText\r\n    local width = self:computeWidth(effectiveText)\r\n\r\n    self.memoryBag.createInput({\r\n        label = self.greyedOutText,\r\n        value = optionalStartingValue or nil,\r\n        alignment = 3, -- Center aligned\r\n        input_function = \"groupNameInput_onCharacterTyped\", function_owner = self.memoryBag,\r\n        position = { 2.1, 0.3, 0 }, rotation = { 0, 270, 0 }, width = width, height = 350,\r\n        font_size = 250, color = { 0, 0, 0 }, font_color = { 1, 1, 1 },\r\n    })\r\nend\r\n\r\nfunction groupNameInput:computeWidth(text)\r\n    return (string.len(text) + self.padding) * self.widthPerCharacter\r\nend\r\n\r\nfunction groupNameInput:updatedWidth(text)\r\n    self.memoryBag.editInput({\r\n        index = 0,\r\n        width = self:computeWidth(text)\r\n    })\r\nend\r\n\r\nfunction groupNameInput:onCharacterTyped(text, stillEditing)\r\n    if stillEditing then\r\n        self:updatedWidth(text)\r\n    else\r\n        if text == \"\" then\r\n            self:updatedWidth(self.greyedOutText)\r\n        end\r\n    end\r\nend\r\n\r\nfunction groupNameInput_onCharacterTyped(memoryBag, playerColor, text, stillEditing)\r\n    groupNameInput:onCharacterTyped(text, stillEditing)\r\nend\r\n\r\nfunction groupNameInput:setGroupNameToInputField()\r\n    local inputFields = self.memoryBag.getInputs()\r\n    if inputFields ~= nil then\r\n        -- Get input field 0, which corresponds to the groupNameInput.\r\n        -- Unfortunately \"self.getInputs()\" doesn't return the inputs in a guaranteed order.\r\n        local nameField = nil\r\n        for _, field in ipairs(inputFields) do\r\n            if field.index == 0 then\r\n                nameField = field\r\n            end\r\n        end\r\n\r\n        memoryGroupName:set(nameField.value)\r\n    end\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = { [\"ml\"] = memoryList, [\"groupName\"] = memoryGroupName:get() }\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction combineMemoryFromBagsWithin()\r\n    local bagObjList = self.getObjects()\r\n    for _, bagObj in ipairs(bagObjList) do\r\n        local data = bagObj.lua_script_state\r\n        if data ~= nil then\r\n            local j = JSON.decode(data)\r\n            if j ~= nil and j.ml ~= nil then\r\n                for guid, entry in pairs(j.ml) do\r\n                    memoryList[guid] = entry\r\n                end\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateMemoryWithMoves()\r\n    memoryList = memoryListBackup\r\n    --get the first transposed object's coordinates\r\n    local obj = getObjectFromGUID(moveGuid)\r\n\r\n    -- p1 is where needs to go, p2 is where it was\r\n    local refObjPos = memoryList[moveGuid].pos\r\n    local deltaPos = findOffsetDistance(obj.getPosition(), refObjPos, nil)\r\n    local movedRotation = obj.getRotation()\r\n    for guid, entry in pairs(memoryList) do\r\n        memoryList[guid].pos.x = entry.pos.x - deltaPos.x\r\n        memoryList[guid].pos.y = entry.pos.y - deltaPos.y\r\n        memoryList[guid].pos.z = entry.pos.z - deltaPos.z\r\n    end\r\n    moveList = {}\r\nend\r\n\r\nfunction onload(saved_data)\r\n    GlobalMemoryGroups:onLoad(self.getGUID())\r\n    AllMemoryBagsInScene:add(self.getGUID())\r\n\r\n    fresh = true\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n        memoryGroupName:set(loaded_data.groupName)\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n        memoryGroupName:set(nil)\r\n    end\r\n\r\n    moveList = {}\r\n    moveGuid = nil\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        fresh = false\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n--Beginning Setup\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n      label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n      position={0,0.3,2}, rotation={0,0,0}, height=350, width=800,\r\n      font_size=250, color={0,0,0}, font_color={1,1,1}\r\n  })\r\nend\r\n\r\n--Triggered by Transpose button\r\nfunction buttonClick_transpose()\r\n    moveGuid = nil\r\n    broadcastToAll(\"Select one object and move it- all objects will move relative to the new location\", { 0.75, 0.75, 1 })\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(true)\r\n    createSetupActionButtons(true)\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(false)\r\n    createSetupActionButtons(false)\r\nend\r\n\r\nfunction getAllObjectsInMemory()\r\n    local objTable = {}\r\n    local curObj = {}\r\n\r\n    for guid in pairs(memoryListBackup) do\r\n        curObj = getObjectFromGUID(guid)\r\n        table.insert(objTable, curObj)\r\n    end\r\n\r\n    return objTable\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects(move)\r\n    buttonIndexMap = {}\r\n    local howManyButtons = 0\r\n\r\n    local objsToHaveButtons = {}\r\n    if move == true then\r\n        objsToHaveButtons = getAllObjectsInMemory()\r\n    else\r\n        objsToHaveButtons = getAllObjects()\r\n    end\r\n\r\n    for _, obj in ipairs(objsToHaveButtons) do\r\n        if obj ~= self then\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1 * 1 / self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor + 2\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Workaround for custom PDFs\r\n            if obj.Book then\r\n                objPos.y = objPos.y + 0.5\r\n            end\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(obj, move) end\r\n            local color = { 0.75, 0.25, 0.25, 0.6 }\r\n            local colorMove = { 0, 0, 1, 0.6 }\r\n            if move == true then\r\n                color = colorMove\r\n            end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function = funcName, function_owner = self,\r\n                position = objPos, rotation = rot, height = 1000, width = 1000,\r\n                color = color,\r\n            })\r\n            buttonIndexMap[obj.getGUID()] = howManyButtons\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n  --Creates submit and cancel buttons\r\n  function createSetupActionButtons(move)\r\n      self.createButton({\r\n         label=\"Annuler\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n         position={-1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n         font_size=250, color={0,0,0}, font_color={1,1,1}\r\n      })\r\n\r\n      self.createButton({\r\n        label=\"Valider\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={-1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n      })\r\n\r\n      if move == false then\r\n        self.createButton({\r\n            label=\"Ajouter\", click_function=\"buttonClick_add\", function_owner=self,\r\n            position={1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n            font_size=250, color={0,0,0}, font_color={0.25,1,0.25}\r\n          })\r\n\r\n          self.createButton({\r\n              label=\"Sélection\", click_function=\"editDragSelection\", function_owner=self,\r\n              position={-1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n              font_size=250, color={0,0,0}, font_color={1,1,1}\r\n          })\r\n\r\n          if fresh == false then\r\n              self.createButton({\r\n                  label=\"Mise à Jour\", click_function=\"buttonClick_setNew\", function_owner=self,\r\n                  position={1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n                  font_size=180, color={0,0,0}, font_color={0.75,0.75,1}\r\n              })\r\n              self.createButton({\r\n                  label=\"Retirer\", click_function=\"buttonClick_remove\", function_owner=self,\r\n                  position={1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n                  font_size=250, color={0,0,0}, font_color={1,0.25,0.25}\r\n              })\r\n          end\r\n      end\r\n\r\n      self.createButton({\r\n          label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n          position={0,0.3,-2}, rotation={0,0,0}, height=350, width=800,\r\n          font_size=250, color={0,0,0}, font_color={1,1,1}\r\n      })\r\n  end\r\n\r\n\r\n--During Setup\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(obj, move)\r\n    local index = buttonIndexMap[obj.getGUID()]\r\n    local colorMove = { 0, 0, 1, 0.6 }\r\n    local color = { 0, 1, 0, 0.6 }\r\n\r\n    previousGuid = selectedGuid\r\n    selectedGuid = obj.getGUID()\r\n\r\n    theList = memoryList\r\n    if move == true then\r\n        theList = moveList\r\n        if previousGuid ~= nil and previousGuid ~= selectedGuid then\r\n            local prevObj = getObjectFromGUID(previousGuid)\r\n            prevObj.highlightOff()\r\n            self.editButton({ index = previousIndex, color = colorMove })\r\n            theList[previousGuid] = nil\r\n        end\r\n        previousIndex = index\r\n    end\r\n\r\n    if theList[selectedGuid] == nil then\r\n        self.editButton({ index = index, color = color })\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        theList[obj.getGUID()] = {\r\n            pos = { x = round(pos.x, 4), y = round(pos.y, 4), z = round(pos.z, 4) },\r\n            rot = { x = round(rot.x, 4), y = round(rot.y, 4), z = round(rot.z, 4) },\r\n            lock = obj.getLock(),\r\n            tint = obj.getColorTint()\r\n        }\r\n        obj.highlightOn({ 0, 1, 0 })\r\n    else\r\n        color = { 0.75, 0.25, 0.25, 0.6 }\r\n        if move == true then\r\n            color = colorMove\r\n        end\r\n        self.editButton({ index = index, color = color })\r\n        theList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\nfunction editDragSelection(bagObj, player, remove)\r\n    local selectedObjs = Player[player].getSelectedObjects()\r\n    if not remove then\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            --Ignore if already in the memory list, or does not have a button\r\n            if index and not memoryList[obj.getGUID()] then\r\n                self.editButton({ index = index, color = { 0, 1, 0, 0.6 } })\r\n                --Adding pos/rot to memory table\r\n                local pos, rot = obj.getPosition(), obj.getRotation()\r\n                --I need to add it like this or it won't save due to indexing issue\r\n                memoryList[obj.getGUID()] = {\r\n                    pos = { x = round(pos.x, 4), y = round(pos.y, 4), z = round(pos.z, 4) },\r\n                    rot = { x = round(rot.x, 4), y = round(rot.y, 4), z = round(rot.z, 4) },\r\n                    lock = obj.getLock(),\r\n                    tint = obj.getColorTint()\r\n                }\r\n                obj.highlightOn({ 0, 1, 0 })\r\n            end\r\n        end\r\n    else\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            if index and memoryList[obj.getGUID()] then\r\n                color = { 0.75, 0.25, 0.25, 0.6 }\r\n                self.editButton({ index = index, color = color })\r\n                memoryList[obj.getGUID()] = nil\r\n                obj.highlightOff()\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Sélection annulée\", { 1, 1, 1 })\r\n    moveGuid = nil\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    fresh = false\r\n    if next(moveList) ~= nil then\r\n        for guid in pairs(moveList) do\r\n            moveGuid = guid\r\n        end\r\n        if memoryListBackup[moveGuid] == nil then\r\n            broadcastToAll(\"Item selected for moving is not already in memory\", { 1, 0.25, 0.25 })\r\n        else\r\n            broadcastToAll(\"Moving all items in memory relative to new objects position!\", { 0.75, 0.75, 1 })\r\n            self.clearButtons()\r\n            self.clearInputs()\r\n            createMemoryActionButtons()\r\n            local count = 0\r\n            for guid in pairs(moveList) do\r\n                moveGuid = guid\r\n                count = count + 1\r\n                local obj = getObjectFromGUID(guid)\r\n                if obj ~= nil then obj.highlightOff() end\r\n            end\r\n            updateMemoryWithMoves()\r\n            updateSave()\r\n            buttonClick_place()\r\n        end\r\n    elseif next(memoryList) == nil and moveGuid == nil then\r\n        memoryList = memoryListBackup\r\n        broadcastToAll(\"No selections made.\", { 0.75, 0.25, 0.25 })\r\n    end\r\n    combineMemoryFromBagsWithin()\r\n    groupNameInput:setGroupNameToInputField()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count .. \" Objects Saved\", { 1, 1, 1 })\r\n    updateSave()\r\n    moveGuid = nil\r\nend\r\n\r\nfunction combineTables(first_table, second_table)\r\n    for k, v in pairs(second_table) do first_table[k] = v end\r\nend\r\n\r\nfunction buttonClick_add()\r\n    fresh = false\r\n    combineTables(memoryList, memoryListBackup)\r\n    broadcastToAll(\"Adding internal bags and selections to existing memory\", { 0.25, 0.75, 0.25 })\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count .. \" Objects Saved\", { 1, 1, 1 })\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_remove()\r\n    broadcastToAll(\"Removing Selected Entries From Memory\", { 1.0, 0.25, 0.25 })\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        memoryListBackup[guid] = nil\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count .. \" Objects Removed\", { 1, 1, 1 })\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_setNew()\r\n    broadcastToAll(\"Setting new position relative to items in memory\", { 0.75, 0.75, 1 })\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        guid = obj.guid\r\n        if memoryListBackup[guid] ~= nil then\r\n            count = count + 1\r\n            memoryListBackup[guid].pos = obj.getPosition()\r\n            memoryListBackup[guid].rot = obj.getRotation()\r\n            memoryListBackup[guid].lock = obj.getLock()\r\n            memoryListBackup[guid].tint = obj.getColorTint()\r\n        end\r\n    end\r\n    broadcastToAll(count .. \" Objects Saved\", { 1, 1, 1 })\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    fresh = true\r\n    memoryList = {}\r\n    memoryGroupName:set(nil)\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", { 1, 1, 1 })\r\n    updateSave()\r\nend\r\n\r\n--After Setup\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Placer au hasard\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,2}, rotation={0,0,0}, height=350, width=2000,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Ranger\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,2.8}, rotation={0,0,0}, height=350, width=1000,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={2,0.3,0}, rotation={0,90,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    ---    self.createButton({\r\n    ---      label=\"Bouger\", click_function=\"buttonClick_transpose\", function_owner=self,\r\n    ---      position={-2,0.3,0.8}, rotation={0,270,0}, height=350, width=800,\r\n    ---      font_size=250, color={0,0,0}, font_color={0.75,0.75,1}\r\n    ---\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    if anyOtherBagsInMyGroupArePlaced() then\r\n        recallOtherBagsInMyGroup()\r\n        Wait.frames(_placeObjects, CONFIG.MEMORY_GROUP.FRAME_DELAY_BEFORE_PLACING_OBJECTS)\r\n    else\r\n        _placeObjects()\r\n    end\r\nend\r\n\r\nfunction _placeObjects()\r\n    local bagObjList = self.getObjects()\r\n\r\n    -- randomize memorylist position\r\n    local positionList = {}\r\n    for guid, entry in pairs(memoryList) do\r\n        table.insert(positionList, memoryList[guid].pos)\r\n    end\r\n\r\n    for i = #positionList, 2, -1 do\r\n        local j = math.random(i)\r\n        positionList[i], positionList[j] = positionList[j], positionList[i]\r\n    end\r\n\r\n    local i = 1\r\n    for guid, entry in pairs(memoryList) do\r\n        memoryList[guid].pos = positionList[i]\r\n        i = i + 1\r\n    end\r\n\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n            obj.setColorTint(entry.tint)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid = guid, position = entry.pos, rotation = entry.rot, smooth = false\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    item.setColorTint(entry.tint)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objets placés au hasard\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objets rangés\", {1,1,1})\r\nend\r\n\r\n--Utility functions\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local yOffset = 0\r\n    if obj ~= nil then\r\n        local bounds = obj.getBounds()\r\n        yOffset = (bounds.size.y - bounds.offset.y)\r\n    end\r\n    local deltaPos = {}\r\n    deltaPos.x = (p2.x - p1.x)\r\n    deltaPos.y = (p2.y - p1.y) + yOffset\r\n    deltaPos.z = (p2.z - p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n    local objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n    local x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n    local z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n    --return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return { x = x, y = desiredPos.y, z = z }\r\nend\r\n\r\nfunction rotateMyCoordinates(desiredPos, obj)\r\n    local angle = math.rad(obj.getRotation().y)\r\n    local x = desiredPos.x * math.sin(angle)\r\n    local z = desiredPos.z * math.cos(angle)\r\n    return { x = x, y = desiredPos.y, z = z }\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n    local mult = 10 ^ (dec or 0)\r\n    return math.floor(num * mult + 0.5) / mult\r\nend\r\n\r\n--[[ This object provides access to a variable stored on the \"Global script\".\r\nThe variable holds the GUIDs for every Utility Memory Bag in the scene.\r\nExample: {'805ebd', '35cc21', 'fc8886', 'f50264', '5f5f63'} --]]\r\nAllMemoryBagsInScene = {\r\n    NAME_OF_GLOBAL_VARIABLE = \"_UtilityMemoryBag_AllMemoryBagsInScene\"\r\n}\r\n\r\nfunction AllMemoryBagsInScene:add(guid)\r\n    local guids = Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\n    table.insert(guids, guid)\r\n    Global.setTable(self.NAME_OF_GLOBAL_VARIABLE, guids)\r\nend\r\n\r\nfunction AllMemoryBagsInScene:getGuidList()\r\n    return Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"02b348\":{\"lock\":false,\"pos\":{\"x\":11.5,\"y\":1.5161,\"z\":1},\"rot\":{\"x\":0.0109,\"y\":180.0001,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"0e9ce3\":{\"lock\":false,\"pos\":{\"x\":-23.5,\"y\":1.7789,\"z\":8.5},\"rot\":{\"x\":0,\"y\":180.0004,\"z\":0},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"210233\":{\"lock\":false,\"pos\":{\"x\":3.5,\"y\":1.5187,\"z\":11},\"rot\":{\"x\":0.0109,\"y\":180,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"273380\":{\"lock\":false,\"pos\":{\"x\":-4.5,\"y\":1.5213,\"z\":21},\"rot\":{\"x\":0.0109,\"y\":179.9997,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"3cd6f7\":{\"lock\":false,\"pos\":{\"x\":7.5,\"y\":1.5174,\"z\":6},\"rot\":{\"x\":0.0109,\"y\":180,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"cd838c\":{\"lock\":false,\"pos\":{\"x\":-0.5,\"y\":1.52,\"z\":16},\"rot\":{\"x\":0.0109,\"y\":180,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}}}}",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "02b348",
                  "Name": "Card",
                  "Transform": {
                    "posX": -0.50000006,
                    "posY": 1.52006078,
                    "posZ": 16.0,
                    "rotX": 0.0102671934,
                    "rotY": 180.000122,
                    "rotZ": 0.0108666662,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Escalier Mystérieux",
                  "Description": "Cimetière.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06186\",\n  \"traits\": \"Graveyard.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276555,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2765": {
                      "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                      "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "0e9ce3",
                  "Name": "Card",
                  "Transform": {
                    "posX": 7.50000143,
                    "posY": 1.51737714,
                    "posZ": 5.99999762,
                    "rotX": 0.0108914059,
                    "rotY": 180.0004,
                    "rotZ": 0.00494832266,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Escalier Mystérieux",
                  "Description": "Cimetière.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06187\",\n  \"traits\": \"Graveyard.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276556,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2765": {
                      "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                      "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "210233",
                  "Name": "Card",
                  "Transform": {
                    "posX": -4.5,
                    "posY": 1.52126491,
                    "posZ": 21.0000019,
                    "rotX": 0.0108914012,
                    "rotY": 180.0,
                    "rotZ": 0.004948253,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Escalier Mystérieux",
                  "Description": "Cimetière.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06185\",\n  \"traits\": \"Graveyard.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276554,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2765": {
                      "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                      "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "273380",
                  "Name": "Card",
                  "Transform": {
                    "posX": 3.500012,
                    "posY": 1.53532994,
                    "posZ": 11.0001841,
                    "rotX": 359.388,
                    "rotY": 179.9994,
                    "rotZ": 0.00552614732,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Escalier Mystérieux",
                  "Description": "Cimetière.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06183\",\n  \"traits\": \"Graveyard.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276552,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2765": {
                      "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                      "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "3cd6f7",
                  "Name": "Card",
                  "Transform": {
                    "posX": 11.5,
                    "posY": 1.51608121,
                    "posZ": 0.999999642,
                    "rotX": 0.0108915819,
                    "rotY": 180.0,
                    "rotZ": 0.004948312,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Escalier Mystérieux",
                  "Description": "Cimetière.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06188\",\n  \"traits\": \"Graveyard.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276557,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2765": {
                      "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                      "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "cd838c",
                  "Name": "Card",
                  "Transform": {
                    "posX": -23.5000019,
                    "posY": 1.78360558,
                    "posZ": 8.500001,
                    "rotX": -4.967942E-06,
                    "rotY": 180.0,
                    "rotZ": -8.537163E-08,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Escalier Mystérieux",
                  "Description": "Cimetière.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06184\",\n  \"locationBack\": {\n    \"connections\": \"\",\n    \"icons\": \"\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    }\n  },\n  \"traits\": \"Graveyard.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276553,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2765": {
                      "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                      "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "ef1e53",
              "Name": "Deck",
              "Transform": {
                "posX": -20.5000019,
                "posY": 1.81018746,
                "posZ": 8.499997,
                "rotX": -5.209637E-06,
                "rotY": 180.000336,
                "rotZ": 3.304775E-07,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Descente sans Fin",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": false,
              "SidewaysCard": false,
              "DeckIDs": [
                276605,
                276604,
                276603,
                276606
              ],
              "CustomDeck": {
                "2766": {
                  "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "0cfb27",
                  "Name": "Card",
                  "Transform": {
                    "posX": -20.0,
                    "posY": 4.86089134,
                    "posZ": 8.5,
                    "rotX": -5.29475028E-06,
                    "rotY": 180.000259,
                    "rotZ": 4.30978844E-07,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Descente Sans Fin",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06190\",\n  \"traits\": \"Curse.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276605,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "cba9d3",
                  "Name": "Card",
                  "Transform": {
                    "posX": -20.0,
                    "posY": 5.06089163,
                    "posZ": 8.5,
                    "rotX": -5.29475028E-06,
                    "rotY": 180.000259,
                    "rotZ": 4.30978844E-07,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Descente Sans Fin",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06190\",\n  \"traits\": \"Curse.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276604,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "2b970a",
                  "Name": "Card",
                  "Transform": {
                    "posX": -20.0,
                    "posY": 5.18069363,
                    "posZ": 8.5,
                    "rotX": -5.281311E-06,
                    "rotY": 180.000259,
                    "rotZ": 4.59255915E-07,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Descente Sans Fin",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06190\",\n  \"traits\": \"Curse.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276603,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "988315",
                  "Name": "Card",
                  "Transform": {
                    "posX": -20.0,
                    "posY": 1.88598323,
                    "posZ": 8.5,
                    "rotX": 0.00293825031,
                    "rotY": 180.000259,
                    "rotZ": -0.00358172925,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Descente Sans Fin",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06190\",\n  \"traits\": \"Curse.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276606,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "f8dacc",
              "Name": "Card",
              "Transform": {
                "posX": -6.99999952,
                "posY": 1.52081537,
                "posZ": 17.5000019,
                "rotX": 0.010891581,
                "rotY": 180.0,
                "rotZ": 0.00494828774,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Porte de l'Étage",
              "Description": "",
              "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06179\",\n  \"locationBack\": {\n    \"connections\": \"Heart\",\n    \"icons\": \"Diamond\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    },\n    \"victory\": 1\n  },\n  \"locationFront\": {\n    \"connections\": \"Heart\",\n    \"icons\": \"Diamond\"\n  },\n  \"type\": \"Location\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276548,
              "SidewaysCard": false,
              "CustomDeck": {
                "2765": {
                  "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                  "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "fde438",
              "Name": "Custom_Model",
              "Transform": {
                "posX": -29.792408,
                "posY": 1.77175045,
                "posZ": 12.0069923,
                "rotX": 5.06167771E-06,
                "rotY": -2.39026922E-05,
                "rotZ": -2.54374925E-07,
                "scaleX": 1.74999952,
                "scaleY": 1.74999952,
                "scaleZ": 1.74999952
              },
              "Nickname": "Coffre de rangement",
              "Description": "Ragner ici les cartes à être retirer de la partie",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.0,
                "g": 0.67770046,
                "b": 0.555448532,
                "a": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": false,
              "Snap": false,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": false,
              "Tooltip": false,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/1478820768302617365/27883B7913E0E69143C3AA03493B7E7C4E8C29C0/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 1,
                "TypeIndex": 0,
                "CastShadows": true
              },
              "LuaScript": "-- Code for bag to identify text tool objects\r\nmovableTextTool_cowgoesmoo33 = true\r\n\r\n-- Number of characters before the text box width expands.\r\nEXPAND_INTERVAL = 20\r\n\r\n-- This table controls what is passed between save/load\r\ndata = {}\r\n\r\nfunction onLoad(saved_data)\r\n  if saved_data ~= '' then\r\n    data = JSON.decode(saved_data)\r\n    if data.text ~= '' then\r\n      self.interactable = data.interactable\r\n      staticMode()\r\n      return\r\n    end\r\n  else\r\n    data = {size=200, color=Color(0,0,0), text='', interactable=true,\r\n        enter_to_finish=false, autolock=false, autolift=false,\r\n        hover_height=0.05, box_transparency=1}\r\n  end\r\n\r\n  inputMode()\r\nend\r\n\r\n-- True if in the middle of delay after pressing Enter (with enter_to_finish on)\r\nfinishing = false\r\nfunction input_func(obj, color, input, stillEditing)\r\n  local params = getBox(input)\r\n  if params then\r\n    params.value = input\r\n    self.editInput(params)\r\n  end\r\n\r\n  if not stillEditing then\r\n    data.text = input\r\n    updateState()\r\n    if input ~= '' then staticMode(color) end\r\n  elseif data.enter_to_finish then\r\n    -- If enter is pressed: remove last newline and force finish\r\n    if not finishing and input:sub(-1) == '\\n' then\r\n      finishing = true\r\n      -- Delay to avoid user's Enter keypress being detected (opens chat box)\r\n      Wait.frames(function()\r\n        input = input:sub(1, -2)\r\n        data.text = input\r\n        updateState()\r\n        if input ~= '' then staticMode(color) else inputMode() end\r\n        finishing = false\r\n      end, 10)\r\n    end\r\n  end\r\nend\r\n\r\n-- When the inpupt box appears and lets the player type in it.\r\nfunction inputMode()\r\n  self.clearContextMenu()\r\n  self.clearInputs()\r\n  self.clearButtons()\r\n\r\n  local size = getBox(data.text, true)\r\n\r\n  self.createInput({\r\n    input_function = \"input_func\",\r\n    function_owner = self,\r\n    label          = \"Type Here\",\r\n    alignment      = 3,\r\n    position       = {x=0, y=data.hover_height, z=0},\r\n    rotation       = {0, 180, 0},\r\n    width          = size.width,\r\n    height         = size.height,\r\n    color          = getBackground(data.color),\r\n    font_color     = data.color,\r\n    font_size      = data.size,\r\n    value          = data.text,\r\n  })\r\n\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\nend\r\n\r\n-- When the input box disappears and displays the text.\r\nfunction staticMode(player)\r\n  self.clearContextMenu()\r\n  if data.autolock then\r\n    self.locked = true\r\n  end\r\n  if self.getInputs() and #self.getInputs() ~= 0 then\r\n    self.removeInput(0)\r\n  end\r\n\r\n  -- Clear from selecting player\r\n  if player then\r\n    self.removeFromPlayerSelection(player)\r\n  end\r\n\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  self.createButton({\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=self,\r\n    position={0,data.hover_height,0}, rotation={0,180,0}, height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  })\r\n\r\n  self.addContextMenuItem('Edit Text', function(color)\r\n    self.removeFromPlayerSelection(color)\r\n    inputMode()\r\n  end)\r\n  self.addContextMenuItem('Clear', function(color)\r\n    applyMultiple(color, 'clear', _, true)\r\n  end)\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\n  self.addContextMenuItem('Permanently Attach', attemptAttach)\r\n  self.addContextMenuItem('Permalock', function(color)\r\n    applyMultiple(color, 'permalock', _, true)\r\n  end)\r\nend\r\n\r\nfunction changeSize(params)\r\n  local delta = params[1]\r\n  local newSize = data.size + delta\r\n  if newSize > 800  or newSize < 50 then\r\n    return\r\n  end\r\n  data.size = newSize\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_size=data.size})\r\n  else\r\n    local size = getBox(data.text, true)\r\n    self.editInput({width=size.width, height=size.height, font_size=data.size})\r\n  end\r\nend\r\n\r\nfunction setColor(params)\r\n  if params and params[1] then\r\n    data.color = params[1]\r\n  else\r\n    data.color = self.getColorTint():setAt('a', 1) -- Take on color of object tint\r\n  end\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_color=data.color})\r\n  else\r\n    self.editInput({font_color=data.color, color=getBackground(data.color)})\r\n  end\r\nend\r\n\r\nfunction getBackground(color) --determines whether to use black or white depending on luminance\r\n  local r,g,b = Color(color):get()\r\n\r\n  local lum = 0.2126*r + 0.7152*g + 0.0722*b\r\n  if lum > 0.75 then\r\n    return {0.2,0.2,0.2, data.box_transparency}\r\n  else\r\n    return {1,1,1, data.box_transparency}\r\n  end\r\nend\r\n\r\nfunction clear()\r\n  data.text = ''\r\n  updateState()\r\n  inputMode()\r\nend\r\n\r\nfunction permalock()\r\n  self.interactable = false\r\n  data.interactable = false\r\n  updateState()\r\nend\r\n\r\nlocal target_script = [[\r\nfunction onLoad(script_state)\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    for _,entry in ipairs(state) do\r\n      self.createButton(entry)\r\n    end\r\n    self.addContextMenuItem('Clear All Text', function(color)\r\n      self.clearContextMenu()\r\n      self.clearButtons()\r\n      self.script_state = ''\r\n      self.script_code = ''\r\n    end)\r\n  end\r\nend\r\n]]\r\n\r\nfunction attemptAttach(player_color)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  local attachee\r\n  local attachers = {}\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if obj ~= self then\r\n        table.insert(attachers, obj)\r\n      end\r\n    else\r\n      if attachee then\r\n        broadcastToColor(\"More than one target selected.\", player_color)\r\n        return\r\n      else\r\n        attachee = obj\r\n      end\r\n    end\r\n  end\r\n  if attachee then\r\n    local code = attachee.script_code\r\n    if code and code ~= '' and code ~= target_script then\r\n      broadcastToColor(\"Warning: script on card has been overriden. Rewind time to undo.\", player_color)\r\n    end\r\n    for i,attacher in ipairs(attachers) do\r\n      attacher.call('attach', {target = attachee})\r\n    end\r\n    attach({target = attachee})\r\n    local type, flip = attachee.type, attachee.getRotation().z\r\n    if (type == 'Card' or type == 'Deck') and flip > 175 and flip < 185 then\r\n      broadcastToColor(\"Warning: text will not display if card or deck is facing down.\", player_color)\r\n    end\r\n  else\r\n    broadcastToColor(\"You must have a target object in your selection (using click-and-drag or Ctrl+Click) to use this option.\", player_color)\r\n  end\r\nend\r\n\r\nfunction attach(params)\r\n  local target = params.target\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  local textRotation = self.getRotation():sub(target.getRotation())\r\n    :add(Vector(180, 0, 180))\r\n\r\n  local textPosition = target.positionToLocal(\r\n    self.getPosition():add(Vector(0, data.hover_height, 0))\r\n  )\r\n  textPosition.x = -textPosition.x\r\n\r\n  local textScale = {}\r\n  textScale.x = self.getScale().x / target.getScale().x\r\n  textScale.y = self.getScale().x / target.getScale().y\r\n  textScale.z = self.getScale().x / target.getScale().z\r\n\r\n  local details = {\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=nil,\r\n    position=textPosition,\r\n    rotation=textRotation,\r\n    scale=textScale,\r\n    height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  }\r\n\r\n  target.createButton(details)\r\n\r\n  local script_state = target.script_state\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    table.insert(state, details)\r\n    target.script_state = JSON.encode(state)\r\n  else\r\n    target.script_state = JSON.encode({[1]=details})\r\n  end\r\n\r\n  target.script_code = target_script\r\n\r\n  self.destruct()\r\nend\r\n\r\nfunction applyMultiple(player_color, func_string, params, static_only)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if not static_only or obj.call('isStatic') then\r\n        obj.call(func_string, params)\r\n      end\r\n    end\r\n  end\r\nend\r\n\r\nfunction isStatic()\r\n  local input = self.getInputs()\r\n  return not input or #input == 0\r\nend\r\n\r\nfunction getBox(input, force)\r\n  local maxLength, lineCount = EXPAND_INTERVAL, 1\r\n  local lineLength = 0\r\n  for i = 1, #input do\r\n    local c = input:sub(i,i)\r\n    if c == '\\n' then\r\n      lineCount = lineCount + 1\r\n      if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n      lineLength = 0\r\n    else\r\n      lineLength = lineLength + 1\r\n    end\r\n  end\r\n  if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n\r\n  newWidth = data.size * maxLength * 0.9\r\n  newHeight = data.size * lineCount + 23\r\n\r\n  if force or boxWidth ~= newWidth or boxHeight ~= newHeight then\r\n    boxWidth, boxHeight = newWidth, newHeight\r\n    return {width = boxWidth, height = boxHeight}\r\n  end\r\n  return nil\r\nend\r\n\r\ntemp_lift = nil\r\nfunction onPickUp(player_color)\r\n  if data.autolift then\r\n    local player = Player[player_color]\r\n    temp_lift = player.lift_height\r\n    player.lift_height = 0\r\n  end\r\nend\r\n\r\nfunction onDrop(player_color)\r\n  if data.autolift and temp_lift then\r\n    Player[player_color].lift_height = temp_lift\r\n  end\r\nend\r\n\r\n-- Should be called every time data is modified, allows info to be saved on copy/paste\r\nfunction updateState()\r\n  self.script_state = JSON.encode(data)\r\nend\r\n\r\nfunction onSave()\r\n  self.script_state = JSON.encode(data)\r\n  return self.script_state\r\nend",
              "LuaScriptState": "{\"autolift\":false,\"autolock\":false,\"box_transparency\":1,\"color\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1},\"enter_to_finish\":false,\"hover_height\":0.05,\"interactable\":true,\"size\":250,\"text\":\"Lieux à retirer de la partie\"}",
              "XmlUI": ""
            }
          ],
          "AttachedDecals": [
            {
              "Transform": {
                "posX": -0.0021877822,
                "posY": -0.08963572,
                "posZ": -0.00288731651,
                "rotX": 270.0,
                "rotY": 359.869568,
                "rotZ": 0.0,
                "scaleX": 2.00000215,
                "scaleY": 2.00000238,
                "scaleZ": 2.00000262
              },
              "CustomDecal": {
                "Name": "dunwich_back",
                "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/959719855119695911/931B9829687A20F4DEADB36DA57B7E6D76792231/",
                "Size": 7.4
              }
            }
          ]
        },
        {
          "GUID": "9f0ae2",
          "Name": "Custom_Model",
          "Transform": {
            "posX": -30.22285,
            "posY": 1.770999,
            "posZ": 28.82783,
            "rotX": 5.97274675E-06,
            "rotY": 0.0004398408,
            "rotZ": -3.27944463E-08,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "A",
          "Description": "",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "ColorDiffuse": {
            "r": 0.0,
            "g": 0.0,
            "b": 0.0,
            "a": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": false,
          "Tooltip": false,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomMesh": {
            "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/1478820768302617365/27883B7913E0E69143C3AA03493B7E7C4E8C29C0/",
            "DiffuseURL": "",
            "NormalURL": "",
            "ColliderURL": "",
            "Convex": true,
            "MaterialIndex": 1,
            "TypeIndex": 0,
            "CastShadows": true
          },
          "LuaScript": "-- Code for bag to identify text tool objects\r\nmovableTextTool_cowgoesmoo33 = true\r\n\r\n-- Number of characters before the text box width expands.\r\nEXPAND_INTERVAL = 20\r\n\r\n-- This table controls what is passed between save/load\r\ndata = {}\r\n\r\nfunction onLoad(saved_data)\r\n  if saved_data ~= '' then\r\n    data = JSON.decode(saved_data)\r\n    if data.text ~= '' then\r\n      self.interactable = data.interactable\r\n      staticMode()\r\n      return\r\n    end\r\n  else\r\n    data = {size=200, color=Color(0,0,0), text='', interactable=true,\r\n        enter_to_finish=false, autolock=false, autolift=false,\r\n        hover_height=0.05, box_transparency=1}\r\n  end\r\n\r\n  inputMode()\r\nend\r\n\r\n-- True if in the middle of delay after pressing Enter (with enter_to_finish on)\r\nfinishing = false\r\nfunction input_func(obj, color, input, stillEditing)\r\n  local params = getBox(input)\r\n  if params then\r\n    params.value = input\r\n    self.editInput(params)\r\n  end\r\n\r\n  if not stillEditing then\r\n    data.text = input\r\n    updateState()\r\n    if input ~= '' then staticMode(color) end\r\n  elseif data.enter_to_finish then\r\n    -- If enter is pressed: remove last newline and force finish\r\n    if not finishing and input:sub(-1) == '\\n' then\r\n      finishing = true\r\n      -- Delay to avoid user's Enter keypress being detected (opens chat box)\r\n      Wait.frames(function()\r\n        input = input:sub(1, -2)\r\n        data.text = input\r\n        updateState()\r\n        if input ~= '' then staticMode(color) else inputMode() end\r\n        finishing = false\r\n      end, 10)\r\n    end\r\n  end\r\nend\r\n\r\n-- When the inpupt box appears and lets the player type in it.\r\nfunction inputMode()\r\n  self.clearContextMenu()\r\n  self.clearInputs()\r\n  self.clearButtons()\r\n\r\n  local size = getBox(data.text, true)\r\n\r\n  self.createInput({\r\n    input_function = \"input_func\",\r\n    function_owner = self,\r\n    label          = \"Type Here\",\r\n    alignment      = 3,\r\n    position       = {x=0, y=data.hover_height, z=0},\r\n    rotation       = {0, 180, 0},\r\n    width          = size.width,\r\n    height         = size.height,\r\n    color          = getBackground(data.color),\r\n    font_color     = data.color,\r\n    font_size      = data.size,\r\n    value          = data.text,\r\n  })\r\n\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\nend\r\n\r\n-- When the input box disappears and displays the text.\r\nfunction staticMode(player)\r\n  self.clearContextMenu()\r\n  if data.autolock then\r\n    self.locked = true\r\n  end\r\n  if self.getInputs() and #self.getInputs() ~= 0 then\r\n    self.removeInput(0)\r\n  end\r\n\r\n  -- Clear from selecting player\r\n  if player then\r\n    self.removeFromPlayerSelection(player)\r\n  end\r\n\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  self.createButton({\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=self,\r\n    position={0,data.hover_height,0}, rotation={0,180,0}, height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  })\r\n\r\n  self.addContextMenuItem('Edit Text', function(color)\r\n    self.removeFromPlayerSelection(color)\r\n    inputMode()\r\n  end)\r\n  self.addContextMenuItem('Clear', function(color)\r\n    applyMultiple(color, 'clear', _, true)\r\n  end)\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\n  self.addContextMenuItem('Permanently Attach', attemptAttach)\r\n  self.addContextMenuItem('Permalock', function(color)\r\n    applyMultiple(color, 'permalock', _, true)\r\n  end)\r\nend\r\n\r\nfunction changeSize(params)\r\n  local delta = params[1]\r\n  local newSize = data.size + delta\r\n  if newSize > 800  or newSize < 50 then\r\n    return\r\n  end\r\n  data.size = newSize\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_size=data.size})\r\n  else\r\n    local size = getBox(data.text, true)\r\n    self.editInput({width=size.width, height=size.height, font_size=data.size})\r\n  end\r\nend\r\n\r\nfunction setColor(params)\r\n  if params and params[1] then\r\n    data.color = params[1]\r\n  else\r\n    data.color = self.getColorTint():setAt('a', 1) -- Take on color of object tint\r\n  end\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_color=data.color})\r\n  else\r\n    self.editInput({font_color=data.color, color=getBackground(data.color)})\r\n  end\r\nend\r\n\r\nfunction getBackground(color) --determines whether to use black or white depending on luminance\r\n  local r,g,b = Color(color):get()\r\n\r\n  local lum = 0.2126*r + 0.7152*g + 0.0722*b\r\n  if lum > 0.75 then\r\n    return {0.2,0.2,0.2, data.box_transparency}\r\n  else\r\n    return {1,1,1, data.box_transparency}\r\n  end\r\nend\r\n\r\nfunction clear()\r\n  data.text = ''\r\n  updateState()\r\n  inputMode()\r\nend\r\n\r\nfunction permalock()\r\n  self.interactable = false\r\n  data.interactable = false\r\n  updateState()\r\nend\r\n\r\nlocal target_script = [[\r\nfunction onLoad(script_state)\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    for _,entry in ipairs(state) do\r\n      self.createButton(entry)\r\n    end\r\n    self.addContextMenuItem('Clear All Text', function(color)\r\n      self.clearContextMenu()\r\n      self.clearButtons()\r\n      self.script_state = ''\r\n      self.script_code = ''\r\n    end)\r\n  end\r\nend\r\n]]\r\n\r\nfunction attemptAttach(player_color)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  local attachee\r\n  local attachers = {}\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if obj ~= self then\r\n        table.insert(attachers, obj)\r\n      end\r\n    else\r\n      if attachee then\r\n        broadcastToColor(\"More than one target selected.\", player_color)\r\n        return\r\n      else\r\n        attachee = obj\r\n      end\r\n    end\r\n  end\r\n  if attachee then\r\n    local code = attachee.script_code\r\n    if code and code ~= '' and code ~= target_script then\r\n      broadcastToColor(\"Warning: script on card has been overriden. Rewind time to undo.\", player_color)\r\n    end\r\n    for i,attacher in ipairs(attachers) do\r\n      attacher.call('attach', {target = attachee})\r\n    end\r\n    attach({target = attachee})\r\n    local type, flip = attachee.type, attachee.getRotation().z\r\n    if (type == 'Card' or type == 'Deck') and flip > 175 and flip < 185 then\r\n      broadcastToColor(\"Warning: text will not display if card or deck is facing down.\", player_color)\r\n    end\r\n  else\r\n    broadcastToColor(\"You must have a target object in your selection (using click-and-drag or Ctrl+Click) to use this option.\", player_color)\r\n  end\r\nend\r\n\r\nfunction attach(params)\r\n  local target = params.target\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  local textRotation = self.getRotation():sub(target.getRotation())\r\n    :add(Vector(180, 0, 180))\r\n\r\n  local textPosition = target.positionToLocal(\r\n    self.getPosition():add(Vector(0, data.hover_height, 0))\r\n  )\r\n  textPosition.x = -textPosition.x\r\n\r\n  local textScale = {}\r\n  textScale.x = self.getScale().x / target.getScale().x\r\n  textScale.y = self.getScale().x / target.getScale().y\r\n  textScale.z = self.getScale().x / target.getScale().z\r\n\r\n  local details = {\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=nil,\r\n    position=textPosition,\r\n    rotation=textRotation,\r\n    scale=textScale,\r\n    height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  }\r\n\r\n  target.createButton(details)\r\n\r\n  local script_state = target.script_state\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    table.insert(state, details)\r\n    target.script_state = JSON.encode(state)\r\n  else\r\n    target.script_state = JSON.encode({[1]=details})\r\n  end\r\n\r\n  target.script_code = target_script\r\n\r\n  self.destruct()\r\nend\r\n\r\nfunction applyMultiple(player_color, func_string, params, static_only)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if not static_only or obj.call('isStatic') then\r\n        obj.call(func_string, params)\r\n      end\r\n    end\r\n  end\r\nend\r\n\r\nfunction isStatic()\r\n  local input = self.getInputs()\r\n  return not input or #input == 0\r\nend\r\n\r\nfunction getBox(input, force)\r\n  local maxLength, lineCount = EXPAND_INTERVAL, 1\r\n  local lineLength = 0\r\n  for i = 1, #input do\r\n    local c = input:sub(i,i)\r\n    if c == '\\n' then\r\n      lineCount = lineCount + 1\r\n      if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n      lineLength = 0\r\n    else\r\n      lineLength = lineLength + 1\r\n    end\r\n  end\r\n  if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n\r\n  newWidth = data.size * maxLength * 0.9\r\n  newHeight = data.size * lineCount + 23\r\n\r\n  if force or boxWidth ~= newWidth or boxHeight ~= newHeight then\r\n    boxWidth, boxHeight = newWidth, newHeight\r\n    return {width = boxWidth, height = boxHeight}\r\n  end\r\n  return nil\r\nend\r\n\r\ntemp_lift = nil\r\nfunction onPickUp(player_color)\r\n  if data.autolift then\r\n    local player = Player[player_color]\r\n    temp_lift = player.lift_height\r\n    player.lift_height = 0\r\n  end\r\nend\r\n\r\nfunction onDrop(player_color)\r\n  if data.autolift and temp_lift then\r\n    Player[player_color].lift_height = temp_lift\r\n  end\r\nend\r\n\r\n-- Should be called every time data is modified, allows info to be saved on copy/paste\r\nfunction updateState()\r\n  self.script_state = JSON.encode(data)\r\nend\r\n\r\nfunction onSave()\r\n  self.script_state = JSON.encode(data)\r\n  return self.script_state\r\nend",
          "LuaScriptState": "{\"autolift\":false,\"autolock\":false,\"box_transparency\":1,\"color\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1},\"enter_to_finish\":false,\"hover_height\":0.05,\"interactable\":true,\"size\":550,\"text\":\"A\"}",
          "XmlUI": ""
        },
        {
          "GUID": "a16ed9",
          "Name": "Custom_Model_Bag",
          "Transform": {
            "posX": -4.500001,
            "posY": 0.979997456,
            "posZ": 46.5,
            "rotX": -5.32395052E-06,
            "rotY": 180.000259,
            "rotZ": 8.473493E-08,
            "scaleX": 1.493596,
            "scaleY": 0.310884237,
            "scaleZ": 1.63552141
          },
          "Nickname": "I-B : Cauchemar Eveillé",
          "Description": "Les Dévoreurs de Rêves",
          "GMNotes": "Cauchemar Éveillé",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "CustomMesh": {
            "MeshURL": "https://raw.githubusercontent.com/RobMayer/TTSLibrary/master/advboxes/tuckbox_h_MSH.obj",
            "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/775107869055713235/FBABD72CD923F9371D9E8416D95CF198A0CDD42B/",
            "NormalURL": "",
            "ColliderURL": "",
            "Convex": true,
            "MaterialIndex": 3,
            "TypeIndex": 6,
            "CustomShader": {
              "SpecularColor": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "SpecularIntensity": 0.0,
              "SpecularSharpness": 2.0,
              "FresnelStrength": 0.0
            },
            "CastShadows": true
          },
          "Bag": {
            "Order": 0
          },
          "LuaScript": "-- Utility memory bag by Directsun\r\n-- Version 2.7.0\r\n-- Fork of Memory Bag 2.0 by MrStump\r\n--\r\n-- Want to contribute? Create an issue or fork the code on GitHub and submit a pull request:\r\n-- https://github.com/sunflowermans/TTS-UtilityMemoryBag\r\n\r\n\r\nfunction updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction combineMemoryFromBagsWithin()\r\n    local bagObjList = self.getObjects()\r\n    for _, bagObj in ipairs(bagObjList) do\r\n        local data = bagObj.lua_script_state\r\n        if data ~= nil then\r\n            local j = JSON.decode(data)\r\n            if j ~= nil and j.ml ~= nil then\r\n                for guid, entry in pairs(j.ml) do\r\n                    memoryList[guid] = entry\r\n                end\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateMemoryWithMoves()\r\n    memoryList = memoryListBackup\r\n    --get the first transposed object's coordinates\r\n    local obj = getObjectFromGUID(moveGuid)\r\n\r\n    -- p1 is where needs to go, p2 is where it was\r\n    local refObjPos = memoryList[moveGuid].pos\r\n    local deltaPos = findOffsetDistance(obj.getPosition(), refObjPos, nil)\r\n    local movedRotation = obj.getRotation()\r\n    for guid, entry in pairs(memoryList) do\r\n        memoryList[guid].pos.x = entry.pos.x - deltaPos.x\r\n        memoryList[guid].pos.y = entry.pos.y - deltaPos.y\r\n        memoryList[guid].pos.z = entry.pos.z - deltaPos.z\r\n        -- memoryList[guid].rot.x = movedRotation.x\r\n        -- memoryList[guid].rot.y = movedRotation.y\r\n        -- memoryList[guid].rot.z = movedRotation.z\r\n    end\r\n\r\n    --theList[obj.getGUID()] = {\r\n    --    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n    --    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n    --    lock=obj.getLock()\r\n    --}\r\n    moveList = {}\r\nend\r\n\r\nfunction onload(saved_data)\r\n\r\n    fresh = true\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n\r\n    end\r\n\r\n    moveList = {}\r\n    moveGuid = nil\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        fresh = false\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\n function createSetupButton()\r\n    self.createButton({\r\n      label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n      position={0,0.1,-2.1}, rotation={0,0,0}, height=275, width=625,\r\n      font_size=150, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n end\r\n\r\n--Triggered by Transpose button\r\nfunction buttonClick_transpose()\r\n    moveGuid = nil\r\n    broadcastToAll(\"Select one object and move it- all objects will move relative to the new location\", {0.75, 0.75, 1})\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(true)\r\n    createSetupActionButtons(true)\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(false)\r\n    createSetupActionButtons(false)\r\nend\r\n\r\nfunction getAllObjectsInMemory()\r\n    local objTable = {}\r\n    local curObj = {}\r\n\r\n    for guid in pairs(memoryListBackup) do\r\n        curObj = getObjectFromGUID(guid)\r\n        table.insert(objTable, curObj)\r\n    end\r\n\r\n    return objTable\r\n    -- return getAllObjects()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects(move)\r\n    buttonIndexMap = {}\r\n    local howManyButtons = 0\r\n\r\n    local objsToHaveButtons = {}\r\n    if move == true then\r\n        objsToHaveButtons = getAllObjectsInMemory()\r\n    else\r\n        objsToHaveButtons = getAllObjects()\r\n    end\r\n\r\n    for _, obj in ipairs(objsToHaveButtons) do\r\n        if obj ~= self then\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1* 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor + 2\r\n            objPos.z = objPos.z * globalScaleFactor * 0.9\r\n            --Workaround for custom PDFs\r\n            if obj.Book then\r\n                objPos.y = objPos.y + 0.5\r\n            end\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(obj, move) end\r\n            local color = {0.75,0.25,0.25,0.6}\r\n            local colorMove = {0,0,1,0.6}\r\n            if move == true then\r\n                color = colorMove\r\n            end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=500, width=500,\r\n                color=color,\r\n            })\r\n            buttonIndexMap[obj.getGUID()] = howManyButtons\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons(move)\r\n    self.createButton({\r\n        label=\"Annuler\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n      position={-0.7,0.1,2.1}, rotation={0,0,0}, height=275, width=625,\r\n      font_size=145, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    self.createButton({\r\n        label=\"Valider\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={-0.7,0.3,2.6}, rotation={0,0,0}, height=275, width=625,\r\n        font_size=140, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    if move == false then\r\n      self.createButton({\r\n          label=\"Ajouter\", click_function=\"buttonClick_add\", function_owner=self,\r\n          position={0.7,0.3,2.1}, rotation={0,0,0}, height=275, width=625,\r\n          font_size=140, color={0,0,0}, font_color={0.25,1,0.25}\r\n      })\r\n\r\n        self.createButton({\r\n            label=\"Sélection\", click_function=\"editDragSelection\", function_owner=self,\r\n            position={-0.7,0.3,3.1}, rotation={0,0,0}, height=275, width=625,\r\n            font_size=125, color={0,0,0}, font_color={1,1,1}\r\n        })\r\n\r\n        if fresh == false then\r\n                self.createButton({\r\n                    label=\"Mise à jour\", click_function=\"buttonClick_setNew\", function_owner=self,\r\n                    position={0.7,0.3,3.1}, rotation={0,0,0}, height=275, width=625,\r\n                    font_size=105, color={0,0,0}, font_color={0.75,0.75,1}\r\n                })\r\n                self.createButton({\r\n                    label=\"Retirer\", click_function=\"buttonClick_remove\", function_owner=self,\r\n                    position={0.7,0.3,2.6}, rotation={0,0,0}, height=275, width=625,\r\n                    font_size=140, color={0,0,0}, font_color={1,0.25,0.25}\r\n                })\r\n            end\r\n        end\r\n\r\n        self.createButton({\r\n            label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n            position={0,0.3,-2.1}, rotation={0,0,0}, height=275, width=625,\r\n            font_size=165, color={0,0,0}, font_color={1,1,1}\r\n        })\r\n    end\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(obj, move)\r\n    local index = buttonIndexMap[obj.getGUID()]\r\n    local colorMove = {0,0,1,0.6}\r\n    local color = {0,1,0,0.6}\r\n\r\n    previousGuid = selectedGuid\r\n    selectedGuid = obj.getGUID()\r\n\r\n    theList = memoryList\r\n    if move == true then\r\n        theList = moveList\r\n        if previousGuid ~= nil and previousGuid ~= selectedGuid then\r\n            local prevObj = getObjectFromGUID(previousGuid)\r\n            prevObj.highlightOff()\r\n            self.editButton({index=previousIndex, color=colorMove})\r\n            theList[previousGuid] = nil\r\n        end\r\n        previousIndex = index\r\n    end\r\n\r\n    if theList[selectedGuid] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        theList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock(),\r\n            tint=obj.getColorTint()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        if move == true then\r\n            color = colorMove\r\n        end\r\n        self.editButton({index=index, color=color})\r\n        theList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\nfunction editDragSelection(bagObj, player, remove)\r\n    local selectedObjs = Player[player].getSelectedObjects()\r\n    if not remove then\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            --Ignore if already in the memory list, or does not have a button\r\n            if index and not memoryList[obj.getGUID()] then\r\n                self.editButton({index=index, color={0,1,0,0.6}})\r\n                --Adding pos/rot to memory table\r\n                local pos, rot = obj.getPosition(), obj.getRotation()\r\n                --I need to add it like this or it won't save due to indexing issue\r\n                memoryList[obj.getGUID()] = {\r\n                    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n                    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n                    lock=obj.getLock(),\r\n                    tint=obj.getColorTint()\r\n                }\r\n                obj.highlightOn({0,1,0})\r\n            end\r\n        end\r\n    else\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            if index and memoryList[obj.getGUID()] then\r\n                color = {0.75,0.25,0.25,0.6}\r\n                self.editButton({index=index, color=color})\r\n                memoryList[obj.getGUID()] = nil\r\n                obj.highlightOff()\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Sélection annulée\", {1,1,1})\r\n    moveGuid = nil\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    fresh = false\r\n    if next(moveList) ~= nil then\r\n        for guid in pairs(moveList) do\r\n            moveGuid = guid\r\n        end\r\n        if memoryListBackup[moveGuid] == nil then\r\n            broadcastToAll(\"Item selected for moving is not already in memory\", {1, 0.25, 0.25})\r\n        else\r\n            broadcastToAll(\"Moving all items in memory relative to new objects position!\", {0.75, 0.75, 1})\r\n            self.clearButtons()\r\n            self.clearInputs()\r\n            createMemoryActionButtons()\r\n            local count = 0\r\n            for guid in pairs(moveList) do\r\n                moveGuid = guid\r\n                count = count + 1\r\n                local obj = getObjectFromGUID(guid)\r\n                if obj ~= nil then obj.highlightOff() end\r\n            end\r\n            updateMemoryWithMoves()\r\n            updateSave()\r\n            buttonClick_place()\r\n        end\r\n    elseif next(memoryList) == nil and moveGuid == nil then\r\n        memoryList = memoryListBackup\r\n        broadcastToAll(\"No selections made.\", {0.75, 0.25, 0.25})\r\n    end\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\n    moveGuid = nil\r\nend\r\n\r\nfunction combineTables(first_table, second_table)\r\n    for k,v in pairs(second_table) do first_table[k] = v end\r\nend\r\n\r\nfunction buttonClick_add()\r\n    fresh = false\r\n    combineTables(memoryList, memoryListBackup)\r\n    broadcastToAll(\"Adding internal bags and selections to existing memory\", {0.25, 0.75, 0.25})\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_remove()\r\n    broadcastToAll(\"Removing Selected Entries From Memory\", {1.0, 0.25, 0.25})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        memoryListBackup[guid] = nil\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Removed\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_setNew()\r\n    broadcastToAll(\"Setting new position relative to items in memory\", {0.75, 0.75, 1})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        guid = obj.guid\r\n        if memoryListBackup[guid] ~= nil then\r\n            count = count + 1\r\n            memoryListBackup[guid].pos = obj.getPosition()\r\n            memoryListBackup[guid].rot = obj.getRotation()\r\n            memoryListBackup[guid].lock = obj.getLock()\r\n            memoryListBackup[guid].tint = obj.getColorTint()\r\n        end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    fresh = true\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Placer\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0.7,0.1,2.2}, rotation={0,0,0}, height=275, width=625,\r\n        font_size=150, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Ranger\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={-0.7,0.1,2.2}, rotation={0,0,0}, height=275, width=625,\r\n        font_size=150, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.1,-2.2}, rotation={0,0,0}, height=275, width=625,\r\n        font_size=150, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    ---    self.createButton({\r\n    ---      label=\"Bouger\", click_function=\"buttonClick_transpose\", function_owner=self,\r\n    ---      position={-2,0.3,0.8}, rotation={0,270,0}, height=350, width=800,\r\n    ---      font_size=250, color={0,0,0}, font_color={0.75,0.75,1}\r\n    ---\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n            obj.setColorTint(entry.tint)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot, smooth=false\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    item.setColorTint(entry.tint)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objets placés\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objets rangés\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local yOffset = 0\r\n    if obj ~= nil then\r\n        local bounds = obj.getBounds()\r\n        yOffset = (bounds.size.y - bounds.offset.y)\r\n    end\r\n    local deltaPos = {}\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + yOffset\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n    local objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n    local x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n    local z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n    --return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\nfunction rotateMyCoordinates(desiredPos, obj)\r\n    local angle = math.rad(obj.getRotation().y)\r\n    local x = desiredPos.x * math.sin(angle)\r\n    local z = desiredPos.z * math.cos(angle)\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n    local mult = 10^(dec or 0)\r\n    return math.floor(num * mult + 0.5) / mult\r\nend\r\n\r\n\r\n--[[\r\nThis object provides access to a variable stored on the \"Global script\".\r\nThe variable holds the GUIDs for every Utility Memory Bag in the scene.\r\nExample:\r\n{'805ebd', '35cc21', 'fc8886', 'f50264', '5f5f63'}\r\n--]]\r\nAllMemoryBagsInScene = {\r\n    NAME_OF_GLOBAL_VARIABLE = \"_UtilityMemoryBag_AllMemoryBagsInScene\"\r\n}\r\n\r\nfunction AllMemoryBagsInScene:add(guid)\r\n    local guids = Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\n    table.insert(guids, guid)\r\n    Global.setTable(self.NAME_OF_GLOBAL_VARIABLE, guids)\r\nend\r\n\r\nfunction AllMemoryBagsInScene:getGuidList()\r\n    return Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\nend",
          "LuaScriptState": "{\"ml\":{\"07b4e7\":{\"lock\":false,\"pos\":{\"x\":12.5010328292847,\"y\":1.53642880916595,\"z\":-6.01680040359497},\"rot\":{\"x\":0.00494798179715872,\"y\":90.0000305175781,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"0e3f22\":{\"lock\":false,\"pos\":{\"x\":-26.5034065246582,\"y\":1.83530139923096,\"z\":3.50187349319458},\"rot\":{\"x\":-4.69815813630703E-06,\"y\":179.995529174805,\"z\":-4.94661264838214E-07},\"tint\":{\"a\":1,\"b\":0,\"g\":0,\"r\":0.614982545375824}},\"1f430f\":{\"lock\":false,\"pos\":{\"x\":30.5,\"y\":1.66173624992371,\"z\":-3},\"rot\":{\"x\":-0.000591214280575514,\"y\":180.00129699707,\"z\":180.001068115234},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"20ca57\":{\"lock\":false,\"pos\":{\"x\":25.5000991821289,\"y\":1.52793109416962,\"z\":-5.50000190734863},\"rot\":{\"x\":0.0109019437804818,\"y\":179.999389648438,\"z\":0.784723937511444},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"21f1e5\":{\"lock\":true,\"pos\":{\"x\":35.1175003051758,\"y\":1.54540002346039,\"z\":0.199100002646446},\"rot\":{\"x\":0.000600000028498471,\"y\":9.99999974737875E-05,\"z\":-0.00109999999403954},\"tint\":{\"a\":0,\"b\":0,\"g\":0,\"r\":0}},\"29daac\":{\"lock\":false,\"pos\":{\"x\":30.5,\"y\":1.6088,\"z\":-3.0001},\"rot\":{\"x\":-0.0006,\"y\":180.0285,\"z\":180.0011},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"37664f\":{\"lock\":false,\"pos\":{\"x\":2.5,\"y\":1.50591504573822,\"z\":15},\"rot\":{\"x\":-0.00420293491333723,\"y\":45.0000038146973,\"z\":359.988800048828},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"3d62b3\":{\"lock\":false,\"pos\":{\"x\":11.9999980926514,\"y\":1.50319373607636,\"z\":5.00000381469727},\"rot\":{\"x\":0.0108914952725172,\"y\":179.99983215332,\"z\":0.00494979741051793},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"3e4953\":{\"lock\":false,\"pos\":{\"x\":17.5009994506836,\"y\":1.53599643707275,\"z\":-6.01959991455078},\"rot\":{\"x\":0.00495204981416464,\"y\":90.0216293334961,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"43f94b\":{\"lock\":true,\"pos\":{\"x\":-20.3686981201172,\"y\":1.76608765125275,\"z\":11.7781009674072},\"rot\":{\"x\":0.000884235429111868,\"y\":7.06022838130593E-05,\"z\":-0.000335338059812784},\"tint\":{\"a\":0,\"b\":0,\"g\":0,\"r\":0}},\"469cde\":{\"lock\":false,\"pos\":{\"x\":-4.50000238418579,\"y\":1.50632953643799,\"z\":14.0000038146973},\"rot\":{\"x\":359.993041992188,\"y\":29.9885749816895,\"z\":359.990264892578},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"4aa456\":{\"lock\":true,\"pos\":{\"x\":-26.5648555755615,\"y\":1.76612401008606,\"z\":11.769721031189},\"rot\":{\"x\":0.000884124950971454,\"y\":0.000652459159027785,\"z\":-0.000335061835357919},\"tint\":{\"a\":0,\"b\":0,\"g\":0,\"r\":0}},\"658407\":{\"lock\":false,\"pos\":{\"x\":-1.50000214576721,\"y\":1.50778126716614,\"z\":23.0000038146973},\"rot\":{\"x\":359.989105224609,\"y\":359.992858886719,\"z\":-0.00495074596256018},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"721d1a\":{\"lock\":false,\"pos\":{\"x\":-20.5038833618164,\"y\":1.84000062942505,\"z\":9.50198078155518},\"rot\":{\"x\":-5.71490727452328E-06,\"y\":179.985580444336,\"z\":-5.20417984262167E-07},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"7234af\":{\"lock\":false,\"pos\":{\"x\":2.5,\"y\":1.50686550140381,\"z\":20},\"rot\":{\"x\":0.00494778854772449,\"y\":90.0002136230469,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"832788\":{\"lock\":false,\"pos\":{\"x\":-34.0002212524414,\"y\":1.810187458992,\"z\":8.49970531463623},\"rot\":{\"x\":-4.84433121528127E-06,\"y\":180.000015258789,\"z\":180},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"8611f3\":{\"lock\":false,\"pos\":{\"x\":-26.5042629241943,\"y\":1.84000062942505,\"z\":9.50491428375244},\"rot\":{\"x\":-4.76741797683644E-06,\"y\":179.986145019531,\"z\":1.23398720575096E-07},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"86d76b\":{\"lock\":false,\"pos\":{\"x\":3.99999856948853,\"y\":1.5183447599411,\"z\":9.50000381469727},\"rot\":{\"x\":0.0108923371881247,\"y\":179.990264892578,\"z\":0.00494647119194269},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"8b32b5\":{\"lock\":false,\"pos\":{\"x\":-1.50000202655792,\"y\":1.50521504878998,\"z\":9.50000381469727},\"rot\":{\"x\":0.00495050381869078,\"y\":90.0144348144531,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"9535d0\":{\"lock\":false,\"pos\":{\"x\":23.5012969970703,\"y\":1.51380479335785,\"z\":-5.5230393409729},\"rot\":{\"x\":0.0108914729207754,\"y\":180.000579833984,\"z\":0.00494831427931786},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"96839e\":{\"lock\":false,\"pos\":{\"x\":34.9984016418457,\"y\":1.5433566570282,\"z\":2.99990034103394},\"rot\":{\"x\":0.0813362672924995,\"y\":180.045501708984,\"z\":0.07317104190588},\"tint\":{\"a\":1,\"b\":0.443134337663651,\"g\":0.443134337663651,\"r\":0.898039221763611}},\"98830f\":{\"lock\":false,\"pos\":{\"x\":-22.0000019073486,\"y\":1.8400012254715,\"z\":2.99999713897705},\"rot\":{\"x\":-6.24507447355427E-06,\"y\":179.98356628418,\"z\":1.57349944629459E-07},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"a94869\":{\"lock\":false,\"pos\":{\"x\":-30.5002822875977,\"y\":1.78360521793365,\"z\":8.49960708618164},\"rot\":{\"x\":-9.23328968838177E-07,\"y\":180.000259399414,\"z\":-2.76797054539202E-05},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"a9c8b3\":{\"lock\":false,\"pos\":{\"x\":-7.0000057220459,\"y\":1.51929473876953,\"z\":9.50000381469727},\"rot\":{\"x\":0.0108914021402597,\"y\":180.000350952148,\"z\":0.0049482430331409},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"ab60e2\":{\"lock\":false,\"pos\":{\"x\":-29.9075565338135,\"y\":1.83360457420349,\"z\":8.49973487854004},\"rot\":{\"x\":6.55684334560647E-06,\"y\":180.000091552734,\"z\":-1.33369048853638E-05},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"b63cee\":{\"lock\":false,\"pos\":{\"x\":11.9999980926514,\"y\":1.51765382289886,\"z\":9.50000381469727},\"rot\":{\"x\":0.0108915194869041,\"y\":180.000152587891,\"z\":0.00494818249717355},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"ba6b8d\":{\"lock\":false,\"pos\":{\"x\":-34.0000953674316,\"y\":1.83425807952881,\"z\":3.99990844726563},\"rot\":{\"x\":-4.98272856930271E-06,\"y\":179.999908447266,\"z\":180},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"be783d\":{\"lock\":false,\"pos\":{\"x\":11.9999980926514,\"y\":1.5049045085907,\"z\":14.0000038146973},\"rot\":{\"x\":0.010891605168581,\"y\":179.999694824219,\"z\":0.00494987005367875},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"ce0f11\":{\"lock\":false,\"pos\":{\"x\":-1.50000858306885,\"y\":1.52224135398865,\"z\":27.4999980926514},\"rot\":{\"x\":0.0108915967866778,\"y\":179.999237060547,\"z\":0.00494820484891534},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"ce2639\":{\"lock\":false,\"pos\":{\"x\":-1.50000357627869,\"y\":1.5205305814743,\"z\":18.5000038146973},\"rot\":{\"x\":0.0108916182070971,\"y\":179.997863769531,\"z\":0.00494782673195004},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"d00b30\":{\"lock\":false,\"pos\":{\"x\":1.49999797344208,\"y\":1.50581133365631,\"z\":14.0000038146973},\"rot\":{\"x\":0.0119067598134279,\"y\":149.99235534668,\"z\":-0.00116052106022835},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"d75613\":{\"lock\":false,\"pos\":{\"x\":7.99999856948853,\"y\":1.50439465045929,\"z\":9.50000381469727},\"rot\":{\"x\":0.00495045958086848,\"y\":90.0145492553711,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"e06bcf\":{\"lock\":false,\"pos\":{\"x\":30.5000019073486,\"y\":1.6087818145752,\"z\":-2.99999904632568},\"rot\":{\"x\":-0.00059101905208081,\"y\":180,\"z\":180.001068115234},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"e44496\":{\"lock\":false,\"pos\":{\"x\":30.5000228881836,\"y\":1.6172798871994,\"z\":-3.00009250640869},\"rot\":{\"x\":-0.00059172825422138,\"y\":180.030807495117,\"z\":180.001068115234},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"ee370a\":{\"lock\":true,\"pos\":{\"x\":-26.3554000854492,\"y\":1.76629996299744,\"z\":5.3685998916626},\"rot\":{\"x\":0,\"y\":0.000300000014249235,\"z\":0},\"tint\":{\"a\":0,\"b\":0,\"g\":0,\"r\":0}},\"efd023\":{\"lock\":false,\"pos\":{\"x\":-19.0000629425049,\"y\":1.78360605239868,\"z\":2.99975848197937},\"rot\":{\"x\":-4.9992931963061E-06,\"y\":180.002777099609,\"z\":-5.83960790834226E-08},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"f40a56\":{\"lock\":false,\"pos\":{\"x\":15.9999971389771,\"y\":1.50370371341705,\"z\":9.50000286102295},\"rot\":{\"x\":0.00495003908872604,\"y\":90.0146789550781,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}}}}",
          "XmlUI": "",
          "ContainedObjects": [
            {
              "GUID": "07b4e7",
              "Name": "Deck",
              "Transform": {
                "posX": 12.5010328,
                "posY": 1.53642881,
                "posZ": -6.0168004,
                "rotX": 0.004947982,
                "rotY": 90.00003,
                "rotZ": 359.9891,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Deck Intrigue",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": false,
              "SidewaysCard": true,
              "DeckIDs": [
                276309,
                276308,
                276307
              ],
              "CustomDeck": {
                "2763": {
                  "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                  "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "1085ee",
                  "Name": "Card",
                  "Transform": {
                    "posX": 12.5010328,
                    "posY": 4.79183245,
                    "posZ": -6.016798,
                    "rotX": 0.004947873,
                    "rotY": 90.00003,
                    "rotZ": 359.9891,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "L'Hôpital des Horreurs",
                  "Description": "Intrigue 3a",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"doomThreshold\": 8,\n  \"id\": \"06066\",\n  \"type\": \"Agenda\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276309,
                  "SidewaysCard": true,
                  "CustomDeck": {
                    "2763": {
                      "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                      "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "5bb5bd",
                  "Name": "Card",
                  "Transform": {
                    "posX": 12.5010328,
                    "posY": 4.59183264,
                    "posZ": -6.016798,
                    "rotX": 0.004947873,
                    "rotY": 90.00003,
                    "rotZ": 359.9891,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "L'Infestation se Propage",
                  "Description": "Intrigue 2a",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"doomThreshold\": 6,\n  \"id\": \"06065\",\n  \"type\": \"Agenda\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276308,
                  "SidewaysCard": true,
                  "CustomDeck": {
                    "2763": {
                      "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                      "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "6458e0",
                  "Name": "Card",
                  "Transform": {
                    "posX": 12.5010395,
                    "posY": 1.61307442,
                    "posZ": -6.01681328,
                    "rotX": 0.007840229,
                    "rotY": 90.00003,
                    "rotZ": 359.9856,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Les Couloirs de St. Mary",
                  "Description": "Intrigue 1a",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"doomThreshold\": 2,\n  \"id\": \"06064\",\n  \"type\": \"Agenda\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276307,
                  "SidewaysCard": true,
                  "CustomDeck": {
                    "2763": {
                      "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                      "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "3e4953",
              "Name": "Deck",
              "Transform": {
                "posX": 17.501,
                "posY": 1.53599644,
                "posZ": -6.0196,
                "rotX": 0.00495205,
                "rotY": 90.02163,
                "rotZ": 359.9891,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Deck Acte",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": false,
              "SidewaysCard": true,
              "DeckIDs": [
                276312,
                276311,
                276310
              ],
              "CustomDeck": {
                "2763": {
                  "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                  "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "d37be1",
                  "Name": "Card",
                  "Transform": {
                    "posX": 17.5009975,
                    "posY": 4.7914,
                    "posZ": -6.01959753,
                    "rotX": 0.004952333,
                    "rotY": 90.02162,
                    "rotZ": 359.9891,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Contenir l'Épidémie",
                  "Description": "Acte 3a",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06069\",\n  \"type\": \"Act\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276312,
                  "SidewaysCard": true,
                  "CustomDeck": {
                    "2763": {
                      "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                      "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "5044d8",
                  "Name": "Card",
                  "Transform": {
                    "posX": 17.5009975,
                    "posY": 4.5914,
                    "posZ": -6.01959753,
                    "rotX": 0.004952333,
                    "rotY": 90.02162,
                    "rotZ": 359.9891,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "À la Recherche du Patient",
                  "Description": "Acte 2a",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06068\",\n  \"type\": \"Act\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276311,
                  "SidewaysCard": true,
                  "CustomDeck": {
                    "2763": {
                      "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                      "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "23ba25",
                  "Name": "Card",
                  "Transform": {
                    "posX": 17.5010052,
                    "posY": 1.61264217,
                    "posZ": -6.019613,
                    "rotX": 0.007844835,
                    "rotY": 90.02162,
                    "rotZ": 359.9856,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Chercher des Réponses",
                  "Description": "Acte 1a",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"clueThresholdPerInvestigator\": 4,\n  \"cycle\": \"Standalone\",\n  \"id\": \"06067\",\n  \"type\": \"Act\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276310,
                  "SidewaysCard": true,
                  "CustomDeck": {
                    "2763": {
                      "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                      "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "43f94b",
              "Name": "Custom_Model",
              "Transform": {
                "posX": -20.3686981,
                "posY": 1.76608765,
                "posZ": 11.778101,
                "rotX": 0.000884235429,
                "rotY": 7.06022838E-05,
                "rotZ": -0.00033533806,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Intrigue 1B",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.0,
                "g": 0.0,
                "b": 0.0,
                "a": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": true,
              "Grid": false,
              "Snap": false,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": false,
              "Tooltip": false,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/1478820768302617365/27883B7913E0E69143C3AA03493B7E7C4E8C29C0/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 1,
                "TypeIndex": 0,
                "CastShadows": true
              },
              "LuaScript": "-- Code for bag to identify text tool objects\r\nmovableTextTool_cowgoesmoo33 = true\r\n\r\n-- Number of characters before the text box width expands.\r\nEXPAND_INTERVAL = 20\r\n\r\n-- This table controls what is passed between save/load\r\ndata = {}\r\n\r\nfunction onLoad(saved_data)\r\n  if saved_data ~= '' then\r\n    data = JSON.decode(saved_data)\r\n    if data.text ~= '' then\r\n      self.interactable = data.interactable\r\n      staticMode()\r\n      return\r\n    end\r\n  else\r\n    data = {size=200, color=Color(0,0,0), text='', interactable=true,\r\n        enter_to_finish=false, autolock=false, autolift=false,\r\n        hover_height=0.05, box_transparency=1}\r\n  end\r\n\r\n  inputMode()\r\nend\r\n\r\n-- True if in the middle of delay after pressing Enter (with enter_to_finish on)\r\nfinishing = false\r\nfunction input_func(obj, color, input, stillEditing)\r\n  local params = getBox(input)\r\n  if params then\r\n    params.value = input\r\n    self.editInput(params)\r\n  end\r\n\r\n  if not stillEditing then\r\n    data.text = input\r\n    updateState()\r\n    if input ~= '' then staticMode(color) end\r\n  elseif data.enter_to_finish then\r\n    -- If enter is pressed: remove last newline and force finish\r\n    if not finishing and input:sub(-1) == '\\n' then\r\n      finishing = true\r\n      -- Delay to avoid user's Enter keypress being detected (opens chat box)\r\n      Wait.frames(function()\r\n        input = input:sub(1, -2)\r\n        data.text = input\r\n        updateState()\r\n        if input ~= '' then staticMode(color) else inputMode() end\r\n        finishing = false\r\n      end, 10)\r\n    end\r\n  end\r\nend\r\n\r\n-- When the inpupt box appears and lets the player type in it.\r\nfunction inputMode()\r\n  self.clearContextMenu()\r\n  self.clearInputs()\r\n  self.clearButtons()\r\n\r\n  local size = getBox(data.text, true)\r\n\r\n  self.createInput({\r\n    input_function = \"input_func\",\r\n    function_owner = self,\r\n    label          = \"Type Here\",\r\n    alignment      = 3,\r\n    position       = {x=0, y=data.hover_height, z=0},\r\n    rotation       = {0, 180, 0},\r\n    width          = size.width,\r\n    height         = size.height,\r\n    color          = getBackground(data.color),\r\n    font_color     = data.color,\r\n    font_size      = data.size,\r\n    value          = data.text,\r\n  })\r\n\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\nend\r\n\r\n-- When the input box disappears and displays the text.\r\nfunction staticMode(player)\r\n  self.clearContextMenu()\r\n  if data.autolock then\r\n    self.locked = true\r\n  end\r\n  if self.getInputs() and #self.getInputs() ~= 0 then\r\n    self.removeInput(0)\r\n  end\r\n\r\n  -- Clear from selecting player\r\n  if player then\r\n    self.removeFromPlayerSelection(player)\r\n  end\r\n\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  self.createButton({\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=self,\r\n    position={0,data.hover_height,0}, rotation={0,180,0}, height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  })\r\n\r\n  self.addContextMenuItem('Edit Text', function(color)\r\n    self.removeFromPlayerSelection(color)\r\n    inputMode()\r\n  end)\r\n  self.addContextMenuItem('Clear', function(color)\r\n    applyMultiple(color, 'clear', _, true)\r\n  end)\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\n  self.addContextMenuItem('Permanently Attach', attemptAttach)\r\n  self.addContextMenuItem('Permalock', function(color)\r\n    applyMultiple(color, 'permalock', _, true)\r\n  end)\r\nend\r\n\r\nfunction changeSize(params)\r\n  local delta = params[1]\r\n  local newSize = data.size + delta\r\n  if newSize > 800  or newSize < 50 then\r\n    return\r\n  end\r\n  data.size = newSize\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_size=data.size})\r\n  else\r\n    local size = getBox(data.text, true)\r\n    self.editInput({width=size.width, height=size.height, font_size=data.size})\r\n  end\r\nend\r\n\r\nfunction setColor(params)\r\n  if params and params[1] then\r\n    data.color = params[1]\r\n  else\r\n    data.color = self.getColorTint():setAt('a', 1) -- Take on color of object tint\r\n  end\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_color=data.color})\r\n  else\r\n    self.editInput({font_color=data.color, color=getBackground(data.color)})\r\n  end\r\nend\r\n\r\nfunction getBackground(color) --determines whether to use black or white depending on luminance\r\n  local r,g,b = Color(color):get()\r\n\r\n  local lum = 0.2126*r + 0.7152*g + 0.0722*b\r\n  if lum > 0.75 then\r\n    return {0.2,0.2,0.2, data.box_transparency}\r\n  else\r\n    return {1,1,1, data.box_transparency}\r\n  end\r\nend\r\n\r\nfunction clear()\r\n  data.text = ''\r\n  updateState()\r\n  inputMode()\r\nend\r\n\r\nfunction permalock()\r\n  self.interactable = false\r\n  data.interactable = false\r\n  updateState()\r\nend\r\n\r\nlocal target_script = [[\r\nfunction onLoad(script_state)\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    for _,entry in ipairs(state) do\r\n      self.createButton(entry)\r\n    end\r\n    self.addContextMenuItem('Clear All Text', function(color)\r\n      self.clearContextMenu()\r\n      self.clearButtons()\r\n      self.script_state = ''\r\n      self.script_code = ''\r\n    end)\r\n  end\r\nend\r\n]]\r\n\r\nfunction attemptAttach(player_color)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  local attachee\r\n  local attachers = {}\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if obj ~= self then\r\n        table.insert(attachers, obj)\r\n      end\r\n    else\r\n      if attachee then\r\n        broadcastToColor(\"More than one target selected.\", player_color)\r\n        return\r\n      else\r\n        attachee = obj\r\n      end\r\n    end\r\n  end\r\n  if attachee then\r\n    local code = attachee.script_code\r\n    if code and code ~= '' and code ~= target_script then\r\n      broadcastToColor(\"Warning: script on card has been overriden. Rewind time to undo.\", player_color)\r\n    end\r\n    for i,attacher in ipairs(attachers) do\r\n      attacher.call('attach', {target = attachee})\r\n    end\r\n    attach({target = attachee})\r\n    local type, flip = attachee.type, attachee.getRotation().z\r\n    if (type == 'Card' or type == 'Deck') and flip > 175 and flip < 185 then\r\n      broadcastToColor(\"Warning: text will not display if card or deck is facing down.\", player_color)\r\n    end\r\n  else\r\n    broadcastToColor(\"You must have a target object in your selection (using click-and-drag or Ctrl+Click) to use this option.\", player_color)\r\n  end\r\nend\r\n\r\nfunction attach(params)\r\n  local target = params.target\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  local textRotation = self.getRotation():sub(target.getRotation())\r\n    :add(Vector(180, 0, 180))\r\n\r\n  local textPosition = target.positionToLocal(\r\n    self.getPosition():add(Vector(0, data.hover_height, 0))\r\n  )\r\n  textPosition.x = -textPosition.x\r\n\r\n  local textScale = {}\r\n  textScale.x = self.getScale().x / target.getScale().x\r\n  textScale.y = self.getScale().x / target.getScale().y\r\n  textScale.z = self.getScale().x / target.getScale().z\r\n\r\n  local details = {\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=nil,\r\n    position=textPosition,\r\n    rotation=textRotation,\r\n    scale=textScale,\r\n    height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  }\r\n\r\n  target.createButton(details)\r\n\r\n  local script_state = target.script_state\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    table.insert(state, details)\r\n    target.script_state = JSON.encode(state)\r\n  else\r\n    target.script_state = JSON.encode({[1]=details})\r\n  end\r\n\r\n  target.script_code = target_script\r\n\r\n  self.destruct()\r\nend\r\n\r\nfunction applyMultiple(player_color, func_string, params, static_only)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if not static_only or obj.call('isStatic') then\r\n        obj.call(func_string, params)\r\n      end\r\n    end\r\n  end\r\nend\r\n\r\nfunction isStatic()\r\n  local input = self.getInputs()\r\n  return not input or #input == 0\r\nend\r\n\r\nfunction getBox(input, force)\r\n  local maxLength, lineCount = EXPAND_INTERVAL, 1\r\n  local lineLength = 0\r\n  for i = 1, #input do\r\n    local c = input:sub(i,i)\r\n    if c == '\\n' then\r\n      lineCount = lineCount + 1\r\n      if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n      lineLength = 0\r\n    else\r\n      lineLength = lineLength + 1\r\n    end\r\n  end\r\n  if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n\r\n  newWidth = data.size * maxLength * 0.9\r\n  newHeight = data.size * lineCount + 23\r\n\r\n  if force or boxWidth ~= newWidth or boxHeight ~= newHeight then\r\n    boxWidth, boxHeight = newWidth, newHeight\r\n    return {width = boxWidth, height = boxHeight}\r\n  end\r\n  return nil\r\nend\r\n\r\ntemp_lift = nil\r\nfunction onPickUp(player_color)\r\n  if data.autolift then\r\n    local player = Player[player_color]\r\n    temp_lift = player.lift_height\r\n    player.lift_height = 0\r\n  end\r\nend\r\n\r\nfunction onDrop(player_color)\r\n  if data.autolift and temp_lift then\r\n    Player[player_color].lift_height = temp_lift\r\n  end\r\nend\r\n\r\n-- Should be called every time data is modified, allows info to be saved on copy/paste\r\nfunction updateState()\r\n  self.script_state = JSON.encode(data)\r\nend\r\n\r\nfunction onSave()\r\n  self.script_state = JSON.encode(data)\r\n  return self.script_state\r\nend",
              "LuaScriptState": "{\"autolift\":false,\"autolock\":false,\"box_transparency\":1,\"color\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1},\"enter_to_finish\":false,\"hover_height\":0.05,\"interactable\":true,\"size\":250,\"text\":\"Placement de l'intrigue 1B\"}",
              "XmlUI": ""
            },
            {
              "GUID": "469cde",
              "Name": "Custom_Tile",
              "Transform": {
                "posX": -4.50000238,
                "posY": 1.50632954,
                "posZ": 14.0000038,
                "rotX": 359.993042,
                "rotY": 29.988575,
                "rotZ": 359.990265,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.6045295,
                "g": 0.6045295,
                "b": 0.6045295
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://i.imgur.com/vppt2my.png",
                "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomTile": {
                  "Type": 3,
                  "Thickness": 0.1,
                  "Stackable": false,
                  "Stretch": true
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "States": {
                "2": {
                  "GUID": "44b0c5",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -39.7933121,
                    "posY": 1.63758957,
                    "posZ": 2.038383,
                    "rotX": 359.9201,
                    "rotY": 269.9961,
                    "rotZ": 0.0168742146,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                "3": {
                  "GUID": "5b38c6",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -38.8217163,
                    "posY": 1.99356019,
                    "posZ": 0.4159239,
                    "rotX": 359.9201,
                    "rotY": 272.9828,
                    "rotZ": 0.01687373,
                    "scaleX": 0.8,
                    "scaleY": 1.0,
                    "scaleZ": 0.8
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              }
            },
            {
              "GUID": "4aa456",
              "Name": "Custom_Model",
              "Transform": {
                "posX": -26.5648556,
                "posY": 1.766124,
                "posZ": 11.769721,
                "rotX": 0.000884124951,
                "rotY": 0.000652459159,
                "rotZ": -0.000335061835,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Acte 1B",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.0,
                "g": 0.0,
                "b": 0.0,
                "a": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": true,
              "Grid": false,
              "Snap": false,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": false,
              "Tooltip": false,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/1478820768302617365/27883B7913E0E69143C3AA03493B7E7C4E8C29C0/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 1,
                "TypeIndex": 0,
                "CastShadows": true
              },
              "LuaScript": "-- Code for bag to identify text tool objects\r\nmovableTextTool_cowgoesmoo33 = true\r\n\r\n-- Number of characters before the text box width expands.\r\nEXPAND_INTERVAL = 20\r\n\r\n-- This table controls what is passed between save/load\r\ndata = {}\r\n\r\nfunction onLoad(saved_data)\r\n  if saved_data ~= '' then\r\n    data = JSON.decode(saved_data)\r\n    if data.text ~= '' then\r\n      self.interactable = data.interactable\r\n      staticMode()\r\n      return\r\n    end\r\n  else\r\n    data = {size=200, color=Color(0,0,0), text='', interactable=true,\r\n        enter_to_finish=false, autolock=false, autolift=false,\r\n        hover_height=0.05, box_transparency=1}\r\n  end\r\n\r\n  inputMode()\r\nend\r\n\r\n-- True if in the middle of delay after pressing Enter (with enter_to_finish on)\r\nfinishing = false\r\nfunction input_func(obj, color, input, stillEditing)\r\n  local params = getBox(input)\r\n  if params then\r\n    params.value = input\r\n    self.editInput(params)\r\n  end\r\n\r\n  if not stillEditing then\r\n    data.text = input\r\n    updateState()\r\n    if input ~= '' then staticMode(color) end\r\n  elseif data.enter_to_finish then\r\n    -- If enter is pressed: remove last newline and force finish\r\n    if not finishing and input:sub(-1) == '\\n' then\r\n      finishing = true\r\n      -- Delay to avoid user's Enter keypress being detected (opens chat box)\r\n      Wait.frames(function()\r\n        input = input:sub(1, -2)\r\n        data.text = input\r\n        updateState()\r\n        if input ~= '' then staticMode(color) else inputMode() end\r\n        finishing = false\r\n      end, 10)\r\n    end\r\n  end\r\nend\r\n\r\n-- When the inpupt box appears and lets the player type in it.\r\nfunction inputMode()\r\n  self.clearContextMenu()\r\n  self.clearInputs()\r\n  self.clearButtons()\r\n\r\n  local size = getBox(data.text, true)\r\n\r\n  self.createInput({\r\n    input_function = \"input_func\",\r\n    function_owner = self,\r\n    label          = \"Type Here\",\r\n    alignment      = 3,\r\n    position       = {x=0, y=data.hover_height, z=0},\r\n    rotation       = {0, 180, 0},\r\n    width          = size.width,\r\n    height         = size.height,\r\n    color          = getBackground(data.color),\r\n    font_color     = data.color,\r\n    font_size      = data.size,\r\n    value          = data.text,\r\n  })\r\n\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\nend\r\n\r\n-- When the input box disappears and displays the text.\r\nfunction staticMode(player)\r\n  self.clearContextMenu()\r\n  if data.autolock then\r\n    self.locked = true\r\n  end\r\n  if self.getInputs() and #self.getInputs() ~= 0 then\r\n    self.removeInput(0)\r\n  end\r\n\r\n  -- Clear from selecting player\r\n  if player then\r\n    self.removeFromPlayerSelection(player)\r\n  end\r\n\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  self.createButton({\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=self,\r\n    position={0,data.hover_height,0}, rotation={0,180,0}, height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  })\r\n\r\n  self.addContextMenuItem('Edit Text', function(color)\r\n    self.removeFromPlayerSelection(color)\r\n    inputMode()\r\n  end)\r\n  self.addContextMenuItem('Clear', function(color)\r\n    applyMultiple(color, 'clear', _, true)\r\n  end)\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\n  self.addContextMenuItem('Permanently Attach', attemptAttach)\r\n  self.addContextMenuItem('Permalock', function(color)\r\n    applyMultiple(color, 'permalock', _, true)\r\n  end)\r\nend\r\n\r\nfunction changeSize(params)\r\n  local delta = params[1]\r\n  local newSize = data.size + delta\r\n  if newSize > 800  or newSize < 50 then\r\n    return\r\n  end\r\n  data.size = newSize\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_size=data.size})\r\n  else\r\n    local size = getBox(data.text, true)\r\n    self.editInput({width=size.width, height=size.height, font_size=data.size})\r\n  end\r\nend\r\n\r\nfunction setColor(params)\r\n  if params and params[1] then\r\n    data.color = params[1]\r\n  else\r\n    data.color = self.getColorTint():setAt('a', 1) -- Take on color of object tint\r\n  end\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_color=data.color})\r\n  else\r\n    self.editInput({font_color=data.color, color=getBackground(data.color)})\r\n  end\r\nend\r\n\r\nfunction getBackground(color) --determines whether to use black or white depending on luminance\r\n  local r,g,b = Color(color):get()\r\n\r\n  local lum = 0.2126*r + 0.7152*g + 0.0722*b\r\n  if lum > 0.75 then\r\n    return {0.2,0.2,0.2, data.box_transparency}\r\n  else\r\n    return {1,1,1, data.box_transparency}\r\n  end\r\nend\r\n\r\nfunction clear()\r\n  data.text = ''\r\n  updateState()\r\n  inputMode()\r\nend\r\n\r\nfunction permalock()\r\n  self.interactable = false\r\n  data.interactable = false\r\n  updateState()\r\nend\r\n\r\nlocal target_script = [[\r\nfunction onLoad(script_state)\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    for _,entry in ipairs(state) do\r\n      self.createButton(entry)\r\n    end\r\n    self.addContextMenuItem('Clear All Text', function(color)\r\n      self.clearContextMenu()\r\n      self.clearButtons()\r\n      self.script_state = ''\r\n      self.script_code = ''\r\n    end)\r\n  end\r\nend\r\n]]\r\n\r\nfunction attemptAttach(player_color)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  local attachee\r\n  local attachers = {}\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if obj ~= self then\r\n        table.insert(attachers, obj)\r\n      end\r\n    else\r\n      if attachee then\r\n        broadcastToColor(\"More than one target selected.\", player_color)\r\n        return\r\n      else\r\n        attachee = obj\r\n      end\r\n    end\r\n  end\r\n  if attachee then\r\n    local code = attachee.script_code\r\n    if code and code ~= '' and code ~= target_script then\r\n      broadcastToColor(\"Warning: script on card has been overriden. Rewind time to undo.\", player_color)\r\n    end\r\n    for i,attacher in ipairs(attachers) do\r\n      attacher.call('attach', {target = attachee})\r\n    end\r\n    attach({target = attachee})\r\n    local type, flip = attachee.type, attachee.getRotation().z\r\n    if (type == 'Card' or type == 'Deck') and flip > 175 and flip < 185 then\r\n      broadcastToColor(\"Warning: text will not display if card or deck is facing down.\", player_color)\r\n    end\r\n  else\r\n    broadcastToColor(\"You must have a target object in your selection (using click-and-drag or Ctrl+Click) to use this option.\", player_color)\r\n  end\r\nend\r\n\r\nfunction attach(params)\r\n  local target = params.target\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  local textRotation = self.getRotation():sub(target.getRotation())\r\n    :add(Vector(180, 0, 180))\r\n\r\n  local textPosition = target.positionToLocal(\r\n    self.getPosition():add(Vector(0, data.hover_height, 0))\r\n  )\r\n  textPosition.x = -textPosition.x\r\n\r\n  local textScale = {}\r\n  textScale.x = self.getScale().x / target.getScale().x\r\n  textScale.y = self.getScale().x / target.getScale().y\r\n  textScale.z = self.getScale().x / target.getScale().z\r\n\r\n  local details = {\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=nil,\r\n    position=textPosition,\r\n    rotation=textRotation,\r\n    scale=textScale,\r\n    height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  }\r\n\r\n  target.createButton(details)\r\n\r\n  local script_state = target.script_state\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    table.insert(state, details)\r\n    target.script_state = JSON.encode(state)\r\n  else\r\n    target.script_state = JSON.encode({[1]=details})\r\n  end\r\n\r\n  target.script_code = target_script\r\n\r\n  self.destruct()\r\nend\r\n\r\nfunction applyMultiple(player_color, func_string, params, static_only)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if not static_only or obj.call('isStatic') then\r\n        obj.call(func_string, params)\r\n      end\r\n    end\r\n  end\r\nend\r\n\r\nfunction isStatic()\r\n  local input = self.getInputs()\r\n  return not input or #input == 0\r\nend\r\n\r\nfunction getBox(input, force)\r\n  local maxLength, lineCount = EXPAND_INTERVAL, 1\r\n  local lineLength = 0\r\n  for i = 1, #input do\r\n    local c = input:sub(i,i)\r\n    if c == '\\n' then\r\n      lineCount = lineCount + 1\r\n      if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n      lineLength = 0\r\n    else\r\n      lineLength = lineLength + 1\r\n    end\r\n  end\r\n  if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n\r\n  newWidth = data.size * maxLength * 0.9\r\n  newHeight = data.size * lineCount + 23\r\n\r\n  if force or boxWidth ~= newWidth or boxHeight ~= newHeight then\r\n    boxWidth, boxHeight = newWidth, newHeight\r\n    return {width = boxWidth, height = boxHeight}\r\n  end\r\n  return nil\r\nend\r\n\r\ntemp_lift = nil\r\nfunction onPickUp(player_color)\r\n  if data.autolift then\r\n    local player = Player[player_color]\r\n    temp_lift = player.lift_height\r\n    player.lift_height = 0\r\n  end\r\nend\r\n\r\nfunction onDrop(player_color)\r\n  if data.autolift and temp_lift then\r\n    Player[player_color].lift_height = temp_lift\r\n  end\r\nend\r\n\r\n-- Should be called every time data is modified, allows info to be saved on copy/paste\r\nfunction updateState()\r\n  self.script_state = JSON.encode(data)\r\nend\r\n\r\nfunction onSave()\r\n  self.script_state = JSON.encode(data)\r\n  return self.script_state\r\nend",
              "LuaScriptState": "{\"autolift\":false,\"autolock\":false,\"box_transparency\":1,\"color\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1},\"enter_to_finish\":false,\"hover_height\":0.05,\"interactable\":true,\"size\":250,\"text\":\"Passage à l'acte 1B\"}",
              "XmlUI": ""
            },
            {
              "GUID": "658407",
              "Name": "Custom_Tile",
              "Transform": {
                "posX": -1.50000215,
                "posY": 1.50778127,
                "posZ": 23.0000038,
                "rotX": 359.9891,
                "rotY": 359.992859,
                "rotZ": -0.004950746,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.6045295,
                "g": 0.6045295,
                "b": 0.6045295
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://i.imgur.com/vppt2my.png",
                "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomTile": {
                  "Type": 3,
                  "Thickness": 0.1,
                  "Stackable": false,
                  "Stretch": true
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "States": {
                "2": {
                  "GUID": "44b0c5",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -39.7933121,
                    "posY": 1.63758957,
                    "posZ": 2.038383,
                    "rotX": 359.9201,
                    "rotY": 269.9961,
                    "rotZ": 0.0168742146,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                "3": {
                  "GUID": "5b38c6",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -38.8217163,
                    "posY": 1.99356019,
                    "posZ": 0.4159239,
                    "rotX": 359.9201,
                    "rotY": 272.9828,
                    "rotZ": 0.01687373,
                    "scaleX": 0.8,
                    "scaleY": 1.0,
                    "scaleZ": 0.8
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              }
            },
            {
              "GUID": "721d1a",
              "Name": "Custom_Model_Bag",
              "Transform": {
                "posX": -20.5038834,
                "posY": 1.84000063,
                "posZ": 9.501981,
                "rotX": -5.71490727E-06,
                "rotY": 179.98558,
                "rotZ": -5.20418E-07,
                "scaleX": 0.7,
                "scaleY": 0.7,
                "scaleZ": 0.7
              },
              "Nickname": "Passage à Intrigue 1B",
              "Description": "Cliquer sur placer pour la mise en place planifiée de l'intrigue 1B",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "CustomMesh": {
                "MeshURL": "https://pastebin.com/raw/ALrYhQGb",
                "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/1985555189151454539/1A15AEBC0FD4B47AEF0C078D33BAB02073B0EC49/",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 6,
                "CustomShader": {
                  "SpecularColor": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "SpecularIntensity": 0.0,
                  "SpecularSharpness": 2.0,
                  "FresnelStrength": 0.0
                },
                "CastShadows": true
              },
              "Bag": {
                "Order": 0
              },
              "LuaScript": "-- Utility memory bag by Directsun\r\n-- Version 2.7.0\r\n-- Fork of Memory Bag 2.0 by MrStump\r\n--\r\n-- Want to contribute? Create an issue or fork the code on GitHub and submit a pull request:\r\n-- https://github.com/sunflowermans/TTS-UtilityMemoryBag\r\n\r\n\r\nfunction updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction combineMemoryFromBagsWithin()\r\n    local bagObjList = self.getObjects()\r\n    for _, bagObj in ipairs(bagObjList) do\r\n        local data = bagObj.lua_script_state\r\n        if data ~= nil then\r\n            local j = JSON.decode(data)\r\n            if j ~= nil and j.ml ~= nil then\r\n                for guid, entry in pairs(j.ml) do\r\n                    memoryList[guid] = entry\r\n                end\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateMemoryWithMoves()\r\n    memoryList = memoryListBackup\r\n    --get the first transposed object's coordinates\r\n    local obj = getObjectFromGUID(moveGuid)\r\n\r\n    -- p1 is where needs to go, p2 is where it was\r\n    local refObjPos = memoryList[moveGuid].pos\r\n    local deltaPos = findOffsetDistance(obj.getPosition(), refObjPos, nil)\r\n    local movedRotation = obj.getRotation()\r\n    for guid, entry in pairs(memoryList) do\r\n        memoryList[guid].pos.x = entry.pos.x - deltaPos.x\r\n        memoryList[guid].pos.y = entry.pos.y - deltaPos.y\r\n        memoryList[guid].pos.z = entry.pos.z - deltaPos.z\r\n        -- memoryList[guid].rot.x = movedRotation.x\r\n        -- memoryList[guid].rot.y = movedRotation.y\r\n        -- memoryList[guid].rot.z = movedRotation.z\r\n    end\r\n\r\n    --theList[obj.getGUID()] = {\r\n    --    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n    --    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n    --    lock=obj.getLock()\r\n    --}\r\n    moveList = {}\r\nend\r\n\r\nfunction onload(saved_data)\r\n\r\n    fresh = true\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n\r\n    end\r\n\r\n    moveList = {}\r\n    moveGuid = nil\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        fresh = false\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,2}, rotation={0,0,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by Transpose button\r\nfunction buttonClick_transpose()\r\n    moveGuid = nil\r\n    broadcastToAll(\"Select one object and move it- all objects will move relative to the new location\", {0.75, 0.75, 1})\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(true)\r\n    createSetupActionButtons(true)\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(false)\r\n    createSetupActionButtons(false)\r\nend\r\n\r\nfunction getAllObjectsInMemory()\r\n    local objTable = {}\r\n    local curObj = {}\r\n\r\n    for guid in pairs(memoryListBackup) do\r\n        curObj = getObjectFromGUID(guid)\r\n        table.insert(objTable, curObj)\r\n    end\r\n\r\n    return objTable\r\n    -- return getAllObjects()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects(move)\r\n    buttonIndexMap = {}\r\n    local howManyButtons = 0\r\n\r\n    local objsToHaveButtons = {}\r\n    if move == true then\r\n        objsToHaveButtons = getAllObjectsInMemory()\r\n    else\r\n        objsToHaveButtons = getAllObjects()\r\n    end\r\n\r\n    for _, obj in ipairs(objsToHaveButtons) do\r\n        if obj ~= self then\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor +2\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Workaround for custom PDFs\r\n            if obj.Book then\r\n                objPos.y = objPos.y + 0.5\r\n            end\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(obj, move) end\r\n            local color = {0.75,0.25,0.25,0.6}\r\n            local colorMove = {0,0,1,0.6}\r\n            if move == true then\r\n                color = colorMove\r\n            end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color=color,\r\n            })\r\n            buttonIndexMap[obj.getGUID()] = howManyButtons\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons(move)\r\n    self.createButton({\r\n       label=\"Annuler\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n       position={-1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n       font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    self.createButton({\r\n      label=\"Valider\", click_function=\"buttonClick_submit\", function_owner=self,\r\n      position={-1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n      font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    if move == false then\r\n      self.createButton({\r\n          label=\"Ajouter\", click_function=\"buttonClick_add\", function_owner=self,\r\n          position={1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n          font_size=250, color={0,0,0}, font_color={0.25,1,0.25}\r\n        })\r\n\r\n        self.createButton({\r\n            label=\"Sélection\", click_function=\"editDragSelection\", function_owner=self,\r\n            position={-1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n            font_size=250, color={0,0,0}, font_color={1,1,1}\r\n        })\r\n\r\n        if fresh == false then\r\n            self.createButton({\r\n                label=\"Mise à Jour\", click_function=\"buttonClick_setNew\", function_owner=self,\r\n                position={1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n                font_size=180, color={0,0,0}, font_color={0.75,0.75,1}\r\n            })\r\n            self.createButton({\r\n                label=\"Retirer\", click_function=\"buttonClick_remove\", function_owner=self,\r\n                position={1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n                font_size=250, color={0,0,0}, font_color={1,0.25,0.25}\r\n            })\r\n        end\r\n    end\r\n\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,0,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(obj, move)\r\n    local index = buttonIndexMap[obj.getGUID()]\r\n    local colorMove = {0,0,1,0.6}\r\n    local color = {0,1,0,0.6}\r\n\r\n    previousGuid = selectedGuid\r\n    selectedGuid = obj.getGUID()\r\n\r\n    theList = memoryList\r\n    if move == true then\r\n        theList = moveList\r\n        if previousGuid ~= nil and previousGuid ~= selectedGuid then\r\n            local prevObj = getObjectFromGUID(previousGuid)\r\n            prevObj.highlightOff()\r\n            self.editButton({index=previousIndex, color=colorMove})\r\n            theList[previousGuid] = nil\r\n        end\r\n        previousIndex = index\r\n    end\r\n\r\n    if theList[selectedGuid] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        theList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock(),\r\n            tint=obj.getColorTint()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        if move == true then\r\n            color = colorMove\r\n        end\r\n        self.editButton({index=index, color=color})\r\n        theList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\nfunction editDragSelection(bagObj, player, remove)\r\n    local selectedObjs = Player[player].getSelectedObjects()\r\n    if not remove then\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            --Ignore if already in the memory list, or does not have a button\r\n            if index and not memoryList[obj.getGUID()] then\r\n                self.editButton({index=index, color={0,1,0,0.6}})\r\n                --Adding pos/rot to memory table\r\n                local pos, rot = obj.getPosition(), obj.getRotation()\r\n                --I need to add it like this or it won't save due to indexing issue\r\n                memoryList[obj.getGUID()] = {\r\n                    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n                    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n                    lock=obj.getLock(),\r\n                    tint=obj.getColorTint()\r\n                }\r\n                obj.highlightOn({0,1,0})\r\n            end\r\n        end\r\n    else\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            if index and memoryList[obj.getGUID()] then\r\n                color = {0.75,0.25,0.25,0.6}\r\n                self.editButton({index=index, color=color})\r\n                memoryList[obj.getGUID()] = nil\r\n                obj.highlightOff()\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Sélection annulée\", {1,1,1})\r\n    moveGuid = nil\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    fresh = false\r\n    if next(moveList) ~= nil then\r\n        for guid in pairs(moveList) do\r\n            moveGuid = guid\r\n        end\r\n        if memoryListBackup[moveGuid] == nil then\r\n            broadcastToAll(\"Item selected for moving is not already in memory\", {1, 0.25, 0.25})\r\n        else\r\n            broadcastToAll(\"Moving all items in memory relative to new objects position!\", {0.75, 0.75, 1})\r\n            self.clearButtons()\r\n            self.clearInputs()\r\n            createMemoryActionButtons()\r\n            local count = 0\r\n            for guid in pairs(moveList) do\r\n                moveGuid = guid\r\n                count = count + 1\r\n                local obj = getObjectFromGUID(guid)\r\n                if obj ~= nil then obj.highlightOff() end\r\n            end\r\n            updateMemoryWithMoves()\r\n            updateSave()\r\n            buttonClick_place()\r\n        end\r\n    elseif next(memoryList) == nil and moveGuid == nil then\r\n        memoryList = memoryListBackup\r\n        broadcastToAll(\"No selections made.\", {0.75, 0.25, 0.25})\r\n    end\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\n    moveGuid = nil\r\nend\r\n\r\nfunction combineTables(first_table, second_table)\r\n    for k,v in pairs(second_table) do first_table[k] = v end\r\nend\r\n\r\nfunction buttonClick_add()\r\n    fresh = false\r\n    combineTables(memoryList, memoryListBackup)\r\n    broadcastToAll(\"Adding internal bags and selections to existing memory\", {0.25, 0.75, 0.25})\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_remove()\r\n    broadcastToAll(\"Removing Selected Entries From Memory\", {1.0, 0.25, 0.25})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        memoryListBackup[guid] = nil\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Removed\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_setNew()\r\n    broadcastToAll(\"Setting new position relative to items in memory\", {0.75, 0.75, 1})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        guid = obj.guid\r\n        if memoryListBackup[guid] ~= nil then\r\n            count = count + 1\r\n            memoryListBackup[guid].pos = obj.getPosition()\r\n            memoryListBackup[guid].rot = obj.getRotation()\r\n            memoryListBackup[guid].lock = obj.getLock()\r\n            memoryListBackup[guid].tint = obj.getColorTint()\r\n        end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    fresh = true\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Placer\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,2}, rotation={0,0,0}, height=350, width=1000,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Ranger\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,2.8}, rotation={0,0,0}, height=350, width=1000,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={2,0.3,0}, rotation={0,90,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    ---    self.createButton({\r\n    ---      label=\"Bouger\", click_function=\"buttonClick_transpose\", function_owner=self,\r\n    ---      position={-2,0.3,0.8}, rotation={0,270,0}, height=350, width=800,\r\n    ---      font_size=250, color={0,0,0}, font_color={0.75,0.75,1}\r\n    ---  \r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n            obj.setColorTint(entry.tint)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot, smooth=false\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    item.setColorTint(entry.tint)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objets placés\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objets rangés\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local yOffset = 0\r\n    if obj ~= nil then\r\n        local bounds = obj.getBounds()\r\n        yOffset = (bounds.size.y - bounds.offset.y)\r\n    end\r\n    local deltaPos = {}\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + yOffset\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n    local objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n    local x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n    local z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n    --return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\nfunction rotateMyCoordinates(desiredPos, obj)\r\n    local angle = math.rad(obj.getRotation().y)\r\n    local x = desiredPos.x * math.sin(angle)\r\n    local z = desiredPos.z * math.cos(angle)\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n    local mult = 10^(dec or 0)\r\n    return math.floor(num * mult + 0.5) / mult\r\nend\r\n\r\n\r\n--[[\r\nThis object provides access to a variable stored on the \"Global script\".\r\nThe variable holds the GUIDs for every Utility Memory Bag in the scene.\r\nExample:\r\n{'805ebd', '35cc21', 'fc8886', 'f50264', '5f5f63'}\r\n--]]\r\nAllMemoryBagsInScene = {\r\n    NAME_OF_GLOBAL_VARIABLE = \"_UtilityMemoryBag_AllMemoryBagsInScene\"\r\n}\r\n\r\nfunction AllMemoryBagsInScene:add(guid)\r\n    local guids = Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\n    table.insert(guids, guid)\r\n    Global.setTable(self.NAME_OF_GLOBAL_VARIABLE, guids)\r\nend\r\n\r\nfunction AllMemoryBagsInScene:getGuidList()\r\n    return Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\nend",
              "LuaScriptState": "{\"ml\":{\"20ca57\":{\"lock\":false,\"pos\":{\"x\":25.5001,\"y\":1.5279,\"z\":-5.5},\"rot\":{\"x\":0.0109,\"y\":179.9994,\"z\":0.7847},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"21f1e5\":{\"lock\":true,\"pos\":{\"x\":35.1175,\"y\":1.5454,\"z\":0.1991},\"rot\":{\"x\":0.0006,\"y\":0.0001,\"z\":-0.0011},\"tint\":{\"a\":0,\"b\":0,\"g\":0,\"r\":0}},\"29daac\":{\"lock\":false,\"pos\":{\"x\":30.5,\"y\":1.6088,\"z\":-3.0001},\"rot\":{\"x\":-0.0006,\"y\":180.0285,\"z\":180.0011},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"96839e\":{\"lock\":false,\"pos\":{\"x\":34.9984,\"y\":1.5434,\"z\":2.9999},\"rot\":{\"x\":0.0813,\"y\":180.0455,\"z\":0.0732},\"tint\":{\"a\":1,\"b\":0.443134605884552,\"g\":0.443134605884552,\"r\":0.898039221763611}}}}",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "20ca57",
                  "Name": "Card",
                  "Transform": {
                    "posX": -20.5038834,
                    "posY": 1.84000063,
                    "posZ": 9.501981,
                    "rotX": 0.0109026609,
                    "rotY": 179.99939,
                    "rotZ": 0.784724534,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "L'Infestation Commence – Test d'Infestation",
                  "Description": "",
                  "GMNotes": "[]",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276568,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2765": {
                      "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                      "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "21f1e5",
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -20.5038834,
                    "posY": 1.84000063,
                    "posZ": 9.501981,
                    "rotX": 0.0006,
                    "rotY": 0.0001,
                    "rotZ": -0.0011,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Réserve d'infestation",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.0,
                    "g": 0.0,
                    "b": 0.0,
                    "a": 0.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": false,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": false,
                  "Tooltip": false,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/1478820768302617365/27883B7913E0E69143C3AA03493B7E7C4E8C29C0/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "",
                    "Convex": true,
                    "MaterialIndex": 1,
                    "TypeIndex": 0,
                    "CastShadows": true
                  },
                  "LuaScript": "-- Code for bag to identify text tool objects\r\nmovableTextTool_cowgoesmoo33 = true\r\n\r\n-- Number of characters before the text box width expands.\r\nEXPAND_INTERVAL = 20\r\n\r\n-- This table controls what is passed between save/load\r\ndata = {}\r\n\r\nfunction onLoad(saved_data)\r\n  if saved_data ~= '' then\r\n    data = JSON.decode(saved_data)\r\n    if data.text ~= '' then\r\n      self.interactable = data.interactable\r\n      staticMode()\r\n      return\r\n    end\r\n  else\r\n    data = {size=200, color=Color(0,0,0), text='', interactable=true,\r\n        enter_to_finish=false, autolock=false, autolift=false,\r\n        hover_height=0.05, box_transparency=1}\r\n  end\r\n\r\n  inputMode()\r\nend\r\n\r\n-- True if in the middle of delay after pressing Enter (with enter_to_finish on)\r\nfinishing = false\r\nfunction input_func(obj, color, input, stillEditing)\r\n  local params = getBox(input)\r\n  if params then\r\n    params.value = input\r\n    self.editInput(params)\r\n  end\r\n\r\n  if not stillEditing then\r\n    data.text = input\r\n    updateState()\r\n    if input ~= '' then staticMode(color) end\r\n  elseif data.enter_to_finish then\r\n    -- If enter is pressed: remove last newline and force finish\r\n    if not finishing and input:sub(-1) == '\\n' then\r\n      finishing = true\r\n      -- Delay to avoid user's Enter keypress being detected (opens chat box)\r\n      Wait.frames(function()\r\n        input = input:sub(1, -2)\r\n        data.text = input\r\n        updateState()\r\n        if input ~= '' then staticMode(color) else inputMode() end\r\n        finishing = false\r\n      end, 10)\r\n    end\r\n  end\r\nend\r\n\r\n-- When the inpupt box appears and lets the player type in it.\r\nfunction inputMode()\r\n  self.clearContextMenu()\r\n  self.clearInputs()\r\n  self.clearButtons()\r\n\r\n  local size = getBox(data.text, true)\r\n\r\n  self.createInput({\r\n    input_function = \"input_func\",\r\n    function_owner = self,\r\n    label          = \"Type Here\",\r\n    alignment      = 3,\r\n    position       = {x=0, y=data.hover_height, z=0},\r\n    rotation       = {0, 180, 0},\r\n    width          = size.width,\r\n    height         = size.height,\r\n    color          = getBackground(data.color),\r\n    font_color     = data.color,\r\n    font_size      = data.size,\r\n    value          = data.text,\r\n  })\r\n\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\nend\r\n\r\n-- When the input box disappears and displays the text.\r\nfunction staticMode(player)\r\n  self.clearContextMenu()\r\n  if data.autolock then\r\n    self.locked = true\r\n  end\r\n  if self.getInputs() and #self.getInputs() ~= 0 then\r\n    self.removeInput(0)\r\n  end\r\n\r\n  -- Clear from selecting player\r\n  if player then\r\n    self.removeFromPlayerSelection(player)\r\n  end\r\n\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  self.createButton({\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=self,\r\n    position={0,data.hover_height,0}, rotation={0,180,0}, height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  })\r\n\r\n  self.addContextMenuItem('Edit Text', function(color)\r\n    self.removeFromPlayerSelection(color)\r\n    inputMode()\r\n  end)\r\n  self.addContextMenuItem('Clear', function(color)\r\n    applyMultiple(color, 'clear', _, true)\r\n  end)\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\n  self.addContextMenuItem('Permanently Attach', attemptAttach)\r\n  self.addContextMenuItem('Permalock', function(color)\r\n    applyMultiple(color, 'permalock', _, true)\r\n  end)\r\nend\r\n\r\nfunction changeSize(params)\r\n  local delta = params[1]\r\n  local newSize = data.size + delta\r\n  if newSize > 800  or newSize < 50 then\r\n    return\r\n  end\r\n  data.size = newSize\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_size=data.size})\r\n  else\r\n    local size = getBox(data.text, true)\r\n    self.editInput({width=size.width, height=size.height, font_size=data.size})\r\n  end\r\nend\r\n\r\nfunction setColor(params)\r\n  if params and params[1] then\r\n    data.color = params[1]\r\n  else\r\n    data.color = self.getColorTint():setAt('a', 1) -- Take on color of object tint\r\n  end\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_color=data.color})\r\n  else\r\n    self.editInput({font_color=data.color, color=getBackground(data.color)})\r\n  end\r\nend\r\n\r\nfunction getBackground(color) --determines whether to use black or white depending on luminance\r\n  local r,g,b = Color(color):get()\r\n\r\n  local lum = 0.2126*r + 0.7152*g + 0.0722*b\r\n  if lum > 0.75 then\r\n    return {0.2,0.2,0.2, data.box_transparency}\r\n  else\r\n    return {1,1,1, data.box_transparency}\r\n  end\r\nend\r\n\r\nfunction clear()\r\n  data.text = ''\r\n  updateState()\r\n  inputMode()\r\nend\r\n\r\nfunction permalock()\r\n  self.interactable = false\r\n  data.interactable = false\r\n  updateState()\r\nend\r\n\r\nlocal target_script = [[\r\nfunction onLoad(script_state)\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    for _,entry in ipairs(state) do\r\n      self.createButton(entry)\r\n    end\r\n    self.addContextMenuItem('Clear All Text', function(color)\r\n      self.clearContextMenu()\r\n      self.clearButtons()\r\n      self.script_state = ''\r\n      self.script_code = ''\r\n    end)\r\n  end\r\nend\r\n]]\r\n\r\nfunction attemptAttach(player_color)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  local attachee\r\n  local attachers = {}\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if obj ~= self then\r\n        table.insert(attachers, obj)\r\n      end\r\n    else\r\n      if attachee then\r\n        broadcastToColor(\"More than one target selected.\", player_color)\r\n        return\r\n      else\r\n        attachee = obj\r\n      end\r\n    end\r\n  end\r\n  if attachee then\r\n    local code = attachee.script_code\r\n    if code and code ~= '' and code ~= target_script then\r\n      broadcastToColor(\"Warning: script on card has been overriden. Rewind time to undo.\", player_color)\r\n    end\r\n    for i,attacher in ipairs(attachers) do\r\n      attacher.call('attach', {target = attachee})\r\n    end\r\n    attach({target = attachee})\r\n    local type, flip = attachee.type, attachee.getRotation().z\r\n    if (type == 'Card' or type == 'Deck') and flip > 175 and flip < 185 then\r\n      broadcastToColor(\"Warning: text will not display if card or deck is facing down.\", player_color)\r\n    end\r\n  else\r\n    broadcastToColor(\"You must have a target object in your selection (using click-and-drag or Ctrl+Click) to use this option.\", player_color)\r\n  end\r\nend\r\n\r\nfunction attach(params)\r\n  local target = params.target\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  local textRotation = self.getRotation():sub(target.getRotation())\r\n    :add(Vector(180, 0, 180))\r\n\r\n  local textPosition = target.positionToLocal(\r\n    self.getPosition():add(Vector(0, data.hover_height, 0))\r\n  )\r\n  textPosition.x = -textPosition.x\r\n\r\n  local textScale = {}\r\n  textScale.x = self.getScale().x / target.getScale().x\r\n  textScale.y = self.getScale().x / target.getScale().y\r\n  textScale.z = self.getScale().x / target.getScale().z\r\n\r\n  local details = {\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=nil,\r\n    position=textPosition,\r\n    rotation=textRotation,\r\n    scale=textScale,\r\n    height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  }\r\n\r\n  target.createButton(details)\r\n\r\n  local script_state = target.script_state\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    table.insert(state, details)\r\n    target.script_state = JSON.encode(state)\r\n  else\r\n    target.script_state = JSON.encode({[1]=details})\r\n  end\r\n\r\n  target.script_code = target_script\r\n\r\n  self.destruct()\r\nend\r\n\r\nfunction applyMultiple(player_color, func_string, params, static_only)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if not static_only or obj.call('isStatic') then\r\n        obj.call(func_string, params)\r\n      end\r\n    end\r\n  end\r\nend\r\n\r\nfunction isStatic()\r\n  local input = self.getInputs()\r\n  return not input or #input == 0\r\nend\r\n\r\nfunction getBox(input, force)\r\n  local maxLength, lineCount = EXPAND_INTERVAL, 1\r\n  local lineLength = 0\r\n  for i = 1, #input do\r\n    local c = input:sub(i,i)\r\n    if c == '\\n' then\r\n      lineCount = lineCount + 1\r\n      if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n      lineLength = 0\r\n    else\r\n      lineLength = lineLength + 1\r\n    end\r\n  end\r\n  if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n\r\n  newWidth = data.size * maxLength * 0.9\r\n  newHeight = data.size * lineCount + 23\r\n\r\n  if force or boxWidth ~= newWidth or boxHeight ~= newHeight then\r\n    boxWidth, boxHeight = newWidth, newHeight\r\n    return {width = boxWidth, height = boxHeight}\r\n  end\r\n  return nil\r\nend\r\n\r\ntemp_lift = nil\r\nfunction onPickUp(player_color)\r\n  if data.autolift then\r\n    local player = Player[player_color]\r\n    temp_lift = player.lift_height\r\n    player.lift_height = 0\r\n  end\r\nend\r\n\r\nfunction onDrop(player_color)\r\n  if data.autolift and temp_lift then\r\n    Player[player_color].lift_height = temp_lift\r\n  end\r\nend\r\n\r\n-- Should be called every time data is modified, allows info to be saved on copy/paste\r\nfunction updateState()\r\n  self.script_state = JSON.encode(data)\r\nend\r\n\r\nfunction onSave()\r\n  self.script_state = JSON.encode(data)\r\n  return self.script_state\r\nend",
                  "LuaScriptState": "{\"autolift\":false,\"autolock\":false,\"box_transparency\":1,\"color\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1},\"enter_to_finish\":false,\"hover_height\":0.05,\"interactable\":true,\"size\":250,\"text\":\"Réserve d'infestation\"}",
                  "XmlUI": ""
                },
                {
                  "GUID": "96839e",
                  "Name": "Custom_Model_Bag",
                  "Transform": {
                    "posX": -20.5038834,
                    "posY": 1.84000063,
                    "posZ": 9.501981,
                    "rotX": 0.07861677,
                    "rotY": 180.0001,
                    "rotZ": 0.0694306046,
                    "scaleX": 2.69999862,
                    "scaleY": 2.69999862,
                    "scaleZ": 2.69999862
                  },
                  "Nickname": "Réserve d'Infestation",
                  "Description": "Cauchemar Éveillé",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.8980392,
                    "g": 0.443134159,
                    "b": 0.443134159
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "MaterialIndex": -1,
                  "MeshIndex": -1,
                  "CustomMesh": {
                    "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/87098596225685535/6C95EB6308A0A9E89367DD67D5C65D09EB3C06A0/",
                    "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/254843371596428835/67F8E9F49EC337CBA1387298ABA1DA35FB7E71E8/",
                    "NormalURL": "",
                    "ColliderURL": "http://pastebin.com/raw/y74C6r8h",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 6,
                    "CustomShader": {
                      "SpecularColor": {
                        "r": 0.4686412,
                        "g": 0.008981024,
                        "b": 0.008981024
                      },
                      "SpecularIntensity": 0.0,
                      "SpecularSharpness": 2.0,
                      "FresnelStrength": 0.0
                    },
                    "CastShadows": true
                  },
                  "Bag": {
                    "Order": 2
                  },
                  "LuaScript": "function onCollisionEnter(collision_info)\r\n  self.shuffle() \r\n self.shuffle() \r\n self.shuffle() \r\nend",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "ContainedObjects": [
                    {
                      "GUID": "1d8525",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -70.99997,
                        "posY": 1.68725526,
                        "posZ": 4.499977,
                        "rotX": 359.9831,
                        "rotY": 180.006989,
                        "rotZ": 0.022464972,
                        "scaleX": 0.810000241,
                        "scaleY": 1.0,
                        "scaleZ": 0.81000036
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 1.0,
                        "g": 1.0,
                        "b": 1.0
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/1plY463.png",
                        "ImageSecondaryURL": "",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 2,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    {
                      "GUID": "002146",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -70.99997,
                        "posY": 1.68834114,
                        "posZ": 4.49997663,
                        "rotX": 359.983032,
                        "rotY": 180.006989,
                        "rotZ": 0.0224538762,
                        "scaleX": 0.810000241,
                        "scaleY": 1.0,
                        "scaleZ": 0.81000036
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 1.0,
                        "g": 1.0,
                        "b": 1.0
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/1plY463.png",
                        "ImageSecondaryURL": "",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 2,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    {
                      "GUID": "759375",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -71.0000153,
                        "posY": 1.69613218,
                        "posZ": 3.9999814,
                        "rotX": 359.984283,
                        "rotY": 180.009186,
                        "rotZ": 0.0250005927,
                        "scaleX": 0.8100004,
                        "scaleY": 1.0,
                        "scaleZ": 0.810000658
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 1.0,
                        "g": 1.0,
                        "b": 1.0
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/VzhJJaH.png",
                        "ImageSecondaryURL": "",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 2,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    {
                      "GUID": "cbb931",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -71.0,
                        "posY": 1.6936208,
                        "posZ": 4.49998,
                        "rotX": 359.983856,
                        "rotY": 180.006989,
                        "rotZ": 0.0231295936,
                        "scaleX": 0.810000241,
                        "scaleY": 1.0,
                        "scaleZ": 0.81000036
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 1.0,
                        "g": 1.0,
                        "b": 1.0
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/1plY463.png",
                        "ImageSecondaryURL": "",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 2,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    {
                      "GUID": "3c8a2b",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -71.00003,
                        "posY": 1.68653047,
                        "posZ": 4.00009,
                        "rotX": -0.00471699564,
                        "rotY": 180.012161,
                        "rotZ": 0.04759259,
                        "scaleX": 0.810000658,
                        "scaleY": 1.0,
                        "scaleZ": 0.810001
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 1.0,
                        "g": 1.0,
                        "b": 1.0
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/stbBxtx.png",
                        "ImageSecondaryURL": "",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 2,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    {
                      "GUID": "30a48d",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -71.00003,
                        "posY": 1.68654227,
                        "posZ": 4.00009,
                        "rotX": -0.004712779,
                        "rotY": 180.008926,
                        "rotZ": 0.0475982428,
                        "scaleX": 0.8100004,
                        "scaleY": 1.0,
                        "scaleZ": 0.810000658
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 1.0,
                        "g": 1.0,
                        "b": 1.0
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/VzhJJaH.png",
                        "ImageSecondaryURL": "",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 2,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    {
                      "GUID": "c92b88",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -71.00016,
                        "posY": 1.68653059,
                        "posZ": 4.50019169,
                        "rotX": 359.985657,
                        "rotY": 180.007919,
                        "rotZ": 0.04068175,
                        "scaleX": 0.810000241,
                        "scaleY": 1.0,
                        "scaleZ": 0.81000036
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 1.0,
                        "g": 1.0,
                        "b": 1.0
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/1plY463.png",
                        "ImageSecondaryURL": "",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 2,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  ]
                }
              ]
            },
            {
              "GUID": "832788",
              "Name": "Deck",
              "Transform": {
                "posX": -34.00022,
                "posY": 1.81018746,
                "posZ": 8.499705,
                "rotX": -4.844331E-06,
                "rotY": 180.000015,
                "rotZ": 180.0,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Agents d'Atlach-Nacha",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": false,
              "SidewaysCard": false,
              "DeckIDs": [
                276650,
                276649,
                276648,
                276651
              ],
              "CustomDeck": {
                "2766": {
                  "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "a2860e",
                  "Name": "Card",
                  "Transform": {
                    "posX": -34.0002136,
                    "posY": 1.87234807,
                    "posZ": 8.499716,
                    "rotX": -0.000565451162,
                    "rotY": 180.0013,
                    "rotZ": -0.0005216949,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Tisseuse Grise",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 5,\n  \"id\": \"06084\",\n  \"traits\": \"Monster. Spider.\",\n  \"type\": \"Enemy\",\n  \"victory\": 1\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276650,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "09c514",
                  "Name": "Card",
                  "Transform": {
                    "posX": -34.0002136,
                    "posY": 5.060891,
                    "posZ": 8.499716,
                    "rotX": -5.40942074E-06,
                    "rotY": 180.0013,
                    "rotZ": 1.87888077E-06,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Volonté de la Mère-Araignée",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06085\",\n  \"traits\": \"Power.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276649,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "ac3060",
                  "Name": "Card",
                  "Transform": {
                    "posX": -34.0002136,
                    "posY": 5.26089144,
                    "posZ": 8.499716,
                    "rotX": -5.40942074E-06,
                    "rotY": 180.0013,
                    "rotZ": 1.87888077E-06,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Volonté de la Mère-Araignée",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06085\",\n  \"traits\": \"Power.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276648,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "66449c",
                  "Name": "Card",
                  "Transform": {
                    "posX": -34.0002136,
                    "posY": 1.88598323,
                    "posZ": 8.499716,
                    "rotX": 0.00293772365,
                    "rotY": 180.0013,
                    "rotZ": -0.00358473416,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Tisseuse Grise",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 5,\n  \"id\": \"06084\",\n  \"traits\": \"Monster. Spider.\",\n  \"type\": \"Enemy\",\n  \"victory\": 1\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276651,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "8611f3",
              "Name": "Custom_Model_Bag",
              "Transform": {
                "posX": -26.5042629,
                "posY": 1.84000063,
                "posZ": 9.504914,
                "rotX": -4.767418E-06,
                "rotY": 179.986145,
                "rotZ": 1.23398721E-07,
                "scaleX": 0.7,
                "scaleY": 0.7,
                "scaleZ": 0.7
              },
              "Nickname": "Passage à Acte 1B",
              "Description": "Cliquer sur placer pour la mise en place planifiée de l'acte 1B",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "CustomMesh": {
                "MeshURL": "https://pastebin.com/raw/ALrYhQGb",
                "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/1985555189151454539/1A15AEBC0FD4B47AEF0C078D33BAB02073B0EC49/",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 6,
                "CustomShader": {
                  "SpecularColor": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "SpecularIntensity": 0.0,
                  "SpecularSharpness": 2.0,
                  "FresnelStrength": 0.0
                },
                "CastShadows": true
              },
              "Bag": {
                "Order": 0
              },
              "LuaScript": "-- Utility memory bag by Directsun\r\n-- Version 2.7.0\r\n-- Fork of Memory Bag 2.0 by MrStump\r\n--\r\n-- Want to contribute? Create an issue or fork the code on GitHub and submit a pull request:\r\n-- https://github.com/sunflowermans/TTS-UtilityMemoryBag\r\n\r\n\r\nfunction updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction combineMemoryFromBagsWithin()\r\n    local bagObjList = self.getObjects()\r\n    for _, bagObj in ipairs(bagObjList) do\r\n        local data = bagObj.lua_script_state\r\n        if data ~= nil then\r\n            local j = JSON.decode(data)\r\n            if j ~= nil and j.ml ~= nil then\r\n                for guid, entry in pairs(j.ml) do\r\n                    memoryList[guid] = entry\r\n                end\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateMemoryWithMoves()\r\n    memoryList = memoryListBackup\r\n    --get the first transposed object's coordinates\r\n    local obj = getObjectFromGUID(moveGuid)\r\n\r\n    -- p1 is where needs to go, p2 is where it was\r\n    local refObjPos = memoryList[moveGuid].pos\r\n    local deltaPos = findOffsetDistance(obj.getPosition(), refObjPos, nil)\r\n    local movedRotation = obj.getRotation()\r\n    for guid, entry in pairs(memoryList) do\r\n        memoryList[guid].pos.x = entry.pos.x - deltaPos.x\r\n        memoryList[guid].pos.y = entry.pos.y - deltaPos.y\r\n        memoryList[guid].pos.z = entry.pos.z - deltaPos.z\r\n        -- memoryList[guid].rot.x = movedRotation.x\r\n        -- memoryList[guid].rot.y = movedRotation.y\r\n        -- memoryList[guid].rot.z = movedRotation.z\r\n    end\r\n\r\n    --theList[obj.getGUID()] = {\r\n    --    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n    --    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n    --    lock=obj.getLock()\r\n    --}\r\n    moveList = {}\r\nend\r\n\r\nfunction onload(saved_data)\r\n\r\n    fresh = true\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n\r\n    end\r\n\r\n    moveList = {}\r\n    moveGuid = nil\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        fresh = false\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,2}, rotation={0,0,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by Transpose button\r\nfunction buttonClick_transpose()\r\n    moveGuid = nil\r\n    broadcastToAll(\"Select one object and move it- all objects will move relative to the new location\", {0.75, 0.75, 1})\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(true)\r\n    createSetupActionButtons(true)\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(false)\r\n    createSetupActionButtons(false)\r\nend\r\n\r\nfunction getAllObjectsInMemory()\r\n    local objTable = {}\r\n    local curObj = {}\r\n\r\n    for guid in pairs(memoryListBackup) do\r\n        curObj = getObjectFromGUID(guid)\r\n        table.insert(objTable, curObj)\r\n    end\r\n\r\n    return objTable\r\n    -- return getAllObjects()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects(move)\r\n    buttonIndexMap = {}\r\n    local howManyButtons = 0\r\n\r\n    local objsToHaveButtons = {}\r\n    if move == true then\r\n        objsToHaveButtons = getAllObjectsInMemory()\r\n    else\r\n        objsToHaveButtons = getAllObjects()\r\n    end\r\n\r\n    for _, obj in ipairs(objsToHaveButtons) do\r\n        if obj ~= self then\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor +2\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Workaround for custom PDFs\r\n            if obj.Book then\r\n                objPos.y = objPos.y + 0.5\r\n            end\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(obj, move) end\r\n            local color = {0.75,0.25,0.25,0.6}\r\n            local colorMove = {0,0,1,0.6}\r\n            if move == true then\r\n                color = colorMove\r\n            end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color=color,\r\n            })\r\n            buttonIndexMap[obj.getGUID()] = howManyButtons\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons(move)\r\n    self.createButton({\r\n       label=\"Annuler\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n       position={-1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n       font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    self.createButton({\r\n      label=\"Valider\", click_function=\"buttonClick_submit\", function_owner=self,\r\n      position={-1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n      font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    if move == false then\r\n      self.createButton({\r\n          label=\"Ajouter\", click_function=\"buttonClick_add\", function_owner=self,\r\n          position={1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n          font_size=250, color={0,0,0}, font_color={0.25,1,0.25}\r\n        })\r\n\r\n        self.createButton({\r\n            label=\"Sélection\", click_function=\"editDragSelection\", function_owner=self,\r\n            position={-1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n            font_size=250, color={0,0,0}, font_color={1,1,1}\r\n        })\r\n\r\n        if fresh == false then\r\n            self.createButton({\r\n                label=\"Mise à Jour\", click_function=\"buttonClick_setNew\", function_owner=self,\r\n                position={1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n                font_size=180, color={0,0,0}, font_color={0.75,0.75,1}\r\n            })\r\n            self.createButton({\r\n                label=\"Retirer\", click_function=\"buttonClick_remove\", function_owner=self,\r\n                position={1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n                font_size=250, color={0,0,0}, font_color={1,0.25,0.25}\r\n            })\r\n        end\r\n    end\r\n\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,0,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(obj, move)\r\n    local index = buttonIndexMap[obj.getGUID()]\r\n    local colorMove = {0,0,1,0.6}\r\n    local color = {0,1,0,0.6}\r\n\r\n    previousGuid = selectedGuid\r\n    selectedGuid = obj.getGUID()\r\n\r\n    theList = memoryList\r\n    if move == true then\r\n        theList = moveList\r\n        if previousGuid ~= nil and previousGuid ~= selectedGuid then\r\n            local prevObj = getObjectFromGUID(previousGuid)\r\n            prevObj.highlightOff()\r\n            self.editButton({index=previousIndex, color=colorMove})\r\n            theList[previousGuid] = nil\r\n        end\r\n        previousIndex = index\r\n    end\r\n\r\n    if theList[selectedGuid] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        theList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock(),\r\n            tint=obj.getColorTint()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        if move == true then\r\n            color = colorMove\r\n        end\r\n        self.editButton({index=index, color=color})\r\n        theList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\nfunction editDragSelection(bagObj, player, remove)\r\n    local selectedObjs = Player[player].getSelectedObjects()\r\n    if not remove then\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            --Ignore if already in the memory list, or does not have a button\r\n            if index and not memoryList[obj.getGUID()] then\r\n                self.editButton({index=index, color={0,1,0,0.6}})\r\n                --Adding pos/rot to memory table\r\n                local pos, rot = obj.getPosition(), obj.getRotation()\r\n                --I need to add it like this or it won't save due to indexing issue\r\n                memoryList[obj.getGUID()] = {\r\n                    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n                    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n                    lock=obj.getLock(),\r\n                    tint=obj.getColorTint()\r\n                }\r\n                obj.highlightOn({0,1,0})\r\n            end\r\n        end\r\n    else\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            if index and memoryList[obj.getGUID()] then\r\n                color = {0.75,0.25,0.25,0.6}\r\n                self.editButton({index=index, color=color})\r\n                memoryList[obj.getGUID()] = nil\r\n                obj.highlightOff()\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Sélection annulée\", {1,1,1})\r\n    moveGuid = nil\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    fresh = false\r\n    if next(moveList) ~= nil then\r\n        for guid in pairs(moveList) do\r\n            moveGuid = guid\r\n        end\r\n        if memoryListBackup[moveGuid] == nil then\r\n            broadcastToAll(\"Item selected for moving is not already in memory\", {1, 0.25, 0.25})\r\n        else\r\n            broadcastToAll(\"Moving all items in memory relative to new objects position!\", {0.75, 0.75, 1})\r\n            self.clearButtons()\r\n            self.clearInputs()\r\n            createMemoryActionButtons()\r\n            local count = 0\r\n            for guid in pairs(moveList) do\r\n                moveGuid = guid\r\n                count = count + 1\r\n                local obj = getObjectFromGUID(guid)\r\n                if obj ~= nil then obj.highlightOff() end\r\n            end\r\n            updateMemoryWithMoves()\r\n            updateSave()\r\n            buttonClick_place()\r\n        end\r\n    elseif next(memoryList) == nil and moveGuid == nil then\r\n        memoryList = memoryListBackup\r\n        broadcastToAll(\"No selections made.\", {0.75, 0.25, 0.25})\r\n    end\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\n    moveGuid = nil\r\nend\r\n\r\nfunction combineTables(first_table, second_table)\r\n    for k,v in pairs(second_table) do first_table[k] = v end\r\nend\r\n\r\nfunction buttonClick_add()\r\n    fresh = false\r\n    combineTables(memoryList, memoryListBackup)\r\n    broadcastToAll(\"Adding internal bags and selections to existing memory\", {0.25, 0.75, 0.25})\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_remove()\r\n    broadcastToAll(\"Removing Selected Entries From Memory\", {1.0, 0.25, 0.25})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        memoryListBackup[guid] = nil\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Removed\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_setNew()\r\n    broadcastToAll(\"Setting new position relative to items in memory\", {0.75, 0.75, 1})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        guid = obj.guid\r\n        if memoryListBackup[guid] ~= nil then\r\n            count = count + 1\r\n            memoryListBackup[guid].pos = obj.getPosition()\r\n            memoryListBackup[guid].rot = obj.getRotation()\r\n            memoryListBackup[guid].lock = obj.getLock()\r\n            memoryListBackup[guid].tint = obj.getColorTint()\r\n        end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    fresh = true\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Placer\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,2}, rotation={0,0,0}, height=350, width=1000,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Ranger\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,2.8}, rotation={0,0,0}, height=350, width=1000,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={2,0.3,0}, rotation={0,90,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    ---    self.createButton({\r\n    ---      label=\"Bouger\", click_function=\"buttonClick_transpose\", function_owner=self,\r\n    ---      position={-2,0.3,0.8}, rotation={0,270,0}, height=350, width=800,\r\n    ---      font_size=250, color={0,0,0}, font_color={0.75,0.75,1}\r\n    ---  \r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n            obj.setColorTint(entry.tint)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot, smooth=false\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    item.setColorTint(entry.tint)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objets placés\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objets rangés\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local yOffset = 0\r\n    if obj ~= nil then\r\n        local bounds = obj.getBounds()\r\n        yOffset = (bounds.size.y - bounds.offset.y)\r\n    end\r\n    local deltaPos = {}\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + yOffset\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n    local objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n    local x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n    local z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n    --return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\nfunction rotateMyCoordinates(desiredPos, obj)\r\n    local angle = math.rad(obj.getRotation().y)\r\n    local x = desiredPos.x * math.sin(angle)\r\n    local z = desiredPos.z * math.cos(angle)\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n    local mult = 10^(dec or 0)\r\n    return math.floor(num * mult + 0.5) / mult\r\nend\r\n\r\n\r\n--[[\r\nThis object provides access to a variable stored on the \"Global script\".\r\nThe variable holds the GUIDs for every Utility Memory Bag in the scene.\r\nExample:\r\n{'805ebd', '35cc21', 'fc8886', 'f50264', '5f5f63'}\r\n--]]\r\nAllMemoryBagsInScene = {\r\n    NAME_OF_GLOBAL_VARIABLE = \"_UtilityMemoryBag_AllMemoryBagsInScene\"\r\n}\r\n\r\nfunction AllMemoryBagsInScene:add(guid)\r\n    local guids = Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\n    table.insert(guids, guid)\r\n    Global.setTable(self.NAME_OF_GLOBAL_VARIABLE, guids)\r\nend\r\n\r\nfunction AllMemoryBagsInScene:getGuidList()\r\n    return Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\nend",
              "LuaScriptState": "{\"ml\":{\"0e3f22\":{\"lock\":false,\"pos\":{\"x\":-26.5034065246582,\"y\":1.83530139923096,\"z\":3.50187349319458},\"rot\":{\"x\":-4.69815813630703E-06,\"y\":179.995529174805,\"z\":-4.94661264838214E-07},\"tint\":{\"a\":1,\"b\":0,\"g\":0,\"r\":0.614982545375824}},\"3d62b3\":{\"lock\":false,\"pos\":{\"x\":11.9999980926514,\"y\":1.50319373607636,\"z\":5.00000381469727},\"rot\":{\"x\":0.0108914952725172,\"y\":179.99983215332,\"z\":0.00494979741051793},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"b63cee\":{\"lock\":false,\"pos\":{\"x\":11.9999980926514,\"y\":1.51765382289886,\"z\":9.50000381469727},\"rot\":{\"x\":0.0108915194869041,\"y\":180.000152587891,\"z\":0.00494818249717355},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"be783d\":{\"lock\":false,\"pos\":{\"x\":11.9999980926514,\"y\":1.5049045085907,\"z\":14.0000038146973},\"rot\":{\"x\":0.010891605168581,\"y\":179.999694824219,\"z\":0.00494987005367875},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"d75613\":{\"lock\":false,\"pos\":{\"x\":7.99999856948853,\"y\":1.50439465045929,\"z\":9.50000381469727},\"rot\":{\"x\":0.00495045958086848,\"y\":90.0145492553711,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"ee370a\":{\"lock\":true,\"pos\":{\"x\":-26.3554000854492,\"y\":1.76629996299744,\"z\":5.3685998916626},\"rot\":{\"x\":0,\"y\":0.000300000014249235,\"z\":0},\"tint\":{\"a\":0,\"b\":0,\"g\":0,\"r\":0}},\"f40a56\":{\"lock\":false,\"pos\":{\"x\":15.9999971389771,\"y\":1.50370371341705,\"z\":9.50000286102295},\"rot\":{\"x\":0.00495003908872604,\"y\":90.0146789550781,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}}}}",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "0e3f22",
                  "Name": "Custom_Model_Bag",
                  "Transform": {
                    "posX": -26.50341,
                    "posY": 1.84000123,
                    "posZ": 3.50187016,
                    "rotX": -4.92093932E-06,
                    "rotY": 179.9955,
                    "rotZ": -8.503056E-08,
                    "scaleX": 0.7,
                    "scaleY": 0.7,
                    "scaleZ": 0.7
                  },
                  "Nickname": "Porte du Sous-Sol",
                  "Description": "Place aléatoirement les lieux Porte du Sous-Sol",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.614982545,
                    "g": 0.0,
                    "b": 0.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "MaterialIndex": -1,
                  "MeshIndex": -1,
                  "CustomMesh": {
                    "MeshURL": "https://pastebin.com/raw/ALrYhQGb",
                    "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/1936014258275887703/A3B2CB76F0EB526F71A6076E20E5E5CF51C9A02A/",
                    "NormalURL": "",
                    "ColliderURL": "",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 6,
                    "CustomShader": {
                      "SpecularColor": {
                        "r": 1.0,
                        "g": 1.0,
                        "b": 1.0
                      },
                      "SpecularIntensity": 0.0,
                      "SpecularSharpness": 2.0,
                      "FresnelStrength": 0.0
                    },
                    "CastShadows": true
                  },
                  "Bag": {
                    "Order": 0
                  },
                  "LuaScript": "-- Random memory bag\r\n-- based on Utility memory bag by Directsun (Version 2.7.0)\r\n\r\nlocal CONFIG = {\r\n    MEMORY_GROUP = {\r\n        -- This determines how many frames to wait before actually placing objects onto the table when the \"Place\" button is clicked.\r\n        -- This gives the other bags time to recall their objects.\r\n        -- The delay ONLY occurs if other bags have objects out.\r\n        FRAME_DELAY_BEFORE_PLACING_OBJECTS = 30\r\n    }\r\n}\r\n\r\nmath.randomseed(os.time())\r\n\r\n--[[ Memory Bag Groups ]]\r\n--[[ Utility Memory Bags may be added to a named group, called a \"memory group\".\r\nYou can add a bag to a group through the bag's UI: \"Setup\" > \"Group Name\" (to the left of the bag).\r\nOnly one bag from a group may have it's contents placed on the table at a time.\r\nWhen \"Place\" is clicked on a bag, the other bags in it's memory group are recalled.\r\nBy default a memory bag is not in any group. It's memory group is \"nil\". --]]\r\n\r\nmemoryGroupName = { memoryBag = self }\r\nfunction memoryGroupName:get()\r\n    return self._name\r\nend\r\n\r\nfunction memoryGroupName:set(newName)\r\n    GlobalMemoryGroups:unregisterBagInGroup(self:get(), self.memoryBag.getGUID())\r\n    GlobalMemoryGroups:registerBagInGroup(newName, self.memoryBag.getGUID())\r\n\r\n    if newName == \"\" then\r\n        self._name = nil\r\n    else\r\n        self._name = newName\r\n    end\r\nend\r\n\r\n-- Click the \"Recall\" button on all other bags in my memory group.\r\nfunction recallOtherBagsInMyGroup()\r\n    for _, bag in ipairs(getOtherBagsInMyGroup()) do\r\n        bag.call('buttonClick_recall')\r\n    end\r\nend\r\n\r\n-- Return \"true\" if another bag in my memory group has any objects out on the table.\r\nfunction anyOtherBagsInMyGroupArePlaced()\r\n    for _, bag in ipairs(getOtherBagsInMyGroup()) do\r\n        local state = bag.call('areAnyOfMyObjectsPlaced')\r\n        if state then return true end\r\n    end\r\n\r\n    return false\r\nend\r\n\r\n-- Return \"true\" if at least one object from this memory bag is out on the table.\r\nfunction areAnyOfMyObjectsPlaced()\r\n    for guid, _ in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then\r\n            return true\r\n        end\r\n    end\r\n    return false\r\nend\r\n\r\nfunction getOtherBagsInMyGroup()\r\n    local bags = {}\r\n    for bagGuid, _ in pairs(GlobalMemoryGroups:getGroup(memoryGroupName:get())) do\r\n        if bagGuid ~= self.getGUID() then\r\n            bag = getObjectFromGUID(bagGuid)\r\n            -- \"bag\" is nill if it has been deleted since the last time onLoad() was called.\r\n            if bag ~= nil then\r\n                table.insert(bags, bag)\r\n            end\r\n        end\r\n    end\r\n    return bags\r\nend\r\n\r\n--[[\r\nThis object provides access to a variable stored on the \"Global script\".\r\nThe variable holds the names & guids of all memory bag groups.\r\nThe global variable is a table and holds data like this:\r\n{\r\n    'My First Group Name' = {\r\n        '805ebd' = {},\r\n        '35cc21' = {},\r\n        'fc8886' = {},\r\n    },\r\n    'My Second Group Name' = {\r\n        'f50264' = {},\r\n        '5f5f63' = {},\r\n    },\r\n}\r\n--]]\r\nGlobalMemoryGroups = { NAME_OF_GLOBAL_VARIABLE = '_GlobalUtilityMemoryBagGroups' }\r\n\r\n-- Call me inside this script's \"onLoad()\" method!\r\nfunction GlobalMemoryGroups:onLoad(myGuid)\r\n    -- Create and initialize the global variable if it doesn't already exist:\r\n    if self:_getGroups() == nil then\r\n        self:_setGroups({})\r\n    end\r\nend\r\n\r\n-- Return the GUIDs of all bags in the \"groupName\". The return value is a dictionary that maps [GUID -> empty table].\r\nfunction GlobalMemoryGroups:getGroup(groupName)\r\n    guids = self:_getGroups()[groupName] or {}\r\n    return guids\r\nend\r\n\r\n-- Registers a bag in a memory group. Creates a new group if one doesn't exist.\r\nfunction GlobalMemoryGroups:registerBagInGroup(groupName, bagGuid)\r\n    if groupName == nil or groupName == \"\" then\r\n        return\r\n    end\r\n\r\n    self:_tryCreateNewGroup(groupName)\r\n    local groups = self:_getGroups()\r\n    groups[groupName][bagGuid] = {}\r\n    self:_setGroups(groups)\r\nend\r\n\r\n-- Removes this bag from the memory group.\r\nfunction GlobalMemoryGroups:unregisterBagInGroup(groupName, bagGuid)\r\n    local groups = self:_getGroups()\r\n    local group = groups[groupName]\r\n    if group ~= nil then\r\n        group[bagGuid] = nil\r\n        self:_setGroups(groups)\r\n    end\r\nend\r\n\r\n-- Return the global variable, which is a table holding all memory group names & guids.\r\nfunction GlobalMemoryGroups:_getGroups()\r\n    return Global.getTable(self.NAME_OF_GLOBAL_VARIABLE)\r\nend\r\n\r\n-- Override the global variable (i.e. the entire table).\r\nfunction GlobalMemoryGroups:_setGroups(newTable)\r\n    Global.setTable(self.NAME_OF_GLOBAL_VARIABLE, newTable)\r\nend\r\n\r\n-- Add a new memory group named \"groupName\" to the global variable, if one doesn't already exist.\r\nfunction GlobalMemoryGroups:_tryCreateNewGroup(groupName)\r\n    local groups = self:_getGroups()\r\n    if groups[groupName] == nil then\r\n        groups[groupName] = {}\r\n        self:_setGroups(groups)\r\n    end\r\nend\r\n\r\n-- This object controls the \"Group Name\" input text field that is part of the bag's ingame UI.\r\ngroupNameInput = {\r\n    greyedOutText     = \"Group Name\",\r\n    widthPerCharacter = 100,\r\n    padding           = 4,\r\n    memoryBag         = self\r\n}\r\nfunction groupNameInput:create(optionalStartingValue)\r\n    local effectiveText = optionalStartingValue or self.greyedOutText\r\n    local width = self:computeWidth(effectiveText)\r\n\r\n    self.memoryBag.createInput({\r\n        label = self.greyedOutText,\r\n        value = optionalStartingValue or nil,\r\n        alignment = 3, -- Center aligned\r\n        input_function = \"groupNameInput_onCharacterTyped\", function_owner = self.memoryBag,\r\n        position = { 2.1, 0.3, 0 }, rotation = { 0, 270, 0 }, width = width, height = 350,\r\n        font_size = 250, color = { 0, 0, 0 }, font_color = { 1, 1, 1 },\r\n    })\r\nend\r\n\r\nfunction groupNameInput:computeWidth(text)\r\n    return (string.len(text) + self.padding) * self.widthPerCharacter\r\nend\r\n\r\nfunction groupNameInput:updatedWidth(text)\r\n    self.memoryBag.editInput({\r\n        index = 0,\r\n        width = self:computeWidth(text)\r\n    })\r\nend\r\n\r\nfunction groupNameInput:onCharacterTyped(text, stillEditing)\r\n    if stillEditing then\r\n        self:updatedWidth(text)\r\n    else\r\n        if text == \"\" then\r\n            self:updatedWidth(self.greyedOutText)\r\n        end\r\n    end\r\nend\r\n\r\nfunction groupNameInput_onCharacterTyped(memoryBag, playerColor, text, stillEditing)\r\n    groupNameInput:onCharacterTyped(text, stillEditing)\r\nend\r\n\r\nfunction groupNameInput:setGroupNameToInputField()\r\n    local inputFields = self.memoryBag.getInputs()\r\n    if inputFields ~= nil then\r\n        -- Get input field 0, which corresponds to the groupNameInput.\r\n        -- Unfortunately \"self.getInputs()\" doesn't return the inputs in a guaranteed order.\r\n        local nameField = nil\r\n        for _, field in ipairs(inputFields) do\r\n            if field.index == 0 then\r\n                nameField = field\r\n            end\r\n        end\r\n\r\n        memoryGroupName:set(nameField.value)\r\n    end\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = { [\"ml\"] = memoryList, [\"groupName\"] = memoryGroupName:get() }\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction combineMemoryFromBagsWithin()\r\n    local bagObjList = self.getObjects()\r\n    for _, bagObj in ipairs(bagObjList) do\r\n        local data = bagObj.lua_script_state\r\n        if data ~= nil then\r\n            local j = JSON.decode(data)\r\n            if j ~= nil and j.ml ~= nil then\r\n                for guid, entry in pairs(j.ml) do\r\n                    memoryList[guid] = entry\r\n                end\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateMemoryWithMoves()\r\n    memoryList = memoryListBackup\r\n    --get the first transposed object's coordinates\r\n    local obj = getObjectFromGUID(moveGuid)\r\n\r\n    -- p1 is where needs to go, p2 is where it was\r\n    local refObjPos = memoryList[moveGuid].pos\r\n    local deltaPos = findOffsetDistance(obj.getPosition(), refObjPos, nil)\r\n    local movedRotation = obj.getRotation()\r\n    for guid, entry in pairs(memoryList) do\r\n        memoryList[guid].pos.x = entry.pos.x - deltaPos.x\r\n        memoryList[guid].pos.y = entry.pos.y - deltaPos.y\r\n        memoryList[guid].pos.z = entry.pos.z - deltaPos.z\r\n    end\r\n    moveList = {}\r\nend\r\n\r\nfunction onload(saved_data)\r\n    GlobalMemoryGroups:onLoad(self.getGUID())\r\n    AllMemoryBagsInScene:add(self.getGUID())\r\n\r\n    fresh = true\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n        memoryGroupName:set(loaded_data.groupName)\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n        memoryGroupName:set(nil)\r\n    end\r\n\r\n    moveList = {}\r\n    moveGuid = nil\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        fresh = false\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n--Beginning Setup\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n      label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n      position={0,0.3,2}, rotation={0,0,0}, height=350, width=800,\r\n      font_size=250, color={0,0,0}, font_color={1,1,1}\r\n  })\r\nend\r\n\r\n--Triggered by Transpose button\r\nfunction buttonClick_transpose()\r\n    moveGuid = nil\r\n    broadcastToAll(\"Select one object and move it- all objects will move relative to the new location\", { 0.75, 0.75, 1 })\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(true)\r\n    createSetupActionButtons(true)\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(false)\r\n    createSetupActionButtons(false)\r\nend\r\n\r\nfunction getAllObjectsInMemory()\r\n    local objTable = {}\r\n    local curObj = {}\r\n\r\n    for guid in pairs(memoryListBackup) do\r\n        curObj = getObjectFromGUID(guid)\r\n        table.insert(objTable, curObj)\r\n    end\r\n\r\n    return objTable\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects(move)\r\n    buttonIndexMap = {}\r\n    local howManyButtons = 0\r\n\r\n    local objsToHaveButtons = {}\r\n    if move == true then\r\n        objsToHaveButtons = getAllObjectsInMemory()\r\n    else\r\n        objsToHaveButtons = getAllObjects()\r\n    end\r\n\r\n    for _, obj in ipairs(objsToHaveButtons) do\r\n        if obj ~= self then\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1 * 1 / self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor + 2\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Workaround for custom PDFs\r\n            if obj.Book then\r\n                objPos.y = objPos.y + 0.5\r\n            end\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(obj, move) end\r\n            local color = { 0.75, 0.25, 0.25, 0.6 }\r\n            local colorMove = { 0, 0, 1, 0.6 }\r\n            if move == true then\r\n                color = colorMove\r\n            end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function = funcName, function_owner = self,\r\n                position = objPos, rotation = rot, height = 1000, width = 1000,\r\n                color = color,\r\n            })\r\n            buttonIndexMap[obj.getGUID()] = howManyButtons\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n  --Creates submit and cancel buttons\r\n  function createSetupActionButtons(move)\r\n      self.createButton({\r\n         label=\"Annuler\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n         position={-1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n         font_size=250, color={0,0,0}, font_color={1,1,1}\r\n      })\r\n\r\n      self.createButton({\r\n        label=\"Valider\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={-1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n      })\r\n\r\n      if move == false then\r\n        self.createButton({\r\n            label=\"Ajouter\", click_function=\"buttonClick_add\", function_owner=self,\r\n            position={1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n            font_size=250, color={0,0,0}, font_color={0.25,1,0.25}\r\n          })\r\n\r\n          self.createButton({\r\n              label=\"Sélection\", click_function=\"editDragSelection\", function_owner=self,\r\n              position={-1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n              font_size=250, color={0,0,0}, font_color={1,1,1}\r\n          })\r\n\r\n          if fresh == false then\r\n              self.createButton({\r\n                  label=\"Mise à Jour\", click_function=\"buttonClick_setNew\", function_owner=self,\r\n                  position={1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n                  font_size=180, color={0,0,0}, font_color={0.75,0.75,1}\r\n              })\r\n              self.createButton({\r\n                  label=\"Retirer\", click_function=\"buttonClick_remove\", function_owner=self,\r\n                  position={1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n                  font_size=250, color={0,0,0}, font_color={1,0.25,0.25}\r\n              })\r\n          end\r\n      end\r\n\r\n      self.createButton({\r\n          label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n          position={0,0.3,-2}, rotation={0,0,0}, height=350, width=800,\r\n          font_size=250, color={0,0,0}, font_color={1,1,1}\r\n      })\r\n  end\r\n\r\n\r\n--During Setup\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(obj, move)\r\n    local index = buttonIndexMap[obj.getGUID()]\r\n    local colorMove = { 0, 0, 1, 0.6 }\r\n    local color = { 0, 1, 0, 0.6 }\r\n\r\n    previousGuid = selectedGuid\r\n    selectedGuid = obj.getGUID()\r\n\r\n    theList = memoryList\r\n    if move == true then\r\n        theList = moveList\r\n        if previousGuid ~= nil and previousGuid ~= selectedGuid then\r\n            local prevObj = getObjectFromGUID(previousGuid)\r\n            prevObj.highlightOff()\r\n            self.editButton({ index = previousIndex, color = colorMove })\r\n            theList[previousGuid] = nil\r\n        end\r\n        previousIndex = index\r\n    end\r\n\r\n    if theList[selectedGuid] == nil then\r\n        self.editButton({ index = index, color = color })\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        theList[obj.getGUID()] = {\r\n            pos = { x = round(pos.x, 4), y = round(pos.y, 4), z = round(pos.z, 4) },\r\n            rot = { x = round(rot.x, 4), y = round(rot.y, 4), z = round(rot.z, 4) },\r\n            lock = obj.getLock(),\r\n            tint = obj.getColorTint()\r\n        }\r\n        obj.highlightOn({ 0, 1, 0 })\r\n    else\r\n        color = { 0.75, 0.25, 0.25, 0.6 }\r\n        if move == true then\r\n            color = colorMove\r\n        end\r\n        self.editButton({ index = index, color = color })\r\n        theList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\nfunction editDragSelection(bagObj, player, remove)\r\n    local selectedObjs = Player[player].getSelectedObjects()\r\n    if not remove then\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            --Ignore if already in the memory list, or does not have a button\r\n            if index and not memoryList[obj.getGUID()] then\r\n                self.editButton({ index = index, color = { 0, 1, 0, 0.6 } })\r\n                --Adding pos/rot to memory table\r\n                local pos, rot = obj.getPosition(), obj.getRotation()\r\n                --I need to add it like this or it won't save due to indexing issue\r\n                memoryList[obj.getGUID()] = {\r\n                    pos = { x = round(pos.x, 4), y = round(pos.y, 4), z = round(pos.z, 4) },\r\n                    rot = { x = round(rot.x, 4), y = round(rot.y, 4), z = round(rot.z, 4) },\r\n                    lock = obj.getLock(),\r\n                    tint = obj.getColorTint()\r\n                }\r\n                obj.highlightOn({ 0, 1, 0 })\r\n            end\r\n        end\r\n    else\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            if index and memoryList[obj.getGUID()] then\r\n                color = { 0.75, 0.25, 0.25, 0.6 }\r\n                self.editButton({ index = index, color = color })\r\n                memoryList[obj.getGUID()] = nil\r\n                obj.highlightOff()\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Sélection annulée\", { 1, 1, 1 })\r\n    moveGuid = nil\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    fresh = false\r\n    if next(moveList) ~= nil then\r\n        for guid in pairs(moveList) do\r\n            moveGuid = guid\r\n        end\r\n        if memoryListBackup[moveGuid] == nil then\r\n            broadcastToAll(\"Item selected for moving is not already in memory\", { 1, 0.25, 0.25 })\r\n        else\r\n            broadcastToAll(\"Moving all items in memory relative to new objects position!\", { 0.75, 0.75, 1 })\r\n            self.clearButtons()\r\n            self.clearInputs()\r\n            createMemoryActionButtons()\r\n            local count = 0\r\n            for guid in pairs(moveList) do\r\n                moveGuid = guid\r\n                count = count + 1\r\n                local obj = getObjectFromGUID(guid)\r\n                if obj ~= nil then obj.highlightOff() end\r\n            end\r\n            updateMemoryWithMoves()\r\n            updateSave()\r\n            buttonClick_place()\r\n        end\r\n    elseif next(memoryList) == nil and moveGuid == nil then\r\n        memoryList = memoryListBackup\r\n        broadcastToAll(\"No selections made.\", { 0.75, 0.25, 0.25 })\r\n    end\r\n    combineMemoryFromBagsWithin()\r\n    groupNameInput:setGroupNameToInputField()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count .. \" Objects Saved\", { 1, 1, 1 })\r\n    updateSave()\r\n    moveGuid = nil\r\nend\r\n\r\nfunction combineTables(first_table, second_table)\r\n    for k, v in pairs(second_table) do first_table[k] = v end\r\nend\r\n\r\nfunction buttonClick_add()\r\n    fresh = false\r\n    combineTables(memoryList, memoryListBackup)\r\n    broadcastToAll(\"Adding internal bags and selections to existing memory\", { 0.25, 0.75, 0.25 })\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count .. \" Objects Saved\", { 1, 1, 1 })\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_remove()\r\n    broadcastToAll(\"Removing Selected Entries From Memory\", { 1.0, 0.25, 0.25 })\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        memoryListBackup[guid] = nil\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count .. \" Objects Removed\", { 1, 1, 1 })\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_setNew()\r\n    broadcastToAll(\"Setting new position relative to items in memory\", { 0.75, 0.75, 1 })\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        guid = obj.guid\r\n        if memoryListBackup[guid] ~= nil then\r\n            count = count + 1\r\n            memoryListBackup[guid].pos = obj.getPosition()\r\n            memoryListBackup[guid].rot = obj.getRotation()\r\n            memoryListBackup[guid].lock = obj.getLock()\r\n            memoryListBackup[guid].tint = obj.getColorTint()\r\n        end\r\n    end\r\n    broadcastToAll(count .. \" Objects Saved\", { 1, 1, 1 })\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    fresh = true\r\n    memoryList = {}\r\n    memoryGroupName:set(nil)\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", { 1, 1, 1 })\r\n    updateSave()\r\nend\r\n\r\n--After Setup\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Placer au hasard\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,2}, rotation={0,0,0}, height=350, width=2000,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Ranger\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,2.8}, rotation={0,0,0}, height=350, width=1000,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={2,0.3,0}, rotation={0,90,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    ---    self.createButton({\r\n    ---      label=\"Bouger\", click_function=\"buttonClick_transpose\", function_owner=self,\r\n    ---      position={-2,0.3,0.8}, rotation={0,270,0}, height=350, width=800,\r\n    ---      font_size=250, color={0,0,0}, font_color={0.75,0.75,1}\r\n    ---\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    if anyOtherBagsInMyGroupArePlaced() then\r\n        recallOtherBagsInMyGroup()\r\n        Wait.frames(_placeObjects, CONFIG.MEMORY_GROUP.FRAME_DELAY_BEFORE_PLACING_OBJECTS)\r\n    else\r\n        _placeObjects()\r\n    end\r\nend\r\n\r\nfunction _placeObjects()\r\n    local bagObjList = self.getObjects()\r\n\r\n    -- randomize memorylist position\r\n    local positionList = {}\r\n    for guid, entry in pairs(memoryList) do\r\n        table.insert(positionList, memoryList[guid].pos)\r\n    end\r\n\r\n    for i = #positionList, 2, -1 do\r\n        local j = math.random(i)\r\n        positionList[i], positionList[j] = positionList[j], positionList[i]\r\n    end\r\n\r\n    local i = 1\r\n    for guid, entry in pairs(memoryList) do\r\n        memoryList[guid].pos = positionList[i]\r\n        i = i + 1\r\n    end\r\n\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n            obj.setColorTint(entry.tint)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid = guid, position = entry.pos, rotation = entry.rot, smooth = false\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    item.setColorTint(entry.tint)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objets placés au hasard\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objets rangés\", {1,1,1})\r\nend\r\n\r\n--Utility functions\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local yOffset = 0\r\n    if obj ~= nil then\r\n        local bounds = obj.getBounds()\r\n        yOffset = (bounds.size.y - bounds.offset.y)\r\n    end\r\n    local deltaPos = {}\r\n    deltaPos.x = (p2.x - p1.x)\r\n    deltaPos.y = (p2.y - p1.y) + yOffset\r\n    deltaPos.z = (p2.z - p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n    local objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n    local x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n    local z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n    --return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return { x = x, y = desiredPos.y, z = z }\r\nend\r\n\r\nfunction rotateMyCoordinates(desiredPos, obj)\r\n    local angle = math.rad(obj.getRotation().y)\r\n    local x = desiredPos.x * math.sin(angle)\r\n    local z = desiredPos.z * math.cos(angle)\r\n    return { x = x, y = desiredPos.y, z = z }\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n    local mult = 10 ^ (dec or 0)\r\n    return math.floor(num * mult + 0.5) / mult\r\nend\r\n\r\n--[[ This object provides access to a variable stored on the \"Global script\".\r\nThe variable holds the GUIDs for every Utility Memory Bag in the scene.\r\nExample: {'805ebd', '35cc21', 'fc8886', 'f50264', '5f5f63'} --]]\r\nAllMemoryBagsInScene = {\r\n    NAME_OF_GLOBAL_VARIABLE = \"_UtilityMemoryBag_AllMemoryBagsInScene\"\r\n}\r\n\r\nfunction AllMemoryBagsInScene:add(guid)\r\n    local guids = Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\n    table.insert(guids, guid)\r\n    Global.setTable(self.NAME_OF_GLOBAL_VARIABLE, guids)\r\nend\r\n\r\nfunction AllMemoryBagsInScene:getGuidList()\r\n    return Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\nend\r\n",
                  "LuaScriptState": "{\"ml\":{\"056aee\":{\"lock\":false,\"pos\":{\"x\":11.9999980926514,\"y\":1.51594293117523,\"z\":0.500003695487976},\"rot\":{\"x\":0.0108916340395808,\"y\":179.999710083008,\"z\":0.00494824117049575},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"624077\":{\"lock\":false,\"pos\":{\"x\":11.9999980926514,\"y\":1.51936459541321,\"z\":18.5000038146973},\"rot\":{\"x\":0.0108915567398071,\"y\":179.999862670898,\"z\":0.00494826445356011},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"89ec4c\":{\"lock\":false,\"pos\":{\"x\":20,\"y\":1.51696288585663,\"z\":9.50000286102295},\"rot\":{\"x\":0.0108916396275163,\"y\":179.999740600586,\"z\":0.00494799483567476},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}}}}",
                  "XmlUI": "",
                  "ContainedObjects": [
                    {
                      "GUID": "056aee",
                      "Name": "Card",
                      "Transform": {
                        "posX": 20.0,
                        "posY": 1.51696289,
                        "posZ": 9.500003,
                        "rotX": 0.0108915167,
                        "rotY": 179.9997,
                        "rotZ": 0.00494816527,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "Porte du Sous-Sol",
                      "Description": "St. Mary. Sous-sol.",
                      "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06076\",\n  \"locationBack\": {\n    \"connections\": \"Heart\",\n    \"icons\": \"Tee\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    },\n    \"victory\": 2\n  },\n  \"locationFront\": {\n    \"connections\": \"Heart\",\n    \"icons\": \"Plus\"\n  },\n  \"traits\": \"St Mary's. Basement.\",\n  \"type\": \"Location\"\n}",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.713235259,
                        "g": 0.713235259,
                        "b": 0.713235259
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": true,
                      "Hands": true,
                      "CardID": 276566,
                      "SidewaysCard": false,
                      "CustomDeck": {
                        "2765": {
                          "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                          "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                          "NumWidth": 10,
                          "NumHeight": 7,
                          "BackIsHidden": true,
                          "UniqueBack": true,
                          "Type": 0
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    {
                      "GUID": "624077",
                      "Name": "Card",
                      "Transform": {
                        "posX": 11.9999981,
                        "posY": 1.51594293,
                        "posZ": 0.5000036,
                        "rotX": 0.0108915037,
                        "rotY": 179.999863,
                        "rotZ": 0.004948271,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "Porte du Sous-Sol",
                      "Description": "St. Mary. Sous-sol.",
                      "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06075\",\n  \"locationBack\": {\n    \"connections\": \"Heart\",\n    \"icons\": \"Hourglass\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    },\n    \"victory\": 2\n  },\n  \"locationFront\": {\n    \"connections\": \"Heart\",\n    \"icons\": \"Plus\"\n  },\n  \"traits\": \"St Mary's. Basement.\",\n  \"type\": \"Location\"\n}",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.713235259,
                        "g": 0.713235259,
                        "b": 0.713235259
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": true,
                      "Hands": true,
                      "CardID": 276565,
                      "SidewaysCard": false,
                      "CustomDeck": {
                        "2765": {
                          "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                          "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                          "NumWidth": 10,
                          "NumHeight": 7,
                          "BackIsHidden": true,
                          "UniqueBack": true,
                          "Type": 0
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    {
                      "GUID": "89ec4c",
                      "Name": "Card",
                      "Transform": {
                        "posX": 11.9999981,
                        "posY": 1.5193646,
                        "posZ": 18.5000038,
                        "rotX": 0.0108914869,
                        "rotY": 179.999741,
                        "rotZ": 0.00494823372,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "Porte du Sous-Sol",
                      "Description": "St. Mary. Sous-sol.",
                      "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06077\",\n  \"locationBack\": {\n    \"connections\": \"Heart\",\n    \"icons\": \"Crescent\"\n  },\n  \"locationFront\": {\n    \"connections\": \"Heart\",\n    \"icons\": \"Plus\"\n  },\n  \"traits\": \"St Mary's. Basement.\",\n  \"type\": \"Location\"\n}",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.713235259,
                        "g": 0.713235259,
                        "b": 0.713235259
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": true,
                      "Hands": true,
                      "CardID": 276567,
                      "SidewaysCard": false,
                      "CustomDeck": {
                        "2765": {
                          "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                          "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                          "NumWidth": 10,
                          "NumHeight": 7,
                          "BackIsHidden": true,
                          "UniqueBack": true,
                          "Type": 0
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  ]
                },
                {
                  "GUID": "3d62b3",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": 11.9999981,
                    "posY": 1.50319374,
                    "posZ": 5.000004,
                    "rotX": 0.0108916564,
                    "rotY": 179.999832,
                    "rotZ": 0.00495187659,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/vppt2my.png",
                    "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "States": {
                    "2": {
                      "GUID": "44b0c5",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -39.7933121,
                        "posY": 1.63758957,
                        "posZ": 2.038383,
                        "rotX": 359.9201,
                        "rotY": 269.9961,
                        "rotZ": 0.0168742146,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    "3": {
                      "GUID": "5b38c6",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -38.8217163,
                        "posY": 1.99356019,
                        "posZ": 0.4159239,
                        "rotX": 359.9201,
                        "rotY": 272.9828,
                        "rotZ": 0.01687373,
                        "scaleX": 0.8,
                        "scaleY": 1.0,
                        "scaleZ": 0.8
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  }
                },
                {
                  "GUID": "b63cee",
                  "Name": "Card",
                  "Transform": {
                    "posX": 11.9999981,
                    "posY": 1.51765382,
                    "posZ": 9.500004,
                    "rotX": 0.0108915251,
                    "rotY": 180.000137,
                    "rotZ": 0.004948267,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Cage d'Escalier",
                  "Description": "St. Mary.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06074\",\n  \"locationBack\": {\n    \"connections\": \"Triangle|Plus|Hourglass|Tee|Crescent\",\n    \"icons\": \"Heart\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    },\n    \"victory\": 1\n  },\n  \"locationFront\": {\n    \"connections\": \"Triangle|Plus|Hourglass|Tee|Crescent\",\n    \"icons\": \"Heart\"\n  },\n  \"traits\": \"St Mary's.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276564,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2765": {
                      "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                      "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "be783d",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": 11.999999,
                    "posY": 1.50490451,
                    "posZ": 14.0000038,
                    "rotX": 0.01089166,
                    "rotY": 179.999741,
                    "rotZ": 0.004955522,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/vppt2my.png",
                    "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "States": {
                    "2": {
                      "GUID": "44b0c5",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -39.7933121,
                        "posY": 1.63758957,
                        "posZ": 2.038383,
                        "rotX": 359.9201,
                        "rotY": 269.9961,
                        "rotZ": 0.0168742146,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    "3": {
                      "GUID": "5b38c6",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -38.8217163,
                        "posY": 1.99356019,
                        "posZ": 0.4159239,
                        "rotX": 359.9201,
                        "rotY": 272.9828,
                        "rotZ": 0.01687373,
                        "scaleX": 0.8,
                        "scaleY": 1.0,
                        "scaleZ": 0.8
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  }
                },
                {
                  "GUID": "d75613",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": 7.99999857,
                    "posY": 1.50439465,
                    "posZ": 9.500004,
                    "rotX": 0.00495047867,
                    "rotY": 90.01455,
                    "rotZ": 359.9891,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/vppt2my.png",
                    "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "States": {
                    "2": {
                      "GUID": "44b0c5",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -39.7933121,
                        "posY": 1.63758957,
                        "posZ": 2.038383,
                        "rotX": 359.9201,
                        "rotY": 269.9961,
                        "rotZ": 0.0168742146,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    "3": {
                      "GUID": "5b38c6",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -38.8217163,
                        "posY": 1.99356019,
                        "posZ": 0.4159239,
                        "rotX": 359.9201,
                        "rotY": 272.9828,
                        "rotZ": 0.01687373,
                        "scaleX": 0.8,
                        "scaleY": 1.0,
                        "scaleZ": 0.8
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  }
                },
                {
                  "GUID": "ee370a",
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -26.3554,
                    "posY": 1.7663,
                    "posZ": 5.3686,
                    "rotX": 0.0,
                    "rotY": 0.0003,
                    "rotZ": 0.0,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Porte du Sous-Sol",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.0,
                    "g": 0.0,
                    "b": 0.0,
                    "a": 0.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": true,
                  "Grid": false,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": false,
                  "Tooltip": false,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/1478820768302617365/27883B7913E0E69143C3AA03493B7E7C4E8C29C0/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "",
                    "Convex": true,
                    "MaterialIndex": 1,
                    "TypeIndex": 0,
                    "CastShadows": true
                  },
                  "LuaScript": "-- Code for bag to identify text tool objects\r\nmovableTextTool_cowgoesmoo33 = true\r\n\r\n-- Number of characters before the text box width expands.\r\nEXPAND_INTERVAL = 20\r\n\r\n-- This table controls what is passed between save/load\r\ndata = {}\r\n\r\nfunction onLoad(saved_data)\r\n  if saved_data ~= '' then\r\n    data = JSON.decode(saved_data)\r\n    if data.text ~= '' then\r\n      self.interactable = data.interactable\r\n      staticMode()\r\n      return\r\n    end\r\n  else\r\n    data = {size=200, color=Color(0,0,0), text='', interactable=true,\r\n        enter_to_finish=false, autolock=false, autolift=false,\r\n        hover_height=0.05, box_transparency=1}\r\n  end\r\n\r\n  inputMode()\r\nend\r\n\r\n-- True if in the middle of delay after pressing Enter (with enter_to_finish on)\r\nfinishing = false\r\nfunction input_func(obj, color, input, stillEditing)\r\n  local params = getBox(input)\r\n  if params then\r\n    params.value = input\r\n    self.editInput(params)\r\n  end\r\n\r\n  if not stillEditing then\r\n    data.text = input\r\n    updateState()\r\n    if input ~= '' then staticMode(color) end\r\n  elseif data.enter_to_finish then\r\n    -- If enter is pressed: remove last newline and force finish\r\n    if not finishing and input:sub(-1) == '\\n' then\r\n      finishing = true\r\n      -- Delay to avoid user's Enter keypress being detected (opens chat box)\r\n      Wait.frames(function()\r\n        input = input:sub(1, -2)\r\n        data.text = input\r\n        updateState()\r\n        if input ~= '' then staticMode(color) else inputMode() end\r\n        finishing = false\r\n      end, 10)\r\n    end\r\n  end\r\nend\r\n\r\n-- When the inpupt box appears and lets the player type in it.\r\nfunction inputMode()\r\n  self.clearContextMenu()\r\n  self.clearInputs()\r\n  self.clearButtons()\r\n\r\n  local size = getBox(data.text, true)\r\n\r\n  self.createInput({\r\n    input_function = \"input_func\",\r\n    function_owner = self,\r\n    label          = \"Type Here\",\r\n    alignment      = 3,\r\n    position       = {x=0, y=data.hover_height, z=0},\r\n    rotation       = {0, 180, 0},\r\n    width          = size.width,\r\n    height         = size.height,\r\n    color          = getBackground(data.color),\r\n    font_color     = data.color,\r\n    font_size      = data.size,\r\n    value          = data.text,\r\n  })\r\n\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\nend\r\n\r\n-- When the input box disappears and displays the text.\r\nfunction staticMode(player)\r\n  self.clearContextMenu()\r\n  if data.autolock then\r\n    self.locked = true\r\n  end\r\n  if self.getInputs() and #self.getInputs() ~= 0 then\r\n    self.removeInput(0)\r\n  end\r\n\r\n  -- Clear from selecting player\r\n  if player then\r\n    self.removeFromPlayerSelection(player)\r\n  end\r\n\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  self.createButton({\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=self,\r\n    position={0,data.hover_height,0}, rotation={0,180,0}, height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  })\r\n\r\n  self.addContextMenuItem('Edit Text', function(color)\r\n    self.removeFromPlayerSelection(color)\r\n    inputMode()\r\n  end)\r\n  self.addContextMenuItem('Clear', function(color)\r\n    applyMultiple(color, 'clear', _, true)\r\n  end)\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\n  self.addContextMenuItem('Permanently Attach', attemptAttach)\r\n  self.addContextMenuItem('Permalock', function(color)\r\n    applyMultiple(color, 'permalock', _, true)\r\n  end)\r\nend\r\n\r\nfunction changeSize(params)\r\n  local delta = params[1]\r\n  local newSize = data.size + delta\r\n  if newSize > 800  or newSize < 50 then\r\n    return\r\n  end\r\n  data.size = newSize\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_size=data.size})\r\n  else\r\n    local size = getBox(data.text, true)\r\n    self.editInput({width=size.width, height=size.height, font_size=data.size})\r\n  end\r\nend\r\n\r\nfunction setColor(params)\r\n  if params and params[1] then\r\n    data.color = params[1]\r\n  else\r\n    data.color = self.getColorTint():setAt('a', 1) -- Take on color of object tint\r\n  end\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_color=data.color})\r\n  else\r\n    self.editInput({font_color=data.color, color=getBackground(data.color)})\r\n  end\r\nend\r\n\r\nfunction getBackground(color) --determines whether to use black or white depending on luminance\r\n  local r,g,b = Color(color):get()\r\n\r\n  local lum = 0.2126*r + 0.7152*g + 0.0722*b\r\n  if lum > 0.75 then\r\n    return {0.2,0.2,0.2, data.box_transparency}\r\n  else\r\n    return {1,1,1, data.box_transparency}\r\n  end\r\nend\r\n\r\nfunction clear()\r\n  data.text = ''\r\n  updateState()\r\n  inputMode()\r\nend\r\n\r\nfunction permalock()\r\n  self.interactable = false\r\n  data.interactable = false\r\n  updateState()\r\nend\r\n\r\nlocal target_script = [[\r\nfunction onLoad(script_state)\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    for _,entry in ipairs(state) do\r\n      self.createButton(entry)\r\n    end\r\n    self.addContextMenuItem('Clear All Text', function(color)\r\n      self.clearContextMenu()\r\n      self.clearButtons()\r\n      self.script_state = ''\r\n      self.script_code = ''\r\n    end)\r\n  end\r\nend\r\n]]\r\n\r\nfunction attemptAttach(player_color)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  local attachee\r\n  local attachers = {}\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if obj ~= self then\r\n        table.insert(attachers, obj)\r\n      end\r\n    else\r\n      if attachee then\r\n        broadcastToColor(\"More than one target selected.\", player_color)\r\n        return\r\n      else\r\n        attachee = obj\r\n      end\r\n    end\r\n  end\r\n  if attachee then\r\n    local code = attachee.script_code\r\n    if code and code ~= '' and code ~= target_script then\r\n      broadcastToColor(\"Warning: script on card has been overriden. Rewind time to undo.\", player_color)\r\n    end\r\n    for i,attacher in ipairs(attachers) do\r\n      attacher.call('attach', {target = attachee})\r\n    end\r\n    attach({target = attachee})\r\n    local type, flip = attachee.type, attachee.getRotation().z\r\n    if (type == 'Card' or type == 'Deck') and flip > 175 and flip < 185 then\r\n      broadcastToColor(\"Warning: text will not display if card or deck is facing down.\", player_color)\r\n    end\r\n  else\r\n    broadcastToColor(\"You must have a target object in your selection (using click-and-drag or Ctrl+Click) to use this option.\", player_color)\r\n  end\r\nend\r\n\r\nfunction attach(params)\r\n  local target = params.target\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  local textRotation = self.getRotation():sub(target.getRotation())\r\n    :add(Vector(180, 0, 180))\r\n\r\n  local textPosition = target.positionToLocal(\r\n    self.getPosition():add(Vector(0, data.hover_height, 0))\r\n  )\r\n  textPosition.x = -textPosition.x\r\n\r\n  local textScale = {}\r\n  textScale.x = self.getScale().x / target.getScale().x\r\n  textScale.y = self.getScale().x / target.getScale().y\r\n  textScale.z = self.getScale().x / target.getScale().z\r\n\r\n  local details = {\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=nil,\r\n    position=textPosition,\r\n    rotation=textRotation,\r\n    scale=textScale,\r\n    height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  }\r\n\r\n  target.createButton(details)\r\n\r\n  local script_state = target.script_state\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    table.insert(state, details)\r\n    target.script_state = JSON.encode(state)\r\n  else\r\n    target.script_state = JSON.encode({[1]=details})\r\n  end\r\n\r\n  target.script_code = target_script\r\n\r\n  self.destruct()\r\nend\r\n\r\nfunction applyMultiple(player_color, func_string, params, static_only)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if not static_only or obj.call('isStatic') then\r\n        obj.call(func_string, params)\r\n      end\r\n    end\r\n  end\r\nend\r\n\r\nfunction isStatic()\r\n  local input = self.getInputs()\r\n  return not input or #input == 0\r\nend\r\n\r\nfunction getBox(input, force)\r\n  local maxLength, lineCount = EXPAND_INTERVAL, 1\r\n  local lineLength = 0\r\n  for i = 1, #input do\r\n    local c = input:sub(i,i)\r\n    if c == '\\n' then\r\n      lineCount = lineCount + 1\r\n      if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n      lineLength = 0\r\n    else\r\n      lineLength = lineLength + 1\r\n    end\r\n  end\r\n  if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n\r\n  newWidth = data.size * maxLength * 0.9\r\n  newHeight = data.size * lineCount + 23\r\n\r\n  if force or boxWidth ~= newWidth or boxHeight ~= newHeight then\r\n    boxWidth, boxHeight = newWidth, newHeight\r\n    return {width = boxWidth, height = boxHeight}\r\n  end\r\n  return nil\r\nend\r\n\r\ntemp_lift = nil\r\nfunction onPickUp(player_color)\r\n  if data.autolift then\r\n    local player = Player[player_color]\r\n    temp_lift = player.lift_height\r\n    player.lift_height = 0\r\n  end\r\nend\r\n\r\nfunction onDrop(player_color)\r\n  if data.autolift and temp_lift then\r\n    Player[player_color].lift_height = temp_lift\r\n  end\r\nend\r\n\r\n-- Should be called every time data is modified, allows info to be saved on copy/paste\r\nfunction updateState()\r\n  self.script_state = JSON.encode(data)\r\nend\r\n\r\nfunction onSave()\r\n  self.script_state = JSON.encode(data)\r\n  return self.script_state\r\nend",
                  "LuaScriptState": "{\"autolift\":false,\"autolock\":false,\"box_transparency\":1,\"color\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1},\"enter_to_finish\":false,\"hover_height\":0.05,\"interactable\":true,\"size\":250,\"text\":\"Placement aléatoire des\\nPorte du Sous-Sol\"}",
                  "XmlUI": ""
                },
                {
                  "GUID": "f40a56",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": 15.9999962,
                    "posY": 1.50370371,
                    "posZ": 9.500003,
                    "rotX": 0.0049503427,
                    "rotY": 90.01468,
                    "rotZ": 359.9891,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/vppt2my.png",
                    "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "States": {
                    "2": {
                      "GUID": "44b0c5",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -39.7933121,
                        "posY": 1.63758957,
                        "posZ": 2.038383,
                        "rotX": 359.9201,
                        "rotY": 269.9961,
                        "rotZ": 0.0168742146,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    "3": {
                      "GUID": "5b38c6",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -38.8217163,
                        "posY": 1.99356019,
                        "posZ": 0.4159239,
                        "rotX": 359.9201,
                        "rotY": 272.9828,
                        "rotZ": 0.01687373,
                        "scaleX": 0.8,
                        "scaleY": 1.0,
                        "scaleZ": 0.8
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  }
                }
              ]
            },
            {
              "GUID": "86d76b",
              "Name": "Card",
              "Transform": {
                "posX": 3.99999857,
                "posY": 1.51834476,
                "posZ": 9.500004,
                "rotX": 0.0108923372,
                "rotY": 179.990265,
                "rotZ": 0.004946471,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Service des Thérapies Expérimentales",
              "Description": "St. Mary.",
              "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06072\",\n  \"locationBack\": {\n    \"connections\": \"Circle|Square|Heart\",\n    \"icons\": \"Triangle\",\n    \"uses\": {\n      \"countPerInvestigator\": 2,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    },\n    \"victory\": 2\n  },\n  \"locationFront\": {\n    \"connections\": \"Circle|Square|Heart\",\n    \"icons\": \"Triangle\"\n  },\n  \"traits\": \"St Mary's.\",\n  \"type\": \"Location\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276562,
              "SidewaysCard": false,
              "CustomDeck": {
                "2765": {
                  "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                  "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "8b32b5",
              "Name": "Custom_Tile",
              "Transform": {
                "posX": -1.500002,
                "posY": 1.505215,
                "posZ": 9.500004,
                "rotX": 0.004950504,
                "rotY": 90.0144348,
                "rotZ": 359.9891,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.6045295,
                "g": 0.6045295,
                "b": 0.6045295
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://i.imgur.com/vppt2my.png",
                "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomTile": {
                  "Type": 3,
                  "Thickness": 0.1,
                  "Stackable": false,
                  "Stretch": true
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "States": {
                "2": {
                  "GUID": "44b0c5",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -39.7933121,
                    "posY": 1.63758957,
                    "posZ": 2.038383,
                    "rotX": 359.9201,
                    "rotY": 269.9961,
                    "rotZ": 0.0168742146,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                "3": {
                  "GUID": "5b38c6",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -38.8217163,
                    "posY": 1.99356019,
                    "posZ": 0.4159239,
                    "rotX": 359.9201,
                    "rotY": 272.9828,
                    "rotZ": 0.01687373,
                    "scaleX": 0.8,
                    "scaleY": 1.0,
                    "scaleZ": 0.8
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              }
            },
            {
              "GUID": "9535d0",
              "Name": "Card",
              "Transform": {
                "posX": 23.501297,
                "posY": 1.51380479,
                "posZ": -5.52303934,
                "rotX": 0.0108914729,
                "rotY": 180.00058,
                "rotZ": 0.00494831428,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Référence",
              "Description": "Cauchemar Éveillé",
              "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"id\": \"06063\",\n  \"type\": \"ScenarioReference\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276559,
              "SidewaysCard": false,
              "CustomDeck": {
                "2765": {
                  "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                  "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "98830f",
              "Name": "Custom_Model_Bag",
              "Transform": {
                "posX": -22.0000019,
                "posY": 1.84000123,
                "posZ": 2.99999714,
                "rotX": -6.24507447E-06,
                "rotY": 179.983566,
                "rotZ": 1.57349945E-07,
                "scaleX": 0.7,
                "scaleY": 0.7,
                "scaleZ": 0.7
              },
              "Nickname": "Soutiens/faiblesses d'histoire",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "CustomMesh": {
                "MeshURL": "https://pastebin.com/raw/ALrYhQGb",
                "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/5077277234347423622/F89B4508C6E2782780C2B5593FB68379E0FB2DB6/",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 6,
                "CustomShader": {
                  "SpecularColor": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "SpecularIntensity": 0.0,
                  "SpecularSharpness": 2.0,
                  "FresnelStrength": 0.0
                },
                "CastShadows": true
              },
              "Bag": {
                "Order": 0
              },
              "LuaScript": "",
              "LuaScriptState": "{\"ml\":[]}",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "e6d3ef",
                  "Name": "Card",
                  "Transform": {
                    "posX": -22.0,
                    "posY": 1.93748271,
                    "posZ": 3.5,
                    "rotX": -0.0009840202,
                    "rotY": 180.00174,
                    "rotZ": 4.43435238E-05,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Randolph Carter",
                  "Description": "Enchaîné au Monde de l'Éveil",
                  "GMNotes": "{\n  \"class\": \"Neutral\",\n  \"cost\": 3,\n  \"cycle\": \"The Dream-Eaters\",\n  \"health\": 2,\n  \"id\": \"06079\",\n  \"intellectIcons\": 1,\n  \"sanity\": 3,\n  \"traits\": \"Ally. Dreamer.\",\n  \"type\": \"Asset\",\n  \"wildIcons\": 1,\n  \"willpowerIcons\": 1\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276400,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2764": {
                      "FaceURL": "https://i.imgur.com/lxSjMsf.jpg",
                      "BackURL": "https://i.imgur.com/IhTn2aA.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "a94869",
              "Name": "Card",
              "Transform": {
                "posX": -30.5002823,
                "posY": 1.78360522,
                "posZ": 8.499607,
                "rotX": -9.23328969E-07,
                "rotY": 180.000259,
                "rotZ": -2.76797055E-05,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Aide-Soignant Corrompu",
              "Description": "",
              "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 2,\n  \"id\": \"06082\",\n  \"traits\": \"Humanoid. Staff. Spider.\",\n  \"type\": \"Enemy\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276238,
              "SidewaysCard": false,
              "CustomDeck": {
                "2762": {
                  "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "a9c8b3",
              "Name": "Card",
              "Transform": {
                "posX": -7.00000572,
                "posY": 1.51929474,
                "posZ": 9.500004,
                "rotX": 0.0108914021,
                "rotY": 180.000351,
                "rotZ": 0.004948243,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Salle des Urgences",
              "Description": "St. Mary.",
              "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06071\",\n  \"locationBack\": {\n    \"connections\": \"Circle|Triangle\",\n    \"icons\": \"Square\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    },\n    \"victory\": 1\n  },\n  \"locationFront\": {\n    \"connections\": \"Circle|Triangle\",\n    \"icons\": \"Square\"\n  },\n  \"traits\": \"St Mary's.\",\n  \"type\": \"Location\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276561,
              "SidewaysCard": false,
              "CustomDeck": {
                "2765": {
                  "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                  "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "ab60e2",
              "Name": "Card",
              "Transform": {
                "posX": -29.9075565,
                "posY": 1.83360457,
                "posZ": 8.499735,
                "rotX": 6.55684335E-06,
                "rotY": 180.000092,
                "rotZ": -1.33369049E-05,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Aide-Soignant Corrompu",
              "Description": "",
              "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 2,\n  \"id\": \"06082\",\n  \"traits\": \"Humanoid. Staff. Spider.\",\n  \"type\": \"Enemy\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276237,
              "SidewaysCard": false,
              "CustomDeck": {
                "2762": {
                  "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "ba6b8d",
              "Name": "Deck",
              "Transform": {
                "posX": -34.0000954,
                "posY": 1.83425808,
                "posZ": 3.99990845,
                "rotX": -4.98272857E-06,
                "rotY": 179.999908,
                "rotZ": 180.0,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Les Airaignées",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": false,
              "SidewaysCard": false,
              "DeckIDs": [
                276618,
                276619,
                276620,
                276622,
                276233,
                276234,
                276236,
                276621,
                276617
              ],
              "CustomDeck": {
                "2766": {
                  "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                },
                "2762": {
                  "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "e68b8c",
                  "Name": "Card",
                  "Transform": {
                    "posX": -34.0000763,
                    "posY": 4.884962,
                    "posZ": 3.99991775,
                    "rotX": -5.695993E-06,
                    "rotY": 180.000214,
                    "rotZ": 2.34589584E-06,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Toiles Répugnantes",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06103\",\n  \"traits\": \"Obstacle.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276618,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "5226a1",
                  "Name": "Card",
                  "Transform": {
                    "posX": -34.0000763,
                    "posY": 5.084962,
                    "posZ": 3.99991775,
                    "rotX": -5.695993E-06,
                    "rotY": 180.000214,
                    "rotZ": 2.34589584E-06,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Nuée d'Araignées",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 1,\n  \"id\": \"06102\",\n  \"traits\": \"Creature. Spider.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276619,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "d665d9",
                  "Name": "Card",
                  "Transform": {
                    "posX": -34.0000763,
                    "posY": 5.2849617,
                    "posZ": 3.99991775,
                    "rotX": -5.695993E-06,
                    "rotY": 180.000214,
                    "rotZ": 2.34589584E-06,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Nuée d'Araignées",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 1,\n  \"id\": \"06102\",\n  \"traits\": \"Creature. Spider.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276620,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "16599b",
                  "Name": "Card",
                  "Transform": {
                    "posX": -34.0000763,
                    "posY": 5.484962,
                    "posZ": 3.99991775,
                    "rotX": -5.695993E-06,
                    "rotY": 180.000214,
                    "rotZ": 2.34589584E-06,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Araignée de Leng",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 4,\n  \"id\": \"06101\",\n  \"traits\": \"Monster. Spider.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276622,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "19ea05",
                  "Name": "Card",
                  "Transform": {
                    "posX": -34.0000763,
                    "posY": 5.684962,
                    "posZ": 3.99991775,
                    "rotX": -5.695993E-06,
                    "rotY": 180.000214,
                    "rotZ": 2.34589584E-06,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Épidémie",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06083\",\n  \"traits\": \"Hazard.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276233,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "284576",
                  "Name": "Card",
                  "Transform": {
                    "posX": -34.0000763,
                    "posY": 5.884962,
                    "posZ": 3.99991775,
                    "rotX": -5.695993E-06,
                    "rotY": 180.000214,
                    "rotZ": 2.34589584E-06,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Épidémie",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06083\",\n  \"traits\": \"Hazard.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276234,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "74a327",
                  "Name": "Card",
                  "Transform": {
                    "posX": -34.0000763,
                    "posY": 6.084962,
                    "posZ": 3.99991775,
                    "rotX": -5.695993E-06,
                    "rotY": 180.000214,
                    "rotZ": 2.34589584E-06,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Épidémie",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06083\",\n  \"traits\": \"Hazard.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276236,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "daef63",
                  "Name": "Card",
                  "Transform": {
                    "posX": -34.0000763,
                    "posY": 6.2849617,
                    "posZ": 3.99991775,
                    "rotX": -5.695993E-06,
                    "rotY": 180.000214,
                    "rotZ": 2.34589584E-06,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Nuée d'Araignées",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 1,\n  \"id\": \"06102\",\n  \"traits\": \"Creature. Spider.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276621,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "83bcf0",
                  "Name": "Card",
                  "Transform": {
                    "posX": -34.0000763,
                    "posY": 1.92930472,
                    "posZ": 3.99991775,
                    "rotX": -0.00254845,
                    "rotY": 180.000214,
                    "rotZ": -0.00109011587,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Toiles Répugnantes",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06103\",\n  \"traits\": \"Obstacle.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276617,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "ce0f11",
              "Name": "Card",
              "Transform": {
                "posX": -1.50000858,
                "posY": 1.52224135,
                "posZ": 27.4999981,
                "rotX": 0.0108915968,
                "rotY": 179.999237,
                "rotZ": 0.004948205,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Bureau des Archives",
              "Description": "St. Mary.",
              "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06073\",\n  \"locationBack\": {\n    \"connections\": \"Circle\",\n    \"icons\": \"Diamond\",\n    \"uses\": {\n      \"countPerInvestigator\": 2,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    },\n    \"victory\": 2\n  },\n  \"locationFront\": {\n    \"connections\": \"Circle\",\n    \"icons\": \"Diamond\"\n  },\n  \"traits\": \"St Mary's.\",\n  \"type\": \"Location\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276563,
              "SidewaysCard": false,
              "CustomDeck": {
                "2765": {
                  "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                  "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "ce2639",
              "Name": "Card",
              "Transform": {
                "posX": -1.50000358,
                "posY": 1.52053058,
                "posZ": 18.5000038,
                "rotX": 0.0108916182,
                "rotY": 179.997864,
                "rotZ": 0.00494782673,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Salle d'Attente",
              "Description": "St. Mary.",
              "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06070\",\n  \"locationBack\": {\n    \"connections\": \"Diamond|Triangle|Square\",\n    \"icons\": \"Circle\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    }\n  },\n  \"locationFront\": {\n    \"connections\": \"Diamond|Triangle|Square\",\n    \"icons\": \"Circle\"\n  },\n  \"traits\": \"St Mary's.\",\n  \"type\": \"Location\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276560,
              "SidewaysCard": false,
              "CustomDeck": {
                "2765": {
                  "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                  "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "d00b30",
              "Name": "Custom_Tile",
              "Transform": {
                "posX": 1.499998,
                "posY": 1.50581133,
                "posZ": 14.0000038,
                "rotX": 0.01190676,
                "rotY": 149.992355,
                "rotZ": -0.00116052106,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.6045295,
                "g": 0.6045295,
                "b": 0.6045295
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://i.imgur.com/vppt2my.png",
                "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomTile": {
                  "Type": 3,
                  "Thickness": 0.1,
                  "Stackable": false,
                  "Stretch": true
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "States": {
                "2": {
                  "GUID": "44b0c5",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -39.7933121,
                    "posY": 1.63758957,
                    "posZ": 2.038383,
                    "rotX": 359.9201,
                    "rotY": 269.9961,
                    "rotZ": 0.0168742146,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                "3": {
                  "GUID": "5b38c6",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -38.8217163,
                    "posY": 1.99356019,
                    "posZ": 0.4159239,
                    "rotX": 359.9201,
                    "rotY": 272.9828,
                    "rotZ": 0.01687373,
                    "scaleX": 0.8,
                    "scaleY": 1.0,
                    "scaleZ": 0.8
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              }
            },
            {
              "GUID": "e44496",
              "Name": "Deck",
              "Transform": {
                "posX": 30.5000229,
                "posY": 1.61727989,
                "posZ": -3.00009251,
                "rotX": -0.000591728254,
                "rotY": 180.0308,
                "rotZ": 180.001068,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Deck Rencontre",
              "Description": "Cauchemar Éveillé",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": false,
              "SidewaysCard": false,
              "DeckIDs": [
                18433,
                18432,
                18500,
                276240,
                18437,
                18436,
                18434,
                18435,
                16900,
                16901,
                276643,
                276644,
                276645,
                279023,
                279024,
                279025,
                279026,
                279027,
                279028,
                276239
              ],
              "CustomDeck": {
                "184": {
                  "FaceURL": "https://i.imgur.com/7H57eeO.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                },
                "185": {
                  "FaceURL": "https://i.imgur.com/f8FRV80.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                },
                "2762": {
                  "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                },
                "169": {
                  "FaceURL": "https://i.imgur.com/7H57eeO.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                },
                "2766": {
                  "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                },
                "2790": {
                  "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "07ff5e",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.50002,
                    "posY": 7.96961975,
                    "posZ": -3.00009227,
                    "rotX": -0.0005910336,
                    "rotY": 180.030746,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Voix Dissonantes",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"01165\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 18433,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "184": {
                      "FaceURL": "https://i.imgur.com/7H57eeO.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "e9a446",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.50002,
                    "posY": 8.117139,
                    "posZ": -3.00009227,
                    "rotX": -0.0005914821,
                    "rotY": 180.030746,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Voix Dissonantes",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"01165\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 18432,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "184": {
                      "FaceURL": "https://i.imgur.com/7H57eeO.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "0783ce",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.50002,
                    "posY": 7.91713858,
                    "posZ": -3.00009227,
                    "rotX": -0.0005914821,
                    "rotY": 180.030746,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Paralysé par la Peur",
                  "Description": "",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"01164\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 18500,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "185": {
                      "FaceURL": "https://i.imgur.com/f8FRV80.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "102c28",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.50002,
                    "posY": 5.66828156,
                    "posZ": -3.00009227,
                    "rotX": -0.0005914821,
                    "rotY": 180.030746,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Aide-Soignant Suspicieux",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06081\",\n  \"traits\": \"Humanoid. Staff.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276240,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "68be1e",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.50002,
                    "posY": 7.71713924,
                    "posZ": -3.00009227,
                    "rotX": -0.0005914821,
                    "rotY": 180.030746,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Paralysé par la Peur",
                  "Description": "",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"01164\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 18437,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "184": {
                      "FaceURL": "https://i.imgur.com/7H57eeO.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "2e3a70",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.50002,
                    "posY": 7.51713848,
                    "posZ": -3.00009227,
                    "rotX": -0.0005914821,
                    "rotY": 180.030746,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Restes Pourrissants",
                  "Description": "",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"01163\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 18436,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "184": {
                      "FaceURL": "https://i.imgur.com/7H57eeO.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "365129",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.50002,
                    "posY": 7.31713867,
                    "posZ": -3.00009227,
                    "rotX": -0.0005914821,
                    "rotY": 180.030746,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Restes Pourrissants",
                  "Description": "",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"01163\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 18434,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "184": {
                      "FaceURL": "https://i.imgur.com/7H57eeO.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "5e2ae4",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.50002,
                    "posY": 7.11713934,
                    "posZ": -3.00009227,
                    "rotX": -0.0005914821,
                    "rotY": 180.030746,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Restes Pourrissants",
                  "Description": "",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"01163\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 18435,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "184": {
                      "FaceURL": "https://i.imgur.com/7H57eeO.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "4b7dd0",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.50002,
                    "posY": 6.569621,
                    "posZ": -3.00009227,
                    "rotX": -0.000591053,
                    "rotY": 180.030746,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Porte Verrouillée",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"01174\",\n  \"traits\": \"Obstacle.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 16900,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "169": {
                      "FaceURL": "https://i.imgur.com/7H57eeO.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "c1f477",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.50002,
                    "posY": 6.71713972,
                    "posZ": -3.00009227,
                    "rotX": -0.0005914821,
                    "rotY": 180.030746,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Porte Verrouillée",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"01174\",\n  \"traits\": \"Obstacle.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 16901,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "169": {
                      "FaceURL": "https://i.imgur.com/7H57eeO.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "2b562d",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.50002,
                    "posY": 6.51714,
                    "posZ": -3.00009227,
                    "rotX": -0.0005914821,
                    "rotY": 180.030746,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Murmures d'Hypnos",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06090\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276643,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "10e85a",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.50002,
                    "posY": 5.9696207,
                    "posZ": -3.00009227,
                    "rotX": -0.00059112,
                    "rotY": 180.030746,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Murmures d'Hypnos",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06090\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276644,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "7e2db0",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.50002,
                    "posY": 6.11714,
                    "posZ": -3.00009227,
                    "rotX": -0.0005914821,
                    "rotY": 180.030746,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Murmures d'Hypnos",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06090\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276645,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "3126c8",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.50002,
                    "posY": 5.91714,
                    "posZ": -3.00009227,
                    "rotX": -0.0005914821,
                    "rotY": 180.030746,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Écheveau de la Réalité",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06100\",\n  \"traits\": \"Power.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 279023,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2790": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "df7d61",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.50002,
                    "posY": 5.71713972,
                    "posZ": -3.00009227,
                    "rotX": -0.0005914821,
                    "rotY": 180.030746,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Écheveau de la Réalité",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06100\",\n  \"traits\": \"Power.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 279024,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2790": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "90a3c9",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.50002,
                    "posY": 5.51714,
                    "posZ": -3.00009227,
                    "rotX": -0.0005914821,
                    "rotY": 180.030746,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Aperçu du Monde Souterrain",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06099\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 279025,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2790": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "65c5da",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.50002,
                    "posY": 5.31713963,
                    "posZ": -3.00009227,
                    "rotX": -0.0005914821,
                    "rotY": 180.030746,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Aperçu du Monde Souterrain",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06099\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 279026,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2790": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "332ec0",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.50002,
                    "posY": 5.11714,
                    "posZ": -3.00009227,
                    "rotX": -0.0005914821,
                    "rotY": 180.030746,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Terreurs Nocturnes",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06098\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 279027,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2790": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "55d389",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.50002,
                    "posY": 4.91714,
                    "posZ": -3.00009227,
                    "rotX": -0.0005914821,
                    "rotY": 180.030746,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Terreurs Nocturnes",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06098\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 279028,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2790": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "c7fcc6",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.50002,
                    "posY": 4.71713972,
                    "posZ": -3.00009227,
                    "rotX": -0.0005914821,
                    "rotY": 180.030746,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Aide-Soignant Suspicieux",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06081\",\n  \"traits\": \"Humanoid. Staff.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276239,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "efd023",
              "Name": "Card",
              "Transform": {
                "posX": -19.0000629,
                "posY": 1.783606,
                "posZ": 2.99975848,
                "rotX": -4.999293E-06,
                "rotY": 180.002777,
                "rotZ": -5.839608E-08,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Dr Shivani Maheswaran",
              "Description": "Practicienne des Urgences",
              "GMNotes": "{\n  \"class\": \"Neutral\",\n  \"cycle\": \"Standalone\",\n  \"health\": 1,\n  \"id\": \"06080\",\n  \"sanity\": 3,\n  \"traits\": \"Ally. Medic.\",\n  \"type\": \"Asset\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276241,
              "SidewaysCard": false,
              "CustomDeck": {
                "2762": {
                  "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            }
          ],
          "AttachedDecals": [
            {
              "Transform": {
                "posX": -0.0021877822,
                "posY": -0.08963572,
                "posZ": -0.00288731651,
                "rotX": 270.0,
                "rotY": 359.869568,
                "rotZ": 0.0,
                "scaleX": 2.00000215,
                "scaleY": 2.00000238,
                "scaleZ": 2.00000262
              },
              "CustomDecal": {
                "Name": "dunwich_back",
                "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/959719855119695911/931B9829687A20F4DEADB36DA57B7E6D76792231/",
                "Size": 7.4
              }
            }
          ]
        },
        {
          "GUID": "afee99",
          "Name": "Custom_PDF",
          "Transform": {
            "posX": -20.5,
            "posY": 1.47986,
            "posZ": -5.0,
            "rotX": -1.11204969E-07,
            "rotY": 179.9975,
            "rotZ": -1.87803778E-07,
            "scaleX": 2.05722,
            "scaleY": 1.0,
            "scaleZ": 2.05722
          },
          "Nickname": "Les Dévoreurs de Rêves",
          "Description": "",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomPDF": {
            "PDFUrl": "https://steamusercontent-a.akamaihd.net/ugc/1936013662297843834/6C2D5C95F9AE367A5255B6A7EE2E59A58A504D74/",
            "PDFPassword": "",
            "PDFPage": 0,
            "PDFPageOffset": 0
          },
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "b2f07e",
          "Name": "Custom_Model",
          "Transform": {
            "posX": -26.9575958,
            "posY": 1.77099943,
            "posZ": 22.7805233,
            "rotX": 4.996408E-06,
            "rotY": 0.000416463823,
            "rotZ": 7.310881E-08,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "A / B",
          "Description": "Choisir la Campagne A ou B selon le scénario joué",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "ColorDiffuse": {
            "r": 0.0,
            "g": 0.0,
            "b": 0.0,
            "a": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": false,
          "Tooltip": false,
          "GridProjection": true,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomMesh": {
            "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/1478820768302617365/27883B7913E0E69143C3AA03493B7E7C4E8C29C0/",
            "DiffuseURL": "",
            "NormalURL": "",
            "ColliderURL": "",
            "Convex": true,
            "MaterialIndex": 1,
            "TypeIndex": 0,
            "CastShadows": true
          },
          "LuaScript": "-- Code for bag to identify text tool objects\r\nmovableTextTool_cowgoesmoo33 = true\r\n\r\n-- Number of characters before the text box width expands.\r\nEXPAND_INTERVAL = 20\r\n\r\n-- This table controls what is passed between save/load\r\ndata = {}\r\n\r\nfunction onLoad(saved_data)\r\n  if saved_data ~= '' then\r\n    data = JSON.decode(saved_data)\r\n    if data.text ~= '' then\r\n      self.interactable = data.interactable\r\n      staticMode()\r\n      return\r\n    end\r\n  else\r\n    data = {size=200, color=Color(0,0,0), text='', interactable=true,\r\n        enter_to_finish=false, autolock=false, autolift=false,\r\n        hover_height=0.05, box_transparency=1}\r\n  end\r\n\r\n  inputMode()\r\nend\r\n\r\n-- True if in the middle of delay after pressing Enter (with enter_to_finish on)\r\nfinishing = false\r\nfunction input_func(obj, color, input, stillEditing)\r\n  local params = getBox(input)\r\n  if params then\r\n    params.value = input\r\n    self.editInput(params)\r\n  end\r\n\r\n  if not stillEditing then\r\n    data.text = input\r\n    updateState()\r\n    if input ~= '' then staticMode(color) end\r\n  elseif data.enter_to_finish then\r\n    -- If enter is pressed: remove last newline and force finish\r\n    if not finishing and input:sub(-1) == '\\n' then\r\n      finishing = true\r\n      -- Delay to avoid user's Enter keypress being detected (opens chat box)\r\n      Wait.frames(function()\r\n        input = input:sub(1, -2)\r\n        data.text = input\r\n        updateState()\r\n        if input ~= '' then staticMode(color) else inputMode() end\r\n        finishing = false\r\n      end, 10)\r\n    end\r\n  end\r\nend\r\n\r\n-- When the inpupt box appears and lets the player type in it.\r\nfunction inputMode()\r\n  self.clearContextMenu()\r\n  self.clearInputs()\r\n  self.clearButtons()\r\n\r\n  local size = getBox(data.text, true)\r\n\r\n  self.createInput({\r\n    input_function = \"input_func\",\r\n    function_owner = self,\r\n    label          = \"Type Here\",\r\n    alignment      = 3,\r\n    position       = {x=0, y=data.hover_height, z=0},\r\n    rotation       = {0, 180, 0},\r\n    width          = size.width,\r\n    height         = size.height,\r\n    color          = getBackground(data.color),\r\n    font_color     = data.color,\r\n    font_size      = data.size,\r\n    value          = data.text,\r\n  })\r\n\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\nend\r\n\r\n-- When the input box disappears and displays the text.\r\nfunction staticMode(player)\r\n  self.clearContextMenu()\r\n  if data.autolock then\r\n    self.locked = true\r\n  end\r\n  if self.getInputs() and #self.getInputs() ~= 0 then\r\n    self.removeInput(0)\r\n  end\r\n\r\n  -- Clear from selecting player\r\n  if player then\r\n    self.removeFromPlayerSelection(player)\r\n  end\r\n\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  self.createButton({\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=self,\r\n    position={0,data.hover_height,0}, rotation={0,180,0}, height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  })\r\n\r\n  self.addContextMenuItem('Edit Text', function(color)\r\n    self.removeFromPlayerSelection(color)\r\n    inputMode()\r\n  end)\r\n  self.addContextMenuItem('Clear', function(color)\r\n    applyMultiple(color, 'clear', _, true)\r\n  end)\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\n  self.addContextMenuItem('Permanently Attach', attemptAttach)\r\n  self.addContextMenuItem('Permalock', function(color)\r\n    applyMultiple(color, 'permalock', _, true)\r\n  end)\r\nend\r\n\r\nfunction changeSize(params)\r\n  local delta = params[1]\r\n  local newSize = data.size + delta\r\n  if newSize > 800  or newSize < 50 then\r\n    return\r\n  end\r\n  data.size = newSize\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_size=data.size})\r\n  else\r\n    local size = getBox(data.text, true)\r\n    self.editInput({width=size.width, height=size.height, font_size=data.size})\r\n  end\r\nend\r\n\r\nfunction setColor(params)\r\n  if params and params[1] then\r\n    data.color = params[1]\r\n  else\r\n    data.color = self.getColorTint():setAt('a', 1) -- Take on color of object tint\r\n  end\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_color=data.color})\r\n  else\r\n    self.editInput({font_color=data.color, color=getBackground(data.color)})\r\n  end\r\nend\r\n\r\nfunction getBackground(color) --determines whether to use black or white depending on luminance\r\n  local r,g,b = Color(color):get()\r\n\r\n  local lum = 0.2126*r + 0.7152*g + 0.0722*b\r\n  if lum > 0.75 then\r\n    return {0.2,0.2,0.2, data.box_transparency}\r\n  else\r\n    return {1,1,1, data.box_transparency}\r\n  end\r\nend\r\n\r\nfunction clear()\r\n  data.text = ''\r\n  updateState()\r\n  inputMode()\r\nend\r\n\r\nfunction permalock()\r\n  self.interactable = false\r\n  data.interactable = false\r\n  updateState()\r\nend\r\n\r\nlocal target_script = [[\r\nfunction onLoad(script_state)\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    for _,entry in ipairs(state) do\r\n      self.createButton(entry)\r\n    end\r\n    self.addContextMenuItem('Clear All Text', function(color)\r\n      self.clearContextMenu()\r\n      self.clearButtons()\r\n      self.script_state = ''\r\n      self.script_code = ''\r\n    end)\r\n  end\r\nend\r\n]]\r\n\r\nfunction attemptAttach(player_color)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  local attachee\r\n  local attachers = {}\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if obj ~= self then\r\n        table.insert(attachers, obj)\r\n      end\r\n    else\r\n      if attachee then\r\n        broadcastToColor(\"More than one target selected.\", player_color)\r\n        return\r\n      else\r\n        attachee = obj\r\n      end\r\n    end\r\n  end\r\n  if attachee then\r\n    local code = attachee.script_code\r\n    if code and code ~= '' and code ~= target_script then\r\n      broadcastToColor(\"Warning: script on card has been overriden. Rewind time to undo.\", player_color)\r\n    end\r\n    for i,attacher in ipairs(attachers) do\r\n      attacher.call('attach', {target = attachee})\r\n    end\r\n    attach({target = attachee})\r\n    local type, flip = attachee.type, attachee.getRotation().z\r\n    if (type == 'Card' or type == 'Deck') and flip > 175 and flip < 185 then\r\n      broadcastToColor(\"Warning: text will not display if card or deck is facing down.\", player_color)\r\n    end\r\n  else\r\n    broadcastToColor(\"You must have a target object in your selection (using click-and-drag or Ctrl+Click) to use this option.\", player_color)\r\n  end\r\nend\r\n\r\nfunction attach(params)\r\n  local target = params.target\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  local textRotation = self.getRotation():sub(target.getRotation())\r\n    :add(Vector(180, 0, 180))\r\n\r\n  local textPosition = target.positionToLocal(\r\n    self.getPosition():add(Vector(0, data.hover_height, 0))\r\n  )\r\n  textPosition.x = -textPosition.x\r\n\r\n  local textScale = {}\r\n  textScale.x = self.getScale().x / target.getScale().x\r\n  textScale.y = self.getScale().x / target.getScale().y\r\n  textScale.z = self.getScale().x / target.getScale().z\r\n\r\n  local details = {\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=nil,\r\n    position=textPosition,\r\n    rotation=textRotation,\r\n    scale=textScale,\r\n    height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  }\r\n\r\n  target.createButton(details)\r\n\r\n  local script_state = target.script_state\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    table.insert(state, details)\r\n    target.script_state = JSON.encode(state)\r\n  else\r\n    target.script_state = JSON.encode({[1]=details})\r\n  end\r\n\r\n  target.script_code = target_script\r\n\r\n  self.destruct()\r\nend\r\n\r\nfunction applyMultiple(player_color, func_string, params, static_only)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if not static_only or obj.call('isStatic') then\r\n        obj.call(func_string, params)\r\n      end\r\n    end\r\n  end\r\nend\r\n\r\nfunction isStatic()\r\n  local input = self.getInputs()\r\n  return not input or #input == 0\r\nend\r\n\r\nfunction getBox(input, force)\r\n  local maxLength, lineCount = EXPAND_INTERVAL, 1\r\n  local lineLength = 0\r\n  for i = 1, #input do\r\n    local c = input:sub(i,i)\r\n    if c == '\\n' then\r\n      lineCount = lineCount + 1\r\n      if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n      lineLength = 0\r\n    else\r\n      lineLength = lineLength + 1\r\n    end\r\n  end\r\n  if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n\r\n  newWidth = data.size * maxLength * 0.9\r\n  newHeight = data.size * lineCount + 23\r\n\r\n  if force or boxWidth ~= newWidth or boxHeight ~= newHeight then\r\n    boxWidth, boxHeight = newWidth, newHeight\r\n    return {width = boxWidth, height = boxHeight}\r\n  end\r\n  return nil\r\nend\r\n\r\ntemp_lift = nil\r\nfunction onPickUp(player_color)\r\n  if data.autolift then\r\n    local player = Player[player_color]\r\n    temp_lift = player.lift_height\r\n    player.lift_height = 0\r\n  end\r\nend\r\n\r\nfunction onDrop(player_color)\r\n  if data.autolift and temp_lift then\r\n    Player[player_color].lift_height = temp_lift\r\n  end\r\nend\r\n\r\n-- Should be called every time data is modified, allows info to be saved on copy/paste\r\nfunction updateState()\r\n  self.script_state = JSON.encode(data)\r\nend\r\n\r\nfunction onSave()\r\n  self.script_state = JSON.encode(data)\r\n  return self.script_state\r\nend",
          "LuaScriptState": "{\"autolift\":false,\"autolock\":false,\"box_transparency\":1,\"color\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1},\"enter_to_finish\":false,\"hover_height\":0.05,\"interactable\":true,\"size\":300,\"text\":\"Placer la Campagne A/B correspondante au Scénario joué\"}",
          "XmlUI": ""
        },
        {
          "GUID": "cb6210",
          "Name": "Custom_Model_Bag",
          "Transform": {
            "posX": 9.000003,
            "posY": 0.979997337,
            "posZ": 46.5000038,
            "rotX": -5.427405E-06,
            "rotY": 179.999878,
            "rotZ": 2.7879895E-07,
            "scaleX": 1.493596,
            "scaleY": 0.310884237,
            "scaleZ": 1.63552141
          },
          "Nickname": "III-A : La Face Cachée de la Lune",
          "Description": "Les Dévoreurs de Rêves",
          "GMNotes": "La Face Cachée de la Lune",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "CustomMesh": {
            "MeshURL": "https://raw.githubusercontent.com/RobMayer/TTSLibrary/master/advboxes/tuckbox_h_MSH.obj",
            "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/778493962298058421/0B46C836BDF38F4DA05812D232294D51B421D951/",
            "NormalURL": "",
            "ColliderURL": "",
            "Convex": true,
            "MaterialIndex": 3,
            "TypeIndex": 6,
            "CustomShader": {
              "SpecularColor": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "SpecularIntensity": 0.0,
              "SpecularSharpness": 2.0,
              "FresnelStrength": 0.0
            },
            "CastShadows": true
          },
          "Bag": {
            "Order": 0
          },
          "LuaScript": "-- Utility memory bag by Directsun\r\n-- Version 2.7.0\r\n-- Fork of Memory Bag 2.0 by MrStump\r\n--\r\n-- Want to contribute? Create an issue or fork the code on GitHub and submit a pull request:\r\n-- https://github.com/sunflowermans/TTS-UtilityMemoryBag\r\n\r\n\r\nfunction updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction combineMemoryFromBagsWithin()\r\n    local bagObjList = self.getObjects()\r\n    for _, bagObj in ipairs(bagObjList) do\r\n        local data = bagObj.lua_script_state\r\n        if data ~= nil then\r\n            local j = JSON.decode(data)\r\n            if j ~= nil and j.ml ~= nil then\r\n                for guid, entry in pairs(j.ml) do\r\n                    memoryList[guid] = entry\r\n                end\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateMemoryWithMoves()\r\n    memoryList = memoryListBackup\r\n    --get the first transposed object's coordinates\r\n    local obj = getObjectFromGUID(moveGuid)\r\n\r\n    -- p1 is where needs to go, p2 is where it was\r\n    local refObjPos = memoryList[moveGuid].pos\r\n    local deltaPos = findOffsetDistance(obj.getPosition(), refObjPos, nil)\r\n    local movedRotation = obj.getRotation()\r\n    for guid, entry in pairs(memoryList) do\r\n        memoryList[guid].pos.x = entry.pos.x - deltaPos.x\r\n        memoryList[guid].pos.y = entry.pos.y - deltaPos.y\r\n        memoryList[guid].pos.z = entry.pos.z - deltaPos.z\r\n        -- memoryList[guid].rot.x = movedRotation.x\r\n        -- memoryList[guid].rot.y = movedRotation.y\r\n        -- memoryList[guid].rot.z = movedRotation.z\r\n    end\r\n\r\n    --theList[obj.getGUID()] = {\r\n    --    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n    --    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n    --    lock=obj.getLock()\r\n    --}\r\n    moveList = {}\r\nend\r\n\r\nfunction onload(saved_data)\r\n\r\n    fresh = true\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n\r\n    end\r\n\r\n    moveList = {}\r\n    moveGuid = nil\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        fresh = false\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\n function createSetupButton()\r\n    self.createButton({\r\n      label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n      position={0,0.1,-2.1}, rotation={0,0,0}, height=275, width=625,\r\n      font_size=150, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n end\r\n\r\n--Triggered by Transpose button\r\nfunction buttonClick_transpose()\r\n    moveGuid = nil\r\n    broadcastToAll(\"Select one object and move it- all objects will move relative to the new location\", {0.75, 0.75, 1})\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(true)\r\n    createSetupActionButtons(true)\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(false)\r\n    createSetupActionButtons(false)\r\nend\r\n\r\nfunction getAllObjectsInMemory()\r\n    local objTable = {}\r\n    local curObj = {}\r\n\r\n    for guid in pairs(memoryListBackup) do\r\n        curObj = getObjectFromGUID(guid)\r\n        table.insert(objTable, curObj)\r\n    end\r\n\r\n    return objTable\r\n    -- return getAllObjects()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects(move)\r\n    buttonIndexMap = {}\r\n    local howManyButtons = 0\r\n\r\n    local objsToHaveButtons = {}\r\n    if move == true then\r\n        objsToHaveButtons = getAllObjectsInMemory()\r\n    else\r\n        objsToHaveButtons = getAllObjects()\r\n    end\r\n\r\n    for _, obj in ipairs(objsToHaveButtons) do\r\n        if obj ~= self then\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1* 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor + 2\r\n            objPos.z = objPos.z * globalScaleFactor * 0.9\r\n            --Workaround for custom PDFs\r\n            if obj.Book then\r\n                objPos.y = objPos.y + 0.5\r\n            end\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(obj, move) end\r\n            local color = {0.75,0.25,0.25,0.6}\r\n            local colorMove = {0,0,1,0.6}\r\n            if move == true then\r\n                color = colorMove\r\n            end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=500, width=500,\r\n                color=color,\r\n            })\r\n            buttonIndexMap[obj.getGUID()] = howManyButtons\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons(move)\r\n    self.createButton({\r\n        label=\"Annuler\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n      position={-0.7,0.1,2.1}, rotation={0,0,0}, height=275, width=625,\r\n      font_size=145, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    self.createButton({\r\n        label=\"Valider\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={-0.7,0.3,2.6}, rotation={0,0,0}, height=275, width=625,\r\n        font_size=140, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    if move == false then\r\n      self.createButton({\r\n          label=\"Ajouter\", click_function=\"buttonClick_add\", function_owner=self,\r\n          position={0.7,0.3,2.1}, rotation={0,0,0}, height=275, width=625,\r\n          font_size=140, color={0,0,0}, font_color={0.25,1,0.25}\r\n      })\r\n\r\n        self.createButton({\r\n            label=\"Sélection\", click_function=\"editDragSelection\", function_owner=self,\r\n            position={-0.7,0.3,3.1}, rotation={0,0,0}, height=275, width=625,\r\n            font_size=125, color={0,0,0}, font_color={1,1,1}\r\n        })\r\n\r\n        if fresh == false then\r\n                self.createButton({\r\n                    label=\"Mise à jour\", click_function=\"buttonClick_setNew\", function_owner=self,\r\n                    position={0.7,0.3,3.1}, rotation={0,0,0}, height=275, width=625,\r\n                    font_size=105, color={0,0,0}, font_color={0.75,0.75,1}\r\n                })\r\n                self.createButton({\r\n                    label=\"Retirer\", click_function=\"buttonClick_remove\", function_owner=self,\r\n                    position={0.7,0.3,2.6}, rotation={0,0,0}, height=275, width=625,\r\n                    font_size=140, color={0,0,0}, font_color={1,0.25,0.25}\r\n                })\r\n            end\r\n        end\r\n\r\n        self.createButton({\r\n            label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n            position={0,0.3,-2.1}, rotation={0,0,0}, height=275, width=625,\r\n            font_size=165, color={0,0,0}, font_color={1,1,1}\r\n        })\r\n    end\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(obj, move)\r\n    local index = buttonIndexMap[obj.getGUID()]\r\n    local colorMove = {0,0,1,0.6}\r\n    local color = {0,1,0,0.6}\r\n\r\n    previousGuid = selectedGuid\r\n    selectedGuid = obj.getGUID()\r\n\r\n    theList = memoryList\r\n    if move == true then\r\n        theList = moveList\r\n        if previousGuid ~= nil and previousGuid ~= selectedGuid then\r\n            local prevObj = getObjectFromGUID(previousGuid)\r\n            prevObj.highlightOff()\r\n            self.editButton({index=previousIndex, color=colorMove})\r\n            theList[previousGuid] = nil\r\n        end\r\n        previousIndex = index\r\n    end\r\n\r\n    if theList[selectedGuid] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        theList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock(),\r\n            tint=obj.getColorTint()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        if move == true then\r\n            color = colorMove\r\n        end\r\n        self.editButton({index=index, color=color})\r\n        theList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\nfunction editDragSelection(bagObj, player, remove)\r\n    local selectedObjs = Player[player].getSelectedObjects()\r\n    if not remove then\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            --Ignore if already in the memory list, or does not have a button\r\n            if index and not memoryList[obj.getGUID()] then\r\n                self.editButton({index=index, color={0,1,0,0.6}})\r\n                --Adding pos/rot to memory table\r\n                local pos, rot = obj.getPosition(), obj.getRotation()\r\n                --I need to add it like this or it won't save due to indexing issue\r\n                memoryList[obj.getGUID()] = {\r\n                    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n                    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n                    lock=obj.getLock(),\r\n                    tint=obj.getColorTint()\r\n                }\r\n                obj.highlightOn({0,1,0})\r\n            end\r\n        end\r\n    else\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            if index and memoryList[obj.getGUID()] then\r\n                color = {0.75,0.25,0.25,0.6}\r\n                self.editButton({index=index, color=color})\r\n                memoryList[obj.getGUID()] = nil\r\n                obj.highlightOff()\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Sélection annulée\", {1,1,1})\r\n    moveGuid = nil\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    fresh = false\r\n    if next(moveList) ~= nil then\r\n        for guid in pairs(moveList) do\r\n            moveGuid = guid\r\n        end\r\n        if memoryListBackup[moveGuid] == nil then\r\n            broadcastToAll(\"Item selected for moving is not already in memory\", {1, 0.25, 0.25})\r\n        else\r\n            broadcastToAll(\"Moving all items in memory relative to new objects position!\", {0.75, 0.75, 1})\r\n            self.clearButtons()\r\n            self.clearInputs()\r\n            createMemoryActionButtons()\r\n            local count = 0\r\n            for guid in pairs(moveList) do\r\n                moveGuid = guid\r\n                count = count + 1\r\n                local obj = getObjectFromGUID(guid)\r\n                if obj ~= nil then obj.highlightOff() end\r\n            end\r\n            updateMemoryWithMoves()\r\n            updateSave()\r\n            buttonClick_place()\r\n        end\r\n    elseif next(memoryList) == nil and moveGuid == nil then\r\n        memoryList = memoryListBackup\r\n        broadcastToAll(\"No selections made.\", {0.75, 0.25, 0.25})\r\n    end\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\n    moveGuid = nil\r\nend\r\n\r\nfunction combineTables(first_table, second_table)\r\n    for k,v in pairs(second_table) do first_table[k] = v end\r\nend\r\n\r\nfunction buttonClick_add()\r\n    fresh = false\r\n    combineTables(memoryList, memoryListBackup)\r\n    broadcastToAll(\"Adding internal bags and selections to existing memory\", {0.25, 0.75, 0.25})\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_remove()\r\n    broadcastToAll(\"Removing Selected Entries From Memory\", {1.0, 0.25, 0.25})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        memoryListBackup[guid] = nil\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Removed\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_setNew()\r\n    broadcastToAll(\"Setting new position relative to items in memory\", {0.75, 0.75, 1})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        guid = obj.guid\r\n        if memoryListBackup[guid] ~= nil then\r\n            count = count + 1\r\n            memoryListBackup[guid].pos = obj.getPosition()\r\n            memoryListBackup[guid].rot = obj.getRotation()\r\n            memoryListBackup[guid].lock = obj.getLock()\r\n            memoryListBackup[guid].tint = obj.getColorTint()\r\n        end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    fresh = true\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Placer\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0.7,0.1,2.2}, rotation={0,0,0}, height=275, width=625,\r\n        font_size=150, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Ranger\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={-0.7,0.1,2.2}, rotation={0,0,0}, height=275, width=625,\r\n        font_size=150, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.1,-2.2}, rotation={0,0,0}, height=275, width=625,\r\n        font_size=150, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    ---    self.createButton({\r\n    ---      label=\"Bouger\", click_function=\"buttonClick_transpose\", function_owner=self,\r\n    ---      position={-2,0.3,0.8}, rotation={0,270,0}, height=350, width=800,\r\n    ---      font_size=250, color={0,0,0}, font_color={0.75,0.75,1}\r\n    ---\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n            obj.setColorTint(entry.tint)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot, smooth=false\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    item.setColorTint(entry.tint)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objets placés\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objets rangés\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local yOffset = 0\r\n    if obj ~= nil then\r\n        local bounds = obj.getBounds()\r\n        yOffset = (bounds.size.y - bounds.offset.y)\r\n    end\r\n    local deltaPos = {}\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + yOffset\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n    local objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n    local x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n    local z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n    --return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\nfunction rotateMyCoordinates(desiredPos, obj)\r\n    local angle = math.rad(obj.getRotation().y)\r\n    local x = desiredPos.x * math.sin(angle)\r\n    local z = desiredPos.z * math.cos(angle)\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n    local mult = 10^(dec or 0)\r\n    return math.floor(num * mult + 0.5) / mult\r\nend\r\n\r\n\r\n--[[\r\nThis object provides access to a variable stored on the \"Global script\".\r\nThe variable holds the GUIDs for every Utility Memory Bag in the scene.\r\nExample:\r\n{'805ebd', '35cc21', 'fc8886', 'f50264', '5f5f63'}\r\n--]]\r\nAllMemoryBagsInScene = {\r\n    NAME_OF_GLOBAL_VARIABLE = \"_UtilityMemoryBag_AllMemoryBagsInScene\"\r\n}\r\n\r\nfunction AllMemoryBagsInScene:add(guid)\r\n    local guids = Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\n    table.insert(guids, guid)\r\n    Global.setTable(self.NAME_OF_GLOBAL_VARIABLE, guids)\r\nend\r\n\r\nfunction AllMemoryBagsInScene:getGuidList()\r\n    return Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\nend",
          "LuaScriptState": "{\"ml\":{\"0200c4\":{\"lock\":false,\"pos\":{\"x\":17.501,\"y\":1.5408,\"z\":-6.0196},\"rot\":{\"x\":0.0049,\"y\":90.0003,\"z\":359.9891},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"025f41\":{\"lock\":false,\"pos\":{\"x\":19,\"y\":1.50572574138641,\"z\":21.5000038146973},\"rot\":{\"x\":0.010891511105001,\"y\":179.999755859375,\"z\":0.0049485731869936},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"082492\":{\"lock\":false,\"pos\":{\"x\":22.0001602172852,\"y\":1.68753528594971,\"z\":-16.000545501709},\"rot\":{\"x\":356.007537841797,\"y\":0.00653881346806884,\"z\":0.00586381135508418},\"tint\":{\"a\":0,\"b\":0.555448532104492,\"g\":0.677700459957123,\"r\":0}},\"084cce\":{\"lock\":false,\"pos\":{\"x\":-21.5,\"y\":1.67486000061035,\"z\":-17},\"rot\":{\"x\":5.09553638039506E-06,\"y\":180.004959106445,\"z\":-2.55417535299785E-06},\"tint\":{\"a\":1,\"b\":0,\"g\":0,\"r\":1}},\"1121f0\":{\"lock\":false,\"pos\":{\"x\":-20.5055713653564,\"y\":1.83532953262329,\"z\":8.50377655029297},\"rot\":{\"x\":-6.20663058725768E-06,\"y\":179.986572265625,\"z\":3.46337884593595E-07},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"117860\":{\"lock\":false,\"pos\":{\"x\":-29.5000686645508,\"y\":1.77890586853027,\"z\":7.99993133544922},\"rot\":{\"x\":-5.01435533806216E-06,\"y\":180.000091552734,\"z\":-1.85497029292492E-07},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"1ad61b\":{\"lock\":false,\"pos\":{\"x\":3,\"y\":1.5018,\"z\":-6.5},\"rot\":{\"x\":0.0109,\"y\":180.0119,\"z\":0.005},\"tint\":{\"a\":1,\"b\":0.701960802078247,\"g\":0.800000011920929,\"r\":0.874509811401367}},\"1cb0dc\":{\"lock\":false,\"pos\":{\"x\":-6.49999952316284,\"y\":1.6745936870575,\"z\":-17},\"rot\":{\"x\":-0.00125182885676622,\"y\":179.99951171875,\"z\":-0.000767617370001972},\"tint\":{\"a\":1,\"b\":0,\"g\":0,\"r\":1}},\"2316c9\":{\"lock\":false,\"pos\":{\"x\":5.49999856948853,\"y\":1.50442039966583,\"z\":8.50000286102295},\"rot\":{\"x\":0.00494997156783938,\"y\":90.014533996582,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"2b2ebd\":{\"lock\":false,\"pos\":{\"x\":17.501,\"y\":1.5408,\"z\":-6.0196},\"rot\":{\"x\":0.005,\"y\":90.0162,\"z\":359.9891},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"304877\":{\"lock\":false,\"pos\":{\"x\":9.99999809265137,\"y\":1.52105808258057,\"z\":26.5000038146973},\"rot\":{\"x\":0.0108915409073234,\"y\":179.999984741211,\"z\":0.00494819134473801},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"312114\":{\"lock\":false,\"pos\":{\"x\":6.5,\"y\":1.5049,\"z\":11.5},\"rot\":{\"x\":359.9903,\"y\":299.9886,\"z\":0.007},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"339982\":{\"lock\":false,\"pos\":{\"x\":9.99999809265137,\"y\":1.50488722324371,\"z\":13.0000038146973},\"rot\":{\"x\":0.0108916293829679,\"y\":179.999954223633,\"z\":0.00495127961039543},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"367874\":{\"lock\":false,\"pos\":{\"x\":9.5,\"y\":1.67485857009888,\"z\":-17},\"rot\":{\"x\":-4.52724748356559E-07,\"y\":179.999496459961,\"z\":-8.01492478785804E-06},\"tint\":{\"a\":1,\"b\":0,\"g\":0,\"r\":1}},\"37d4b3\":{\"lock\":false,\"pos\":{\"x\":13.9999980926514,\"y\":1.50710797309875,\"z\":26.5000038146973},\"rot\":{\"x\":-0.00494786584749818,\"y\":269.999938964844,\"z\":0.0108966296538711},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"3af566\":{\"lock\":false,\"pos\":{\"x\":19,\"y\":1.51676058769226,\"z\":7.99999809265137},\"rot\":{\"x\":0.0109268510714173,\"y\":180.014205932617,\"z\":0.00470435805618763},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"3b8d67\":{\"lock\":false,\"pos\":{\"x\":-6.5,\"y\":1.5055,\"z\":8.5},\"rot\":{\"x\":0.0109,\"y\":179.9953,\"z\":0.005},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"40a31a\":{\"lock\":false,\"pos\":{\"x\":18.9999980926514,\"y\":1.51847493648529,\"z\":17.0000038146973},\"rot\":{\"x\":0.0108915138989687,\"y\":179.999862670898,\"z\":0.00494816806167364},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"4239bf\":{\"lock\":false,\"pos\":{\"x\":24.5,\"y\":1.67486011981964,\"z\":-17},\"rot\":{\"x\":4.04989378921528E-07,\"y\":179.999298095703,\"z\":-5.65794778140116E-07},\"tint\":{\"a\":1,\"b\":0,\"g\":0,\"r\":1}},\"43d154\":{\"lock\":false,\"pos\":{\"x\":21.5000991821289,\"y\":1.53079926967621,\"z\":9.49979972839355},\"rot\":{\"x\":359.472473144531,\"y\":269.987487792969,\"z\":0.0109166791662574},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"4df2ac\":{\"lock\":false,\"pos\":{\"x\":-29.5,\"y\":1.82,\"z\":8},\"rot\":{\"x\":0,\"y\":179.9941,\"z\":0},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"57f849\":{\"lock\":false,\"pos\":{\"x\":6.5,\"y\":1.5038,\"z\":5.5},\"rot\":{\"x\":0.0012,\"y\":239.9993,\"z\":0.0119},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"5900f8\":{\"lock\":false,\"pos\":{\"x\":9.99999809265137,\"y\":1.51763641834259,\"z\":8.50000381469727},\"rot\":{\"x\":0.0108902463689446,\"y\":180.014465332031,\"z\":0.00495106680318713},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"5ee0f1\":{\"lock\":false,\"pos\":{\"x\":-19.9994,\"y\":1.7836,\"z\":3.5205},\"rot\":{\"x\":0,\"y\":179.9875,\"z\":0},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"64c70c\":{\"lock\":false,\"pos\":{\"x\":2.49999618530273,\"y\":1.51733374595642,\"z\":3.50000095367432},\"rot\":{\"x\":0.0108915753662586,\"y\":179.999969482422,\"z\":0.00494820205494761},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"6d71de\":{\"lock\":false,\"pos\":{\"x\":14.4999980926514,\"y\":1.50364315509796,\"z\":8.50000286102295},\"rot\":{\"x\":0.0049504479393363,\"y\":90.0146331787109,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"6efb93\":{\"lock\":false,\"pos\":{\"x\":-6.48641920089722,\"y\":1.52000844478607,\"z\":13.4880847930908},\"rot\":{\"x\":0.0108914691954851,\"y\":179.999984741211,\"z\":0.00494822300970554},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"752f38\":{\"lock\":false,\"pos\":{\"x\":21.5,\"y\":1.55208790302277,\"z\":3.49999928474426},\"rot\":{\"x\":0.0108792437240481,\"y\":179.999877929688,\"z\":0.0049430406652391},\"tint\":{\"a\":1,\"b\":0,\"g\":0,\"r\":1}},\"79ba22\":{\"lock\":false,\"pos\":{\"x\":6.99996662139893,\"y\":1.68760287761688,\"z\":-15.9988689422607},\"rot\":{\"x\":356.003112792969,\"y\":359.981506347656,\"z\":0.00720402784645557},\"tint\":{\"a\":0,\"b\":0.555448532104492,\"g\":0.677700459957123,\"r\":0}},\"7df6fd\":{\"lock\":false,\"pos\":{\"x\":16.5788993835449,\"y\":1.50429093837738,\"z\":3.64709949493408},\"rot\":{\"x\":359.989105224609,\"y\":-0.000121985322039109,\"z\":-0.00494816480204463},\"tint\":{\"a\":0,\"b\":0.555448532104492,\"g\":0.677700459957123,\"r\":0}},\"834170\":{\"lock\":false,\"pos\":{\"x\":-2,\"y\":1.5041,\"z\":3.5},\"rot\":{\"x\":0.0049,\"y\":90.0067,\"z\":359.9891},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"872137\":{\"lock\":false,\"pos\":{\"x\":2.49999833106995,\"y\":1.5192346572876,\"z\":13.5000038146973},\"rot\":{\"x\":0.0108914915472269,\"y\":180,\"z\":0.00494822906330228},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"903fbf\":{\"lock\":false,\"pos\":{\"x\":12.501,\"y\":1.5364,\"z\":-6.0168},\"rot\":{\"x\":0.005,\"y\":90.0156,\"z\":359.9891},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"94bbd6\":{\"lock\":false,\"pos\":{\"x\":-23.5000610351563,\"y\":1.77890622615814,\"z\":3.4999372959137},\"rot\":{\"x\":-5.17821536050178E-06,\"y\":179.999008178711,\"z\":3.60368090923657E-08},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"98830f\":{\"lock\":false,\"pos\":{\"x\":-27.0179,\"y\":1.8353,\"z\":3.5165},\"rot\":{\"x\":0,\"y\":179.9836,\"z\":0},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"9c9208\":{\"lock\":false,\"pos\":{\"x\":-25.0086708068848,\"y\":1.8353019952774,\"z\":8.50622081756592},\"rot\":{\"x\":-6.15063026998541E-06,\"y\":179.985824584961,\"z\":-7.99261314909927E-08},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"9f4b41\":{\"lock\":false,\"pos\":{\"x\":30.5,\"y\":1.70024847984314,\"z\":-3.00009989738464},\"rot\":{\"x\":-0.000591218238696456,\"y\":180.001388549805,\"z\":180.001068115234},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"a29728\":{\"lock\":false,\"pos\":{\"x\":18.9999980926514,\"y\":1.52018582820892,\"z\":26.0000038146973},\"rot\":{\"x\":0.0108915632590652,\"y\":179.999816894531,\"z\":0.00494826631620526},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"a5885c\":{\"lock\":false,\"pos\":{\"x\":18.9999980926514,\"y\":1.50401484966278,\"z\":12.5000028610229},\"rot\":{\"x\":0.0108914952725172,\"y\":179.999710083008,\"z\":0.00494852382689714},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"a5d74f\":{\"lock\":false,\"pos\":{\"x\":12.501,\"y\":1.5364,\"z\":-6.0168},\"rot\":{\"x\":0.0049,\"y\":90,\"z\":359.9891},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"b75da1\":{\"lock\":false,\"pos\":{\"x\":2.49999833106995,\"y\":1.50467944145203,\"z\":8.50000381469727},\"rot\":{\"x\":359.989105224609,\"y\":0.0106880739331245,\"z\":-0.0049574957229197},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"c6e2b9\":{\"lock\":false,\"pos\":{\"x\":-20.3941993713379,\"y\":1.76705074310303,\"z\":10.368800163269},\"rot\":{\"x\":4.83245366922347E-06,\"y\":-0.000300020357826725,\"z\":-5.27566541563829E-08},\"tint\":{\"a\":0,\"b\":0.555448532104492,\"g\":0.677700459957123,\"r\":0}},\"c87b91\":{\"lock\":false,\"pos\":{\"x\":-19.5000190734863,\"y\":1.77890622615814,\"z\":3.49997043609619},\"rot\":{\"x\":-4.92910157845472E-06,\"y\":179.999786376953,\"z\":2.34103385565732E-08},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"d0c8d3\":{\"lock\":false,\"pos\":{\"x\":23.5012989044189,\"y\":1.51380479335785,\"z\":-5.52301168441772},\"rot\":{\"x\":0.0108915157616138,\"y\":180.000442504883,\"z\":0.00494835479184985},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"d5efc0\":{\"lock\":false,\"pos\":{\"x\":12.5011,\"y\":1.5364,\"z\":-6.0168},\"rot\":{\"x\":0.0049,\"y\":89.9996,\"z\":359.9891},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"d73911\":{\"lock\":false,\"pos\":{\"x\":5.5,\"y\":1.505,\"z\":11.5},\"rot\":{\"x\":0.0042,\"y\":224.9845,\"z\":0.0112},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"d7f0d5\":{\"lock\":false,\"pos\":{\"x\":-24.9555015563965,\"y\":1.76705074310303,\"z\":10.3091983795166},\"rot\":{\"x\":4.91663149659871E-06,\"y\":0.0250297021120787,\"z\":2.53254825111071E-07},\"tint\":{\"a\":0,\"b\":0.555448532104492,\"g\":0.677700459957123,\"r\":0}},\"de81c5\":{\"lock\":false,\"pos\":{\"x\":-8.99986457824707,\"y\":1.68722546100616,\"z\":-16.0002212524414},\"rot\":{\"x\":356.008239746094,\"y\":359.976684570313,\"z\":0.00823774561285973},\"tint\":{\"a\":0,\"b\":0.555448532104492,\"g\":0.677700459957123,\"r\":0}},\"e191ba\":{\"lock\":false,\"pos\":{\"x\":-6.50000190734863,\"y\":1.51811099052429,\"z\":3.50000286102295},\"rot\":{\"x\":0.0108915874734521,\"y\":180.000015258789,\"z\":0.00494838831946254},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"f08e89\":{\"lock\":false,\"pos\":{\"x\":-2.00000190734863,\"y\":1.50601863861084,\"z\":13.5000038146973},\"rot\":{\"x\":0.00494985934346914,\"y\":90.0143661499023,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"fa3932\":{\"lock\":false,\"pos\":{\"x\":-24.0000228881836,\"y\":1.68751490116119,\"z\":-16.0013561248779},\"rot\":{\"x\":356.008880615234,\"y\":359.984039306641,\"z\":0.000492080114781857},\"tint\":{\"a\":0,\"b\":0.555448532104492,\"g\":0.677700459957123,\"r\":0}},\"fab14f\":{\"lock\":false,\"pos\":{\"x\":17.501,\"y\":1.5408,\"z\":-6.0196},\"rot\":{\"x\":0.005,\"y\":90.0167,\"z\":359.9891},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}}}}",
          "XmlUI": "",
          "ContainedObjects": [
            {
              "GUID": "0200c4",
              "Name": "Deck",
              "Transform": {
                "posX": 17.501,
                "posY": 1.54081047,
                "posZ": -6.0196,
                "rotX": 0.00494802836,
                "rotY": 90.0003,
                "rotZ": 359.9891,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": false,
              "SidewaysCard": true,
              "DeckIDs": [
                276330,
                276329,
                276328,
                276327
              ],
              "CustomDeck": {
                "2763": {
                  "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                  "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "4cf8c6",
                  "Name": "Card",
                  "Transform": {
                    "posX": 17.5009975,
                    "posY": 4.996214,
                    "posZ": -6.01959753,
                    "rotX": 0.00494789938,
                    "rotY": 90.00033,
                    "rotZ": 359.9891,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Sauvetage Inespéré",
                  "Description": "Acte 4a",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06213\",\n  \"type\": \"Act\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276330,
                  "SidewaysCard": true,
                  "CustomDeck": {
                    "2763": {
                      "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                      "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "8f453a",
                  "Name": "Card",
                  "Transform": {
                    "posX": 17.5009975,
                    "posY": 4.796214,
                    "posZ": -6.01959753,
                    "rotX": 0.00494789938,
                    "rotY": 90.00033,
                    "rotZ": 359.9891,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Le Cœur de la Lune",
                  "Description": "Acte 3a",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06212\",\n  \"type\": \"Act\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276329,
                  "SidewaysCard": true,
                  "CustomDeck": {
                    "2763": {
                      "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                      "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "74499d",
                  "Name": "Card",
                  "Transform": {
                    "posX": 17.501,
                    "posY": 1.607671,
                    "posZ": -6.019603,
                    "rotX": 0.00439098524,
                    "rotY": 90.00033,
                    "rotZ": 359.9886,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Explorer la Lune",
                  "Description": "Acte 2a",
                  "GMNotes": "{\n  \"clueThresholdPerInvestigator\": 1,\n  \"cycle\": \"Standalone\",\n  \"id\": \"06211\",\n  \"type\": \"Act\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276328,
                  "SidewaysCard": true,
                  "CustomDeck": {
                    "2763": {
                      "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                      "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "7000fb",
                  "Name": "Card",
                  "Transform": {
                    "posX": 17.5010052,
                    "posY": 1.62130809,
                    "posZ": -6.01961374,
                    "rotX": 0.007919684,
                    "rotY": 90.00033,
                    "rotZ": 359.987732,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Dans les Entrailles de la Bête Lunaire",
                  "Description": "Acte 1a",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"clueThresholdPerInvestigator\": 3,\n  \"cycle\": \"Standalone\",\n  \"id\": \"06210\",\n  \"type\": \"Act\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276327,
                  "SidewaysCard": true,
                  "CustomDeck": {
                    "2763": {
                      "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                      "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "082492",
              "Name": "Custom_Model",
              "Transform": {
                "posX": 22.00016,
                "posY": 1.72224271,
                "posZ": -16.00291,
                "rotX": 353.751862,
                "rotY": 0.006944836,
                "rotZ": 0.02412885,
                "scaleX": 1.74999952,
                "scaleY": 1.74999952,
                "scaleZ": 1.74999952
              },
              "Nickname": "Niveau d'Alerte",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.0,
                "g": 0.67770046,
                "b": 0.555448532,
                "a": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": false,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": false,
              "Tooltip": false,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/1478820768302617365/27883B7913E0E69143C3AA03493B7E7C4E8C29C0/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 1,
                "TypeIndex": 0,
                "CastShadows": true
              },
              "LuaScript": "-- Code for bag to identify text tool objects\r\nmovableTextTool_cowgoesmoo33 = true\r\n\r\n-- Number of characters before the text box width expands.\r\nEXPAND_INTERVAL = 20\r\n\r\n-- This table controls what is passed between save/load\r\ndata = {}\r\n\r\nfunction onLoad(saved_data)\r\n  if saved_data ~= '' then\r\n    data = JSON.decode(saved_data)\r\n    if data.text ~= '' then\r\n      self.interactable = data.interactable\r\n      staticMode()\r\n      return\r\n    end\r\n  else\r\n    data = {size=200, color=Color(0,0,0), text='', interactable=true,\r\n        enter_to_finish=false, autolock=false, autolift=false,\r\n        hover_height=0.05, box_transparency=1}\r\n  end\r\n\r\n  inputMode()\r\nend\r\n\r\n-- True if in the middle of delay after pressing Enter (with enter_to_finish on)\r\nfinishing = false\r\nfunction input_func(obj, color, input, stillEditing)\r\n  local params = getBox(input)\r\n  if params then\r\n    params.value = input\r\n    self.editInput(params)\r\n  end\r\n\r\n  if not stillEditing then\r\n    data.text = input\r\n    updateState()\r\n    if input ~= '' then staticMode(color) end\r\n  elseif data.enter_to_finish then\r\n    -- If enter is pressed: remove last newline and force finish\r\n    if not finishing and input:sub(-1) == '\\n' then\r\n      finishing = true\r\n      -- Delay to avoid user's Enter keypress being detected (opens chat box)\r\n      Wait.frames(function()\r\n        input = input:sub(1, -2)\r\n        data.text = input\r\n        updateState()\r\n        if input ~= '' then staticMode(color) else inputMode() end\r\n        finishing = false\r\n      end, 10)\r\n    end\r\n  end\r\nend\r\n\r\n-- When the inpupt box appears and lets the player type in it.\r\nfunction inputMode()\r\n  self.clearContextMenu()\r\n  self.clearInputs()\r\n  self.clearButtons()\r\n\r\n  local size = getBox(data.text, true)\r\n\r\n  self.createInput({\r\n    input_function = \"input_func\",\r\n    function_owner = self,\r\n    label          = \"Type Here\",\r\n    alignment      = 3,\r\n    position       = {x=0, y=data.hover_height, z=0},\r\n    rotation       = {0, 180, 0},\r\n    width          = size.width,\r\n    height         = size.height,\r\n    color          = getBackground(data.color),\r\n    font_color     = data.color,\r\n    font_size      = data.size,\r\n    value          = data.text,\r\n  })\r\n\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\nend\r\n\r\n-- When the input box disappears and displays the text.\r\nfunction staticMode(player)\r\n  self.clearContextMenu()\r\n  if data.autolock then\r\n    self.locked = true\r\n  end\r\n  if self.getInputs() and #self.getInputs() ~= 0 then\r\n    self.removeInput(0)\r\n  end\r\n\r\n  -- Clear from selecting player\r\n  if player then\r\n    self.removeFromPlayerSelection(player)\r\n  end\r\n\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  self.createButton({\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=self,\r\n    position={0,data.hover_height,0}, rotation={0,180,0}, height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  })\r\n\r\n  self.addContextMenuItem('Edit Text', function(color)\r\n    self.removeFromPlayerSelection(color)\r\n    inputMode()\r\n  end)\r\n  self.addContextMenuItem('Clear', function(color)\r\n    applyMultiple(color, 'clear', _, true)\r\n  end)\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\n  self.addContextMenuItem('Permanently Attach', attemptAttach)\r\n  self.addContextMenuItem('Permalock', function(color)\r\n    applyMultiple(color, 'permalock', _, true)\r\n  end)\r\nend\r\n\r\nfunction changeSize(params)\r\n  local delta = params[1]\r\n  local newSize = data.size + delta\r\n  if newSize > 800  or newSize < 50 then\r\n    return\r\n  end\r\n  data.size = newSize\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_size=data.size})\r\n  else\r\n    local size = getBox(data.text, true)\r\n    self.editInput({width=size.width, height=size.height, font_size=data.size})\r\n  end\r\nend\r\n\r\nfunction setColor(params)\r\n  if params and params[1] then\r\n    data.color = params[1]\r\n  else\r\n    data.color = self.getColorTint():setAt('a', 1) -- Take on color of object tint\r\n  end\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_color=data.color})\r\n  else\r\n    self.editInput({font_color=data.color, color=getBackground(data.color)})\r\n  end\r\nend\r\n\r\nfunction getBackground(color) --determines whether to use black or white depending on luminance\r\n  local r,g,b = Color(color):get()\r\n\r\n  local lum = 0.2126*r + 0.7152*g + 0.0722*b\r\n  if lum > 0.75 then\r\n    return {0.2,0.2,0.2, data.box_transparency}\r\n  else\r\n    return {1,1,1, data.box_transparency}\r\n  end\r\nend\r\n\r\nfunction clear()\r\n  data.text = ''\r\n  updateState()\r\n  inputMode()\r\nend\r\n\r\nfunction permalock()\r\n  self.interactable = false\r\n  data.interactable = false\r\n  updateState()\r\nend\r\n\r\nlocal target_script = [[\r\nfunction onLoad(script_state)\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    for _,entry in ipairs(state) do\r\n      self.createButton(entry)\r\n    end\r\n    self.addContextMenuItem('Clear All Text', function(color)\r\n      self.clearContextMenu()\r\n      self.clearButtons()\r\n      self.script_state = ''\r\n      self.script_code = ''\r\n    end)\r\n  end\r\nend\r\n]]\r\n\r\nfunction attemptAttach(player_color)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  local attachee\r\n  local attachers = {}\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if obj ~= self then\r\n        table.insert(attachers, obj)\r\n      end\r\n    else\r\n      if attachee then\r\n        broadcastToColor(\"More than one target selected.\", player_color)\r\n        return\r\n      else\r\n        attachee = obj\r\n      end\r\n    end\r\n  end\r\n  if attachee then\r\n    local code = attachee.script_code\r\n    if code and code ~= '' and code ~= target_script then\r\n      broadcastToColor(\"Warning: script on card has been overriden. Rewind time to undo.\", player_color)\r\n    end\r\n    for i,attacher in ipairs(attachers) do\r\n      attacher.call('attach', {target = attachee})\r\n    end\r\n    attach({target = attachee})\r\n    local type, flip = attachee.type, attachee.getRotation().z\r\n    if (type == 'Card' or type == 'Deck') and flip > 175 and flip < 185 then\r\n      broadcastToColor(\"Warning: text will not display if card or deck is facing down.\", player_color)\r\n    end\r\n  else\r\n    broadcastToColor(\"You must have a target object in your selection (using click-and-drag or Ctrl+Click) to use this option.\", player_color)\r\n  end\r\nend\r\n\r\nfunction attach(params)\r\n  local target = params.target\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  local textRotation = self.getRotation():sub(target.getRotation())\r\n    :add(Vector(180, 0, 180))\r\n\r\n  local textPosition = target.positionToLocal(\r\n    self.getPosition():add(Vector(0, data.hover_height, 0))\r\n  )\r\n  textPosition.x = -textPosition.x\r\n\r\n  local textScale = {}\r\n  textScale.x = self.getScale().x / target.getScale().x\r\n  textScale.y = self.getScale().x / target.getScale().y\r\n  textScale.z = self.getScale().x / target.getScale().z\r\n\r\n  local details = {\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=nil,\r\n    position=textPosition,\r\n    rotation=textRotation,\r\n    scale=textScale,\r\n    height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  }\r\n\r\n  target.createButton(details)\r\n\r\n  local script_state = target.script_state\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    table.insert(state, details)\r\n    target.script_state = JSON.encode(state)\r\n  else\r\n    target.script_state = JSON.encode({[1]=details})\r\n  end\r\n\r\n  target.script_code = target_script\r\n\r\n  self.destruct()\r\nend\r\n\r\nfunction applyMultiple(player_color, func_string, params, static_only)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if not static_only or obj.call('isStatic') then\r\n        obj.call(func_string, params)\r\n      end\r\n    end\r\n  end\r\nend\r\n\r\nfunction isStatic()\r\n  local input = self.getInputs()\r\n  return not input or #input == 0\r\nend\r\n\r\nfunction getBox(input, force)\r\n  local maxLength, lineCount = EXPAND_INTERVAL, 1\r\n  local lineLength = 0\r\n  for i = 1, #input do\r\n    local c = input:sub(i,i)\r\n    if c == '\\n' then\r\n      lineCount = lineCount + 1\r\n      if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n      lineLength = 0\r\n    else\r\n      lineLength = lineLength + 1\r\n    end\r\n  end\r\n  if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n\r\n  newWidth = data.size * maxLength * 0.9\r\n  newHeight = data.size * lineCount + 23\r\n\r\n  if force or boxWidth ~= newWidth or boxHeight ~= newHeight then\r\n    boxWidth, boxHeight = newWidth, newHeight\r\n    return {width = boxWidth, height = boxHeight}\r\n  end\r\n  return nil\r\nend\r\n\r\ntemp_lift = nil\r\nfunction onPickUp(player_color)\r\n  if data.autolift then\r\n    local player = Player[player_color]\r\n    temp_lift = player.lift_height\r\n    player.lift_height = 0\r\n  end\r\nend\r\n\r\nfunction onDrop(player_color)\r\n  if data.autolift and temp_lift then\r\n    Player[player_color].lift_height = temp_lift\r\n  end\r\nend\r\n\r\n-- Should be called every time data is modified, allows info to be saved on copy/paste\r\nfunction updateState()\r\n  self.script_state = JSON.encode(data)\r\nend\r\n\r\nfunction onSave()\r\n  self.script_state = JSON.encode(data)\r\n  return self.script_state\r\nend",
              "LuaScriptState": "{\"autolift\":false,\"autolock\":false,\"box_transparency\":1,\"color\":{\"a\":1,\"b\":0,\"g\":0,\"r\":0},\"enter_to_finish\":false,\"hover_height\":0.05,\"interactable\":true,\"size\":250,\"text\":\"Niveau d'Alerte\"}",
              "XmlUI": ""
            },
            {
              "GUID": "084cce",
              "Name": "Custom_Token",
              "Transform": {
                "posX": -21.5,
                "posY": 1.67486012,
                "posZ": -17.0,
                "rotX": 1.04391838E-05,
                "rotY": 180.004959,
                "rotZ": 1.48997643E-07,
                "scaleX": 0.3,
                "scaleY": 1.0,
                "scaleZ": 0.3
              },
              "Nickname": "Doom counter\n",
              "Description": "Left click - Increase\nRight click - Decrease",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 1.0,
                "g": 0.0,
                "b": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": false,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/949592555964782208/CC876694A6684B3C2680CE2FE3259F574AE0AD97/",
                "ImageSecondaryURL": "",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomToken": {
                  "Thickness": 0.1,
                  "MergeDistancePixels": 5.0,
                  "StandUp": false,
                  "Stackable": false
                }
              },
              "LuaScript": "MIN_VALUE = -99\r\nMAX_VALUE = 999\r\n\r\nfunction onload(saved_data)\r\n    light_mode = false\r\n    val = 0\r\n\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        light_mode = loaded_data[1]\r\n        val = loaded_data[2]\r\n    end\r\n\r\n    createAll()\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = {light_mode, val}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction createAll()\r\n    s_color = {0.5, 0.5, 0.5, 95}\r\n\r\n    if light_mode then\r\n        f_color = {1,1,1,95}\r\n    else\r\n        f_color = {0,0,0,100}\r\n    end\r\n\r\n\r\n\r\n    self.createButton({\r\n      label=tostring(val),\r\n      click_function=\"add_subtract\",\r\n      function_owner=self,\r\n      position={0,0.05,0},\r\n      height=600,\r\n      width=1000,\r\n      alignment = 3,\r\n      scale={x=1.5, y=1.5, z=1.5},\r\n      font_size=600,\r\n      font_color=f_color,\r\n      color={0,0,0,0}\r\n      })\r\n\r\n\r\n\r\n\r\n    if light_mode then\r\n        lightButtonText = \"[ Set dark ]\"\r\n    else\r\n        lightButtonText = \"[ Set light ]\"\r\n    end\r\n \r\nend\r\n\r\nfunction removeAll()\r\n    self.removeInput(0)\r\n    self.removeInput(1)\r\n    self.removeButton(0)\r\n    self.removeButton(1)\r\n    self.removeButton(2)\r\nend\r\n\r\nfunction reloadAll()\r\n    removeAll()\r\n    createAll()\r\n\r\n    updateSave()\r\nend\r\n\r\nfunction swap_fcolor(_obj, _color, alt_click)\r\n    light_mode = not light_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction swap_align(_obj, _color, alt_click)\r\n    center_mode = not center_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction editName(_obj, _string, value) \r\n    self.setName(value)\r\n    setTooltips()\r\nend\r\n\r\nfunction add_subtract(_obj, _color, alt_click)\r\n    mod = alt_click and -1 or 1\r\n    new_value = math.min(math.max(val + mod, MIN_VALUE), MAX_VALUE)\r\n    if val ~= new_value then\r\n        val = new_value\r\n      updateVal()\r\n        updateSave()\r\n    end\r\nend\r\n\r\nfunction updateVal()\r\n\r\n    self.editButton({\r\n        index = 0,\r\n        label = tostring(val),\r\n\r\n        })\r\nend\r\n\r\nfunction reset_val()\r\n    val = 0\r\n    updateVal()\r\n    updateSave()\r\nend\r\n\r\nfunction setTooltips()\r\n    self.editInput({\r\n        index = 0,\r\n        value = self.getName(),\r\n        tooltip = ttText\r\n        })\r\n    self.editButton({\r\n        index = 0,\r\n        value = tostring(val),\r\n        tooltip = ttText\r\n        })\r\nend\r\n\r\nfunction null()\r\nend\r\n\r\nfunction keepSample(_obj, _string, value) \r\n    reloadAll()\r\nend",
              "LuaScriptState": "[true,0]",
              "XmlUI": ""
            },
            {
              "GUID": "1121f0",
              "Name": "Custom_Model_Bag",
              "Transform": {
                "posX": -20.5055714,
                "posY": 1.84000075,
                "posZ": 8.503777,
                "rotX": -5.96578229E-06,
                "rotY": 179.986572,
                "rotZ": 5.810443E-07,
                "scaleX": 0.7,
                "scaleY": 0.7,
                "scaleZ": 0.7
              },
              "Nickname": "Acte 2B",
              "Description": "Placer lors du passage à l'acte 2B",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "CustomMesh": {
                "MeshURL": "https://pastebin.com/raw/ALrYhQGb",
                "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/1985555189151602781/923E4E5D5F6DB81FA4425F6B7E28A73FC6E15161/",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 6,
                "CustomShader": {
                  "SpecularColor": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "SpecularIntensity": 0.0,
                  "SpecularSharpness": 2.0,
                  "FresnelStrength": 0.0
                },
                "CastShadows": true
              },
              "Bag": {
                "Order": 0
              },
              "LuaScript": "-- Utility memory bag by Directsun\r\n-- Version 2.7.0\r\n-- Fork of Memory Bag 2.0 by MrStump\r\n--\r\n-- Want to contribute? Create an issue or fork the code on GitHub and submit a pull request:\r\n-- https://github.com/sunflowermans/TTS-UtilityMemoryBag\r\n\r\n\r\nfunction updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction combineMemoryFromBagsWithin()\r\n    local bagObjList = self.getObjects()\r\n    for _, bagObj in ipairs(bagObjList) do\r\n        local data = bagObj.lua_script_state\r\n        if data ~= nil then\r\n            local j = JSON.decode(data)\r\n            if j ~= nil and j.ml ~= nil then\r\n                for guid, entry in pairs(j.ml) do\r\n                    memoryList[guid] = entry\r\n                end\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateMemoryWithMoves()\r\n    memoryList = memoryListBackup\r\n    --get the first transposed object's coordinates\r\n    local obj = getObjectFromGUID(moveGuid)\r\n\r\n    -- p1 is where needs to go, p2 is where it was\r\n    local refObjPos = memoryList[moveGuid].pos\r\n    local deltaPos = findOffsetDistance(obj.getPosition(), refObjPos, nil)\r\n    local movedRotation = obj.getRotation()\r\n    for guid, entry in pairs(memoryList) do\r\n        memoryList[guid].pos.x = entry.pos.x - deltaPos.x\r\n        memoryList[guid].pos.y = entry.pos.y - deltaPos.y\r\n        memoryList[guid].pos.z = entry.pos.z - deltaPos.z\r\n        -- memoryList[guid].rot.x = movedRotation.x\r\n        -- memoryList[guid].rot.y = movedRotation.y\r\n        -- memoryList[guid].rot.z = movedRotation.z\r\n    end\r\n\r\n    --theList[obj.getGUID()] = {\r\n    --    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n    --    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n    --    lock=obj.getLock()\r\n    --}\r\n    moveList = {}\r\nend\r\n\r\nfunction onload(saved_data)\r\n\r\n    fresh = true\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n\r\n    end\r\n\r\n    moveList = {}\r\n    moveGuid = nil\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        fresh = false\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,2}, rotation={0,0,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by Transpose button\r\nfunction buttonClick_transpose()\r\n    moveGuid = nil\r\n    broadcastToAll(\"Select one object and move it- all objects will move relative to the new location\", {0.75, 0.75, 1})\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(true)\r\n    createSetupActionButtons(true)\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(false)\r\n    createSetupActionButtons(false)\r\nend\r\n\r\nfunction getAllObjectsInMemory()\r\n    local objTable = {}\r\n    local curObj = {}\r\n\r\n    for guid in pairs(memoryListBackup) do\r\n        curObj = getObjectFromGUID(guid)\r\n        table.insert(objTable, curObj)\r\n    end\r\n\r\n    return objTable\r\n    -- return getAllObjects()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects(move)\r\n    buttonIndexMap = {}\r\n    local howManyButtons = 0\r\n\r\n    local objsToHaveButtons = {}\r\n    if move == true then\r\n        objsToHaveButtons = getAllObjectsInMemory()\r\n    else\r\n        objsToHaveButtons = getAllObjects()\r\n    end\r\n\r\n    for _, obj in ipairs(objsToHaveButtons) do\r\n        if obj ~= self then\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor +2\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Workaround for custom PDFs\r\n            if obj.Book then\r\n                objPos.y = objPos.y + 0.5\r\n            end\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(obj, move) end\r\n            local color = {0.75,0.25,0.25,0.6}\r\n            local colorMove = {0,0,1,0.6}\r\n            if move == true then\r\n                color = colorMove\r\n            end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color=color,\r\n            })\r\n            buttonIndexMap[obj.getGUID()] = howManyButtons\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons(move)\r\n    self.createButton({\r\n       label=\"Annuler\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n       position={-1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n       font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    self.createButton({\r\n      label=\"Valider\", click_function=\"buttonClick_submit\", function_owner=self,\r\n      position={-1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n      font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    if move == false then\r\n      self.createButton({\r\n          label=\"Ajouter\", click_function=\"buttonClick_add\", function_owner=self,\r\n          position={1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n          font_size=250, color={0,0,0}, font_color={0.25,1,0.25}\r\n        })\r\n\r\n        self.createButton({\r\n            label=\"Sélection\", click_function=\"editDragSelection\", function_owner=self,\r\n            position={-1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n            font_size=250, color={0,0,0}, font_color={1,1,1}\r\n        })\r\n\r\n        if fresh == false then\r\n            self.createButton({\r\n                label=\"Mise à Jour\", click_function=\"buttonClick_setNew\", function_owner=self,\r\n                position={1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n                font_size=180, color={0,0,0}, font_color={0.75,0.75,1}\r\n            })\r\n            self.createButton({\r\n                label=\"Retirer\", click_function=\"buttonClick_remove\", function_owner=self,\r\n                position={1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n                font_size=250, color={0,0,0}, font_color={1,0.25,0.25}\r\n            })\r\n        end\r\n    end\r\n\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,0,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(obj, move)\r\n    local index = buttonIndexMap[obj.getGUID()]\r\n    local colorMove = {0,0,1,0.6}\r\n    local color = {0,1,0,0.6}\r\n\r\n    previousGuid = selectedGuid\r\n    selectedGuid = obj.getGUID()\r\n\r\n    theList = memoryList\r\n    if move == true then\r\n        theList = moveList\r\n        if previousGuid ~= nil and previousGuid ~= selectedGuid then\r\n            local prevObj = getObjectFromGUID(previousGuid)\r\n            prevObj.highlightOff()\r\n            self.editButton({index=previousIndex, color=colorMove})\r\n            theList[previousGuid] = nil\r\n        end\r\n        previousIndex = index\r\n    end\r\n\r\n    if theList[selectedGuid] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        theList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock(),\r\n            tint=obj.getColorTint()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        if move == true then\r\n            color = colorMove\r\n        end\r\n        self.editButton({index=index, color=color})\r\n        theList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\nfunction editDragSelection(bagObj, player, remove)\r\n    local selectedObjs = Player[player].getSelectedObjects()\r\n    if not remove then\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            --Ignore if already in the memory list, or does not have a button\r\n            if index and not memoryList[obj.getGUID()] then\r\n                self.editButton({index=index, color={0,1,0,0.6}})\r\n                --Adding pos/rot to memory table\r\n                local pos, rot = obj.getPosition(), obj.getRotation()\r\n                --I need to add it like this or it won't save due to indexing issue\r\n                memoryList[obj.getGUID()] = {\r\n                    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n                    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n                    lock=obj.getLock(),\r\n                    tint=obj.getColorTint()\r\n                }\r\n                obj.highlightOn({0,1,0})\r\n            end\r\n        end\r\n    else\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            if index and memoryList[obj.getGUID()] then\r\n                color = {0.75,0.25,0.25,0.6}\r\n                self.editButton({index=index, color=color})\r\n                memoryList[obj.getGUID()] = nil\r\n                obj.highlightOff()\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Sélection annulée\", {1,1,1})\r\n    moveGuid = nil\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    fresh = false\r\n    if next(moveList) ~= nil then\r\n        for guid in pairs(moveList) do\r\n            moveGuid = guid\r\n        end\r\n        if memoryListBackup[moveGuid] == nil then\r\n            broadcastToAll(\"Item selected for moving is not already in memory\", {1, 0.25, 0.25})\r\n        else\r\n            broadcastToAll(\"Moving all items in memory relative to new objects position!\", {0.75, 0.75, 1})\r\n            self.clearButtons()\r\n            self.clearInputs()\r\n            createMemoryActionButtons()\r\n            local count = 0\r\n            for guid in pairs(moveList) do\r\n                moveGuid = guid\r\n                count = count + 1\r\n                local obj = getObjectFromGUID(guid)\r\n                if obj ~= nil then obj.highlightOff() end\r\n            end\r\n            updateMemoryWithMoves()\r\n            updateSave()\r\n            buttonClick_place()\r\n        end\r\n    elseif next(memoryList) == nil and moveGuid == nil then\r\n        memoryList = memoryListBackup\r\n        broadcastToAll(\"No selections made.\", {0.75, 0.25, 0.25})\r\n    end\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\n    moveGuid = nil\r\nend\r\n\r\nfunction combineTables(first_table, second_table)\r\n    for k,v in pairs(second_table) do first_table[k] = v end\r\nend\r\n\r\nfunction buttonClick_add()\r\n    fresh = false\r\n    combineTables(memoryList, memoryListBackup)\r\n    broadcastToAll(\"Adding internal bags and selections to existing memory\", {0.25, 0.75, 0.25})\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_remove()\r\n    broadcastToAll(\"Removing Selected Entries From Memory\", {1.0, 0.25, 0.25})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        memoryListBackup[guid] = nil\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Removed\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_setNew()\r\n    broadcastToAll(\"Setting new position relative to items in memory\", {0.75, 0.75, 1})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        guid = obj.guid\r\n        if memoryListBackup[guid] ~= nil then\r\n            count = count + 1\r\n            memoryListBackup[guid].pos = obj.getPosition()\r\n            memoryListBackup[guid].rot = obj.getRotation()\r\n            memoryListBackup[guid].lock = obj.getLock()\r\n            memoryListBackup[guid].tint = obj.getColorTint()\r\n        end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    fresh = true\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Placer\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,2}, rotation={0,0,0}, height=350, width=1000,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Ranger\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,2.8}, rotation={0,0,0}, height=350, width=1000,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={2,0.3,0}, rotation={0,90,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    ---    self.createButton({\r\n    ---      label=\"Bouger\", click_function=\"buttonClick_transpose\", function_owner=self,\r\n    ---      position={-2,0.3,0.8}, rotation={0,270,0}, height=350, width=800,\r\n    ---      font_size=250, color={0,0,0}, font_color={0.75,0.75,1}\r\n    ---  \r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n            obj.setColorTint(entry.tint)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot, smooth=false\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    item.setColorTint(entry.tint)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objets placés\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objets rangés\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local yOffset = 0\r\n    if obj ~= nil then\r\n        local bounds = obj.getBounds()\r\n        yOffset = (bounds.size.y - bounds.offset.y)\r\n    end\r\n    local deltaPos = {}\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + yOffset\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n    local objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n    local x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n    local z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n    --return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\nfunction rotateMyCoordinates(desiredPos, obj)\r\n    local angle = math.rad(obj.getRotation().y)\r\n    local x = desiredPos.x * math.sin(angle)\r\n    local z = desiredPos.z * math.cos(angle)\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n    local mult = 10^(dec or 0)\r\n    return math.floor(num * mult + 0.5) / mult\r\nend\r\n\r\n\r\n--[[\r\nThis object provides access to a variable stored on the \"Global script\".\r\nThe variable holds the GUIDs for every Utility Memory Bag in the scene.\r\nExample:\r\n{'805ebd', '35cc21', 'fc8886', 'f50264', '5f5f63'}\r\n--]]\r\nAllMemoryBagsInScene = {\r\n    NAME_OF_GLOBAL_VARIABLE = \"_UtilityMemoryBag_AllMemoryBagsInScene\"\r\n}\r\n\r\nfunction AllMemoryBagsInScene:add(guid)\r\n    local guids = Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\n    table.insert(guids, guid)\r\n    Global.setTable(self.NAME_OF_GLOBAL_VARIABLE, guids)\r\nend\r\n\r\nfunction AllMemoryBagsInScene:getGuidList()\r\n    return Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\nend",
              "LuaScriptState": "{\"ml\":{\"2316c9\":{\"lock\":false,\"pos\":{\"x\":5.49999856948853,\"y\":1.50442039966583,\"z\":8.50000286102295},\"rot\":{\"x\":0.00494997156783938,\"y\":90.014533996582,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"312114\":{\"lock\":false,\"pos\":{\"x\":6.5,\"y\":1.5049,\"z\":11.5},\"rot\":{\"x\":359.9903,\"y\":299.9886,\"z\":0.007},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"339982\":{\"lock\":false,\"pos\":{\"x\":9.99999809265137,\"y\":1.50488722324371,\"z\":13.0000038146973},\"rot\":{\"x\":0.0108916293829679,\"y\":179.999954223633,\"z\":0.00495127961039543},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"3af566\":{\"lock\":false,\"pos\":{\"x\":19,\"y\":1.51676058769226,\"z\":7.99999809265137},\"rot\":{\"x\":0.0109268510714173,\"y\":180.014205932617,\"z\":0.00470435805618763},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"43d154\":{\"lock\":false,\"pos\":{\"x\":21.5000991821289,\"y\":1.53079926967621,\"z\":9.49979972839355},\"rot\":{\"x\":359.472473144531,\"y\":269.987487792969,\"z\":0.0109166791662574},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"57f849\":{\"lock\":false,\"pos\":{\"x\":6.5,\"y\":1.5038,\"z\":5.5},\"rot\":{\"x\":0.0012,\"y\":239.9993,\"z\":0.0119},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"5900f8\":{\"lock\":false,\"pos\":{\"x\":9.99999809265137,\"y\":1.51763641834259,\"z\":8.50000381469727},\"rot\":{\"x\":0.0108902463689446,\"y\":180.014465332031,\"z\":0.00495106680318713},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"6d71de\":{\"lock\":false,\"pos\":{\"x\":14.4999980926514,\"y\":1.50364315509796,\"z\":8.50000286102295},\"rot\":{\"x\":0.0049504479393363,\"y\":90.0146331787109,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}}}}",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "312114",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": 6.5,
                    "posY": 1.50490427,
                    "posZ": 11.5,
                    "rotX": 359.990265,
                    "rotY": 299.9886,
                    "rotZ": 0.00696585653,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/vppt2my.png",
                    "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "States": {
                    "2": {
                      "GUID": "44b0c5",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -39.7933121,
                        "posY": 1.63758957,
                        "posZ": 2.038383,
                        "rotX": 359.9201,
                        "rotY": 269.9961,
                        "rotZ": 0.0168742146,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    "3": {
                      "GUID": "5b38c6",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -38.8217163,
                        "posY": 1.99356019,
                        "posZ": 0.4159239,
                        "rotX": 359.9201,
                        "rotY": 272.9828,
                        "rotZ": 0.01687373,
                        "scaleX": 0.8,
                        "scaleY": 1.0,
                        "scaleZ": 0.8
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  }
                },
                {
                  "GUID": "3af566",
                  "Name": "Card",
                  "Transform": {
                    "posX": 19.0,
                    "posY": 1.51676059,
                    "posZ": 7.999998,
                    "rotX": 0.0109268408,
                    "rotY": 180.0142,
                    "rotZ": 0.00470431941,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Le Cœur Noir",
                  "Description": "Grotte.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06220\",\n  \"locationBack\": {\n    \"connections\": \"Tilde|SlantedEquals\",\n    \"icons\": \"Star\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    }\n  },\n  \"locationFront\": {\n    \"connections\": \"Tilde|SlantedEquals\",\n    \"icons\": \"Star\"\n  },\n  \"traits\": \"Cave.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276537,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2765": {
                      "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                      "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "43d154",
                  "Name": "Card",
                  "Transform": {
                    "posX": 21.5001,
                    "posY": 1.53079927,
                    "posZ": 9.4998,
                    "rotX": 359.472473,
                    "rotY": 269.9875,
                    "rotZ": 0.0109169474,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Lézard Lunaire",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 4,\n  \"healthPerInv\": \"true\",\n  \"id\": \"06226\",\n  \"traits\": \"Monster. Elite.\",\n  \"type\": \"Enemy\",\n  \"victory\": 2\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276261,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "57f849",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": 6.5,
                    "posY": 1.50376356,
                    "posZ": 5.5,
                    "rotX": 0.00116150023,
                    "rotY": 239.999283,
                    "rotZ": 0.0119147077,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/vppt2my.png",
                    "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "States": {
                    "2": {
                      "GUID": "44b0c5",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -39.7933121,
                        "posY": 1.63758957,
                        "posZ": 2.038383,
                        "rotX": 359.9201,
                        "rotY": 269.9961,
                        "rotZ": 0.0168742146,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    "3": {
                      "GUID": "5b38c6",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -38.8217163,
                        "posY": 1.99356019,
                        "posZ": 0.4159239,
                        "rotX": 359.9201,
                        "rotY": 272.9828,
                        "rotZ": 0.01687373,
                        "scaleX": 0.8,
                        "scaleY": 1.0,
                        "scaleZ": 0.8
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  }
                },
                {
                  "GUID": "5900f8",
                  "Name": "Card",
                  "Transform": {
                    "posX": 9.999998,
                    "posY": 1.51763642,
                    "posZ": 8.500004,
                    "rotX": 0.0108903274,
                    "rotY": 180.014465,
                    "rotZ": 0.00495098857,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Cavernes Sous la Lune [Face Cachée]",
                  "Description": "Grotte.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06219\",\n  \"locationBack\": {\n    \"connections\": \"Circle|Crescent|Star\",\n    \"icons\": \"Tilde\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    }\n  },\n  \"locationFront\": {\n    \"connections\": \"Circle|Crescent|Star\",\n    \"icons\": \"Tilde\"\n  },\n  \"traits\": \"Cave.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276536,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2765": {
                      "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                      "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "6d71de",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": 14.4999981,
                    "posY": 1.50364316,
                    "posZ": 8.500003,
                    "rotX": 0.004950714,
                    "rotY": 90.01463,
                    "rotZ": 359.9891,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/vppt2my.png",
                    "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "States": {
                    "2": {
                      "GUID": "44b0c5",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -39.7933121,
                        "posY": 1.63758957,
                        "posZ": 2.038383,
                        "rotX": 359.9201,
                        "rotY": 269.9961,
                        "rotZ": 0.0168742146,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    "3": {
                      "GUID": "5b38c6",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -38.8217163,
                        "posY": 1.99356019,
                        "posZ": 0.4159239,
                        "rotX": 359.9201,
                        "rotY": 272.9828,
                        "rotZ": 0.01687373,
                        "scaleX": 0.8,
                        "scaleY": 1.0,
                        "scaleZ": 0.8
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  }
                }
              ]
            },
            {
              "GUID": "117860",
              "Name": "Card",
              "Transform": {
                "posX": -29.50013,
                "posY": 1.78358865,
                "posZ": 7.99987555,
                "rotX": 0.000170026149,
                "rotY": 180.00032,
                "rotZ": -0.00118468993,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Galère des Bêtes Lunaires",
              "Description": "Navire.",
              "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06214\",\n  \"locationFront\": {\n    \"connections\": \"\",\n    \"icons\": \"\",\n    \"uses\": {\n      \"count\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    }\n  },\n  \"traits\": \"Ship.\",\n  \"type\": \"Location\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276531,
              "SidewaysCard": false,
              "CustomDeck": {
                "2765": {
                  "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                  "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "1ad61b",
              "Name": "Custom_Tile",
              "Transform": {
                "posX": 3.0,
                "posY": 1.50178492,
                "posZ": -6.5,
                "rotX": 0.0108905146,
                "rotY": 180.011887,
                "rotZ": 0.00495060859,
                "scaleX": 1.6428808,
                "scaleY": 1.0,
                "scaleZ": 1.6428808
              },
              "Nickname": "Mise en place du Chaos Bag",
              "Description": "III-A : La Face Cachée de la Lune",
              "GMNotes": "{\"data\":\"Dark Side of the Moon\",\"easy\":false,\"expert\":false,\"hard\":false,\"normal\":false,\"standalone\":true}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.8745098,
                "g": 0.8,
                "b": 0.7019608
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/2011456161884106028/81BF2DAD34FE18B6788B56E21F16B81E6525AD99/",
                "ImageSecondaryURL": "https://steamusercontent-a.akamaihd.net/ugc/2011456161884106028/81BF2DAD34FE18B6788B56E21F16B81E6525AD99/",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomTile": {
                  "Type": 3,
                  "Thickness": 0.1,
                  "Stackable": false,
                  "Stretch": true
                }
              },
              "LuaScript": "\r\njacqueline_guid = '42cd6e'\r\n\r\nbuttonparams = {\r\n   ['easy'] = {label = \"Facile\", click_function = 'modeEasy', z_i = -0.2},\r\n   ['normal'] = {label = \"Standard\", click_function = 'modeNormal', z_i = 0.1},\r\n   ['hard'] = {label = \"Difficile\", click_function = 'modeHard', z_i = 0.4},\r\n   ['expert'] = {label = \"Expert\", click_function = 'modeExpert', z_i = 0.7},\r\n   ['standalone'] = {label = \"Indépendant\", click_function = 'modeStandalone', z_i = 0},\r\n}\r\n\r\nfunction onLoad()\r\n\r\n    metadata = JSON.decode(self.getGMNotes())\r\n    buttontable = {}\r\n    for key, value in pairs(buttonparams) do\r\n        if metadata[key] == true then\r\n            table.insert(buttontable,value)\r\n        end\r\n        \r\n    end\r\n\r\n    for _, button in pairs(buttontable) do\r\n        local data = {\r\n            click_function = button.click_function, \r\n            function_owner = self, \r\n            label = button.label, \r\n            position = {0, 0.1, button.z_i}, \r\n            scale = {0.3, 0.5, 0.3}, \r\n            width = 1500, \r\n            height = 400, \r\n            font_size = 250, \r\n            tooltip = \"Chaos bag du mode \"..button.label,\r\n            color = {0.5647, 0.4627, 0.2353, 1}, \r\n            font_color = {0.9041, 0.8313, 0.7356, 1},\r\n            hover_color = {99/255, 85/255, 48/255},\r\n            press_color = {192/255, 152/255, 94/255} }\r\n        self.createButton(data)\r\n        \r\n    end\r\n    jacqueline = getObjectFromGUID(jacqueline_guid)\r\n    chaosdata = jacqueline.getTable('chaosdata')\r\nend\r\n\r\nfunction modeEasy()\r\n    local  params ={}\r\n     params.mode = 'easy'\r\n     params.data = metadata.data\r\n     jacqueline.call('setChaosBag', params)\r\n  \r\nend\r\n\r\nfunction modeNormal()\r\n      local  params ={}\r\n       params.mode = 'normal'\r\n       params.data = metadata.data\r\n       jacqueline.call('setChaosBag', params)\r\n    \r\nend\r\n\r\nfunction modeHard()\r\n    local  params ={}\r\n     params.mode = 'hard'\r\n     params.data = metadata.data\r\n     jacqueline.call('setChaosBag', params)\r\n  \r\nend\r\n\r\nfunction modeExpert()\r\n    local  params ={}\r\n     params.mode = 'expert'\r\n     params.data = metadata.data\r\n     jacqueline.call('setChaosBag', params)\r\n  \r\nend\r\n\r\nfunction modeStandalone()\r\n    local  params ={}\r\n     params.mode = 'standalone'\r\n     params.data = metadata.data\r\n     jacqueline.call('setChaosBag', params)\r\n  \r\nend",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "1cb0dc",
              "Name": "Custom_Token",
              "Transform": {
                "posX": -6.49999952,
                "posY": 1.67459369,
                "posZ": -17.0,
                "rotX": -0.00125491642,
                "rotY": 179.999512,
                "rotZ": -0.0007731359,
                "scaleX": 0.3,
                "scaleY": 1.0,
                "scaleZ": 0.3
              },
              "Nickname": "Doom counter\n",
              "Description": "Left click - Increase\nRight click - Decrease",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 1.0,
                "g": 0.0,
                "b": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": false,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/949592555964782208/CC876694A6684B3C2680CE2FE3259F574AE0AD97/",
                "ImageSecondaryURL": "",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomToken": {
                  "Thickness": 0.1,
                  "MergeDistancePixels": 5.0,
                  "StandUp": false,
                  "Stackable": false
                }
              },
              "LuaScript": "MIN_VALUE = -99\r\nMAX_VALUE = 999\r\n\r\nfunction onload(saved_data)\r\n    light_mode = false\r\n    val = 0\r\n\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        light_mode = loaded_data[1]\r\n        val = loaded_data[2]\r\n    end\r\n\r\n    createAll()\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = {light_mode, val}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction createAll()\r\n    s_color = {0.5, 0.5, 0.5, 95}\r\n\r\n    if light_mode then\r\n        f_color = {1,1,1,95}\r\n    else\r\n        f_color = {0,0,0,100}\r\n    end\r\n\r\n\r\n\r\n    self.createButton({\r\n      label=tostring(val),\r\n      click_function=\"add_subtract\",\r\n      function_owner=self,\r\n      position={0,0.05,0},\r\n      height=600,\r\n      width=1000,\r\n      alignment = 3,\r\n      scale={x=1.5, y=1.5, z=1.5},\r\n      font_size=600,\r\n      font_color=f_color,\r\n      color={0,0,0,0}\r\n      })\r\n\r\n\r\n\r\n\r\n    if light_mode then\r\n        lightButtonText = \"[ Set dark ]\"\r\n    else\r\n        lightButtonText = \"[ Set light ]\"\r\n    end\r\n \r\nend\r\n\r\nfunction removeAll()\r\n    self.removeInput(0)\r\n    self.removeInput(1)\r\n    self.removeButton(0)\r\n    self.removeButton(1)\r\n    self.removeButton(2)\r\nend\r\n\r\nfunction reloadAll()\r\n    removeAll()\r\n    createAll()\r\n\r\n    updateSave()\r\nend\r\n\r\nfunction swap_fcolor(_obj, _color, alt_click)\r\n    light_mode = not light_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction swap_align(_obj, _color, alt_click)\r\n    center_mode = not center_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction editName(_obj, _string, value) \r\n    self.setName(value)\r\n    setTooltips()\r\nend\r\n\r\nfunction add_subtract(_obj, _color, alt_click)\r\n    mod = alt_click and -1 or 1\r\n    new_value = math.min(math.max(val + mod, MIN_VALUE), MAX_VALUE)\r\n    if val ~= new_value then\r\n        val = new_value\r\n      updateVal()\r\n        updateSave()\r\n    end\r\nend\r\n\r\nfunction updateVal()\r\n\r\n    self.editButton({\r\n        index = 0,\r\n        label = tostring(val),\r\n\r\n        })\r\nend\r\n\r\nfunction reset_val()\r\n    val = 0\r\n    updateVal()\r\n    updateSave()\r\nend\r\n\r\nfunction setTooltips()\r\n    self.editInput({\r\n        index = 0,\r\n        value = self.getName(),\r\n        tooltip = ttText\r\n        })\r\n    self.editButton({\r\n        index = 0,\r\n        value = tostring(val),\r\n        tooltip = ttText\r\n        })\r\nend\r\n\r\nfunction null()\r\nend\r\n\r\nfunction keepSample(_obj, _string, value) \r\n    reloadAll()\r\nend",
              "LuaScriptState": "[true,0]",
              "XmlUI": ""
            },
            {
              "GUID": "367874",
              "Name": "Custom_Token",
              "Transform": {
                "posX": 9.5,
                "posY": 1.67485869,
                "posZ": -17.0,
                "rotX": -3.85556632E-06,
                "rotY": 179.999512,
                "rotZ": -4.10241546E-06,
                "scaleX": 0.3,
                "scaleY": 1.0,
                "scaleZ": 0.3
              },
              "Nickname": "Doom counter\n",
              "Description": "Left click - Increase\nRight click - Decrease",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 1.0,
                "g": 0.0,
                "b": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": false,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/949592555964782208/CC876694A6684B3C2680CE2FE3259F574AE0AD97/",
                "ImageSecondaryURL": "",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomToken": {
                  "Thickness": 0.1,
                  "MergeDistancePixels": 5.0,
                  "StandUp": false,
                  "Stackable": false
                }
              },
              "LuaScript": "MIN_VALUE = -99\r\nMAX_VALUE = 999\r\n\r\nfunction onload(saved_data)\r\n    light_mode = false\r\n    val = 0\r\n\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        light_mode = loaded_data[1]\r\n        val = loaded_data[2]\r\n    end\r\n\r\n    createAll()\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = {light_mode, val}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction createAll()\r\n    s_color = {0.5, 0.5, 0.5, 95}\r\n\r\n    if light_mode then\r\n        f_color = {1,1,1,95}\r\n    else\r\n        f_color = {0,0,0,100}\r\n    end\r\n\r\n\r\n\r\n    self.createButton({\r\n      label=tostring(val),\r\n      click_function=\"add_subtract\",\r\n      function_owner=self,\r\n      position={0,0.05,0},\r\n      height=600,\r\n      width=1000,\r\n      alignment = 3,\r\n      scale={x=1.5, y=1.5, z=1.5},\r\n      font_size=600,\r\n      font_color=f_color,\r\n      color={0,0,0,0}\r\n      })\r\n\r\n\r\n\r\n\r\n    if light_mode then\r\n        lightButtonText = \"[ Set dark ]\"\r\n    else\r\n        lightButtonText = \"[ Set light ]\"\r\n    end\r\n \r\nend\r\n\r\nfunction removeAll()\r\n    self.removeInput(0)\r\n    self.removeInput(1)\r\n    self.removeButton(0)\r\n    self.removeButton(1)\r\n    self.removeButton(2)\r\nend\r\n\r\nfunction reloadAll()\r\n    removeAll()\r\n    createAll()\r\n\r\n    updateSave()\r\nend\r\n\r\nfunction swap_fcolor(_obj, _color, alt_click)\r\n    light_mode = not light_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction swap_align(_obj, _color, alt_click)\r\n    center_mode = not center_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction editName(_obj, _string, value) \r\n    self.setName(value)\r\n    setTooltips()\r\nend\r\n\r\nfunction add_subtract(_obj, _color, alt_click)\r\n    mod = alt_click and -1 or 1\r\n    new_value = math.min(math.max(val + mod, MIN_VALUE), MAX_VALUE)\r\n    if val ~= new_value then\r\n        val = new_value\r\n      updateVal()\r\n        updateSave()\r\n    end\r\nend\r\n\r\nfunction updateVal()\r\n\r\n    self.editButton({\r\n        index = 0,\r\n        label = tostring(val),\r\n\r\n        })\r\nend\r\n\r\nfunction reset_val()\r\n    val = 0\r\n    updateVal()\r\n    updateSave()\r\nend\r\n\r\nfunction setTooltips()\r\n    self.editInput({\r\n        index = 0,\r\n        value = self.getName(),\r\n        tooltip = ttText\r\n        })\r\n    self.editButton({\r\n        index = 0,\r\n        value = tostring(val),\r\n        tooltip = ttText\r\n        })\r\nend\r\n\r\nfunction null()\r\nend\r\n\r\nfunction keepSample(_obj, _string, value) \r\n    reloadAll()\r\nend",
              "LuaScriptState": "[true,0]",
              "XmlUI": ""
            },
            {
              "GUID": "3b8d67",
              "Name": "Custom_Tile",
              "Transform": {
                "posX": -6.50000048,
                "posY": 1.50545669,
                "posZ": 8.5,
                "rotX": 0.0108921342,
                "rotY": 179.995316,
                "rotZ": 0.004952868,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.6045295,
                "g": 0.6045295,
                "b": 0.6045295
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://i.imgur.com/vppt2my.png",
                "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomTile": {
                  "Type": 3,
                  "Thickness": 0.1,
                  "Stackable": false,
                  "Stretch": true
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "States": {
                "2": {
                  "GUID": "44b0c5",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -39.7933121,
                    "posY": 1.63758957,
                    "posZ": 2.038383,
                    "rotX": 359.9201,
                    "rotY": 269.9961,
                    "rotZ": 0.0168742146,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                "3": {
                  "GUID": "5b38c6",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -38.8217163,
                    "posY": 1.99356019,
                    "posZ": 0.4159239,
                    "rotX": 359.9201,
                    "rotY": 272.9828,
                    "rotZ": 0.01687373,
                    "scaleX": 0.8,
                    "scaleY": 1.0,
                    "scaleZ": 0.8
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              }
            },
            {
              "GUID": "4239bf",
              "Name": "Custom_Token",
              "Transform": {
                "posX": 24.5,
                "posY": 1.67486,
                "posZ": -17.0,
                "rotX": -3.10489759E-06,
                "rotY": 179.9993,
                "rotZ": 1.97443842E-06,
                "scaleX": 0.3,
                "scaleY": 1.0,
                "scaleZ": 0.3
              },
              "Nickname": "Doom counter\n",
              "Description": "Left click - Increase\nRight click - Decrease",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 1.0,
                "g": 0.0,
                "b": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": false,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/949592555964782208/CC876694A6684B3C2680CE2FE3259F574AE0AD97/",
                "ImageSecondaryURL": "",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomToken": {
                  "Thickness": 0.1,
                  "MergeDistancePixels": 5.0,
                  "StandUp": false,
                  "Stackable": false
                }
              },
              "LuaScript": "MIN_VALUE = -99\r\nMAX_VALUE = 999\r\n\r\nfunction onload(saved_data)\r\n    light_mode = false\r\n    val = 0\r\n\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        light_mode = loaded_data[1]\r\n        val = loaded_data[2]\r\n    end\r\n\r\n    createAll()\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = {light_mode, val}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction createAll()\r\n    s_color = {0.5, 0.5, 0.5, 95}\r\n\r\n    if light_mode then\r\n        f_color = {1,1,1,95}\r\n    else\r\n        f_color = {0,0,0,100}\r\n    end\r\n\r\n\r\n\r\n    self.createButton({\r\n      label=tostring(val),\r\n      click_function=\"add_subtract\",\r\n      function_owner=self,\r\n      position={0,0.05,0},\r\n      height=600,\r\n      width=1000,\r\n      alignment = 3,\r\n      scale={x=1.5, y=1.5, z=1.5},\r\n      font_size=600,\r\n      font_color=f_color,\r\n      color={0,0,0,0}\r\n      })\r\n\r\n\r\n\r\n\r\n    if light_mode then\r\n        lightButtonText = \"[ Set dark ]\"\r\n    else\r\n        lightButtonText = \"[ Set light ]\"\r\n    end\r\n \r\nend\r\n\r\nfunction removeAll()\r\n    self.removeInput(0)\r\n    self.removeInput(1)\r\n    self.removeButton(0)\r\n    self.removeButton(1)\r\n    self.removeButton(2)\r\nend\r\n\r\nfunction reloadAll()\r\n    removeAll()\r\n    createAll()\r\n\r\n    updateSave()\r\nend\r\n\r\nfunction swap_fcolor(_obj, _color, alt_click)\r\n    light_mode = not light_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction swap_align(_obj, _color, alt_click)\r\n    center_mode = not center_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction editName(_obj, _string, value) \r\n    self.setName(value)\r\n    setTooltips()\r\nend\r\n\r\nfunction add_subtract(_obj, _color, alt_click)\r\n    mod = alt_click and -1 or 1\r\n    new_value = math.min(math.max(val + mod, MIN_VALUE), MAX_VALUE)\r\n    if val ~= new_value then\r\n        val = new_value\r\n      updateVal()\r\n        updateSave()\r\n    end\r\nend\r\n\r\nfunction updateVal()\r\n\r\n    self.editButton({\r\n        index = 0,\r\n        label = tostring(val),\r\n\r\n        })\r\nend\r\n\r\nfunction reset_val()\r\n    val = 0\r\n    updateVal()\r\n    updateSave()\r\nend\r\n\r\nfunction setTooltips()\r\n    self.editInput({\r\n        index = 0,\r\n        value = self.getName(),\r\n        tooltip = ttText\r\n        })\r\n    self.editButton({\r\n        index = 0,\r\n        value = tostring(val),\r\n        tooltip = ttText\r\n        })\r\nend\r\n\r\nfunction null()\r\nend\r\n\r\nfunction keepSample(_obj, _string, value) \r\n    reloadAll()\r\nend",
              "LuaScriptState": "[true,0]",
              "XmlUI": ""
            },
            {
              "GUID": "4df2ac",
              "Name": "Custom_Token",
              "Transform": {
                "posX": -29.5001259,
                "posY": 1.84714675,
                "posZ": 7.99995041,
                "rotX": -0.000194877663,
                "rotY": 179.993134,
                "rotZ": -0.00228191447,
                "scaleX": 0.23,
                "scaleY": 1.0,
                "scaleZ": 0.225
              },
              "Nickname": "Indices",
              "Description": "Click gauche - Ajouter\nClick droit - Soustraire",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": false,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/784129913444610342/7903BA89870C1656A003FD69C79BFA99BD1AAC24/",
                "ImageSecondaryURL": "",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomToken": {
                  "Thickness": 0.1,
                  "MergeDistancePixels": 5.0,
                  "StandUp": false,
                  "Stackable": false
                }
              },
              "LuaScript": "MIN_VALUE = -99\r\nMAX_VALUE = 999\r\nlocal ZONE_HANDLER_GUID = 'ef3980'\r\nzoneHandler = getObjectFromGUID(ZONE_HANDLER_GUID)\r\nfunction onload(saved_data)\r\n    light_mode = true\r\n    val = 0\r\n\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        light_mode = loaded_data[1]\r\n        val = loaded_data[2]\r\n    end\r\n\r\n    createAll()\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = { light_mode, val }\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction createAll()\r\n    s_color = { 0, 0, 0, 100 }\r\n\r\n    if light_mode then\r\n        f_color = { 1, 1, 1, 100 }\r\n    else\r\n        f_color = { 0, 0, 0, 100 }\r\n    end\r\n\r\n\r\n\r\n    self.createButton({\r\n        label = tostring(val),\r\n        click_function = \"clickOrAlt_click\",\r\n        function_owner = self,\r\n        position = { 0, 0.05, 0.1 },\r\n        height = 600,\r\n        width = 1000,\r\n        alignment = 3,\r\n        scale = { x = 1.5, y = 1.5, z = 1.5 },\r\n        font_size = 800,\r\n        font_color = f_color,\r\n        color = { 1, 1, 1, 0 }\r\n    })\r\n\r\n\r\n    self.createButton({\r\n        click_function = \"takeClue\",\r\n        function_owner = self,\r\n        label = \"Prendre\",\r\n        position = { 3.5, 0.1, 0 },\r\n        rotation = { 0, 270, 0 },\r\n        scale = { 1.6, 1, 1.6 },\r\n        width = 1600,\r\n        height = 500,\r\n        font_size = 400,\r\n        font_color = { 1, 1, 1 },\r\n        color = { 0, 0, 0 },\r\n        tooltip = \"Prendre un indice (click droit pour reposer)\"\r\n    })\r\n\r\n\r\n\r\n    if light_mode then\r\n        lightButtonText = \"[ Set dark ]\"\r\n    else\r\n        lightButtonText = \"[ Set light ]\"\r\n    end\r\nend\r\n\r\nfunction removeAll()\r\n    self.removeInput(0)\r\n    self.removeInput(1)\r\n    self.removeButton(0)\r\n    self.removeButton(1)\r\n    self.removeButton(2)\r\nend\r\n\r\nfunction reloadAll()\r\n    removeAll()\r\n    createAll()\r\n\r\n    updateSave()\r\nend\r\n\r\nfunction swap_fcolor(_obj, _color, alt_click)\r\n    light_mode = not light_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction swap_align(_obj, _color, alt_click)\r\n    center_mode = not center_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction editName(_obj, _string, value)\r\n    self.setName(value)\r\n    setTooltips()\r\nend\r\n\r\nfunction clickOrAlt_click(_obj, _color, alt_click)\r\n    if alt_click then\r\n        substract()\r\n    else\r\n        add()\r\n    end\r\nend\r\n\r\nfunction substract()\r\n    add_subtract(-1)\r\nend\r\n\r\nfunction add()\r\n    add_subtract(1)\r\nend\r\n\r\nfunction add_subtract(mod)\r\n    new_value = math.min(math.max(val + mod, MIN_VALUE), MAX_VALUE)\r\n    if val ~= new_value then\r\n        val = new_value\r\n        updateVal()\r\n        updateSave()\r\n    end\r\nend\r\n\r\nfunction takeClue(_, color, alt_click)\r\n    if alt_click then\r\n        add()\r\n    else\r\n        substract()\r\n    end\r\n    local params = {}\r\n    params.playerColor = color\r\n    params.zone = 'CounterZone'\r\n    local objects = zoneHandler.call('getObjectsInPlayerZone', params)\r\n    for _, token in ipairs(objects) do\r\n        if token.getName() == \"Indices\" and token.getDescription() == \"Compteur de Joueur\" then\r\n            local cluecounter = token\r\n            if alt_click then\r\n                cluecounter.call('substract')\r\n            else\r\n                cluecounter.call('add')\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateVal()\r\n    self.editButton({\r\n        index = 0,\r\n        label = tostring(val),\r\n    })\r\nend\r\n\r\nfunction reset_val()\r\n    val = 0\r\n    updateVal()\r\n    updateSave()\r\nend\r\n\r\nfunction setTooltips()\r\n    self.editInput({\r\n        index = 0,\r\n        value = self.getName(),\r\n        tooltip = ttText\r\n    })\r\n    self.editButton({\r\n        index = 0,\r\n        value = tostring(val),\r\n        tooltip = ttText\r\n    })\r\nend\r\n\r\nfunction null()\r\nend\r\n\r\nfunction keepSample(_obj, _string, value)\r\n    reloadAll()\r\nend\r\n",
              "LuaScriptState": "[true,0]",
              "XmlUI": ""
            },
            {
              "GUID": "64c70c",
              "Name": "Card",
              "Transform": {
                "posX": 2.49999213,
                "posY": 1.51733375,
                "posZ": 3.499996,
                "rotX": 0.0108916089,
                "rotY": 179.999969,
                "rotZ": 0.004948244,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Forêt Lunaire",
              "Description": "Surface. Bois.",
              "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06218\",\n  \"locationBack\": {\n    \"connections\": \"Crescent|Square|Tilde\",\n    \"icons\": \"Circle\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    },\n    \"victory\": 1\n  },\n  \"locationFront\": {\n    \"connections\": \"Crescent|Square|Tilde\",\n    \"icons\": \"Circle\"\n  },\n  \"traits\": \"Surface. Woods.\",\n  \"type\": \"Location\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276535,
              "SidewaysCard": false,
              "CustomDeck": {
                "2765": {
                  "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                  "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "6efb93",
              "Name": "Card",
              "Transform": {
                "posX": -6.48643732,
                "posY": 1.52000844,
                "posZ": 13.4880848,
                "rotX": 0.0108915325,
                "rotY": 179.999878,
                "rotZ": 0.00494821277,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Ville des Bêtes Lunaires",
              "Description": "Surface. Ville.",
              "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06215\",\n  \"locationBack\": {\n    \"connections\": \"Square|Crescent\",\n    \"icons\": \"Triangle\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    },\n    \"victory\": 1\n  },\n  \"locationFront\": {\n    \"connections\": \"Square|Crescent\",\n    \"icons\": \"Triangle\"\n  },\n  \"traits\": \"Surface. City.\",\n  \"type\": \"Location\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276532,
              "SidewaysCard": false,
              "CustomDeck": {
                "2765": {
                  "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                  "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "752f38",
              "Name": "Custom_Token",
              "Transform": {
                "posX": 21.5000019,
                "posY": 1.55208778,
                "posZ": 3.499997,
                "rotX": 0.0109000746,
                "rotY": 179.999557,
                "rotZ": 0.00495514972,
                "scaleX": 0.374331743,
                "scaleY": 1.0,
                "scaleZ": 0.374331743
              },
              "Nickname": "Niveau d'Alerte\n",
              "Description": "Left click - Increase\nRight click - Decrease",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.965451062,
                "g": 0.965451062,
                "b": 0.965451062
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": false,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/949592555964782208/CC876694A6684B3C2680CE2FE3259F574AE0AD97/",
                "ImageSecondaryURL": "",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomToken": {
                  "Thickness": 0.1,
                  "MergeDistancePixels": 5.0,
                  "StandUp": false,
                  "Stackable": false
                }
              },
              "LuaScript": "MIN_VALUE = -99\r\nMAX_VALUE = 999\r\n\r\nfunction onload(saved_data)\r\n    light_mode = false\r\n    val = 0\r\n\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        light_mode = loaded_data[1]\r\n        val = loaded_data[2]\r\n    end\r\n\r\n    createAll()\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = {light_mode, val}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction createAll()\r\n    s_color = {0.5, 0.5, 0.5, 95}\r\n\r\n    if light_mode then\r\n        f_color = {1,1,1,95}\r\n    else\r\n        f_color = {0,0,0,100}\r\n    end\r\n\r\n\r\n\r\n    self.createButton({\r\n      label=tostring(val),\r\n      click_function=\"add_subtract\",\r\n      function_owner=self,\r\n      position={0,0.05,0},\r\n      height=600,\r\n      width=1000,\r\n      alignment = 3,\r\n      scale={x=1.5, y=1.5, z=1.5},\r\n      font_size=600,\r\n      font_color=f_color,\r\n      color={0,0,0,0}\r\n      })\r\n\r\n\r\n\r\n\r\n    if light_mode then\r\n        lightButtonText = \"[ Set dark ]\"\r\n    else\r\n        lightButtonText = \"[ Set light ]\"\r\n    end\r\n \r\nend\r\n\r\nfunction removeAll()\r\n    self.removeInput(0)\r\n    self.removeInput(1)\r\n    self.removeButton(0)\r\n    self.removeButton(1)\r\n    self.removeButton(2)\r\nend\r\n\r\nfunction reloadAll()\r\n    removeAll()\r\n    createAll()\r\n\r\n    updateSave()\r\nend\r\n\r\nfunction swap_fcolor(_obj, _color, alt_click)\r\n    light_mode = not light_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction swap_align(_obj, _color, alt_click)\r\n    center_mode = not center_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction editName(_obj, _string, value) \r\n    self.setName(value)\r\n    setTooltips()\r\nend\r\n\r\nfunction add_subtract(_obj, _color, alt_click)\r\n    mod = alt_click and -1 or 1\r\n    new_value = math.min(math.max(val + mod, MIN_VALUE), MAX_VALUE)\r\n    if val ~= new_value then\r\n        val = new_value\r\n      updateVal()\r\n        updateSave()\r\n    end\r\nend\r\n\r\nfunction updateVal()\r\n\r\n    self.editButton({\r\n        index = 0,\r\n        label = tostring(val),\r\n\r\n        })\r\nend\r\n\r\nfunction reset_val()\r\n    val = 0\r\n    updateVal()\r\n    updateSave()\r\nend\r\n\r\nfunction setTooltips()\r\n    self.editInput({\r\n        index = 0,\r\n        value = self.getName(),\r\n        tooltip = ttText\r\n        })\r\n    self.editButton({\r\n        index = 0,\r\n        value = tostring(val),\r\n        tooltip = ttText\r\n        })\r\nend\r\n\r\nfunction null()\r\nend\r\n\r\nfunction keepSample(_obj, _string, value) \r\n    reloadAll()\r\nend",
              "LuaScriptState": "[true,0]",
              "XmlUI": ""
            },
            {
              "GUID": "79ba22",
              "Name": "Custom_Model",
              "Transform": {
                "posX": 6.999966,
                "posY": 1.72241592,
                "posZ": -16.0012741,
                "rotX": 353.74585,
                "rotY": 359.979553,
                "rotZ": 0.0275124479,
                "scaleX": 1.74999952,
                "scaleY": 1.74999952,
                "scaleZ": 1.74999952
              },
              "Nickname": "Niveau d'Alerte",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.0,
                "g": 0.67770046,
                "b": 0.555448532,
                "a": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": false,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": false,
              "Tooltip": false,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/1478820768302617365/27883B7913E0E69143C3AA03493B7E7C4E8C29C0/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 1,
                "TypeIndex": 0,
                "CastShadows": true
              },
              "LuaScript": "-- Code for bag to identify text tool objects\r\nmovableTextTool_cowgoesmoo33 = true\r\n\r\n-- Number of characters before the text box width expands.\r\nEXPAND_INTERVAL = 20\r\n\r\n-- This table controls what is passed between save/load\r\ndata = {}\r\n\r\nfunction onLoad(saved_data)\r\n  if saved_data ~= '' then\r\n    data = JSON.decode(saved_data)\r\n    if data.text ~= '' then\r\n      self.interactable = data.interactable\r\n      staticMode()\r\n      return\r\n    end\r\n  else\r\n    data = {size=200, color=Color(0,0,0), text='', interactable=true,\r\n        enter_to_finish=false, autolock=false, autolift=false,\r\n        hover_height=0.05, box_transparency=1}\r\n  end\r\n\r\n  inputMode()\r\nend\r\n\r\n-- True if in the middle of delay after pressing Enter (with enter_to_finish on)\r\nfinishing = false\r\nfunction input_func(obj, color, input, stillEditing)\r\n  local params = getBox(input)\r\n  if params then\r\n    params.value = input\r\n    self.editInput(params)\r\n  end\r\n\r\n  if not stillEditing then\r\n    data.text = input\r\n    updateState()\r\n    if input ~= '' then staticMode(color) end\r\n  elseif data.enter_to_finish then\r\n    -- If enter is pressed: remove last newline and force finish\r\n    if not finishing and input:sub(-1) == '\\n' then\r\n      finishing = true\r\n      -- Delay to avoid user's Enter keypress being detected (opens chat box)\r\n      Wait.frames(function()\r\n        input = input:sub(1, -2)\r\n        data.text = input\r\n        updateState()\r\n        if input ~= '' then staticMode(color) else inputMode() end\r\n        finishing = false\r\n      end, 10)\r\n    end\r\n  end\r\nend\r\n\r\n-- When the inpupt box appears and lets the player type in it.\r\nfunction inputMode()\r\n  self.clearContextMenu()\r\n  self.clearInputs()\r\n  self.clearButtons()\r\n\r\n  local size = getBox(data.text, true)\r\n\r\n  self.createInput({\r\n    input_function = \"input_func\",\r\n    function_owner = self,\r\n    label          = \"Type Here\",\r\n    alignment      = 3,\r\n    position       = {x=0, y=data.hover_height, z=0},\r\n    rotation       = {0, 180, 0},\r\n    width          = size.width,\r\n    height         = size.height,\r\n    color          = getBackground(data.color),\r\n    font_color     = data.color,\r\n    font_size      = data.size,\r\n    value          = data.text,\r\n  })\r\n\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\nend\r\n\r\n-- When the input box disappears and displays the text.\r\nfunction staticMode(player)\r\n  self.clearContextMenu()\r\n  if data.autolock then\r\n    self.locked = true\r\n  end\r\n  if self.getInputs() and #self.getInputs() ~= 0 then\r\n    self.removeInput(0)\r\n  end\r\n\r\n  -- Clear from selecting player\r\n  if player then\r\n    self.removeFromPlayerSelection(player)\r\n  end\r\n\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  self.createButton({\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=self,\r\n    position={0,data.hover_height,0}, rotation={0,180,0}, height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  })\r\n\r\n  self.addContextMenuItem('Edit Text', function(color)\r\n    self.removeFromPlayerSelection(color)\r\n    inputMode()\r\n  end)\r\n  self.addContextMenuItem('Clear', function(color)\r\n    applyMultiple(color, 'clear', _, true)\r\n  end)\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\n  self.addContextMenuItem('Permanently Attach', attemptAttach)\r\n  self.addContextMenuItem('Permalock', function(color)\r\n    applyMultiple(color, 'permalock', _, true)\r\n  end)\r\nend\r\n\r\nfunction changeSize(params)\r\n  local delta = params[1]\r\n  local newSize = data.size + delta\r\n  if newSize > 800  or newSize < 50 then\r\n    return\r\n  end\r\n  data.size = newSize\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_size=data.size})\r\n  else\r\n    local size = getBox(data.text, true)\r\n    self.editInput({width=size.width, height=size.height, font_size=data.size})\r\n  end\r\nend\r\n\r\nfunction setColor(params)\r\n  if params and params[1] then\r\n    data.color = params[1]\r\n  else\r\n    data.color = self.getColorTint():setAt('a', 1) -- Take on color of object tint\r\n  end\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_color=data.color})\r\n  else\r\n    self.editInput({font_color=data.color, color=getBackground(data.color)})\r\n  end\r\nend\r\n\r\nfunction getBackground(color) --determines whether to use black or white depending on luminance\r\n  local r,g,b = Color(color):get()\r\n\r\n  local lum = 0.2126*r + 0.7152*g + 0.0722*b\r\n  if lum > 0.75 then\r\n    return {0.2,0.2,0.2, data.box_transparency}\r\n  else\r\n    return {1,1,1, data.box_transparency}\r\n  end\r\nend\r\n\r\nfunction clear()\r\n  data.text = ''\r\n  updateState()\r\n  inputMode()\r\nend\r\n\r\nfunction permalock()\r\n  self.interactable = false\r\n  data.interactable = false\r\n  updateState()\r\nend\r\n\r\nlocal target_script = [[\r\nfunction onLoad(script_state)\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    for _,entry in ipairs(state) do\r\n      self.createButton(entry)\r\n    end\r\n    self.addContextMenuItem('Clear All Text', function(color)\r\n      self.clearContextMenu()\r\n      self.clearButtons()\r\n      self.script_state = ''\r\n      self.script_code = ''\r\n    end)\r\n  end\r\nend\r\n]]\r\n\r\nfunction attemptAttach(player_color)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  local attachee\r\n  local attachers = {}\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if obj ~= self then\r\n        table.insert(attachers, obj)\r\n      end\r\n    else\r\n      if attachee then\r\n        broadcastToColor(\"More than one target selected.\", player_color)\r\n        return\r\n      else\r\n        attachee = obj\r\n      end\r\n    end\r\n  end\r\n  if attachee then\r\n    local code = attachee.script_code\r\n    if code and code ~= '' and code ~= target_script then\r\n      broadcastToColor(\"Warning: script on card has been overriden. Rewind time to undo.\", player_color)\r\n    end\r\n    for i,attacher in ipairs(attachers) do\r\n      attacher.call('attach', {target = attachee})\r\n    end\r\n    attach({target = attachee})\r\n    local type, flip = attachee.type, attachee.getRotation().z\r\n    if (type == 'Card' or type == 'Deck') and flip > 175 and flip < 185 then\r\n      broadcastToColor(\"Warning: text will not display if card or deck is facing down.\", player_color)\r\n    end\r\n  else\r\n    broadcastToColor(\"You must have a target object in your selection (using click-and-drag or Ctrl+Click) to use this option.\", player_color)\r\n  end\r\nend\r\n\r\nfunction attach(params)\r\n  local target = params.target\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  local textRotation = self.getRotation():sub(target.getRotation())\r\n    :add(Vector(180, 0, 180))\r\n\r\n  local textPosition = target.positionToLocal(\r\n    self.getPosition():add(Vector(0, data.hover_height, 0))\r\n  )\r\n  textPosition.x = -textPosition.x\r\n\r\n  local textScale = {}\r\n  textScale.x = self.getScale().x / target.getScale().x\r\n  textScale.y = self.getScale().x / target.getScale().y\r\n  textScale.z = self.getScale().x / target.getScale().z\r\n\r\n  local details = {\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=nil,\r\n    position=textPosition,\r\n    rotation=textRotation,\r\n    scale=textScale,\r\n    height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  }\r\n\r\n  target.createButton(details)\r\n\r\n  local script_state = target.script_state\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    table.insert(state, details)\r\n    target.script_state = JSON.encode(state)\r\n  else\r\n    target.script_state = JSON.encode({[1]=details})\r\n  end\r\n\r\n  target.script_code = target_script\r\n\r\n  self.destruct()\r\nend\r\n\r\nfunction applyMultiple(player_color, func_string, params, static_only)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if not static_only or obj.call('isStatic') then\r\n        obj.call(func_string, params)\r\n      end\r\n    end\r\n  end\r\nend\r\n\r\nfunction isStatic()\r\n  local input = self.getInputs()\r\n  return not input or #input == 0\r\nend\r\n\r\nfunction getBox(input, force)\r\n  local maxLength, lineCount = EXPAND_INTERVAL, 1\r\n  local lineLength = 0\r\n  for i = 1, #input do\r\n    local c = input:sub(i,i)\r\n    if c == '\\n' then\r\n      lineCount = lineCount + 1\r\n      if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n      lineLength = 0\r\n    else\r\n      lineLength = lineLength + 1\r\n    end\r\n  end\r\n  if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n\r\n  newWidth = data.size * maxLength * 0.9\r\n  newHeight = data.size * lineCount + 23\r\n\r\n  if force or boxWidth ~= newWidth or boxHeight ~= newHeight then\r\n    boxWidth, boxHeight = newWidth, newHeight\r\n    return {width = boxWidth, height = boxHeight}\r\n  end\r\n  return nil\r\nend\r\n\r\ntemp_lift = nil\r\nfunction onPickUp(player_color)\r\n  if data.autolift then\r\n    local player = Player[player_color]\r\n    temp_lift = player.lift_height\r\n    player.lift_height = 0\r\n  end\r\nend\r\n\r\nfunction onDrop(player_color)\r\n  if data.autolift and temp_lift then\r\n    Player[player_color].lift_height = temp_lift\r\n  end\r\nend\r\n\r\n-- Should be called every time data is modified, allows info to be saved on copy/paste\r\nfunction updateState()\r\n  self.script_state = JSON.encode(data)\r\nend\r\n\r\nfunction onSave()\r\n  self.script_state = JSON.encode(data)\r\n  return self.script_state\r\nend",
              "LuaScriptState": "{\"autolift\":false,\"autolock\":false,\"box_transparency\":1,\"color\":{\"a\":1,\"b\":0,\"g\":0,\"r\":0},\"enter_to_finish\":false,\"hover_height\":0.05,\"interactable\":true,\"size\":250,\"text\":\"Niveau d'Alerte\"}",
              "XmlUI": ""
            },
            {
              "GUID": "7df6fd",
              "Name": "Custom_Model",
              "Transform": {
                "posX": 16.5789,
                "posY": 1.50429094,
                "posZ": 3.647099,
                "rotX": 359.9891,
                "rotY": -0.000143886355,
                "rotZ": -0.00494797761,
                "scaleX": 1.74999952,
                "scaleY": 1.74999952,
                "scaleZ": 1.74999952
              },
              "Nickname": "Niveau d'Alerte",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.0,
                "g": 0.67770046,
                "b": 0.555448532,
                "a": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": true,
              "Grid": false,
              "Snap": false,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": false,
              "Tooltip": false,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/1478820768302617365/27883B7913E0E69143C3AA03493B7E7C4E8C29C0/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 1,
                "TypeIndex": 0,
                "CastShadows": true
              },
              "LuaScript": "-- Code for bag to identify text tool objects\r\nmovableTextTool_cowgoesmoo33 = true\r\n\r\n-- Number of characters before the text box width expands.\r\nEXPAND_INTERVAL = 20\r\n\r\n-- This table controls what is passed between save/load\r\ndata = {}\r\n\r\nfunction onLoad(saved_data)\r\n  if saved_data ~= '' then\r\n    data = JSON.decode(saved_data)\r\n    if data.text ~= '' then\r\n      self.interactable = data.interactable\r\n      staticMode()\r\n      return\r\n    end\r\n  else\r\n    data = {size=200, color=Color(0,0,0), text='', interactable=true,\r\n        enter_to_finish=false, autolock=false, autolift=false,\r\n        hover_height=0.05, box_transparency=1}\r\n  end\r\n\r\n  inputMode()\r\nend\r\n\r\n-- True if in the middle of delay after pressing Enter (with enter_to_finish on)\r\nfinishing = false\r\nfunction input_func(obj, color, input, stillEditing)\r\n  local params = getBox(input)\r\n  if params then\r\n    params.value = input\r\n    self.editInput(params)\r\n  end\r\n\r\n  if not stillEditing then\r\n    data.text = input\r\n    updateState()\r\n    if input ~= '' then staticMode(color) end\r\n  elseif data.enter_to_finish then\r\n    -- If enter is pressed: remove last newline and force finish\r\n    if not finishing and input:sub(-1) == '\\n' then\r\n      finishing = true\r\n      -- Delay to avoid user's Enter keypress being detected (opens chat box)\r\n      Wait.frames(function()\r\n        input = input:sub(1, -2)\r\n        data.text = input\r\n        updateState()\r\n        if input ~= '' then staticMode(color) else inputMode() end\r\n        finishing = false\r\n      end, 10)\r\n    end\r\n  end\r\nend\r\n\r\n-- When the inpupt box appears and lets the player type in it.\r\nfunction inputMode()\r\n  self.clearContextMenu()\r\n  self.clearInputs()\r\n  self.clearButtons()\r\n\r\n  local size = getBox(data.text, true)\r\n\r\n  self.createInput({\r\n    input_function = \"input_func\",\r\n    function_owner = self,\r\n    label          = \"Type Here\",\r\n    alignment      = 3,\r\n    position       = {x=0, y=data.hover_height, z=0},\r\n    rotation       = {0, 180, 0},\r\n    width          = size.width,\r\n    height         = size.height,\r\n    color          = getBackground(data.color),\r\n    font_color     = data.color,\r\n    font_size      = data.size,\r\n    value          = data.text,\r\n  })\r\n\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\nend\r\n\r\n-- When the input box disappears and displays the text.\r\nfunction staticMode(player)\r\n  self.clearContextMenu()\r\n  if data.autolock then\r\n    self.locked = true\r\n  end\r\n  if self.getInputs() and #self.getInputs() ~= 0 then\r\n    self.removeInput(0)\r\n  end\r\n\r\n  -- Clear from selecting player\r\n  if player then\r\n    self.removeFromPlayerSelection(player)\r\n  end\r\n\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  self.createButton({\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=self,\r\n    position={0,data.hover_height,0}, rotation={0,180,0}, height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  })\r\n\r\n  self.addContextMenuItem('Edit Text', function(color)\r\n    self.removeFromPlayerSelection(color)\r\n    inputMode()\r\n  end)\r\n  self.addContextMenuItem('Clear', function(color)\r\n    applyMultiple(color, 'clear', _, true)\r\n  end)\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\n  self.addContextMenuItem('Permanently Attach', attemptAttach)\r\n  self.addContextMenuItem('Permalock', function(color)\r\n    applyMultiple(color, 'permalock', _, true)\r\n  end)\r\nend\r\n\r\nfunction changeSize(params)\r\n  local delta = params[1]\r\n  local newSize = data.size + delta\r\n  if newSize > 800  or newSize < 50 then\r\n    return\r\n  end\r\n  data.size = newSize\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_size=data.size})\r\n  else\r\n    local size = getBox(data.text, true)\r\n    self.editInput({width=size.width, height=size.height, font_size=data.size})\r\n  end\r\nend\r\n\r\nfunction setColor(params)\r\n  if params and params[1] then\r\n    data.color = params[1]\r\n  else\r\n    data.color = self.getColorTint():setAt('a', 1) -- Take on color of object tint\r\n  end\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_color=data.color})\r\n  else\r\n    self.editInput({font_color=data.color, color=getBackground(data.color)})\r\n  end\r\nend\r\n\r\nfunction getBackground(color) --determines whether to use black or white depending on luminance\r\n  local r,g,b = Color(color):get()\r\n\r\n  local lum = 0.2126*r + 0.7152*g + 0.0722*b\r\n  if lum > 0.75 then\r\n    return {0.2,0.2,0.2, data.box_transparency}\r\n  else\r\n    return {1,1,1, data.box_transparency}\r\n  end\r\nend\r\n\r\nfunction clear()\r\n  data.text = ''\r\n  updateState()\r\n  inputMode()\r\nend\r\n\r\nfunction permalock()\r\n  self.interactable = false\r\n  data.interactable = false\r\n  updateState()\r\nend\r\n\r\nlocal target_script = [[\r\nfunction onLoad(script_state)\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    for _,entry in ipairs(state) do\r\n      self.createButton(entry)\r\n    end\r\n    self.addContextMenuItem('Clear All Text', function(color)\r\n      self.clearContextMenu()\r\n      self.clearButtons()\r\n      self.script_state = ''\r\n      self.script_code = ''\r\n    end)\r\n  end\r\nend\r\n]]\r\n\r\nfunction attemptAttach(player_color)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  local attachee\r\n  local attachers = {}\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if obj ~= self then\r\n        table.insert(attachers, obj)\r\n      end\r\n    else\r\n      if attachee then\r\n        broadcastToColor(\"More than one target selected.\", player_color)\r\n        return\r\n      else\r\n        attachee = obj\r\n      end\r\n    end\r\n  end\r\n  if attachee then\r\n    local code = attachee.script_code\r\n    if code and code ~= '' and code ~= target_script then\r\n      broadcastToColor(\"Warning: script on card has been overriden. Rewind time to undo.\", player_color)\r\n    end\r\n    for i,attacher in ipairs(attachers) do\r\n      attacher.call('attach', {target = attachee})\r\n    end\r\n    attach({target = attachee})\r\n    local type, flip = attachee.type, attachee.getRotation().z\r\n    if (type == 'Card' or type == 'Deck') and flip > 175 and flip < 185 then\r\n      broadcastToColor(\"Warning: text will not display if card or deck is facing down.\", player_color)\r\n    end\r\n  else\r\n    broadcastToColor(\"You must have a target object in your selection (using click-and-drag or Ctrl+Click) to use this option.\", player_color)\r\n  end\r\nend\r\n\r\nfunction attach(params)\r\n  local target = params.target\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  local textRotation = self.getRotation():sub(target.getRotation())\r\n    :add(Vector(180, 0, 180))\r\n\r\n  local textPosition = target.positionToLocal(\r\n    self.getPosition():add(Vector(0, data.hover_height, 0))\r\n  )\r\n  textPosition.x = -textPosition.x\r\n\r\n  local textScale = {}\r\n  textScale.x = self.getScale().x / target.getScale().x\r\n  textScale.y = self.getScale().x / target.getScale().y\r\n  textScale.z = self.getScale().x / target.getScale().z\r\n\r\n  local details = {\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=nil,\r\n    position=textPosition,\r\n    rotation=textRotation,\r\n    scale=textScale,\r\n    height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  }\r\n\r\n  target.createButton(details)\r\n\r\n  local script_state = target.script_state\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    table.insert(state, details)\r\n    target.script_state = JSON.encode(state)\r\n  else\r\n    target.script_state = JSON.encode({[1]=details})\r\n  end\r\n\r\n  target.script_code = target_script\r\n\r\n  self.destruct()\r\nend\r\n\r\nfunction applyMultiple(player_color, func_string, params, static_only)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if not static_only or obj.call('isStatic') then\r\n        obj.call(func_string, params)\r\n      end\r\n    end\r\n  end\r\nend\r\n\r\nfunction isStatic()\r\n  local input = self.getInputs()\r\n  return not input or #input == 0\r\nend\r\n\r\nfunction getBox(input, force)\r\n  local maxLength, lineCount = EXPAND_INTERVAL, 1\r\n  local lineLength = 0\r\n  for i = 1, #input do\r\n    local c = input:sub(i,i)\r\n    if c == '\\n' then\r\n      lineCount = lineCount + 1\r\n      if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n      lineLength = 0\r\n    else\r\n      lineLength = lineLength + 1\r\n    end\r\n  end\r\n  if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n\r\n  newWidth = data.size * maxLength * 0.9\r\n  newHeight = data.size * lineCount + 23\r\n\r\n  if force or boxWidth ~= newWidth or boxHeight ~= newHeight then\r\n    boxWidth, boxHeight = newWidth, newHeight\r\n    return {width = boxWidth, height = boxHeight}\r\n  end\r\n  return nil\r\nend\r\n\r\ntemp_lift = nil\r\nfunction onPickUp(player_color)\r\n  if data.autolift then\r\n    local player = Player[player_color]\r\n    temp_lift = player.lift_height\r\n    player.lift_height = 0\r\n  end\r\nend\r\n\r\nfunction onDrop(player_color)\r\n  if data.autolift and temp_lift then\r\n    Player[player_color].lift_height = temp_lift\r\n  end\r\nend\r\n\r\n-- Should be called every time data is modified, allows info to be saved on copy/paste\r\nfunction updateState()\r\n  self.script_state = JSON.encode(data)\r\nend\r\n\r\nfunction onSave()\r\n  self.script_state = JSON.encode(data)\r\n  return self.script_state\r\nend",
              "LuaScriptState": "{\"autolift\":false,\"autolock\":false,\"box_transparency\":1,\"color\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1},\"enter_to_finish\":false,\"hover_height\":0.05,\"interactable\":true,\"size\":300,\"text\":\"Niveau d'Alerte\"}",
              "XmlUI": ""
            },
            {
              "GUID": "834170",
              "Name": "Custom_Tile",
              "Transform": {
                "posX": -2.00000024,
                "posY": 1.50411761,
                "posZ": 3.49999976,
                "rotX": 0.004948833,
                "rotY": 90.0067,
                "rotZ": 359.9891,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.6045295,
                "g": 0.6045295,
                "b": 0.6045295
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://i.imgur.com/vppt2my.png",
                "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomTile": {
                  "Type": 3,
                  "Thickness": 0.1,
                  "Stackable": false,
                  "Stretch": true
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "States": {
                "2": {
                  "GUID": "44b0c5",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -39.7933121,
                    "posY": 1.63758957,
                    "posZ": 2.038383,
                    "rotX": 359.9201,
                    "rotY": 269.9961,
                    "rotZ": 0.0168742146,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                "3": {
                  "GUID": "5b38c6",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -38.8217163,
                    "posY": 1.99356019,
                    "posZ": 0.4159239,
                    "rotX": 359.9201,
                    "rotY": 272.9828,
                    "rotZ": 0.01687373,
                    "scaleX": 0.8,
                    "scaleY": 1.0,
                    "scaleZ": 0.8
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              }
            },
            {
              "GUID": "872137",
              "Name": "Card",
              "Transform": {
                "posX": 2.49999833,
                "posY": 1.51923466,
                "posZ": 13.5000038,
                "rotX": 0.0108914152,
                "rotY": 180.0,
                "rotZ": 0.00494825,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Le Cratère Noir",
              "Description": "Surface.",
              "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06216\",\n  \"locationBack\": {\n    \"connections\": \"Triangle|Circle|Tilde\",\n    \"icons\": \"Crescent\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    },\n    \"victory\": 1\n  },\n  \"locationFront\": {\n    \"connections\": \"Triangle|Circle|Tilde\",\n    \"icons\": \"Crescent\"\n  },\n  \"traits\": \"Surface.\",\n  \"type\": \"Location\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276533,
              "SidewaysCard": false,
              "CustomDeck": {
                "2765": {
                  "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                  "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "94bbd6",
              "Name": "Card",
              "Transform": {
                "posX": -23.5001087,
                "posY": 1.783606,
                "posZ": 3.49988747,
                "rotX": -5.12699125E-06,
                "rotY": 179.999359,
                "rotZ": -6.998159E-08,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Le Capitaine",
              "Description": "Navigateur des Contrées du Rêve",
              "GMNotes": "{\n  \"class\": \"Neutral\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06225\",\n  \"traits\": \"Ally. Dreamer.\",\n  \"type\": \"Asset\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276262,
              "SidewaysCard": false,
              "CustomDeck": {
                "2762": {
                  "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "98830f",
              "Name": "Custom_Model_Bag",
              "Transform": {
                "posX": -27.0179043,
                "posY": 1.84000111,
                "posZ": 3.516496,
                "rotX": -4.58513068E-06,
                "rotY": 179.983688,
                "rotZ": -5.03354045E-07,
                "scaleX": 0.7,
                "scaleY": 0.7,
                "scaleZ": 0.7
              },
              "Nickname": "Soutiens/faiblesses d'histoire",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "CustomMesh": {
                "MeshURL": "https://pastebin.com/raw/ALrYhQGb",
                "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/5077277234347423622/F89B4508C6E2782780C2B5593FB68379E0FB2DB6/",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 6,
                "CustomShader": {
                  "SpecularColor": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "SpecularIntensity": 0.0,
                  "SpecularSharpness": 2.0,
                  "FresnelStrength": 0.0
                },
                "CastShadows": true
              },
              "Bag": {
                "Order": 0
              },
              "LuaScript": "",
              "LuaScriptState": "{\"ml\":[]}",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "f9475c",
                  "Name": "Card",
                  "Transform": {
                    "posX": -26.5,
                    "posY": 1.93749273,
                    "posZ": 3.5,
                    "rotX": 0.000135283772,
                    "rotY": 179.999542,
                    "rotZ": -1.5198545E-05,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Faux Réveil",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Neutral\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06233\",\n  \"traits\": \"Curse.\",\n  \"type\": \"Treachery\",\n  \"weakness\": \"true\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276541,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2765": {
                      "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                      "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "9c9208",
              "Name": "Custom_Model_Bag",
              "Transform": {
                "posX": -25.0086727,
                "posY": 1.84000075,
                "posZ": 8.506219,
                "rotX": -4.71869953E-06,
                "rotY": 179.985779,
                "rotZ": 1.85987844E-07,
                "scaleX": 0.7,
                "scaleY": 0.7,
                "scaleZ": 0.7
              },
              "Nickname": "Acte 3B",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "CustomMesh": {
                "MeshURL": "https://pastebin.com/raw/ALrYhQGb",
                "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/1985555189151602781/923E4E5D5F6DB81FA4425F6B7E28A73FC6E15161/",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 6,
                "CustomShader": {
                  "SpecularColor": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "SpecularIntensity": 0.0,
                  "SpecularSharpness": 2.0,
                  "FresnelStrength": 0.0
                },
                "CastShadows": true
              },
              "Bag": {
                "Order": 0
              },
              "LuaScript": "-- Utility memory bag by Directsun\r\n-- Version 2.7.0\r\n-- Fork of Memory Bag 2.0 by MrStump\r\n--\r\n-- Want to contribute? Create an issue or fork the code on GitHub and submit a pull request:\r\n-- https://github.com/sunflowermans/TTS-UtilityMemoryBag\r\n\r\n\r\nfunction updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction combineMemoryFromBagsWithin()\r\n    local bagObjList = self.getObjects()\r\n    for _, bagObj in ipairs(bagObjList) do\r\n        local data = bagObj.lua_script_state\r\n        if data ~= nil then\r\n            local j = JSON.decode(data)\r\n            if j ~= nil and j.ml ~= nil then\r\n                for guid, entry in pairs(j.ml) do\r\n                    memoryList[guid] = entry\r\n                end\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateMemoryWithMoves()\r\n    memoryList = memoryListBackup\r\n    --get the first transposed object's coordinates\r\n    local obj = getObjectFromGUID(moveGuid)\r\n\r\n    -- p1 is where needs to go, p2 is where it was\r\n    local refObjPos = memoryList[moveGuid].pos\r\n    local deltaPos = findOffsetDistance(obj.getPosition(), refObjPos, nil)\r\n    local movedRotation = obj.getRotation()\r\n    for guid, entry in pairs(memoryList) do\r\n        memoryList[guid].pos.x = entry.pos.x - deltaPos.x\r\n        memoryList[guid].pos.y = entry.pos.y - deltaPos.y\r\n        memoryList[guid].pos.z = entry.pos.z - deltaPos.z\r\n        -- memoryList[guid].rot.x = movedRotation.x\r\n        -- memoryList[guid].rot.y = movedRotation.y\r\n        -- memoryList[guid].rot.z = movedRotation.z\r\n    end\r\n\r\n    --theList[obj.getGUID()] = {\r\n    --    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n    --    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n    --    lock=obj.getLock()\r\n    --}\r\n    moveList = {}\r\nend\r\n\r\nfunction onload(saved_data)\r\n\r\n    fresh = true\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n\r\n    end\r\n\r\n    moveList = {}\r\n    moveGuid = nil\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        fresh = false\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,2}, rotation={0,0,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by Transpose button\r\nfunction buttonClick_transpose()\r\n    moveGuid = nil\r\n    broadcastToAll(\"Select one object and move it- all objects will move relative to the new location\", {0.75, 0.75, 1})\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(true)\r\n    createSetupActionButtons(true)\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(false)\r\n    createSetupActionButtons(false)\r\nend\r\n\r\nfunction getAllObjectsInMemory()\r\n    local objTable = {}\r\n    local curObj = {}\r\n\r\n    for guid in pairs(memoryListBackup) do\r\n        curObj = getObjectFromGUID(guid)\r\n        table.insert(objTable, curObj)\r\n    end\r\n\r\n    return objTable\r\n    -- return getAllObjects()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects(move)\r\n    buttonIndexMap = {}\r\n    local howManyButtons = 0\r\n\r\n    local objsToHaveButtons = {}\r\n    if move == true then\r\n        objsToHaveButtons = getAllObjectsInMemory()\r\n    else\r\n        objsToHaveButtons = getAllObjects()\r\n    end\r\n\r\n    for _, obj in ipairs(objsToHaveButtons) do\r\n        if obj ~= self then\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor +2\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Workaround for custom PDFs\r\n            if obj.Book then\r\n                objPos.y = objPos.y + 0.5\r\n            end\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(obj, move) end\r\n            local color = {0.75,0.25,0.25,0.6}\r\n            local colorMove = {0,0,1,0.6}\r\n            if move == true then\r\n                color = colorMove\r\n            end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color=color,\r\n            })\r\n            buttonIndexMap[obj.getGUID()] = howManyButtons\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons(move)\r\n    self.createButton({\r\n       label=\"Annuler\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n       position={-1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n       font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    self.createButton({\r\n      label=\"Valider\", click_function=\"buttonClick_submit\", function_owner=self,\r\n      position={-1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n      font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    if move == false then\r\n      self.createButton({\r\n          label=\"Ajouter\", click_function=\"buttonClick_add\", function_owner=self,\r\n          position={1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n          font_size=250, color={0,0,0}, font_color={0.25,1,0.25}\r\n        })\r\n\r\n        self.createButton({\r\n            label=\"Sélection\", click_function=\"editDragSelection\", function_owner=self,\r\n            position={-1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n            font_size=250, color={0,0,0}, font_color={1,1,1}\r\n        })\r\n\r\n        if fresh == false then\r\n            self.createButton({\r\n                label=\"Mise à Jour\", click_function=\"buttonClick_setNew\", function_owner=self,\r\n                position={1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n                font_size=180, color={0,0,0}, font_color={0.75,0.75,1}\r\n            })\r\n            self.createButton({\r\n                label=\"Retirer\", click_function=\"buttonClick_remove\", function_owner=self,\r\n                position={1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n                font_size=250, color={0,0,0}, font_color={1,0.25,0.25}\r\n            })\r\n        end\r\n    end\r\n\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,0,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(obj, move)\r\n    local index = buttonIndexMap[obj.getGUID()]\r\n    local colorMove = {0,0,1,0.6}\r\n    local color = {0,1,0,0.6}\r\n\r\n    previousGuid = selectedGuid\r\n    selectedGuid = obj.getGUID()\r\n\r\n    theList = memoryList\r\n    if move == true then\r\n        theList = moveList\r\n        if previousGuid ~= nil and previousGuid ~= selectedGuid then\r\n            local prevObj = getObjectFromGUID(previousGuid)\r\n            prevObj.highlightOff()\r\n            self.editButton({index=previousIndex, color=colorMove})\r\n            theList[previousGuid] = nil\r\n        end\r\n        previousIndex = index\r\n    end\r\n\r\n    if theList[selectedGuid] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        theList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock(),\r\n            tint=obj.getColorTint()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        if move == true then\r\n            color = colorMove\r\n        end\r\n        self.editButton({index=index, color=color})\r\n        theList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\nfunction editDragSelection(bagObj, player, remove)\r\n    local selectedObjs = Player[player].getSelectedObjects()\r\n    if not remove then\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            --Ignore if already in the memory list, or does not have a button\r\n            if index and not memoryList[obj.getGUID()] then\r\n                self.editButton({index=index, color={0,1,0,0.6}})\r\n                --Adding pos/rot to memory table\r\n                local pos, rot = obj.getPosition(), obj.getRotation()\r\n                --I need to add it like this or it won't save due to indexing issue\r\n                memoryList[obj.getGUID()] = {\r\n                    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n                    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n                    lock=obj.getLock(),\r\n                    tint=obj.getColorTint()\r\n                }\r\n                obj.highlightOn({0,1,0})\r\n            end\r\n        end\r\n    else\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            if index and memoryList[obj.getGUID()] then\r\n                color = {0.75,0.25,0.25,0.6}\r\n                self.editButton({index=index, color=color})\r\n                memoryList[obj.getGUID()] = nil\r\n                obj.highlightOff()\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Sélection annulée\", {1,1,1})\r\n    moveGuid = nil\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    fresh = false\r\n    if next(moveList) ~= nil then\r\n        for guid in pairs(moveList) do\r\n            moveGuid = guid\r\n        end\r\n        if memoryListBackup[moveGuid] == nil then\r\n            broadcastToAll(\"Item selected for moving is not already in memory\", {1, 0.25, 0.25})\r\n        else\r\n            broadcastToAll(\"Moving all items in memory relative to new objects position!\", {0.75, 0.75, 1})\r\n            self.clearButtons()\r\n            self.clearInputs()\r\n            createMemoryActionButtons()\r\n            local count = 0\r\n            for guid in pairs(moveList) do\r\n                moveGuid = guid\r\n                count = count + 1\r\n                local obj = getObjectFromGUID(guid)\r\n                if obj ~= nil then obj.highlightOff() end\r\n            end\r\n            updateMemoryWithMoves()\r\n            updateSave()\r\n            buttonClick_place()\r\n        end\r\n    elseif next(memoryList) == nil and moveGuid == nil then\r\n        memoryList = memoryListBackup\r\n        broadcastToAll(\"No selections made.\", {0.75, 0.25, 0.25})\r\n    end\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\n    moveGuid = nil\r\nend\r\n\r\nfunction combineTables(first_table, second_table)\r\n    for k,v in pairs(second_table) do first_table[k] = v end\r\nend\r\n\r\nfunction buttonClick_add()\r\n    fresh = false\r\n    combineTables(memoryList, memoryListBackup)\r\n    broadcastToAll(\"Adding internal bags and selections to existing memory\", {0.25, 0.75, 0.25})\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_remove()\r\n    broadcastToAll(\"Removing Selected Entries From Memory\", {1.0, 0.25, 0.25})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        memoryListBackup[guid] = nil\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Removed\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_setNew()\r\n    broadcastToAll(\"Setting new position relative to items in memory\", {0.75, 0.75, 1})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        guid = obj.guid\r\n        if memoryListBackup[guid] ~= nil then\r\n            count = count + 1\r\n            memoryListBackup[guid].pos = obj.getPosition()\r\n            memoryListBackup[guid].rot = obj.getRotation()\r\n            memoryListBackup[guid].lock = obj.getLock()\r\n            memoryListBackup[guid].tint = obj.getColorTint()\r\n        end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    fresh = true\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Placer\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,2}, rotation={0,0,0}, height=350, width=1000,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Ranger\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,2.8}, rotation={0,0,0}, height=350, width=1000,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={2,0.3,0}, rotation={0,90,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    ---    self.createButton({\r\n    ---      label=\"Bouger\", click_function=\"buttonClick_transpose\", function_owner=self,\r\n    ---      position={-2,0.3,0.8}, rotation={0,270,0}, height=350, width=800,\r\n    ---      font_size=250, color={0,0,0}, font_color={0.75,0.75,1}\r\n    ---  \r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n            obj.setColorTint(entry.tint)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot, smooth=false\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    item.setColorTint(entry.tint)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objets placés\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objets rangés\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local yOffset = 0\r\n    if obj ~= nil then\r\n        local bounds = obj.getBounds()\r\n        yOffset = (bounds.size.y - bounds.offset.y)\r\n    end\r\n    local deltaPos = {}\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + yOffset\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n    local objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n    local x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n    local z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n    --return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\nfunction rotateMyCoordinates(desiredPos, obj)\r\n    local angle = math.rad(obj.getRotation().y)\r\n    local x = desiredPos.x * math.sin(angle)\r\n    local z = desiredPos.z * math.cos(angle)\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n    local mult = 10^(dec or 0)\r\n    return math.floor(num * mult + 0.5) / mult\r\nend\r\n\r\n\r\n--[[\r\nThis object provides access to a variable stored on the \"Global script\".\r\nThe variable holds the GUIDs for every Utility Memory Bag in the scene.\r\nExample:\r\n{'805ebd', '35cc21', 'fc8886', 'f50264', '5f5f63'}\r\n--]]\r\nAllMemoryBagsInScene = {\r\n    NAME_OF_GLOBAL_VARIABLE = \"_UtilityMemoryBag_AllMemoryBagsInScene\"\r\n}\r\n\r\nfunction AllMemoryBagsInScene:add(guid)\r\n    local guids = Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\n    table.insert(guids, guid)\r\n    Global.setTable(self.NAME_OF_GLOBAL_VARIABLE, guids)\r\nend\r\n\r\nfunction AllMemoryBagsInScene:getGuidList()\r\n    return Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\nend",
              "LuaScriptState": "{\"ml\":{\"025f41\":{\"lock\":false,\"pos\":{\"x\":19,\"y\":1.50572574138641,\"z\":21.5000038146973},\"rot\":{\"x\":0.010891511105001,\"y\":179.999755859375,\"z\":0.0049485731869936},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"304877\":{\"lock\":false,\"pos\":{\"x\":9.99999809265137,\"y\":1.52105808258057,\"z\":26.5000038146973},\"rot\":{\"x\":0.0108915409073234,\"y\":179.999984741211,\"z\":0.00494819134473801},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"37d4b3\":{\"lock\":false,\"pos\":{\"x\":13.9999980926514,\"y\":1.50710797309875,\"z\":26.5000038146973},\"rot\":{\"x\":-0.00494786584749818,\"y\":269.999938964844,\"z\":0.0108966296538711},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"40a31a\":{\"lock\":false,\"pos\":{\"x\":18.9999980926514,\"y\":1.51847493648529,\"z\":17.0000038146973},\"rot\":{\"x\":0.0108915138989687,\"y\":179.999862670898,\"z\":0.00494816806167364},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"a29728\":{\"lock\":false,\"pos\":{\"x\":18.9999980926514,\"y\":1.52018582820892,\"z\":26.0000038146973},\"rot\":{\"x\":0.0108915632590652,\"y\":179.999816894531,\"z\":0.00494826631620526},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"a5885c\":{\"lock\":false,\"pos\":{\"x\":18.9999980926514,\"y\":1.50401484966278,\"z\":12.5000028610229},\"rot\":{\"x\":0.0108914952725172,\"y\":179.999710083008,\"z\":0.00494852382689714},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}}}}",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "025f41",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": 19.0,
                    "posY": 1.50572574,
                    "posZ": 21.5000038,
                    "rotX": 0.0108914664,
                    "rotY": 179.999817,
                    "rotZ": 0.00495086564,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/vppt2my.png",
                    "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "States": {
                    "2": {
                      "GUID": "44b0c5",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -39.7933121,
                        "posY": 1.63758957,
                        "posZ": 2.038383,
                        "rotX": 359.9201,
                        "rotY": 269.9961,
                        "rotZ": 0.0168742146,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    "3": {
                      "GUID": "5b38c6",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -38.8217163,
                        "posY": 1.99356019,
                        "posZ": 0.4159239,
                        "rotX": 359.9201,
                        "rotY": 272.9828,
                        "rotZ": 0.01687373,
                        "scaleX": 0.8,
                        "scaleY": 1.0,
                        "scaleZ": 0.8
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  }
                },
                {
                  "GUID": "304877",
                  "Name": "Card",
                  "Transform": {
                    "posX": 9.999998,
                    "posY": 1.52105808,
                    "posZ": 26.5000038,
                    "rotX": 0.0108914534,
                    "rotY": 179.999985,
                    "rotZ": 0.00494828867,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Le Bateau Blanc",
                  "Description": "Navire.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06223\",\n  \"locationBack\": {\n    \"connections\": \"Hourglass\",\n    \"icons\": \"Heart\"\n  },\n  \"locationFront\": {\n    \"connections\": \"Hourglass\",\n    \"icons\": \"Heart\"\n  },\n  \"traits\": \"Ship.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276540,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2765": {
                      "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                      "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "37d4b3",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": 13.9999981,
                    "posY": 1.507108,
                    "posZ": 26.5000038,
                    "rotX": -0.004947792,
                    "rotY": 269.999939,
                    "rotZ": 0.01089827,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/vppt2my.png",
                    "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "States": {
                    "2": {
                      "GUID": "44b0c5",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -39.7933121,
                        "posY": 1.63758957,
                        "posZ": 2.038383,
                        "rotX": 359.9201,
                        "rotY": 269.9961,
                        "rotZ": 0.0168742146,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    "3": {
                      "GUID": "5b38c6",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -38.8217163,
                        "posY": 1.99356019,
                        "posZ": 0.4159239,
                        "rotX": 359.9201,
                        "rotY": 272.9828,
                        "rotZ": 0.01687373,
                        "scaleX": 0.8,
                        "scaleY": 1.0,
                        "scaleZ": 0.8
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  }
                },
                {
                  "GUID": "40a31a",
                  "Name": "Card",
                  "Transform": {
                    "posX": 18.9999981,
                    "posY": 1.51847494,
                    "posZ": 17.0000038,
                    "rotX": 0.010891499,
                    "rotY": 179.999832,
                    "rotZ": 0.00494824629,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Cavernes Sous la Lune [Face Visible]",
                  "Description": "Grotte.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06221\",\n  \"locationBack\": {\n    \"connections\": \"Star|Hourglass\",\n    \"icons\": \"SlantedEquals\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    }\n  },\n  \"locationFront\": {\n    \"connections\": \"Star|Hourglass\",\n    \"icons\": \"SlantedEquals\"\n  },\n  \"traits\": \"Cave.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276538,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2765": {
                      "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                      "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "a29728",
                  "Name": "Card",
                  "Transform": {
                    "posX": 18.9999981,
                    "posY": 1.52018583,
                    "posZ": 26.0000038,
                    "rotX": 0.0108916163,
                    "rotY": 179.999771,
                    "rotZ": 0.004948217,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Face Visible de la Lune",
                  "Description": "Surface. Ruines.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06222\",\n  \"locationBack\": {\n    \"connections\": \"SlantedEquals|Heart\",\n    \"icons\": \"Hourglass\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    },\n    \"victory\": 2\n  },\n  \"locationFront\": {\n    \"connections\": \"SlantedEquals|Heart\",\n    \"icons\": \"Hourglass\"\n  },\n  \"traits\": \"Surface. Ruins.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276539,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2765": {
                      "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                      "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "a5885c",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": 18.9999981,
                    "posY": 1.50401485,
                    "posZ": 12.5000029,
                    "rotX": 0.0108916787,
                    "rotY": 179.999664,
                    "rotZ": 0.00495182863,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/vppt2my.png",
                    "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "States": {
                    "2": {
                      "GUID": "44b0c5",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -39.7933121,
                        "posY": 1.63758957,
                        "posZ": 2.038383,
                        "rotX": 359.9201,
                        "rotY": 269.9961,
                        "rotZ": 0.0168742146,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    "3": {
                      "GUID": "5b38c6",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -38.8217163,
                        "posY": 1.99356019,
                        "posZ": 0.4159239,
                        "rotX": 359.9201,
                        "rotY": 272.9828,
                        "rotZ": 0.01687373,
                        "scaleX": 0.8,
                        "scaleY": 1.0,
                        "scaleZ": 0.8
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  }
                }
              ]
            },
            {
              "GUID": "9f4b41",
              "Name": "Deck",
              "Transform": {
                "posX": 30.5,
                "posY": 1.65579212,
                "posZ": -3.0001,
                "rotX": -0.000591079763,
                "rotY": 180.001358,
                "rotZ": 180.001068,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Deck Rencontre",
              "Description": "La Face Cachée de la Lune",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": false,
              "SidewaysCard": false,
              "DeckIDs": [
                15702,
                15703,
                15704,
                278833,
                278834,
                278835,
                278836,
                278837,
                278838,
                1143800,
                1143900,
                276615,
                276616,
                276260,
                276246,
                276247,
                276248,
                276249,
                276250,
                276252,
                276253,
                276251,
                276254,
                276255,
                276257,
                276256,
                276258,
                276259
              ],
              "CustomDeck": {
                "157": {
                  "FaceURL": "https://i.imgur.com/7H57eeO.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                },
                "2788": {
                  "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                },
                "11438": {
                  "FaceURL": "https://steamusercontent-a.akamaihd.net/ugc/2074526368858656576/5CCB84292B9909B910F4B66334ECE5F150A7BD13/",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1835784131957489171/6E3F1D1BAA5FBB7101D3F84B5E8502CD0F7E299E/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                },
                "11439": {
                  "FaceURL": "https://steamusercontent-a.akamaihd.net/ugc/2074526368858655918/DB37E3A35BCF382384E62B817E1641A54D1B3A84/",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1835784131957489171/6E3F1D1BAA5FBB7101D3F84B5E8502CD0F7E299E/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                },
                "2766": {
                  "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                },
                "2762": {
                  "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "1c3c50",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 9.955651,
                    "posZ": -3.00010014,
                    "rotX": -0.0005912341,
                    "rotY": 180.001373,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Antiques Fléaux",
                  "Description": "",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"01166\",\n  \"traits\": \"Omen.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 15702,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "157": {
                      "FaceURL": "https://i.imgur.com/7H57eeO.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "67cfd5",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 9.755651,
                    "posZ": -3.00010014,
                    "rotX": -0.0005912341,
                    "rotY": 180.001373,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Antiques Fléaux",
                  "Description": "",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"01166\",\n  \"traits\": \"Omen.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 15703,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "157": {
                      "FaceURL": "https://i.imgur.com/7H57eeO.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "7b9eb5",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 9.555652,
                    "posZ": -3.00010014,
                    "rotX": -0.0005912341,
                    "rotY": 180.001373,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Antiques Fléaux",
                  "Description": "",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"01166\",\n  \"traits\": \"Omen.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 15704,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "157": {
                      "FaceURL": "https://i.imgur.com/7H57eeO.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "bbbce0",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 9.355651,
                    "posZ": -3.00010014,
                    "rotX": -0.0005912341,
                    "rotY": 180.001373,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Profond Sommeil",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06095\",\n  \"traits\": \"Curse.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 278833,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2788": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "5dbd5f",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 9.155651,
                    "posZ": -3.00010014,
                    "rotX": -0.0005912341,
                    "rotY": 180.001373,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Profond Sommeil",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06095\",\n  \"traits\": \"Curse.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 278834,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2788": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "9cb55c",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 8.955651,
                    "posZ": -3.00010014,
                    "rotX": -0.0005912341,
                    "rotY": 180.001373,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Somniphobie",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06094\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 278835,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2788": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "bc46c1",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 8.755651,
                    "posZ": -3.00010014,
                    "rotX": -0.0005912341,
                    "rotY": 180.001373,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Somniphobie",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06094\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 278836,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2788": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "a9c5d2",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 8.555652,
                    "posZ": -3.00010014,
                    "rotX": -0.0005912341,
                    "rotY": 180.001373,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Malédiction du Rêveur",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06093\",\n  \"traits\": \"Curse.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 278837,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2788": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "f7536f",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 8.355651,
                    "posZ": -3.00010014,
                    "rotX": -0.0005912341,
                    "rotY": 180.001373,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Malédiction du Rêveur",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06093\",\n  \"traits\": \"Curse.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 278838,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2788": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "bc5262",
                  "Name": "Card",
                  "Transform": {
                    "posX": 21.6755085,
                    "posY": 2.53001261,
                    "posZ": 24.7750587,
                    "rotX": 0.0108900219,
                    "rotY": 180.017731,
                    "rotZ": 0.004951861,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Corsaire de Leng",
                  "Description": "Humanoïde. Monstre",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 4,\n  \"id\": \"06105\",\n  \"traits\": \"Humanoid. Monster.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 1143800,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "11438": {
                      "FaceURL": "https://steamusercontent-a.akamaihd.net/ugc/2074526368858656576/5CCB84292B9909B910F4B66334ECE5F150A7BD13/",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1835784131957489171/6E3F1D1BAA5FBB7101D3F84B5E8502CD0F7E299E/",
                      "NumWidth": 1,
                      "NumHeight": 1,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "4b4507",
                  "Name": "Card",
                  "Transform": {
                    "posX": 24.5889854,
                    "posY": 2.52976775,
                    "posZ": 24.60547,
                    "rotX": 0.0108900219,
                    "rotY": 180.017731,
                    "rotZ": 0.00495158136,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Corsaire de Leng",
                  "Description": "Humanoïde. Monstre.",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 4,\n  \"id\": \"06105\",\n  \"traits\": \"Humanoid. Monster.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 1143900,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "11439": {
                      "FaceURL": "https://steamusercontent-a.akamaihd.net/ugc/2074526368858655918/DB37E3A35BCF382384E62B817E1641A54D1B3A84/",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1835784131957489171/6E3F1D1BAA5FBB7101D3F84B5E8502CD0F7E299E/",
                      "NumWidth": 1,
                      "NumHeight": 1,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "ddd1b2",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 7.75565147,
                    "posZ": -3.00010014,
                    "rotX": -0.0005912341,
                    "rotY": 180.001373,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Poursuivis par les Corsaires",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06104\",\n  \"traits\": \"Scheme.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276615,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "8badb9",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 7.555651,
                    "posZ": -3.00010014,
                    "rotX": -0.0005912341,
                    "rotY": 180.001373,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Poursuivis par les Corsaires",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06104\",\n  \"traits\": \"Scheme.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276616,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "041394",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 5.666039,
                    "posZ": -3.00010061,
                    "rotX": -0.0005899241,
                    "rotY": 180.001373,
                    "rotZ": 180.001053,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Byakhee Sélénite",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 3,\n  \"id\": \"06227\",\n  \"traits\": \"Monster. Byakhee.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276260,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "9a1661",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 7.01815462,
                    "posZ": -3.0001,
                    "rotX": 6.140171E-06,
                    "rotY": 180.001373,
                    "rotZ": 180.0008,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Patrouille Lunaire",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06232\",\n  \"traits\": \"Scheme.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276246,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "e74936",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 7.155651,
                    "posZ": -3.00010014,
                    "rotX": -0.0005912341,
                    "rotY": 180.001373,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Patrouille Lunaire",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06232\",\n  \"traits\": \"Scheme.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276247,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "472cd7",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 6.955652,
                    "posZ": -3.00010014,
                    "rotX": -0.0005912341,
                    "rotY": 180.001373,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Forcé de vous Cacher",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06231\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276248,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "335c76",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 6.41816568,
                    "posZ": -3.0001,
                    "rotX": -0.000591047166,
                    "rotY": 180.001373,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Forcé de vous Cacher",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06231\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276249,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "e4c7e1",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 6.555652,
                    "posZ": -3.00010014,
                    "rotX": -0.0005912341,
                    "rotY": 180.001373,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Forcé de vous Cacher",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06231\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276250,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "d24baf",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 6.35565233,
                    "posZ": -3.00010014,
                    "rotX": -0.0005912341,
                    "rotY": 180.001373,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Surveillance Attentive",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06230\",\n  \"traits\": \"Scheme.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276252,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "a2269f",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 6.155652,
                    "posZ": -3.00010014,
                    "rotX": -0.0005912341,
                    "rotY": 180.001373,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Surveillance Attentive",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06230\",\n  \"traits\": \"Scheme.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276253,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "417113",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 5.955652,
                    "posZ": -3.00010014,
                    "rotX": -0.0005912341,
                    "rotY": 180.001373,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Surveillance Attentive",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06230\",\n  \"traits\": \"Scheme.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276251,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "d311cb",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 5.755652,
                    "posZ": -3.00010014,
                    "rotX": -0.0005912341,
                    "rotY": 180.001373,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Bête Lunaire",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 5,\n  \"id\": \"06229\",\n  \"traits\": \"Monster. Servitor.\",\n  \"type\": \"Enemy\",\n  \"victory\": 1\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276254,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "bdcc14",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 5.555652,
                    "posZ": -3.00010014,
                    "rotX": -0.0005912341,
                    "rotY": 180.001373,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Bête Lunaire",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 5,\n  \"id\": \"06229\",\n  \"traits\": \"Monster. Servitor.\",\n  \"type\": \"Enemy\",\n  \"victory\": 1\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276255,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "db9a67",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 5.35565233,
                    "posZ": -3.00010014,
                    "rotX": -0.0005912341,
                    "rotY": 180.001373,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Chats de Saturne",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 2,\n  \"id\": \"06228\",\n  \"traits\": \"Creature. Monster.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276257,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "01bafd",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 5.155652,
                    "posZ": -3.00010014,
                    "rotX": -0.0005912341,
                    "rotY": 180.001373,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Chats de Saturne",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 2,\n  \"id\": \"06228\",\n  \"traits\": \"Creature. Monster.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276256,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "96a6ea",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 4.955652,
                    "posZ": -3.00010014,
                    "rotX": -0.0005912341,
                    "rotY": 180.001373,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Chats de Saturne",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 2,\n  \"id\": \"06228\",\n  \"traits\": \"Creature. Monster.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276258,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "adf71f",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5,
                    "posY": 4.755652,
                    "posZ": -3.00010014,
                    "rotX": -0.0005912341,
                    "rotY": 180.001373,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Byakhee Sélénite",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 3,\n  \"id\": \"06227\",\n  \"traits\": \"Monster. Byakhee.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276259,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "a5d74f",
              "Name": "Deck",
              "Transform": {
                "posX": 12.5010042,
                "posY": 1.53642881,
                "posZ": -6.0168004,
                "rotX": 0.00494803349,
                "rotY": 90.00007,
                "rotZ": 359.9891,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": false,
              "SidewaysCard": true,
              "DeckIDs": [
                276326,
                276325,
                276324
              ],
              "CustomDeck": {
                "2763": {
                  "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                  "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "111eed",
                  "Name": "Card",
                  "Transform": {
                    "posX": 12.5010014,
                    "posY": 4.79183245,
                    "posZ": -6.016798,
                    "rotX": 0.004948271,
                    "rotY": 90.00007,
                    "rotZ": 359.9891,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Ils Sont sur Vous !",
                  "Description": "Intrigue 3a",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"doomThreshold\": 4,\n  \"id\": \"06209\",\n  \"type\": \"Agenda\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276326,
                  "SidewaysCard": true,
                  "CustomDeck": {
                    "2763": {
                      "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                      "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "9357ac",
                  "Name": "Card",
                  "Transform": {
                    "posX": 12.5010014,
                    "posY": 4.59183264,
                    "posZ": -6.016798,
                    "rotX": 0.004948271,
                    "rotY": 90.00007,
                    "rotZ": 359.9891,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "L'Alerte est Donnée",
                  "Description": "Intrigue 2a",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"doomThreshold\": 5,\n  \"id\": \"06208\",\n  \"type\": \"Agenda\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276325,
                  "SidewaysCard": true,
                  "CustomDeck": {
                    "2763": {
                      "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                      "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "a45877",
                  "Name": "Card",
                  "Transform": {
                    "posX": 12.501008,
                    "posY": 1.61307454,
                    "posZ": -6.01681328,
                    "rotX": 0.00261171279,
                    "rotY": 90.00007,
                    "rotZ": 359.988068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Silence Assourdissant",
                  "Description": "Intrigue 1a",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"doomThreshold\": 5,\n  \"id\": \"06207\",\n  \"type\": \"Agenda\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276324,
                  "SidewaysCard": true,
                  "CustomDeck": {
                    "2763": {
                      "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                      "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "b75da1",
              "Name": "Custom_Tile",
              "Transform": {
                "posX": 2.49999833,
                "posY": 1.50467944,
                "posZ": 8.500004,
                "rotX": 359.9891,
                "rotY": 0.0106883086,
                "rotZ": -0.00495548127,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.6045295,
                "g": 0.6045295,
                "b": 0.6045295
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://i.imgur.com/vppt2my.png",
                "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomTile": {
                  "Type": 3,
                  "Thickness": 0.1,
                  "Stackable": false,
                  "Stretch": true
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "States": {
                "2": {
                  "GUID": "44b0c5",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -39.7933121,
                    "posY": 1.63758957,
                    "posZ": 2.038383,
                    "rotX": 359.9201,
                    "rotY": 269.9961,
                    "rotZ": 0.0168742146,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                "3": {
                  "GUID": "5b38c6",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -38.8217163,
                    "posY": 1.99356019,
                    "posZ": 0.4159239,
                    "rotX": 359.9201,
                    "rotY": 272.9828,
                    "rotZ": 0.01687373,
                    "scaleX": 0.8,
                    "scaleY": 1.0,
                    "scaleZ": 0.8
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              }
            },
            {
              "GUID": "c6e2b9",
              "Name": "Custom_Model",
              "Transform": {
                "posX": -20.3942,
                "posY": 1.77175057,
                "posZ": 10.3688,
                "rotX": 4.95827544E-06,
                "rotY": -0.0003021011,
                "rotZ": -2.57032241E-07,
                "scaleX": 1.74999952,
                "scaleY": 1.74999952,
                "scaleZ": 1.74999952
              },
              "Nickname": "Acte 2B",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.0,
                "g": 0.67770046,
                "b": 0.555448532,
                "a": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": false,
              "Snap": false,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": false,
              "Tooltip": false,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/1478820768302617365/27883B7913E0E69143C3AA03493B7E7C4E8C29C0/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 1,
                "TypeIndex": 0,
                "CastShadows": true
              },
              "LuaScript": "-- Code for bag to identify text tool objects\r\nmovableTextTool_cowgoesmoo33 = true\r\n\r\n-- Number of characters before the text box width expands.\r\nEXPAND_INTERVAL = 20\r\n\r\n-- This table controls what is passed between save/load\r\ndata = {}\r\n\r\nfunction onLoad(saved_data)\r\n  if saved_data ~= '' then\r\n    data = JSON.decode(saved_data)\r\n    if data.text ~= '' then\r\n      self.interactable = data.interactable\r\n      staticMode()\r\n      return\r\n    end\r\n  else\r\n    data = {size=200, color=Color(0,0,0), text='', interactable=true,\r\n        enter_to_finish=false, autolock=false, autolift=false,\r\n        hover_height=0.05, box_transparency=1}\r\n  end\r\n\r\n  inputMode()\r\nend\r\n\r\n-- True if in the middle of delay after pressing Enter (with enter_to_finish on)\r\nfinishing = false\r\nfunction input_func(obj, color, input, stillEditing)\r\n  local params = getBox(input)\r\n  if params then\r\n    params.value = input\r\n    self.editInput(params)\r\n  end\r\n\r\n  if not stillEditing then\r\n    data.text = input\r\n    updateState()\r\n    if input ~= '' then staticMode(color) end\r\n  elseif data.enter_to_finish then\r\n    -- If enter is pressed: remove last newline and force finish\r\n    if not finishing and input:sub(-1) == '\\n' then\r\n      finishing = true\r\n      -- Delay to avoid user's Enter keypress being detected (opens chat box)\r\n      Wait.frames(function()\r\n        input = input:sub(1, -2)\r\n        data.text = input\r\n        updateState()\r\n        if input ~= '' then staticMode(color) else inputMode() end\r\n        finishing = false\r\n      end, 10)\r\n    end\r\n  end\r\nend\r\n\r\n-- When the inpupt box appears and lets the player type in it.\r\nfunction inputMode()\r\n  self.clearContextMenu()\r\n  self.clearInputs()\r\n  self.clearButtons()\r\n\r\n  local size = getBox(data.text, true)\r\n\r\n  self.createInput({\r\n    input_function = \"input_func\",\r\n    function_owner = self,\r\n    label          = \"Type Here\",\r\n    alignment      = 3,\r\n    position       = {x=0, y=data.hover_height, z=0},\r\n    rotation       = {0, 180, 0},\r\n    width          = size.width,\r\n    height         = size.height,\r\n    color          = getBackground(data.color),\r\n    font_color     = data.color,\r\n    font_size      = data.size,\r\n    value          = data.text,\r\n  })\r\n\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\nend\r\n\r\n-- When the input box disappears and displays the text.\r\nfunction staticMode(player)\r\n  self.clearContextMenu()\r\n  if data.autolock then\r\n    self.locked = true\r\n  end\r\n  if self.getInputs() and #self.getInputs() ~= 0 then\r\n    self.removeInput(0)\r\n  end\r\n\r\n  -- Clear from selecting player\r\n  if player then\r\n    self.removeFromPlayerSelection(player)\r\n  end\r\n\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  self.createButton({\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=self,\r\n    position={0,data.hover_height,0}, rotation={0,180,0}, height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  })\r\n\r\n  self.addContextMenuItem('Edit Text', function(color)\r\n    self.removeFromPlayerSelection(color)\r\n    inputMode()\r\n  end)\r\n  self.addContextMenuItem('Clear', function(color)\r\n    applyMultiple(color, 'clear', _, true)\r\n  end)\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\n  self.addContextMenuItem('Permanently Attach', attemptAttach)\r\n  self.addContextMenuItem('Permalock', function(color)\r\n    applyMultiple(color, 'permalock', _, true)\r\n  end)\r\nend\r\n\r\nfunction changeSize(params)\r\n  local delta = params[1]\r\n  local newSize = data.size + delta\r\n  if newSize > 800  or newSize < 50 then\r\n    return\r\n  end\r\n  data.size = newSize\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_size=data.size})\r\n  else\r\n    local size = getBox(data.text, true)\r\n    self.editInput({width=size.width, height=size.height, font_size=data.size})\r\n  end\r\nend\r\n\r\nfunction setColor(params)\r\n  if params and params[1] then\r\n    data.color = params[1]\r\n  else\r\n    data.color = self.getColorTint():setAt('a', 1) -- Take on color of object tint\r\n  end\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_color=data.color})\r\n  else\r\n    self.editInput({font_color=data.color, color=getBackground(data.color)})\r\n  end\r\nend\r\n\r\nfunction getBackground(color) --determines whether to use black or white depending on luminance\r\n  local r,g,b = Color(color):get()\r\n\r\n  local lum = 0.2126*r + 0.7152*g + 0.0722*b\r\n  if lum > 0.75 then\r\n    return {0.2,0.2,0.2, data.box_transparency}\r\n  else\r\n    return {1,1,1, data.box_transparency}\r\n  end\r\nend\r\n\r\nfunction clear()\r\n  data.text = ''\r\n  updateState()\r\n  inputMode()\r\nend\r\n\r\nfunction permalock()\r\n  self.interactable = false\r\n  data.interactable = false\r\n  updateState()\r\nend\r\n\r\nlocal target_script = [[\r\nfunction onLoad(script_state)\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    for _,entry in ipairs(state) do\r\n      self.createButton(entry)\r\n    end\r\n    self.addContextMenuItem('Clear All Text', function(color)\r\n      self.clearContextMenu()\r\n      self.clearButtons()\r\n      self.script_state = ''\r\n      self.script_code = ''\r\n    end)\r\n  end\r\nend\r\n]]\r\n\r\nfunction attemptAttach(player_color)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  local attachee\r\n  local attachers = {}\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if obj ~= self then\r\n        table.insert(attachers, obj)\r\n      end\r\n    else\r\n      if attachee then\r\n        broadcastToColor(\"More than one target selected.\", player_color)\r\n        return\r\n      else\r\n        attachee = obj\r\n      end\r\n    end\r\n  end\r\n  if attachee then\r\n    local code = attachee.script_code\r\n    if code and code ~= '' and code ~= target_script then\r\n      broadcastToColor(\"Warning: script on card has been overriden. Rewind time to undo.\", player_color)\r\n    end\r\n    for i,attacher in ipairs(attachers) do\r\n      attacher.call('attach', {target = attachee})\r\n    end\r\n    attach({target = attachee})\r\n    local type, flip = attachee.type, attachee.getRotation().z\r\n    if (type == 'Card' or type == 'Deck') and flip > 175 and flip < 185 then\r\n      broadcastToColor(\"Warning: text will not display if card or deck is facing down.\", player_color)\r\n    end\r\n  else\r\n    broadcastToColor(\"You must have a target object in your selection (using click-and-drag or Ctrl+Click) to use this option.\", player_color)\r\n  end\r\nend\r\n\r\nfunction attach(params)\r\n  local target = params.target\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  local textRotation = self.getRotation():sub(target.getRotation())\r\n    :add(Vector(180, 0, 180))\r\n\r\n  local textPosition = target.positionToLocal(\r\n    self.getPosition():add(Vector(0, data.hover_height, 0))\r\n  )\r\n  textPosition.x = -textPosition.x\r\n\r\n  local textScale = {}\r\n  textScale.x = self.getScale().x / target.getScale().x\r\n  textScale.y = self.getScale().x / target.getScale().y\r\n  textScale.z = self.getScale().x / target.getScale().z\r\n\r\n  local details = {\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=nil,\r\n    position=textPosition,\r\n    rotation=textRotation,\r\n    scale=textScale,\r\n    height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  }\r\n\r\n  target.createButton(details)\r\n\r\n  local script_state = target.script_state\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    table.insert(state, details)\r\n    target.script_state = JSON.encode(state)\r\n  else\r\n    target.script_state = JSON.encode({[1]=details})\r\n  end\r\n\r\n  target.script_code = target_script\r\n\r\n  self.destruct()\r\nend\r\n\r\nfunction applyMultiple(player_color, func_string, params, static_only)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if not static_only or obj.call('isStatic') then\r\n        obj.call(func_string, params)\r\n      end\r\n    end\r\n  end\r\nend\r\n\r\nfunction isStatic()\r\n  local input = self.getInputs()\r\n  return not input or #input == 0\r\nend\r\n\r\nfunction getBox(input, force)\r\n  local maxLength, lineCount = EXPAND_INTERVAL, 1\r\n  local lineLength = 0\r\n  for i = 1, #input do\r\n    local c = input:sub(i,i)\r\n    if c == '\\n' then\r\n      lineCount = lineCount + 1\r\n      if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n      lineLength = 0\r\n    else\r\n      lineLength = lineLength + 1\r\n    end\r\n  end\r\n  if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n\r\n  newWidth = data.size * maxLength * 0.9\r\n  newHeight = data.size * lineCount + 23\r\n\r\n  if force or boxWidth ~= newWidth or boxHeight ~= newHeight then\r\n    boxWidth, boxHeight = newWidth, newHeight\r\n    return {width = boxWidth, height = boxHeight}\r\n  end\r\n  return nil\r\nend\r\n\r\ntemp_lift = nil\r\nfunction onPickUp(player_color)\r\n  if data.autolift then\r\n    local player = Player[player_color]\r\n    temp_lift = player.lift_height\r\n    player.lift_height = 0\r\n  end\r\nend\r\n\r\nfunction onDrop(player_color)\r\n  if data.autolift and temp_lift then\r\n    Player[player_color].lift_height = temp_lift\r\n  end\r\nend\r\n\r\n-- Should be called every time data is modified, allows info to be saved on copy/paste\r\nfunction updateState()\r\n  self.script_state = JSON.encode(data)\r\nend\r\n\r\nfunction onSave()\r\n  self.script_state = JSON.encode(data)\r\n  return self.script_state\r\nend",
              "LuaScriptState": "{\"autolift\":false,\"autolock\":false,\"box_transparency\":1,\"color\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1},\"enter_to_finish\":false,\"hover_height\":0.05,\"interactable\":true,\"size\":250,\"text\":\"Acte 2B\"}",
              "XmlUI": ""
            },
            {
              "GUID": "d0c8d3",
              "Name": "Card",
              "Transform": {
                "posX": 23.50129,
                "posY": 1.51380479,
                "posZ": -5.5230217,
                "rotX": 0.01089148,
                "rotY": 180.000473,
                "rotZ": 0.004948333,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Référence",
              "Description": "La Face Cachée de la Lune",
              "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"id\": \"06206\",\n  \"type\": \"ScenarioReference\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276530,
              "SidewaysCard": false,
              "CustomDeck": {
                "2765": {
                  "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                  "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "d7f0d5",
              "Name": "Custom_Model",
              "Transform": {
                "posX": -24.9555016,
                "posY": 1.77175057,
                "posZ": 10.3091974,
                "rotX": 4.93049765E-06,
                "rotY": 0.02504143,
                "rotZ": -1.17504804E-07,
                "scaleX": 1.74999952,
                "scaleY": 1.74999952,
                "scaleZ": 1.74999952
              },
              "Nickname": "Acte 3B",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.0,
                "g": 0.67770046,
                "b": 0.555448532,
                "a": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": false,
              "Snap": false,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": false,
              "Tooltip": false,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/1478820768302617365/27883B7913E0E69143C3AA03493B7E7C4E8C29C0/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 1,
                "TypeIndex": 0,
                "CastShadows": true
              },
              "LuaScript": "-- Code for bag to identify text tool objects\r\nmovableTextTool_cowgoesmoo33 = true\r\n\r\n-- Number of characters before the text box width expands.\r\nEXPAND_INTERVAL = 20\r\n\r\n-- This table controls what is passed between save/load\r\ndata = {}\r\n\r\nfunction onLoad(saved_data)\r\n  if saved_data ~= '' then\r\n    data = JSON.decode(saved_data)\r\n    if data.text ~= '' then\r\n      self.interactable = data.interactable\r\n      staticMode()\r\n      return\r\n    end\r\n  else\r\n    data = {size=200, color=Color(0,0,0), text='', interactable=true,\r\n        enter_to_finish=false, autolock=false, autolift=false,\r\n        hover_height=0.05, box_transparency=1}\r\n  end\r\n\r\n  inputMode()\r\nend\r\n\r\n-- True if in the middle of delay after pressing Enter (with enter_to_finish on)\r\nfinishing = false\r\nfunction input_func(obj, color, input, stillEditing)\r\n  local params = getBox(input)\r\n  if params then\r\n    params.value = input\r\n    self.editInput(params)\r\n  end\r\n\r\n  if not stillEditing then\r\n    data.text = input\r\n    updateState()\r\n    if input ~= '' then staticMode(color) end\r\n  elseif data.enter_to_finish then\r\n    -- If enter is pressed: remove last newline and force finish\r\n    if not finishing and input:sub(-1) == '\\n' then\r\n      finishing = true\r\n      -- Delay to avoid user's Enter keypress being detected (opens chat box)\r\n      Wait.frames(function()\r\n        input = input:sub(1, -2)\r\n        data.text = input\r\n        updateState()\r\n        if input ~= '' then staticMode(color) else inputMode() end\r\n        finishing = false\r\n      end, 10)\r\n    end\r\n  end\r\nend\r\n\r\n-- When the inpupt box appears and lets the player type in it.\r\nfunction inputMode()\r\n  self.clearContextMenu()\r\n  self.clearInputs()\r\n  self.clearButtons()\r\n\r\n  local size = getBox(data.text, true)\r\n\r\n  self.createInput({\r\n    input_function = \"input_func\",\r\n    function_owner = self,\r\n    label          = \"Type Here\",\r\n    alignment      = 3,\r\n    position       = {x=0, y=data.hover_height, z=0},\r\n    rotation       = {0, 180, 0},\r\n    width          = size.width,\r\n    height         = size.height,\r\n    color          = getBackground(data.color),\r\n    font_color     = data.color,\r\n    font_size      = data.size,\r\n    value          = data.text,\r\n  })\r\n\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\nend\r\n\r\n-- When the input box disappears and displays the text.\r\nfunction staticMode(player)\r\n  self.clearContextMenu()\r\n  if data.autolock then\r\n    self.locked = true\r\n  end\r\n  if self.getInputs() and #self.getInputs() ~= 0 then\r\n    self.removeInput(0)\r\n  end\r\n\r\n  -- Clear from selecting player\r\n  if player then\r\n    self.removeFromPlayerSelection(player)\r\n  end\r\n\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  self.createButton({\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=self,\r\n    position={0,data.hover_height,0}, rotation={0,180,0}, height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  })\r\n\r\n  self.addContextMenuItem('Edit Text', function(color)\r\n    self.removeFromPlayerSelection(color)\r\n    inputMode()\r\n  end)\r\n  self.addContextMenuItem('Clear', function(color)\r\n    applyMultiple(color, 'clear', _, true)\r\n  end)\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\n  self.addContextMenuItem('Permanently Attach', attemptAttach)\r\n  self.addContextMenuItem('Permalock', function(color)\r\n    applyMultiple(color, 'permalock', _, true)\r\n  end)\r\nend\r\n\r\nfunction changeSize(params)\r\n  local delta = params[1]\r\n  local newSize = data.size + delta\r\n  if newSize > 800  or newSize < 50 then\r\n    return\r\n  end\r\n  data.size = newSize\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_size=data.size})\r\n  else\r\n    local size = getBox(data.text, true)\r\n    self.editInput({width=size.width, height=size.height, font_size=data.size})\r\n  end\r\nend\r\n\r\nfunction setColor(params)\r\n  if params and params[1] then\r\n    data.color = params[1]\r\n  else\r\n    data.color = self.getColorTint():setAt('a', 1) -- Take on color of object tint\r\n  end\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_color=data.color})\r\n  else\r\n    self.editInput({font_color=data.color, color=getBackground(data.color)})\r\n  end\r\nend\r\n\r\nfunction getBackground(color) --determines whether to use black or white depending on luminance\r\n  local r,g,b = Color(color):get()\r\n\r\n  local lum = 0.2126*r + 0.7152*g + 0.0722*b\r\n  if lum > 0.75 then\r\n    return {0.2,0.2,0.2, data.box_transparency}\r\n  else\r\n    return {1,1,1, data.box_transparency}\r\n  end\r\nend\r\n\r\nfunction clear()\r\n  data.text = ''\r\n  updateState()\r\n  inputMode()\r\nend\r\n\r\nfunction permalock()\r\n  self.interactable = false\r\n  data.interactable = false\r\n  updateState()\r\nend\r\n\r\nlocal target_script = [[\r\nfunction onLoad(script_state)\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    for _,entry in ipairs(state) do\r\n      self.createButton(entry)\r\n    end\r\n    self.addContextMenuItem('Clear All Text', function(color)\r\n      self.clearContextMenu()\r\n      self.clearButtons()\r\n      self.script_state = ''\r\n      self.script_code = ''\r\n    end)\r\n  end\r\nend\r\n]]\r\n\r\nfunction attemptAttach(player_color)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  local attachee\r\n  local attachers = {}\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if obj ~= self then\r\n        table.insert(attachers, obj)\r\n      end\r\n    else\r\n      if attachee then\r\n        broadcastToColor(\"More than one target selected.\", player_color)\r\n        return\r\n      else\r\n        attachee = obj\r\n      end\r\n    end\r\n  end\r\n  if attachee then\r\n    local code = attachee.script_code\r\n    if code and code ~= '' and code ~= target_script then\r\n      broadcastToColor(\"Warning: script on card has been overriden. Rewind time to undo.\", player_color)\r\n    end\r\n    for i,attacher in ipairs(attachers) do\r\n      attacher.call('attach', {target = attachee})\r\n    end\r\n    attach({target = attachee})\r\n    local type, flip = attachee.type, attachee.getRotation().z\r\n    if (type == 'Card' or type == 'Deck') and flip > 175 and flip < 185 then\r\n      broadcastToColor(\"Warning: text will not display if card or deck is facing down.\", player_color)\r\n    end\r\n  else\r\n    broadcastToColor(\"You must have a target object in your selection (using click-and-drag or Ctrl+Click) to use this option.\", player_color)\r\n  end\r\nend\r\n\r\nfunction attach(params)\r\n  local target = params.target\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  local textRotation = self.getRotation():sub(target.getRotation())\r\n    :add(Vector(180, 0, 180))\r\n\r\n  local textPosition = target.positionToLocal(\r\n    self.getPosition():add(Vector(0, data.hover_height, 0))\r\n  )\r\n  textPosition.x = -textPosition.x\r\n\r\n  local textScale = {}\r\n  textScale.x = self.getScale().x / target.getScale().x\r\n  textScale.y = self.getScale().x / target.getScale().y\r\n  textScale.z = self.getScale().x / target.getScale().z\r\n\r\n  local details = {\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=nil,\r\n    position=textPosition,\r\n    rotation=textRotation,\r\n    scale=textScale,\r\n    height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  }\r\n\r\n  target.createButton(details)\r\n\r\n  local script_state = target.script_state\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    table.insert(state, details)\r\n    target.script_state = JSON.encode(state)\r\n  else\r\n    target.script_state = JSON.encode({[1]=details})\r\n  end\r\n\r\n  target.script_code = target_script\r\n\r\n  self.destruct()\r\nend\r\n\r\nfunction applyMultiple(player_color, func_string, params, static_only)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if not static_only or obj.call('isStatic') then\r\n        obj.call(func_string, params)\r\n      end\r\n    end\r\n  end\r\nend\r\n\r\nfunction isStatic()\r\n  local input = self.getInputs()\r\n  return not input or #input == 0\r\nend\r\n\r\nfunction getBox(input, force)\r\n  local maxLength, lineCount = EXPAND_INTERVAL, 1\r\n  local lineLength = 0\r\n  for i = 1, #input do\r\n    local c = input:sub(i,i)\r\n    if c == '\\n' then\r\n      lineCount = lineCount + 1\r\n      if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n      lineLength = 0\r\n    else\r\n      lineLength = lineLength + 1\r\n    end\r\n  end\r\n  if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n\r\n  newWidth = data.size * maxLength * 0.9\r\n  newHeight = data.size * lineCount + 23\r\n\r\n  if force or boxWidth ~= newWidth or boxHeight ~= newHeight then\r\n    boxWidth, boxHeight = newWidth, newHeight\r\n    return {width = boxWidth, height = boxHeight}\r\n  end\r\n  return nil\r\nend\r\n\r\ntemp_lift = nil\r\nfunction onPickUp(player_color)\r\n  if data.autolift then\r\n    local player = Player[player_color]\r\n    temp_lift = player.lift_height\r\n    player.lift_height = 0\r\n  end\r\nend\r\n\r\nfunction onDrop(player_color)\r\n  if data.autolift and temp_lift then\r\n    Player[player_color].lift_height = temp_lift\r\n  end\r\nend\r\n\r\n-- Should be called every time data is modified, allows info to be saved on copy/paste\r\nfunction updateState()\r\n  self.script_state = JSON.encode(data)\r\nend\r\n\r\nfunction onSave()\r\n  self.script_state = JSON.encode(data)\r\n  return self.script_state\r\nend",
              "LuaScriptState": "{\"autolift\":false,\"autolock\":false,\"box_transparency\":1,\"color\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1},\"enter_to_finish\":false,\"hover_height\":0.05,\"interactable\":true,\"size\":250,\"text\":\"Acte 3B\"}",
              "XmlUI": ""
            },
            {
              "GUID": "de81c5",
              "Name": "Custom_Model",
              "Transform": {
                "posX": -8.999861,
                "posY": 1.72195208,
                "posZ": -16.0026665,
                "rotX": 353.75528,
                "rotY": 359.975342,
                "rotZ": 0.0301448572,
                "scaleX": 1.74999952,
                "scaleY": 1.74999952,
                "scaleZ": 1.74999952
              },
              "Nickname": "Niveau d'Alerte",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.0,
                "g": 0.67770046,
                "b": 0.555448532,
                "a": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": false,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": false,
              "Tooltip": false,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/1478820768302617365/27883B7913E0E69143C3AA03493B7E7C4E8C29C0/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 1,
                "TypeIndex": 0,
                "CastShadows": true
              },
              "LuaScript": "-- Code for bag to identify text tool objects\r\nmovableTextTool_cowgoesmoo33 = true\r\n\r\n-- Number of characters before the text box width expands.\r\nEXPAND_INTERVAL = 20\r\n\r\n-- This table controls what is passed between save/load\r\ndata = {}\r\n\r\nfunction onLoad(saved_data)\r\n  if saved_data ~= '' then\r\n    data = JSON.decode(saved_data)\r\n    if data.text ~= '' then\r\n      self.interactable = data.interactable\r\n      staticMode()\r\n      return\r\n    end\r\n  else\r\n    data = {size=200, color=Color(0,0,0), text='', interactable=true,\r\n        enter_to_finish=false, autolock=false, autolift=false,\r\n        hover_height=0.05, box_transparency=1}\r\n  end\r\n\r\n  inputMode()\r\nend\r\n\r\n-- True if in the middle of delay after pressing Enter (with enter_to_finish on)\r\nfinishing = false\r\nfunction input_func(obj, color, input, stillEditing)\r\n  local params = getBox(input)\r\n  if params then\r\n    params.value = input\r\n    self.editInput(params)\r\n  end\r\n\r\n  if not stillEditing then\r\n    data.text = input\r\n    updateState()\r\n    if input ~= '' then staticMode(color) end\r\n  elseif data.enter_to_finish then\r\n    -- If enter is pressed: remove last newline and force finish\r\n    if not finishing and input:sub(-1) == '\\n' then\r\n      finishing = true\r\n      -- Delay to avoid user's Enter keypress being detected (opens chat box)\r\n      Wait.frames(function()\r\n        input = input:sub(1, -2)\r\n        data.text = input\r\n        updateState()\r\n        if input ~= '' then staticMode(color) else inputMode() end\r\n        finishing = false\r\n      end, 10)\r\n    end\r\n  end\r\nend\r\n\r\n-- When the inpupt box appears and lets the player type in it.\r\nfunction inputMode()\r\n  self.clearContextMenu()\r\n  self.clearInputs()\r\n  self.clearButtons()\r\n\r\n  local size = getBox(data.text, true)\r\n\r\n  self.createInput({\r\n    input_function = \"input_func\",\r\n    function_owner = self,\r\n    label          = \"Type Here\",\r\n    alignment      = 3,\r\n    position       = {x=0, y=data.hover_height, z=0},\r\n    rotation       = {0, 180, 0},\r\n    width          = size.width,\r\n    height         = size.height,\r\n    color          = getBackground(data.color),\r\n    font_color     = data.color,\r\n    font_size      = data.size,\r\n    value          = data.text,\r\n  })\r\n\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\nend\r\n\r\n-- When the input box disappears and displays the text.\r\nfunction staticMode(player)\r\n  self.clearContextMenu()\r\n  if data.autolock then\r\n    self.locked = true\r\n  end\r\n  if self.getInputs() and #self.getInputs() ~= 0 then\r\n    self.removeInput(0)\r\n  end\r\n\r\n  -- Clear from selecting player\r\n  if player then\r\n    self.removeFromPlayerSelection(player)\r\n  end\r\n\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  self.createButton({\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=self,\r\n    position={0,data.hover_height,0}, rotation={0,180,0}, height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  })\r\n\r\n  self.addContextMenuItem('Edit Text', function(color)\r\n    self.removeFromPlayerSelection(color)\r\n    inputMode()\r\n  end)\r\n  self.addContextMenuItem('Clear', function(color)\r\n    applyMultiple(color, 'clear', _, true)\r\n  end)\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\n  self.addContextMenuItem('Permanently Attach', attemptAttach)\r\n  self.addContextMenuItem('Permalock', function(color)\r\n    applyMultiple(color, 'permalock', _, true)\r\n  end)\r\nend\r\n\r\nfunction changeSize(params)\r\n  local delta = params[1]\r\n  local newSize = data.size + delta\r\n  if newSize > 800  or newSize < 50 then\r\n    return\r\n  end\r\n  data.size = newSize\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_size=data.size})\r\n  else\r\n    local size = getBox(data.text, true)\r\n    self.editInput({width=size.width, height=size.height, font_size=data.size})\r\n  end\r\nend\r\n\r\nfunction setColor(params)\r\n  if params and params[1] then\r\n    data.color = params[1]\r\n  else\r\n    data.color = self.getColorTint():setAt('a', 1) -- Take on color of object tint\r\n  end\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_color=data.color})\r\n  else\r\n    self.editInput({font_color=data.color, color=getBackground(data.color)})\r\n  end\r\nend\r\n\r\nfunction getBackground(color) --determines whether to use black or white depending on luminance\r\n  local r,g,b = Color(color):get()\r\n\r\n  local lum = 0.2126*r + 0.7152*g + 0.0722*b\r\n  if lum > 0.75 then\r\n    return {0.2,0.2,0.2, data.box_transparency}\r\n  else\r\n    return {1,1,1, data.box_transparency}\r\n  end\r\nend\r\n\r\nfunction clear()\r\n  data.text = ''\r\n  updateState()\r\n  inputMode()\r\nend\r\n\r\nfunction permalock()\r\n  self.interactable = false\r\n  data.interactable = false\r\n  updateState()\r\nend\r\n\r\nlocal target_script = [[\r\nfunction onLoad(script_state)\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    for _,entry in ipairs(state) do\r\n      self.createButton(entry)\r\n    end\r\n    self.addContextMenuItem('Clear All Text', function(color)\r\n      self.clearContextMenu()\r\n      self.clearButtons()\r\n      self.script_state = ''\r\n      self.script_code = ''\r\n    end)\r\n  end\r\nend\r\n]]\r\n\r\nfunction attemptAttach(player_color)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  local attachee\r\n  local attachers = {}\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if obj ~= self then\r\n        table.insert(attachers, obj)\r\n      end\r\n    else\r\n      if attachee then\r\n        broadcastToColor(\"More than one target selected.\", player_color)\r\n        return\r\n      else\r\n        attachee = obj\r\n      end\r\n    end\r\n  end\r\n  if attachee then\r\n    local code = attachee.script_code\r\n    if code and code ~= '' and code ~= target_script then\r\n      broadcastToColor(\"Warning: script on card has been overriden. Rewind time to undo.\", player_color)\r\n    end\r\n    for i,attacher in ipairs(attachers) do\r\n      attacher.call('attach', {target = attachee})\r\n    end\r\n    attach({target = attachee})\r\n    local type, flip = attachee.type, attachee.getRotation().z\r\n    if (type == 'Card' or type == 'Deck') and flip > 175 and flip < 185 then\r\n      broadcastToColor(\"Warning: text will not display if card or deck is facing down.\", player_color)\r\n    end\r\n  else\r\n    broadcastToColor(\"You must have a target object in your selection (using click-and-drag or Ctrl+Click) to use this option.\", player_color)\r\n  end\r\nend\r\n\r\nfunction attach(params)\r\n  local target = params.target\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  local textRotation = self.getRotation():sub(target.getRotation())\r\n    :add(Vector(180, 0, 180))\r\n\r\n  local textPosition = target.positionToLocal(\r\n    self.getPosition():add(Vector(0, data.hover_height, 0))\r\n  )\r\n  textPosition.x = -textPosition.x\r\n\r\n  local textScale = {}\r\n  textScale.x = self.getScale().x / target.getScale().x\r\n  textScale.y = self.getScale().x / target.getScale().y\r\n  textScale.z = self.getScale().x / target.getScale().z\r\n\r\n  local details = {\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=nil,\r\n    position=textPosition,\r\n    rotation=textRotation,\r\n    scale=textScale,\r\n    height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  }\r\n\r\n  target.createButton(details)\r\n\r\n  local script_state = target.script_state\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    table.insert(state, details)\r\n    target.script_state = JSON.encode(state)\r\n  else\r\n    target.script_state = JSON.encode({[1]=details})\r\n  end\r\n\r\n  target.script_code = target_script\r\n\r\n  self.destruct()\r\nend\r\n\r\nfunction applyMultiple(player_color, func_string, params, static_only)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if not static_only or obj.call('isStatic') then\r\n        obj.call(func_string, params)\r\n      end\r\n    end\r\n  end\r\nend\r\n\r\nfunction isStatic()\r\n  local input = self.getInputs()\r\n  return not input or #input == 0\r\nend\r\n\r\nfunction getBox(input, force)\r\n  local maxLength, lineCount = EXPAND_INTERVAL, 1\r\n  local lineLength = 0\r\n  for i = 1, #input do\r\n    local c = input:sub(i,i)\r\n    if c == '\\n' then\r\n      lineCount = lineCount + 1\r\n      if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n      lineLength = 0\r\n    else\r\n      lineLength = lineLength + 1\r\n    end\r\n  end\r\n  if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n\r\n  newWidth = data.size * maxLength * 0.9\r\n  newHeight = data.size * lineCount + 23\r\n\r\n  if force or boxWidth ~= newWidth or boxHeight ~= newHeight then\r\n    boxWidth, boxHeight = newWidth, newHeight\r\n    return {width = boxWidth, height = boxHeight}\r\n  end\r\n  return nil\r\nend\r\n\r\ntemp_lift = nil\r\nfunction onPickUp(player_color)\r\n  if data.autolift then\r\n    local player = Player[player_color]\r\n    temp_lift = player.lift_height\r\n    player.lift_height = 0\r\n  end\r\nend\r\n\r\nfunction onDrop(player_color)\r\n  if data.autolift and temp_lift then\r\n    Player[player_color].lift_height = temp_lift\r\n  end\r\nend\r\n\r\n-- Should be called every time data is modified, allows info to be saved on copy/paste\r\nfunction updateState()\r\n  self.script_state = JSON.encode(data)\r\nend\r\n\r\nfunction onSave()\r\n  self.script_state = JSON.encode(data)\r\n  return self.script_state\r\nend",
              "LuaScriptState": "{\"autolift\":false,\"autolock\":false,\"box_transparency\":1,\"color\":{\"a\":1,\"b\":0,\"g\":0,\"r\":0},\"enter_to_finish\":false,\"hover_height\":0.05,\"interactable\":true,\"size\":250,\"text\":\"Niveau d'Alerte\"}",
              "XmlUI": ""
            },
            {
              "GUID": "e191ba",
              "Name": "Card",
              "Transform": {
                "posX": -6.500011,
                "posY": 1.518111,
                "posZ": 3.49999213,
                "rotX": 0.0108915316,
                "rotY": 180.000168,
                "rotZ": 0.00494821277,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Temple du Lézard Lunaire",
              "Description": "Surface.",
              "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06217\",\n  \"locationBack\": {\n    \"connections\": \"Circle|Triangle\",\n    \"icons\": \"Square\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    },\n    \"victory\": 1\n  },\n  \"locationFront\": {\n    \"connections\": \"Circle|Triangle\",\n    \"icons\": \"Square\"\n  },\n  \"traits\": \"Surface.\",\n  \"type\": \"Location\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276534,
              "SidewaysCard": false,
              "CustomDeck": {
                "2765": {
                  "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                  "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "f08e89",
              "Name": "Custom_Tile",
              "Transform": {
                "posX": -2.00000262,
                "posY": 1.50601864,
                "posZ": 13.5000038,
                "rotX": 0.00495059229,
                "rotY": 90.01433,
                "rotZ": 359.9891,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.6045295,
                "g": 0.6045295,
                "b": 0.6045295
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://i.imgur.com/vppt2my.png",
                "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomTile": {
                  "Type": 3,
                  "Thickness": 0.1,
                  "Stackable": false,
                  "Stretch": true
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "States": {
                "2": {
                  "GUID": "44b0c5",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -39.7933121,
                    "posY": 1.63758957,
                    "posZ": 2.038383,
                    "rotX": 359.9201,
                    "rotY": 269.9961,
                    "rotZ": 0.0168742146,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                "3": {
                  "GUID": "5b38c6",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -38.8217163,
                    "posY": 1.99356019,
                    "posZ": 0.4159239,
                    "rotX": 359.9201,
                    "rotY": 272.9828,
                    "rotZ": 0.01687373,
                    "scaleX": 0.8,
                    "scaleY": 1.0,
                    "scaleZ": 0.8
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              }
            },
            {
              "GUID": "fa3932",
              "Name": "Custom_Model",
              "Transform": {
                "posX": -24.0000153,
                "posY": 1.722158,
                "posZ": -16.0037479,
                "rotX": 353.75885,
                "rotY": 359.983734,
                "rotZ": 0.02728812,
                "scaleX": 1.74999952,
                "scaleY": 1.74999952,
                "scaleZ": 1.74999952
              },
              "Nickname": "Niveau d'Alerte",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.0,
                "g": 0.67770046,
                "b": 0.555448532,
                "a": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": false,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": false,
              "Tooltip": false,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/1478820768302617365/27883B7913E0E69143C3AA03493B7E7C4E8C29C0/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 1,
                "TypeIndex": 0,
                "CastShadows": true
              },
              "LuaScript": "-- Code for bag to identify text tool objects\r\nmovableTextTool_cowgoesmoo33 = true\r\n\r\n-- Number of characters before the text box width expands.\r\nEXPAND_INTERVAL = 20\r\n\r\n-- This table controls what is passed between save/load\r\ndata = {}\r\n\r\nfunction onLoad(saved_data)\r\n  if saved_data ~= '' then\r\n    data = JSON.decode(saved_data)\r\n    if data.text ~= '' then\r\n      self.interactable = data.interactable\r\n      staticMode()\r\n      return\r\n    end\r\n  else\r\n    data = {size=200, color=Color(0,0,0), text='', interactable=true,\r\n        enter_to_finish=false, autolock=false, autolift=false,\r\n        hover_height=0.05, box_transparency=1}\r\n  end\r\n\r\n  inputMode()\r\nend\r\n\r\n-- True if in the middle of delay after pressing Enter (with enter_to_finish on)\r\nfinishing = false\r\nfunction input_func(obj, color, input, stillEditing)\r\n  local params = getBox(input)\r\n  if params then\r\n    params.value = input\r\n    self.editInput(params)\r\n  end\r\n\r\n  if not stillEditing then\r\n    data.text = input\r\n    updateState()\r\n    if input ~= '' then staticMode(color) end\r\n  elseif data.enter_to_finish then\r\n    -- If enter is pressed: remove last newline and force finish\r\n    if not finishing and input:sub(-1) == '\\n' then\r\n      finishing = true\r\n      -- Delay to avoid user's Enter keypress being detected (opens chat box)\r\n      Wait.frames(function()\r\n        input = input:sub(1, -2)\r\n        data.text = input\r\n        updateState()\r\n        if input ~= '' then staticMode(color) else inputMode() end\r\n        finishing = false\r\n      end, 10)\r\n    end\r\n  end\r\nend\r\n\r\n-- When the inpupt box appears and lets the player type in it.\r\nfunction inputMode()\r\n  self.clearContextMenu()\r\n  self.clearInputs()\r\n  self.clearButtons()\r\n\r\n  local size = getBox(data.text, true)\r\n\r\n  self.createInput({\r\n    input_function = \"input_func\",\r\n    function_owner = self,\r\n    label          = \"Type Here\",\r\n    alignment      = 3,\r\n    position       = {x=0, y=data.hover_height, z=0},\r\n    rotation       = {0, 180, 0},\r\n    width          = size.width,\r\n    height         = size.height,\r\n    color          = getBackground(data.color),\r\n    font_color     = data.color,\r\n    font_size      = data.size,\r\n    value          = data.text,\r\n  })\r\n\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\nend\r\n\r\n-- When the input box disappears and displays the text.\r\nfunction staticMode(player)\r\n  self.clearContextMenu()\r\n  if data.autolock then\r\n    self.locked = true\r\n  end\r\n  if self.getInputs() and #self.getInputs() ~= 0 then\r\n    self.removeInput(0)\r\n  end\r\n\r\n  -- Clear from selecting player\r\n  if player then\r\n    self.removeFromPlayerSelection(player)\r\n  end\r\n\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  self.createButton({\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=self,\r\n    position={0,data.hover_height,0}, rotation={0,180,0}, height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  })\r\n\r\n  self.addContextMenuItem('Edit Text', function(color)\r\n    self.removeFromPlayerSelection(color)\r\n    inputMode()\r\n  end)\r\n  self.addContextMenuItem('Clear', function(color)\r\n    applyMultiple(color, 'clear', _, true)\r\n  end)\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\n  self.addContextMenuItem('Permanently Attach', attemptAttach)\r\n  self.addContextMenuItem('Permalock', function(color)\r\n    applyMultiple(color, 'permalock', _, true)\r\n  end)\r\nend\r\n\r\nfunction changeSize(params)\r\n  local delta = params[1]\r\n  local newSize = data.size + delta\r\n  if newSize > 800  or newSize < 50 then\r\n    return\r\n  end\r\n  data.size = newSize\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_size=data.size})\r\n  else\r\n    local size = getBox(data.text, true)\r\n    self.editInput({width=size.width, height=size.height, font_size=data.size})\r\n  end\r\nend\r\n\r\nfunction setColor(params)\r\n  if params and params[1] then\r\n    data.color = params[1]\r\n  else\r\n    data.color = self.getColorTint():setAt('a', 1) -- Take on color of object tint\r\n  end\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_color=data.color})\r\n  else\r\n    self.editInput({font_color=data.color, color=getBackground(data.color)})\r\n  end\r\nend\r\n\r\nfunction getBackground(color) --determines whether to use black or white depending on luminance\r\n  local r,g,b = Color(color):get()\r\n\r\n  local lum = 0.2126*r + 0.7152*g + 0.0722*b\r\n  if lum > 0.75 then\r\n    return {0.2,0.2,0.2, data.box_transparency}\r\n  else\r\n    return {1,1,1, data.box_transparency}\r\n  end\r\nend\r\n\r\nfunction clear()\r\n  data.text = ''\r\n  updateState()\r\n  inputMode()\r\nend\r\n\r\nfunction permalock()\r\n  self.interactable = false\r\n  data.interactable = false\r\n  updateState()\r\nend\r\n\r\nlocal target_script = [[\r\nfunction onLoad(script_state)\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    for _,entry in ipairs(state) do\r\n      self.createButton(entry)\r\n    end\r\n    self.addContextMenuItem('Clear All Text', function(color)\r\n      self.clearContextMenu()\r\n      self.clearButtons()\r\n      self.script_state = ''\r\n      self.script_code = ''\r\n    end)\r\n  end\r\nend\r\n]]\r\n\r\nfunction attemptAttach(player_color)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  local attachee\r\n  local attachers = {}\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if obj ~= self then\r\n        table.insert(attachers, obj)\r\n      end\r\n    else\r\n      if attachee then\r\n        broadcastToColor(\"More than one target selected.\", player_color)\r\n        return\r\n      else\r\n        attachee = obj\r\n      end\r\n    end\r\n  end\r\n  if attachee then\r\n    local code = attachee.script_code\r\n    if code and code ~= '' and code ~= target_script then\r\n      broadcastToColor(\"Warning: script on card has been overriden. Rewind time to undo.\", player_color)\r\n    end\r\n    for i,attacher in ipairs(attachers) do\r\n      attacher.call('attach', {target = attachee})\r\n    end\r\n    attach({target = attachee})\r\n    local type, flip = attachee.type, attachee.getRotation().z\r\n    if (type == 'Card' or type == 'Deck') and flip > 175 and flip < 185 then\r\n      broadcastToColor(\"Warning: text will not display if card or deck is facing down.\", player_color)\r\n    end\r\n  else\r\n    broadcastToColor(\"You must have a target object in your selection (using click-and-drag or Ctrl+Click) to use this option.\", player_color)\r\n  end\r\nend\r\n\r\nfunction attach(params)\r\n  local target = params.target\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  local textRotation = self.getRotation():sub(target.getRotation())\r\n    :add(Vector(180, 0, 180))\r\n\r\n  local textPosition = target.positionToLocal(\r\n    self.getPosition():add(Vector(0, data.hover_height, 0))\r\n  )\r\n  textPosition.x = -textPosition.x\r\n\r\n  local textScale = {}\r\n  textScale.x = self.getScale().x / target.getScale().x\r\n  textScale.y = self.getScale().x / target.getScale().y\r\n  textScale.z = self.getScale().x / target.getScale().z\r\n\r\n  local details = {\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=nil,\r\n    position=textPosition,\r\n    rotation=textRotation,\r\n    scale=textScale,\r\n    height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  }\r\n\r\n  target.createButton(details)\r\n\r\n  local script_state = target.script_state\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    table.insert(state, details)\r\n    target.script_state = JSON.encode(state)\r\n  else\r\n    target.script_state = JSON.encode({[1]=details})\r\n  end\r\n\r\n  target.script_code = target_script\r\n\r\n  self.destruct()\r\nend\r\n\r\nfunction applyMultiple(player_color, func_string, params, static_only)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if not static_only or obj.call('isStatic') then\r\n        obj.call(func_string, params)\r\n      end\r\n    end\r\n  end\r\nend\r\n\r\nfunction isStatic()\r\n  local input = self.getInputs()\r\n  return not input or #input == 0\r\nend\r\n\r\nfunction getBox(input, force)\r\n  local maxLength, lineCount = EXPAND_INTERVAL, 1\r\n  local lineLength = 0\r\n  for i = 1, #input do\r\n    local c = input:sub(i,i)\r\n    if c == '\\n' then\r\n      lineCount = lineCount + 1\r\n      if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n      lineLength = 0\r\n    else\r\n      lineLength = lineLength + 1\r\n    end\r\n  end\r\n  if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n\r\n  newWidth = data.size * maxLength * 0.9\r\n  newHeight = data.size * lineCount + 23\r\n\r\n  if force or boxWidth ~= newWidth or boxHeight ~= newHeight then\r\n    boxWidth, boxHeight = newWidth, newHeight\r\n    return {width = boxWidth, height = boxHeight}\r\n  end\r\n  return nil\r\nend\r\n\r\ntemp_lift = nil\r\nfunction onPickUp(player_color)\r\n  if data.autolift then\r\n    local player = Player[player_color]\r\n    temp_lift = player.lift_height\r\n    player.lift_height = 0\r\n  end\r\nend\r\n\r\nfunction onDrop(player_color)\r\n  if data.autolift and temp_lift then\r\n    Player[player_color].lift_height = temp_lift\r\n  end\r\nend\r\n\r\n-- Should be called every time data is modified, allows info to be saved on copy/paste\r\nfunction updateState()\r\n  self.script_state = JSON.encode(data)\r\nend\r\n\r\nfunction onSave()\r\n  self.script_state = JSON.encode(data)\r\n  return self.script_state\r\nend",
              "LuaScriptState": "{\"autolift\":false,\"autolock\":false,\"box_transparency\":1,\"color\":{\"a\":1,\"b\":0,\"g\":0,\"r\":0},\"enter_to_finish\":false,\"hover_height\":0.05,\"interactable\":true,\"size\":250,\"text\":\"Niveau d'Alerte\"}",
              "XmlUI": ""
            },
            {
              "GUID": "5ee0f1",
              "Name": "Card",
              "Transform": {
                "posX": -19.9994488,
                "posY": 1.783606,
                "posZ": 3.52050662,
                "rotX": -4.95834547E-06,
                "rotY": 179.9875,
                "rotZ": 1.76939619E-08,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Virgil Gray",
              "Description": "Vraiment Inspiré",
              "GMNotes": "{\n  \"class\": \"Neutral\",\n  \"cycle\": \"Standalone\",\n  \"health\": 1,\n  \"id\": \"06224\",\n  \"sanity\": 3,\n  \"traits\": \"Ally. Dreamer.\",\n  \"type\": \"Asset\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": true,
              "CardID": 1123224,
              "SidewaysCard": false,
              "CustomDeck": {
                "11232": {
                  "FaceURL": "https://steamusercontent-a.akamaihd.net/ugc/2451717972207832532/3699F2613CB3A2B3CBF947914ABCD6F77B4F5FDB/",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/2451717972207833919/3C33B71E75368AE2E8D575D7F6477ACF5271CBE3/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            }
          ],
          "AttachedDecals": [
            {
              "Transform": {
                "posX": -0.0021877822,
                "posY": -0.08963572,
                "posZ": -0.00288731651,
                "rotX": 270.0,
                "rotY": 359.869568,
                "rotZ": 0.0,
                "scaleX": 2.00000215,
                "scaleY": 2.00000238,
                "scaleZ": 2.00000262
              },
              "CustomDecal": {
                "Name": "dunwich_back",
                "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/959719855119695911/931B9829687A20F4DEADB36DA57B7E6D76792231/",
                "Size": 7.4
              }
            }
          ]
        },
        {
          "GUID": "dd8df9",
          "Name": "Custom_Model_Bag",
          "Transform": {
            "posX": 13.5000048,
            "posY": 0.979997337,
            "posZ": 46.5000038,
            "rotX": -4.78325273E-06,
            "rotY": 180.000031,
            "rotZ": 7.86194448E-07,
            "scaleX": 1.493596,
            "scaleY": 0.310884237,
            "scaleZ": 1.63552141
          },
          "Nickname": "III-B : Point de Non-Retour",
          "Description": "Les Dévoreurs de Rêves",
          "GMNotes": "Point de Non-Retour",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "CustomMesh": {
            "MeshURL": "https://raw.githubusercontent.com/RobMayer/TTSLibrary/master/advboxes/tuckbox_h_MSH.obj",
            "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/780749025470580717/7D3BBD715DF2060ADDAFD28D4A1C7CED5FFC08E2/",
            "NormalURL": "",
            "ColliderURL": "",
            "Convex": true,
            "MaterialIndex": 3,
            "TypeIndex": 6,
            "CustomShader": {
              "SpecularColor": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "SpecularIntensity": 0.0,
              "SpecularSharpness": 2.0,
              "FresnelStrength": 0.0
            },
            "CastShadows": true
          },
          "Bag": {
            "Order": 0
          },
          "LuaScript": "-- Utility memory bag by Directsun\r\n-- Version 2.7.0\r\n-- Fork of Memory Bag 2.0 by MrStump\r\n--\r\n-- Want to contribute? Create an issue or fork the code on GitHub and submit a pull request:\r\n-- https://github.com/sunflowermans/TTS-UtilityMemoryBag\r\n\r\n\r\nfunction updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction combineMemoryFromBagsWithin()\r\n    local bagObjList = self.getObjects()\r\n    for _, bagObj in ipairs(bagObjList) do\r\n        local data = bagObj.lua_script_state\r\n        if data ~= nil then\r\n            local j = JSON.decode(data)\r\n            if j ~= nil and j.ml ~= nil then\r\n                for guid, entry in pairs(j.ml) do\r\n                    memoryList[guid] = entry\r\n                end\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateMemoryWithMoves()\r\n    memoryList = memoryListBackup\r\n    --get the first transposed object's coordinates\r\n    local obj = getObjectFromGUID(moveGuid)\r\n\r\n    -- p1 is where needs to go, p2 is where it was\r\n    local refObjPos = memoryList[moveGuid].pos\r\n    local deltaPos = findOffsetDistance(obj.getPosition(), refObjPos, nil)\r\n    local movedRotation = obj.getRotation()\r\n    for guid, entry in pairs(memoryList) do\r\n        memoryList[guid].pos.x = entry.pos.x - deltaPos.x\r\n        memoryList[guid].pos.y = entry.pos.y - deltaPos.y\r\n        memoryList[guid].pos.z = entry.pos.z - deltaPos.z\r\n        -- memoryList[guid].rot.x = movedRotation.x\r\n        -- memoryList[guid].rot.y = movedRotation.y\r\n        -- memoryList[guid].rot.z = movedRotation.z\r\n    end\r\n\r\n    --theList[obj.getGUID()] = {\r\n    --    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n    --    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n    --    lock=obj.getLock()\r\n    --}\r\n    moveList = {}\r\nend\r\n\r\nfunction onload(saved_data)\r\n\r\n    fresh = true\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n\r\n    end\r\n\r\n    moveList = {}\r\n    moveGuid = nil\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        fresh = false\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\n function createSetupButton()\r\n    self.createButton({\r\n      label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n      position={0,0.1,-2.1}, rotation={0,0,0}, height=275, width=625,\r\n      font_size=150, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n end\r\n\r\n--Triggered by Transpose button\r\nfunction buttonClick_transpose()\r\n    moveGuid = nil\r\n    broadcastToAll(\"Select one object and move it- all objects will move relative to the new location\", {0.75, 0.75, 1})\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(true)\r\n    createSetupActionButtons(true)\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(false)\r\n    createSetupActionButtons(false)\r\nend\r\n\r\nfunction getAllObjectsInMemory()\r\n    local objTable = {}\r\n    local curObj = {}\r\n\r\n    for guid in pairs(memoryListBackup) do\r\n        curObj = getObjectFromGUID(guid)\r\n        table.insert(objTable, curObj)\r\n    end\r\n\r\n    return objTable\r\n    -- return getAllObjects()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects(move)\r\n    buttonIndexMap = {}\r\n    local howManyButtons = 0\r\n\r\n    local objsToHaveButtons = {}\r\n    if move == true then\r\n        objsToHaveButtons = getAllObjectsInMemory()\r\n    else\r\n        objsToHaveButtons = getAllObjects()\r\n    end\r\n\r\n    for _, obj in ipairs(objsToHaveButtons) do\r\n        if obj ~= self then\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1* 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor + 2\r\n            objPos.z = objPos.z * globalScaleFactor * 0.9\r\n            --Workaround for custom PDFs\r\n            if obj.Book then\r\n                objPos.y = objPos.y + 0.5\r\n            end\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(obj, move) end\r\n            local color = {0.75,0.25,0.25,0.6}\r\n            local colorMove = {0,0,1,0.6}\r\n            if move == true then\r\n                color = colorMove\r\n            end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=500, width=500,\r\n                color=color,\r\n            })\r\n            buttonIndexMap[obj.getGUID()] = howManyButtons\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons(move)\r\n    self.createButton({\r\n        label=\"Annuler\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n      position={-0.7,0.1,2.1}, rotation={0,0,0}, height=275, width=625,\r\n      font_size=145, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    self.createButton({\r\n        label=\"Valider\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={-0.7,0.3,2.6}, rotation={0,0,0}, height=275, width=625,\r\n        font_size=140, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    if move == false then\r\n      self.createButton({\r\n          label=\"Ajouter\", click_function=\"buttonClick_add\", function_owner=self,\r\n          position={0.7,0.3,2.1}, rotation={0,0,0}, height=275, width=625,\r\n          font_size=140, color={0,0,0}, font_color={0.25,1,0.25}\r\n      })\r\n\r\n        self.createButton({\r\n            label=\"Sélection\", click_function=\"editDragSelection\", function_owner=self,\r\n            position={-0.7,0.3,3.1}, rotation={0,0,0}, height=275, width=625,\r\n            font_size=125, color={0,0,0}, font_color={1,1,1}\r\n        })\r\n\r\n        if fresh == false then\r\n                self.createButton({\r\n                    label=\"Mise à jour\", click_function=\"buttonClick_setNew\", function_owner=self,\r\n                    position={0.7,0.3,3.1}, rotation={0,0,0}, height=275, width=625,\r\n                    font_size=105, color={0,0,0}, font_color={0.75,0.75,1}\r\n                })\r\n                self.createButton({\r\n                    label=\"Retirer\", click_function=\"buttonClick_remove\", function_owner=self,\r\n                    position={0.7,0.3,2.6}, rotation={0,0,0}, height=275, width=625,\r\n                    font_size=140, color={0,0,0}, font_color={1,0.25,0.25}\r\n                })\r\n            end\r\n        end\r\n\r\n        self.createButton({\r\n            label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n            position={0,0.3,-2.1}, rotation={0,0,0}, height=275, width=625,\r\n            font_size=165, color={0,0,0}, font_color={1,1,1}\r\n        })\r\n    end\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(obj, move)\r\n    local index = buttonIndexMap[obj.getGUID()]\r\n    local colorMove = {0,0,1,0.6}\r\n    local color = {0,1,0,0.6}\r\n\r\n    previousGuid = selectedGuid\r\n    selectedGuid = obj.getGUID()\r\n\r\n    theList = memoryList\r\n    if move == true then\r\n        theList = moveList\r\n        if previousGuid ~= nil and previousGuid ~= selectedGuid then\r\n            local prevObj = getObjectFromGUID(previousGuid)\r\n            prevObj.highlightOff()\r\n            self.editButton({index=previousIndex, color=colorMove})\r\n            theList[previousGuid] = nil\r\n        end\r\n        previousIndex = index\r\n    end\r\n\r\n    if theList[selectedGuid] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        theList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock(),\r\n            tint=obj.getColorTint()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        if move == true then\r\n            color = colorMove\r\n        end\r\n        self.editButton({index=index, color=color})\r\n        theList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\nfunction editDragSelection(bagObj, player, remove)\r\n    local selectedObjs = Player[player].getSelectedObjects()\r\n    if not remove then\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            --Ignore if already in the memory list, or does not have a button\r\n            if index and not memoryList[obj.getGUID()] then\r\n                self.editButton({index=index, color={0,1,0,0.6}})\r\n                --Adding pos/rot to memory table\r\n                local pos, rot = obj.getPosition(), obj.getRotation()\r\n                --I need to add it like this or it won't save due to indexing issue\r\n                memoryList[obj.getGUID()] = {\r\n                    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n                    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n                    lock=obj.getLock(),\r\n                    tint=obj.getColorTint()\r\n                }\r\n                obj.highlightOn({0,1,0})\r\n            end\r\n        end\r\n    else\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            if index and memoryList[obj.getGUID()] then\r\n                color = {0.75,0.25,0.25,0.6}\r\n                self.editButton({index=index, color=color})\r\n                memoryList[obj.getGUID()] = nil\r\n                obj.highlightOff()\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Sélection annulée\", {1,1,1})\r\n    moveGuid = nil\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    fresh = false\r\n    if next(moveList) ~= nil then\r\n        for guid in pairs(moveList) do\r\n            moveGuid = guid\r\n        end\r\n        if memoryListBackup[moveGuid] == nil then\r\n            broadcastToAll(\"Item selected for moving is not already in memory\", {1, 0.25, 0.25})\r\n        else\r\n            broadcastToAll(\"Moving all items in memory relative to new objects position!\", {0.75, 0.75, 1})\r\n            self.clearButtons()\r\n            self.clearInputs()\r\n            createMemoryActionButtons()\r\n            local count = 0\r\n            for guid in pairs(moveList) do\r\n                moveGuid = guid\r\n                count = count + 1\r\n                local obj = getObjectFromGUID(guid)\r\n                if obj ~= nil then obj.highlightOff() end\r\n            end\r\n            updateMemoryWithMoves()\r\n            updateSave()\r\n            buttonClick_place()\r\n        end\r\n    elseif next(memoryList) == nil and moveGuid == nil then\r\n        memoryList = memoryListBackup\r\n        broadcastToAll(\"No selections made.\", {0.75, 0.25, 0.25})\r\n    end\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\n    moveGuid = nil\r\nend\r\n\r\nfunction combineTables(first_table, second_table)\r\n    for k,v in pairs(second_table) do first_table[k] = v end\r\nend\r\n\r\nfunction buttonClick_add()\r\n    fresh = false\r\n    combineTables(memoryList, memoryListBackup)\r\n    broadcastToAll(\"Adding internal bags and selections to existing memory\", {0.25, 0.75, 0.25})\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_remove()\r\n    broadcastToAll(\"Removing Selected Entries From Memory\", {1.0, 0.25, 0.25})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        memoryListBackup[guid] = nil\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Removed\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_setNew()\r\n    broadcastToAll(\"Setting new position relative to items in memory\", {0.75, 0.75, 1})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        guid = obj.guid\r\n        if memoryListBackup[guid] ~= nil then\r\n            count = count + 1\r\n            memoryListBackup[guid].pos = obj.getPosition()\r\n            memoryListBackup[guid].rot = obj.getRotation()\r\n            memoryListBackup[guid].lock = obj.getLock()\r\n            memoryListBackup[guid].tint = obj.getColorTint()\r\n        end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    fresh = true\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Placer\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0.7,0.1,2.2}, rotation={0,0,0}, height=275, width=625,\r\n        font_size=150, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Ranger\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={-0.7,0.1,2.2}, rotation={0,0,0}, height=275, width=625,\r\n        font_size=150, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.1,-2.2}, rotation={0,0,0}, height=275, width=625,\r\n        font_size=150, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    ---    self.createButton({\r\n    ---      label=\"Bouger\", click_function=\"buttonClick_transpose\", function_owner=self,\r\n    ---      position={-2,0.3,0.8}, rotation={0,270,0}, height=350, width=800,\r\n    ---      font_size=250, color={0,0,0}, font_color={0.75,0.75,1}\r\n    ---\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n            obj.setColorTint(entry.tint)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot, smooth=false\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    item.setColorTint(entry.tint)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objets placés\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objets rangés\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local yOffset = 0\r\n    if obj ~= nil then\r\n        local bounds = obj.getBounds()\r\n        yOffset = (bounds.size.y - bounds.offset.y)\r\n    end\r\n    local deltaPos = {}\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + yOffset\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n    local objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n    local x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n    local z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n    --return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\nfunction rotateMyCoordinates(desiredPos, obj)\r\n    local angle = math.rad(obj.getRotation().y)\r\n    local x = desiredPos.x * math.sin(angle)\r\n    local z = desiredPos.z * math.cos(angle)\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n    local mult = 10^(dec or 0)\r\n    return math.floor(num * mult + 0.5) / mult\r\nend\r\n\r\n\r\n--[[\r\nThis object provides access to a variable stored on the \"Global script\".\r\nThe variable holds the GUIDs for every Utility Memory Bag in the scene.\r\nExample:\r\n{'805ebd', '35cc21', 'fc8886', 'f50264', '5f5f63'}\r\n--]]\r\nAllMemoryBagsInScene = {\r\n    NAME_OF_GLOBAL_VARIABLE = \"_UtilityMemoryBag_AllMemoryBagsInScene\"\r\n}\r\n\r\nfunction AllMemoryBagsInScene:add(guid)\r\n    local guids = Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\n    table.insert(guids, guid)\r\n    Global.setTable(self.NAME_OF_GLOBAL_VARIABLE, guids)\r\nend\r\n\r\nfunction AllMemoryBagsInScene:getGuidList()\r\n    return Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\nend",
          "LuaScriptState": "{\"ml\":{\"00c97a\":{\"lock\":false,\"pos\":{\"x\":9.0001,\"y\":1.5823,\"z\":16.9999},\"rot\":{\"x\":359.9053,\"y\":180.1263,\"z\":0.0092},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"0265e3\":{\"lock\":false,\"pos\":{\"x\":13.0002,\"y\":1.5831,\"z\":23.5},\"rot\":{\"x\":359.9689,\"y\":180.339,\"z\":359.9941},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"0f55a7\":{\"lock\":false,\"pos\":{\"x\":13,\"y\":1.504,\"z\":9.5},\"rot\":{\"x\":-0.0012,\"y\":60.0032,\"z\":359.9881},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"120a5d\":{\"lock\":false,\"pos\":{\"x\":-21.50315284729,\"y\":1.83530056476593,\"z\":12.0040416717529},\"rot\":{\"x\":-5.70592146686977E-06,\"y\":180.001358032227,\"z\":-2.32542035405459E-07},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"178953\":{\"lock\":false,\"pos\":{\"x\":0.500011146068573,\"y\":1.51809537410736,\"z\":6.49995756149292},\"rot\":{\"x\":0.0111189149320126,\"y\":179.759628295898,\"z\":0.0056162541732192},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"17dd36\":{\"lock\":false,\"pos\":{\"x\":-21.4999847412109,\"y\":1.76669991016388,\"z\":20.0000152587891},\"rot\":{\"x\":4.83972416986944E-06,\"y\":-6.27207773504779E-05,\"z\":-2.28700294258033E-08},\"tint\":{\"a\":0,\"b\":0.555448532104492,\"g\":0.677700459957123,\"r\":0}},\"1c0dba\":{\"lock\":false,\"pos\":{\"x\":17.0004005432129,\"y\":1.58079886436462,\"z\":12.9997472763062},\"rot\":{\"x\":359.968475341797,\"y\":179.565383911133,\"z\":-0.00455335015431046},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"1f4d94\":{\"lock\":false,\"pos\":{\"x\":25,\"y\":1.5796,\"z\":7},\"rot\":{\"x\":0.0114,\"y\":179.994,\"z\":0.0038},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"22aeca\":{\"lock\":false,\"pos\":{\"x\":25,\"y\":1.516,\"z\":7},\"rot\":{\"x\":0.0111,\"y\":179.9998,\"z\":0.0038},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"22c3c1\":{\"lock\":false,\"pos\":{\"x\":-24.5,\"y\":1.8055,\"z\":7},\"rot\":{\"x\":0,\"y\":180,\"z\":0},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"276191\":{\"lock\":false,\"pos\":{\"x\":-7.50000238418579,\"y\":1.50848948955536,\"z\":24.0000038146973},\"rot\":{\"x\":0.0108916470780969,\"y\":180,\"z\":0.00495138624683023},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"3189a2\":{\"lock\":false,\"pos\":{\"x\":17,\"y\":1.5812,\"z\":11.5},\"rot\":{\"x\":0.0114,\"y\":179.9943,\"z\":0.0043},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"37fb46\":{\"lock\":false,\"pos\":{\"x\":-28.5,\"y\":1.8055,\"z\":7},\"rot\":{\"x\":0,\"y\":180.0003,\"z\":0},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"3996c5\":{\"lock\":false,\"pos\":{\"x\":-31.0000019073486,\"y\":1.83530008792877,\"z\":18},\"rot\":{\"x\":-7.49593073123833E-06,\"y\":179.986434936523,\"z\":2.70278150082959E-07},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"3e72b3\":{\"lock\":false,\"pos\":{\"x\":9,\"y\":1.51905345916748,\"z\":15.5},\"rot\":{\"x\":0.0108814341947436,\"y\":180.116470336914,\"z\":0.00497028650715947},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"4002d5\":{\"lock\":false,\"pos\":{\"x\":9.5001,\"y\":1.5173,\"z\":6.4999},\"rot\":{\"x\":0.0111,\"y\":179.6406,\"z\":0.004},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"40727e\":{\"lock\":false,\"pos\":{\"x\":-7.50004386901855,\"y\":1.52123880386353,\"z\":19.5000038146973},\"rot\":{\"x\":0.0108915092423558,\"y\":179.999557495117,\"z\":0.00494817737489939},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"40ad02\":{\"lock\":false,\"pos\":{\"x\":30.5,\"y\":1.709876537323,\"z\":-3.00009989738464},\"rot\":{\"x\":-0.000591248099226505,\"y\":180.001449584961,\"z\":180.001068115234},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"428f38\":{\"lock\":false,\"pos\":{\"x\":-7.5,\"y\":1.5542,\"z\":1.5},\"rot\":{\"x\":0.0109,\"y\":179.9942,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"449a2f\":{\"lock\":false,\"pos\":{\"x\":-7.50000476837158,\"y\":1.52294957637787,\"z\":28.4999809265137},\"rot\":{\"x\":0.0108915586024523,\"y\":180.000427246094,\"z\":0.00494837574660778},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"466339\":{\"lock\":false,\"pos\":{\"x\":25,\"y\":1.5811,\"z\":17.5},\"rot\":{\"x\":359.6334,\"y\":180.0309,\"z\":0.0103},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"4df2ac\":{\"lock\":false,\"pos\":{\"x\":-7.5,\"y\":1.5576,\"z\":19.5},\"rot\":{\"x\":0.0109,\"y\":179.9944,\"z\":0.005},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"54b24b\":{\"lock\":false,\"pos\":{\"x\":17.0001106262207,\"y\":1.57908880710602,\"z\":3.9995424747467},\"rot\":{\"x\":359.968597412109,\"y\":179.565567016602,\"z\":-0.00461199460551143},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"57a07e\":{\"lock\":false,\"pos\":{\"x\":9,\"y\":1.5826,\"z\":15.5},\"rot\":{\"x\":0.011,\"y\":179.9941,\"z\":0.0032},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"5b38c6\":{\"lock\":false,\"pos\":{\"x\":16.9999,\"y\":1.505,\"z\":17},\"rot\":{\"x\":0.0109,\"y\":180.0111,\"z\":0.005},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"5f23be\":{\"lock\":false,\"pos\":{\"x\":17.501,\"y\":1.536,\"z\":-6.0196},\"rot\":{\"x\":0.0049,\"y\":90.0004,\"z\":359.9891},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"69163e\":{\"lock\":false,\"pos\":{\"x\":-20.4999008178711,\"y\":1.77892327308655,\"z\":2.49991893768311},\"rot\":{\"x\":0.000210079029784538,\"y\":179.699401855469,\"z\":0.000599649036303163},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"6e8b18\":{\"lock\":false,\"pos\":{\"x\":4.9999,\"y\":1.5041,\"z\":6.5},\"rot\":{\"x\":-0.0049,\"y\":270.0114,\"z\":0.0109},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"78e47a\":{\"lock\":false,\"pos\":{\"x\":-7.5,\"y\":1.5559,\"z\":10.5},\"rot\":{\"x\":0.0109,\"y\":179.994,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"7ab42b\":{\"lock\":false,\"pos\":{\"x\":23.5020847320557,\"y\":1.51382517814636,\"z\":-5.52423620223999},\"rot\":{\"x\":0.0111297266557813,\"y\":179.976409912109,\"z\":0.00575820542871952},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"7b67a6\":{\"lock\":false,\"pos\":{\"x\":9.50020027160645,\"y\":1.5804957151413,\"z\":7.9994854927063},\"rot\":{\"x\":359.968658447266,\"y\":179.630462646484,\"z\":-0.00476683909073472},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"82f2cc\":{\"lock\":false,\"pos\":{\"x\":13,\"y\":1.5835,\"z\":22},\"rot\":{\"x\":0.0107,\"y\":179.9939,\"z\":0.004},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"8bc4ab\":{\"lock\":false,\"pos\":{\"x\":12.9999017715454,\"y\":1.51994359493256,\"z\":21.9999008178711},\"rot\":{\"x\":0.0108844647184014,\"y\":180.081527709961,\"z\":0.00496381055563688},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"907bb2\":{\"lock\":false,\"pos\":{\"x\":20.5,\"y\":1.5829,\"z\":22},\"rot\":{\"x\":0.0119,\"y\":179.9935,\"z\":0.0036},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"90d97a\":{\"lock\":false,\"pos\":{\"x\":-29.5014,\"y\":1.8353,\"z\":12.0046},\"rot\":{\"x\":0,\"y\":179.985,\"z\":0},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"947a9f\":{\"lock\":false,\"pos\":{\"x\":25,\"y\":1.5813,\"z\":16},\"rot\":{\"x\":0.0119,\"y\":179.9942,\"z\":0.0036},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"9724fe\":{\"lock\":false,\"pos\":{\"x\":-21.5,\"y\":1.76670038700104,\"z\":14},\"rot\":{\"x\":4.65541052108165E-06,\"y\":0.000622955558355898,\"z\":1.09870441633575E-07},\"tint\":{\"a\":0,\"b\":0.555448532104492,\"g\":0.677700459957123,\"r\":0}},\"97bf69\":{\"lock\":false,\"pos\":{\"x\":17,\"y\":1.5794,\"z\":2.5},\"rot\":{\"x\":0.0116,\"y\":179.9939,\"z\":0.0012},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"98830f\":{\"lock\":false,\"pos\":{\"x\":-32.5,\"y\":1.8353,\"z\":7},\"rot\":{\"x\":0,\"y\":179.9835,\"z\":0},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"9ad692\":{\"lock\":false,\"pos\":{\"x\":17.0001,\"y\":1.5176,\"z\":11.4998},\"rot\":{\"x\":0.0111,\"y\":179.5595,\"z\":0.0039},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"9bea59\":{\"lock\":false,\"pos\":{\"x\":-31.5000305175781,\"y\":1.76670038700104,\"z\":13.9999809265137},\"rot\":{\"x\":4.61810350316227E-06,\"y\":359.96728515625,\"z\":-2.34345947092152E-07},\"tint\":{\"a\":0,\"b\":0.555448532104492,\"g\":0.677700459957123,\"r\":0}},\"9c0a7f\":{\"lock\":false,\"pos\":{\"x\":17.501,\"y\":1.536,\"z\":-6.0196},\"rot\":{\"x\":0.0049,\"y\":90.0051,\"z\":359.9891},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"9cda71\":{\"lock\":false,\"pos\":{\"x\":-28.5,\"y\":1.82,\"z\":2.5},\"rot\":{\"x\":0,\"y\":179.9943,\"z\":0},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"9d379e\":{\"lock\":false,\"pos\":{\"x\":17.501,\"y\":1.536,\"z\":-6.0196},\"rot\":{\"x\":0.005,\"y\":90.0125,\"z\":359.9891},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"9e57e9\":{\"lock\":false,\"pos\":{\"x\":-7.49993753433228,\"y\":1.51954567432404,\"z\":10.4999866485596},\"rot\":{\"x\":0.0111377974972129,\"y\":179.674377441406,\"z\":0.00553039368242025},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"9f2f6a\":{\"lock\":false,\"pos\":{\"x\":21,\"y\":1.5023,\"z\":4.5},\"rot\":{\"x\":0.0012,\"y\":239.9986,\"z\":0.0119},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"a038e1\":{\"lock\":false,\"pos\":{\"x\":21,\"y\":1.5033,\"z\":9.5},\"rot\":{\"x\":0.0097,\"y\":120.0116,\"z\":359.993},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"a1d26c\":{\"lock\":false,\"pos\":{\"x\":-3.50010275840759,\"y\":1.50529277324677,\"z\":8.99998664855957},\"rot\":{\"x\":0.00973175279796124,\"y\":120.006958007813,\"z\":359.993041992188},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"a9d181\":{\"lock\":false,\"pos\":{\"x\":-7.50014638900757,\"y\":1.50677871704102,\"z\":15.000057220459},\"rot\":{\"x\":0.0108916461467743,\"y\":179.99934387207,\"z\":0.00495173688977957},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"aaa538\":{\"lock\":false,\"pos\":{\"x\":-31.0000228881836,\"y\":1.8353009223938,\"z\":7.4999828338623},\"rot\":{\"x\":-5.19717104907613E-06,\"y\":179.959564208984,\"z\":-5.03591763845179E-08},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"acf40e\":{\"lock\":false,\"pos\":{\"x\":-20.5,\"y\":1.8055,\"z\":7},\"rot\":{\"x\":0,\"y\":180.0027,\"z\":0},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"b01719\":{\"lock\":false,\"pos\":{\"x\":-7.50000286102295,\"y\":1.50506782531738,\"z\":6.00000238418579},\"rot\":{\"x\":359.989105224609,\"y\":-0.00318876560777426,\"z\":-0.00495176715776324},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"b22d1e\":{\"lock\":false,\"pos\":{\"x\":-31.0000038146973,\"y\":1.76669991016388,\"z\":19.9999980926514},\"rot\":{\"x\":5.11925372848054E-06,\"y\":0.000230303485295735,\"z\":-2.47019869448195E-07},\"tint\":{\"a\":0,\"b\":0.555448532104492,\"g\":0.677700459957123,\"r\":0}},\"b2bf8b\":{\"lock\":false,\"pos\":{\"x\":17,\"y\":1.5031,\"z\":7},\"rot\":{\"x\":359.9891,\"y\":0.0001,\"z\":-0.005},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"b8d917\":{\"lock\":false,\"pos\":{\"x\":23.5003318786621,\"y\":1.57687842845917,\"z\":-3.98875260353088},\"rot\":{\"x\":357.555633544922,\"y\":181.369445800781,\"z\":359.905853271484},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"b92f51\":{\"lock\":false,\"pos\":{\"x\":17,\"y\":1.5159,\"z\":2.5},\"rot\":{\"x\":0.0111,\"y\":179.5607,\"z\":0.0035},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"c06b0e\":{\"lock\":false,\"pos\":{\"x\":-21.4999961853027,\"y\":1.83530008792877,\"z\":18.0000038146973},\"rot\":{\"x\":-7.03638670529472E-06,\"y\":179.985229492188,\"z\":4.26223891736299E-07},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"c35efe\":{\"lock\":false,\"pos\":{\"x\":-32.5,\"y\":1.8055,\"z\":2.5},\"rot\":{\"x\":0,\"y\":180.0012,\"z\":0},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"c4f1c6\":{\"lock\":false,\"pos\":{\"x\":-28.499979019165,\"y\":1.77891981601715,\"z\":2.49985027313232},\"rot\":{\"x\":0.000250367622356862,\"y\":180.01057434082,\"z\":179.999633789063},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"c7fb54\":{\"lock\":false,\"pos\":{\"x\":17.501,\"y\":1.536,\"z\":-6.0196},\"rot\":{\"x\":0.005,\"y\":90.0134,\"z\":359.9891},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"c9202c\":{\"lock\":false,\"pos\":{\"x\":9.5,\"y\":1.5809,\"z\":6.5},\"rot\":{\"x\":0.0116,\"y\":179.994,\"z\":0.0028},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"c96eef\":{\"lock\":false,\"pos\":{\"x\":12.5013046264648,\"y\":1.53642868995667,\"z\":-6.01680088043213},\"rot\":{\"x\":0.00494789751246572,\"y\":89.9996566772461,\"z\":359.989105224609},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"d12fab\":{\"lock\":false,\"pos\":{\"x\":-7.49997520446777,\"y\":1.51783227920532,\"z\":1.50005435943604},\"rot\":{\"x\":0.0111451800912619,\"y\":179.772186279297,\"z\":0.00538421235978603},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"e0ea3e\":{\"lock\":false,\"pos\":{\"x\":13,\"y\":1.5029,\"z\":4},\"rot\":{\"x\":359.9903,\"y\":299.9882,\"z\":0.007},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"eaafd8\":{\"lock\":false,\"pos\":{\"x\":3,\"y\":1.5018,\"z\":-6.5},\"rot\":{\"x\":0.0109,\"y\":179.9927,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":0.701960802078247,\"g\":0.800000011920929,\"r\":0.874509811401367}},\"eba954\":{\"lock\":false,\"pos\":{\"x\":-32.5016,\"y\":1.8353,\"z\":12.0048},\"rot\":{\"x\":0,\"y\":179.9952,\"z\":0},\"tint\":{\"a\":1,\"b\":0,\"g\":0,\"r\":0.614982545375824}},\"edc79a\":{\"lock\":false,\"pos\":{\"x\":20.4999046325684,\"y\":1.51929593086243,\"z\":22},\"rot\":{\"x\":0.0108784018084407,\"y\":180.151718139648,\"z\":0.00497707957401872},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"ef84d7\":{\"lock\":false,\"pos\":{\"x\":0.5,\"y\":1.5545,\"z\":6.5},\"rot\":{\"x\":0.0109,\"y\":179.9941,\"z\":0.0049},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"f12da1\":{\"lock\":false,\"pos\":{\"x\":25.0000076293945,\"y\":1.51776671409607,\"z\":15.9999990463257},\"rot\":{\"x\":0.0108631858602166,\"y\":180.325744628906,\"z\":0.00501001998782158},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"f53f05\":{\"lock\":false,\"pos\":{\"x\":20.5004,\"y\":1.5825,\"z\":23.5002},\"rot\":{\"x\":359.9687,\"y\":180.0824,\"z\":-0.0055},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"f9569f\":{\"lock\":false,\"pos\":{\"x\":-24.5000019073486,\"y\":1.77890634536743,\"z\":2.49999761581421},\"rot\":{\"x\":-4.9140621740662E-06,\"y\":179.999176025391,\"z\":-1.50357735151374E-07},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"fa63e5\":{\"lock\":false,\"pos\":{\"x\":-3.50012111663818,\"y\":1.50424718856812,\"z\":3.50012135505676},\"rot\":{\"x\":0.00116001372225583,\"y\":240.005096435547,\"z\":0.0119118988513947},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}}}}",
          "XmlUI": "",
          "ContainedObjects": [
            {
              "GUID": "120a5d",
              "Name": "Custom_Model_Bag",
              "Transform": {
                "posX": -21.5031528,
                "posY": 1.84000039,
                "posZ": 12.0040417,
                "rotX": -5.060671E-06,
                "rotY": 180.001389,
                "rotZ": 5.46410632E-08,
                "scaleX": 0.7,
                "scaleY": 0.7,
                "scaleZ": 0.7
              },
              "Nickname": "Acte 1B",
              "Description": "Placement des lieux Vallée",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "CustomMesh": {
                "MeshURL": "https://pastebin.com/raw/ALrYhQGb",
                "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/1985555189151674305/A0FBD0F18BC845198034E72B28F28DFBC19A4B93/",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 6,
                "CustomShader": {
                  "SpecularColor": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "SpecularIntensity": 0.0,
                  "SpecularSharpness": 2.0,
                  "FresnelStrength": 0.0
                },
                "CastShadows": true
              },
              "Bag": {
                "Order": 0
              },
              "LuaScript": "-- Utility memory bag by Directsun\r\n-- Version 2.7.0\r\n-- Fork of Memory Bag 2.0 by MrStump\r\n--\r\n-- Want to contribute? Create an issue or fork the code on GitHub and submit a pull request:\r\n-- https://github.com/sunflowermans/TTS-UtilityMemoryBag\r\n\r\n\r\nfunction updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction combineMemoryFromBagsWithin()\r\n    local bagObjList = self.getObjects()\r\n    for _, bagObj in ipairs(bagObjList) do\r\n        local data = bagObj.lua_script_state\r\n        if data ~= nil then\r\n            local j = JSON.decode(data)\r\n            if j ~= nil and j.ml ~= nil then\r\n                for guid, entry in pairs(j.ml) do\r\n                    memoryList[guid] = entry\r\n                end\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateMemoryWithMoves()\r\n    memoryList = memoryListBackup\r\n    --get the first transposed object's coordinates\r\n    local obj = getObjectFromGUID(moveGuid)\r\n\r\n    -- p1 is where needs to go, p2 is where it was\r\n    local refObjPos = memoryList[moveGuid].pos\r\n    local deltaPos = findOffsetDistance(obj.getPosition(), refObjPos, nil)\r\n    local movedRotation = obj.getRotation()\r\n    for guid, entry in pairs(memoryList) do\r\n        memoryList[guid].pos.x = entry.pos.x - deltaPos.x\r\n        memoryList[guid].pos.y = entry.pos.y - deltaPos.y\r\n        memoryList[guid].pos.z = entry.pos.z - deltaPos.z\r\n        -- memoryList[guid].rot.x = movedRotation.x\r\n        -- memoryList[guid].rot.y = movedRotation.y\r\n        -- memoryList[guid].rot.z = movedRotation.z\r\n    end\r\n\r\n    --theList[obj.getGUID()] = {\r\n    --    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n    --    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n    --    lock=obj.getLock()\r\n    --}\r\n    moveList = {}\r\nend\r\n\r\nfunction onload(saved_data)\r\n\r\n    fresh = true\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n\r\n    end\r\n\r\n    moveList = {}\r\n    moveGuid = nil\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        fresh = false\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,2}, rotation={0,0,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by Transpose button\r\nfunction buttonClick_transpose()\r\n    moveGuid = nil\r\n    broadcastToAll(\"Select one object and move it- all objects will move relative to the new location\", {0.75, 0.75, 1})\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(true)\r\n    createSetupActionButtons(true)\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(false)\r\n    createSetupActionButtons(false)\r\nend\r\n\r\nfunction getAllObjectsInMemory()\r\n    local objTable = {}\r\n    local curObj = {}\r\n\r\n    for guid in pairs(memoryListBackup) do\r\n        curObj = getObjectFromGUID(guid)\r\n        table.insert(objTable, curObj)\r\n    end\r\n\r\n    return objTable\r\n    -- return getAllObjects()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects(move)\r\n    buttonIndexMap = {}\r\n    local howManyButtons = 0\r\n\r\n    local objsToHaveButtons = {}\r\n    if move == true then\r\n        objsToHaveButtons = getAllObjectsInMemory()\r\n    else\r\n        objsToHaveButtons = getAllObjects()\r\n    end\r\n\r\n    for _, obj in ipairs(objsToHaveButtons) do\r\n        if obj ~= self then\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor +2\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Workaround for custom PDFs\r\n            if obj.Book then\r\n                objPos.y = objPos.y + 0.5\r\n            end\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(obj, move) end\r\n            local color = {0.75,0.25,0.25,0.6}\r\n            local colorMove = {0,0,1,0.6}\r\n            if move == true then\r\n                color = colorMove\r\n            end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color=color,\r\n            })\r\n            buttonIndexMap[obj.getGUID()] = howManyButtons\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons(move)\r\n    self.createButton({\r\n       label=\"Annuler\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n       position={-1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n       font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    self.createButton({\r\n      label=\"Valider\", click_function=\"buttonClick_submit\", function_owner=self,\r\n      position={-1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n      font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    if move == false then\r\n      self.createButton({\r\n          label=\"Ajouter\", click_function=\"buttonClick_add\", function_owner=self,\r\n          position={1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n          font_size=250, color={0,0,0}, font_color={0.25,1,0.25}\r\n        })\r\n\r\n        self.createButton({\r\n            label=\"Sélection\", click_function=\"editDragSelection\", function_owner=self,\r\n            position={-1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n            font_size=250, color={0,0,0}, font_color={1,1,1}\r\n        })\r\n\r\n        if fresh == false then\r\n            self.createButton({\r\n                label=\"Mise à Jour\", click_function=\"buttonClick_setNew\", function_owner=self,\r\n                position={1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n                font_size=180, color={0,0,0}, font_color={0.75,0.75,1}\r\n            })\r\n            self.createButton({\r\n                label=\"Retirer\", click_function=\"buttonClick_remove\", function_owner=self,\r\n                position={1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n                font_size=250, color={0,0,0}, font_color={1,0.25,0.25}\r\n            })\r\n        end\r\n    end\r\n\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,0,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(obj, move)\r\n    local index = buttonIndexMap[obj.getGUID()]\r\n    local colorMove = {0,0,1,0.6}\r\n    local color = {0,1,0,0.6}\r\n\r\n    previousGuid = selectedGuid\r\n    selectedGuid = obj.getGUID()\r\n\r\n    theList = memoryList\r\n    if move == true then\r\n        theList = moveList\r\n        if previousGuid ~= nil and previousGuid ~= selectedGuid then\r\n            local prevObj = getObjectFromGUID(previousGuid)\r\n            prevObj.highlightOff()\r\n            self.editButton({index=previousIndex, color=colorMove})\r\n            theList[previousGuid] = nil\r\n        end\r\n        previousIndex = index\r\n    end\r\n\r\n    if theList[selectedGuid] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        theList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock(),\r\n            tint=obj.getColorTint()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        if move == true then\r\n            color = colorMove\r\n        end\r\n        self.editButton({index=index, color=color})\r\n        theList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\nfunction editDragSelection(bagObj, player, remove)\r\n    local selectedObjs = Player[player].getSelectedObjects()\r\n    if not remove then\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            --Ignore if already in the memory list, or does not have a button\r\n            if index and not memoryList[obj.getGUID()] then\r\n                self.editButton({index=index, color={0,1,0,0.6}})\r\n                --Adding pos/rot to memory table\r\n                local pos, rot = obj.getPosition(), obj.getRotation()\r\n                --I need to add it like this or it won't save due to indexing issue\r\n                memoryList[obj.getGUID()] = {\r\n                    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n                    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n                    lock=obj.getLock(),\r\n                    tint=obj.getColorTint()\r\n                }\r\n                obj.highlightOn({0,1,0})\r\n            end\r\n        end\r\n    else\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            if index and memoryList[obj.getGUID()] then\r\n                color = {0.75,0.25,0.25,0.6}\r\n                self.editButton({index=index, color=color})\r\n                memoryList[obj.getGUID()] = nil\r\n                obj.highlightOff()\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Sélection annulée\", {1,1,1})\r\n    moveGuid = nil\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    fresh = false\r\n    if next(moveList) ~= nil then\r\n        for guid in pairs(moveList) do\r\n            moveGuid = guid\r\n        end\r\n        if memoryListBackup[moveGuid] == nil then\r\n            broadcastToAll(\"Item selected for moving is not already in memory\", {1, 0.25, 0.25})\r\n        else\r\n            broadcastToAll(\"Moving all items in memory relative to new objects position!\", {0.75, 0.75, 1})\r\n            self.clearButtons()\r\n            self.clearInputs()\r\n            createMemoryActionButtons()\r\n            local count = 0\r\n            for guid in pairs(moveList) do\r\n                moveGuid = guid\r\n                count = count + 1\r\n                local obj = getObjectFromGUID(guid)\r\n                if obj ~= nil then obj.highlightOff() end\r\n            end\r\n            updateMemoryWithMoves()\r\n            updateSave()\r\n            buttonClick_place()\r\n        end\r\n    elseif next(memoryList) == nil and moveGuid == nil then\r\n        memoryList = memoryListBackup\r\n        broadcastToAll(\"No selections made.\", {0.75, 0.25, 0.25})\r\n    end\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\n    moveGuid = nil\r\nend\r\n\r\nfunction combineTables(first_table, second_table)\r\n    for k,v in pairs(second_table) do first_table[k] = v end\r\nend\r\n\r\nfunction buttonClick_add()\r\n    fresh = false\r\n    combineTables(memoryList, memoryListBackup)\r\n    broadcastToAll(\"Adding internal bags and selections to existing memory\", {0.25, 0.75, 0.25})\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_remove()\r\n    broadcastToAll(\"Removing Selected Entries From Memory\", {1.0, 0.25, 0.25})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        memoryListBackup[guid] = nil\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Removed\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_setNew()\r\n    broadcastToAll(\"Setting new position relative to items in memory\", {0.75, 0.75, 1})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        guid = obj.guid\r\n        if memoryListBackup[guid] ~= nil then\r\n            count = count + 1\r\n            memoryListBackup[guid].pos = obj.getPosition()\r\n            memoryListBackup[guid].rot = obj.getRotation()\r\n            memoryListBackup[guid].lock = obj.getLock()\r\n            memoryListBackup[guid].tint = obj.getColorTint()\r\n        end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    fresh = true\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Placer\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,2}, rotation={0,0,0}, height=350, width=1000,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Ranger\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,2.8}, rotation={0,0,0}, height=350, width=1000,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={2,0.3,0}, rotation={0,90,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    ---    self.createButton({\r\n    ---      label=\"Bouger\", click_function=\"buttonClick_transpose\", function_owner=self,\r\n    ---      position={-2,0.3,0.8}, rotation={0,270,0}, height=350, width=800,\r\n    ---      font_size=250, color={0,0,0}, font_color={0.75,0.75,1}\r\n    ---  \r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n            obj.setColorTint(entry.tint)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot, smooth=false\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    item.setColorTint(entry.tint)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objets placés\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objets rangés\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local yOffset = 0\r\n    if obj ~= nil then\r\n        local bounds = obj.getBounds()\r\n        yOffset = (bounds.size.y - bounds.offset.y)\r\n    end\r\n    local deltaPos = {}\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + yOffset\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n    local objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n    local x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n    local z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n    --return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\nfunction rotateMyCoordinates(desiredPos, obj)\r\n    local angle = math.rad(obj.getRotation().y)\r\n    local x = desiredPos.x * math.sin(angle)\r\n    local z = desiredPos.z * math.cos(angle)\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n    local mult = 10^(dec or 0)\r\n    return math.floor(num * mult + 0.5) / mult\r\nend\r\n\r\n\r\n--[[\r\nThis object provides access to a variable stored on the \"Global script\".\r\nThe variable holds the GUIDs for every Utility Memory Bag in the scene.\r\nExample:\r\n{'805ebd', '35cc21', 'fc8886', 'f50264', '5f5f63'}\r\n--]]\r\nAllMemoryBagsInScene = {\r\n    NAME_OF_GLOBAL_VARIABLE = \"_UtilityMemoryBag_AllMemoryBagsInScene\"\r\n}\r\n\r\nfunction AllMemoryBagsInScene:add(guid)\r\n    local guids = Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\n    table.insert(guids, guid)\r\n    Global.setTable(self.NAME_OF_GLOBAL_VARIABLE, guids)\r\nend\r\n\r\nfunction AllMemoryBagsInScene:getGuidList()\r\n    return Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\nend",
              "LuaScriptState": "{\"ml\":{\"0f55a7\":{\"lock\":false,\"pos\":{\"x\":13,\"y\":1.504,\"z\":9.5},\"rot\":{\"x\":-0.0012,\"y\":60.0032,\"z\":359.9881},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"1f4d94\":{\"lock\":false,\"pos\":{\"x\":25,\"y\":1.5796,\"z\":7},\"rot\":{\"x\":0.0114,\"y\":179.994,\"z\":0.0038},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"22aeca\":{\"lock\":false,\"pos\":{\"x\":25,\"y\":1.516,\"z\":7},\"rot\":{\"x\":0.0111,\"y\":179.9998,\"z\":0.0038},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"3189a2\":{\"lock\":false,\"pos\":{\"x\":17,\"y\":1.5812,\"z\":11.5},\"rot\":{\"x\":0.0114,\"y\":179.9943,\"z\":0.0043},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"4002d5\":{\"lock\":false,\"pos\":{\"x\":9.5001,\"y\":1.5173,\"z\":6.4999},\"rot\":{\"x\":0.0111,\"y\":179.6406,\"z\":0.004},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"6e8b18\":{\"lock\":false,\"pos\":{\"x\":4.9999,\"y\":1.5041,\"z\":6.5},\"rot\":{\"x\":-0.0049,\"y\":270.0114,\"z\":0.0109},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"97bf69\":{\"lock\":false,\"pos\":{\"x\":17,\"y\":1.5794,\"z\":2.5},\"rot\":{\"x\":0.0116,\"y\":179.9939,\"z\":0.0012},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"9ad692\":{\"lock\":false,\"pos\":{\"x\":17.0001,\"y\":1.5176,\"z\":11.4998},\"rot\":{\"x\":0.0111,\"y\":179.5595,\"z\":0.0039},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"9f2f6a\":{\"lock\":false,\"pos\":{\"x\":21,\"y\":1.5023,\"z\":4.5},\"rot\":{\"x\":0.0012,\"y\":239.9986,\"z\":0.0119},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"a038e1\":{\"lock\":false,\"pos\":{\"x\":21,\"y\":1.5033,\"z\":9.5},\"rot\":{\"x\":0.0097,\"y\":120.0116,\"z\":359.993},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"b2bf8b\":{\"lock\":false,\"pos\":{\"x\":17,\"y\":1.5031,\"z\":7},\"rot\":{\"x\":359.9891,\"y\":0.0001,\"z\":-0.005},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"b92f51\":{\"lock\":false,\"pos\":{\"x\":17,\"y\":1.5159,\"z\":2.5},\"rot\":{\"x\":0.0111,\"y\":179.5607,\"z\":0.0035},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"c9202c\":{\"lock\":false,\"pos\":{\"x\":9.5,\"y\":1.5809,\"z\":6.5},\"rot\":{\"x\":0.0116,\"y\":179.994,\"z\":0.0028},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"e0ea3e\":{\"lock\":false,\"pos\":{\"x\":13,\"y\":1.5029,\"z\":4},\"rot\":{\"x\":359.9903,\"y\":299.9882,\"z\":0.007},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}}}}",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "0f55a7",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": 13.0,
                    "posY": 1.50396276,
                    "posZ": 9.5,
                    "rotX": -0.00116027961,
                    "rotY": 60.0032043,
                    "rotZ": 359.9881,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/vppt2my.png",
                    "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "States": {
                    "2": {
                      "GUID": "44b0c5",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -39.7933121,
                        "posY": 1.63758957,
                        "posZ": 2.038383,
                        "rotX": 359.9201,
                        "rotY": 269.9961,
                        "rotZ": 0.0168742146,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    "3": {
                      "GUID": "5b38c6",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -38.8217163,
                        "posY": 1.99356019,
                        "posZ": 0.4159239,
                        "rotX": 359.9201,
                        "rotY": 272.9828,
                        "rotZ": 0.01687373,
                        "scaleX": 0.8,
                        "scaleY": 1.0,
                        "scaleZ": 0.8
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  }
                },
                {
                  "GUID": "1f4d94",
                  "Name": "Custom_Token",
                  "Transform": {
                    "posX": 25.0000019,
                    "posY": 1.57961416,
                    "posZ": 7.00000048,
                    "rotX": 0.0104620988,
                    "rotY": 179.993958,
                    "rotZ": 0.00304298662,
                    "scaleX": 0.23,
                    "scaleY": 1.0,
                    "scaleZ": 0.225
                  },
                  "Nickname": "Indices",
                  "Description": "Click gauche - Ajouter\nClick droit - Soustraire",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/784129913444610342/7903BA89870C1656A003FD69C79BFA99BD1AAC24/",
                    "ImageSecondaryURL": "",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomToken": {
                      "Thickness": 0.1,
                      "MergeDistancePixels": 5.0,
                      "StandUp": false,
                      "Stackable": false
                    }
                  },
                  "LuaScript": "MIN_VALUE = -99\r\nMAX_VALUE = 999\r\nlocal ZONE_HANDLER_GUID = 'ef3980'\r\nzoneHandler = getObjectFromGUID(ZONE_HANDLER_GUID)\r\nfunction onload(saved_data)\r\n    light_mode = true\r\n    val = 0\r\n\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        light_mode = loaded_data[1]\r\n        val = loaded_data[2]\r\n    end\r\n\r\n    createAll()\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = { light_mode, val }\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction createAll()\r\n    s_color = { 0, 0, 0, 100 }\r\n\r\n    if light_mode then\r\n        f_color = { 1, 1, 1, 100 }\r\n    else\r\n        f_color = { 0, 0, 0, 100 }\r\n    end\r\n\r\n\r\n\r\n    self.createButton({\r\n        label = tostring(val),\r\n        click_function = \"clickOrAlt_click\",\r\n        function_owner = self,\r\n        position = { 0, 0.05, 0.1 },\r\n        height = 600,\r\n        width = 1000,\r\n        alignment = 3,\r\n        scale = { x = 1.5, y = 1.5, z = 1.5 },\r\n        font_size = 800,\r\n        font_color = f_color,\r\n        color = { 1, 1, 1, 0 }\r\n    })\r\n\r\n\r\n    self.createButton({\r\n        click_function = \"takeClue\",\r\n        function_owner = self,\r\n        label = \"Prendre\",\r\n        position = { 3.5, 0.1, 0 },\r\n        rotation = { 0, 270, 0 },\r\n        scale = { 1.6, 1, 1.6 },\r\n        width = 1600,\r\n        height = 500,\r\n        font_size = 400,\r\n        font_color = { 1, 1, 1 },\r\n        color = { 0, 0, 0 },\r\n        tooltip = \"Prendre un indice (click droit pour reposer)\"\r\n    })\r\n\r\n\r\n\r\n    if light_mode then\r\n        lightButtonText = \"[ Set dark ]\"\r\n    else\r\n        lightButtonText = \"[ Set light ]\"\r\n    end\r\nend\r\n\r\nfunction removeAll()\r\n    self.removeInput(0)\r\n    self.removeInput(1)\r\n    self.removeButton(0)\r\n    self.removeButton(1)\r\n    self.removeButton(2)\r\nend\r\n\r\nfunction reloadAll()\r\n    removeAll()\r\n    createAll()\r\n\r\n    updateSave()\r\nend\r\n\r\nfunction swap_fcolor(_obj, _color, alt_click)\r\n    light_mode = not light_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction swap_align(_obj, _color, alt_click)\r\n    center_mode = not center_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction editName(_obj, _string, value)\r\n    self.setName(value)\r\n    setTooltips()\r\nend\r\n\r\nfunction clickOrAlt_click(_obj, _color, alt_click)\r\n    if alt_click then\r\n        substract()\r\n    else\r\n        add()\r\n    end\r\nend\r\n\r\nfunction substract()\r\n    add_subtract(-1)\r\nend\r\n\r\nfunction add()\r\n    add_subtract(1)\r\nend\r\n\r\nfunction add_subtract(mod)\r\n    new_value = math.min(math.max(val + mod, MIN_VALUE), MAX_VALUE)\r\n    if val ~= new_value then\r\n        val = new_value\r\n        updateVal()\r\n        updateSave()\r\n    end\r\nend\r\n\r\nfunction takeClue(_, color, alt_click)\r\n    if alt_click then\r\n        add()\r\n    else\r\n        substract()\r\n    end\r\n    local params = {}\r\n    params.playerColor = color\r\n    params.zone = 'CounterZone'\r\n    local objects = zoneHandler.call('getObjectsInPlayerZone', params)\r\n    for _, token in ipairs(objects) do\r\n        if token.getName() == \"Indices\" and token.getDescription() == \"Compteur de Joueur\" then\r\n            local cluecounter = token\r\n            if alt_click then\r\n                cluecounter.call('substract')\r\n            else\r\n                cluecounter.call('add')\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateVal()\r\n    self.editButton({\r\n        index = 0,\r\n        label = tostring(val),\r\n    })\r\nend\r\n\r\nfunction reset_val()\r\n    val = 0\r\n    updateVal()\r\n    updateSave()\r\nend\r\n\r\nfunction setTooltips()\r\n    self.editInput({\r\n        index = 0,\r\n        value = self.getName(),\r\n        tooltip = ttText\r\n    })\r\n    self.editButton({\r\n        index = 0,\r\n        value = tostring(val),\r\n        tooltip = ttText\r\n    })\r\nend\r\n\r\nfunction null()\r\nend\r\n\r\nfunction keepSample(_obj, _string, value)\r\n    reloadAll()\r\nend\r\n",
                  "LuaScriptState": "[true,0]",
                  "XmlUI": ""
                },
                {
                  "GUID": "22aeca",
                  "Name": "Card",
                  "Transform": {
                    "posX": 25.0000019,
                    "posY": 1.51604235,
                    "posZ": 7.0,
                    "rotX": 0.0110312775,
                    "rotY": 179.9998,
                    "rotZ": 0.00400631642,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Pics de Thok",
                  "Description": "Vallée. Central.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06260\",\n  \"locationFront\": {\n    \"connections\": \"SlantedEquals|Circle\",\n    \"icons\": \"Star\"\n  },\n  \"traits\": \"Vale. Central.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276507,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2765": {
                      "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                      "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "3189a2",
                  "Name": "Custom_Token",
                  "Transform": {
                    "posX": 17.0,
                    "posY": 1.58115876,
                    "posZ": 11.5,
                    "rotX": 0.0107900994,
                    "rotY": 179.994278,
                    "rotZ": 0.004042832,
                    "scaleX": 0.23,
                    "scaleY": 1.0,
                    "scaleZ": 0.225
                  },
                  "Nickname": "Indices",
                  "Description": "Click gauche - Ajouter\nClick droit - Soustraire",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/784129913444610342/7903BA89870C1656A003FD69C79BFA99BD1AAC24/",
                    "ImageSecondaryURL": "",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomToken": {
                      "Thickness": 0.1,
                      "MergeDistancePixels": 5.0,
                      "StandUp": false,
                      "Stackable": false
                    }
                  },
                  "LuaScript": "MIN_VALUE = -99\r\nMAX_VALUE = 999\r\nlocal ZONE_HANDLER_GUID = 'ef3980'\r\nzoneHandler = getObjectFromGUID(ZONE_HANDLER_GUID)\r\nfunction onload(saved_data)\r\n    light_mode = true\r\n    val = 0\r\n\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        light_mode = loaded_data[1]\r\n        val = loaded_data[2]\r\n    end\r\n\r\n    createAll()\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = { light_mode, val }\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction createAll()\r\n    s_color = { 0, 0, 0, 100 }\r\n\r\n    if light_mode then\r\n        f_color = { 1, 1, 1, 100 }\r\n    else\r\n        f_color = { 0, 0, 0, 100 }\r\n    end\r\n\r\n\r\n\r\n    self.createButton({\r\n        label = tostring(val),\r\n        click_function = \"clickOrAlt_click\",\r\n        function_owner = self,\r\n        position = { 0, 0.05, 0.1 },\r\n        height = 600,\r\n        width = 1000,\r\n        alignment = 3,\r\n        scale = { x = 1.5, y = 1.5, z = 1.5 },\r\n        font_size = 800,\r\n        font_color = f_color,\r\n        color = { 1, 1, 1, 0 }\r\n    })\r\n\r\n\r\n    self.createButton({\r\n        click_function = \"takeClue\",\r\n        function_owner = self,\r\n        label = \"Prendre\",\r\n        position = { 3.5, 0.1, 0 },\r\n        rotation = { 0, 270, 0 },\r\n        scale = { 1.6, 1, 1.6 },\r\n        width = 1600,\r\n        height = 500,\r\n        font_size = 400,\r\n        font_color = { 1, 1, 1 },\r\n        color = { 0, 0, 0 },\r\n        tooltip = \"Prendre un indice (click droit pour reposer)\"\r\n    })\r\n\r\n\r\n\r\n    if light_mode then\r\n        lightButtonText = \"[ Set dark ]\"\r\n    else\r\n        lightButtonText = \"[ Set light ]\"\r\n    end\r\nend\r\n\r\nfunction removeAll()\r\n    self.removeInput(0)\r\n    self.removeInput(1)\r\n    self.removeButton(0)\r\n    self.removeButton(1)\r\n    self.removeButton(2)\r\nend\r\n\r\nfunction reloadAll()\r\n    removeAll()\r\n    createAll()\r\n\r\n    updateSave()\r\nend\r\n\r\nfunction swap_fcolor(_obj, _color, alt_click)\r\n    light_mode = not light_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction swap_align(_obj, _color, alt_click)\r\n    center_mode = not center_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction editName(_obj, _string, value)\r\n    self.setName(value)\r\n    setTooltips()\r\nend\r\n\r\nfunction clickOrAlt_click(_obj, _color, alt_click)\r\n    if alt_click then\r\n        substract()\r\n    else\r\n        add()\r\n    end\r\nend\r\n\r\nfunction substract()\r\n    add_subtract(-1)\r\nend\r\n\r\nfunction add()\r\n    add_subtract(1)\r\nend\r\n\r\nfunction add_subtract(mod)\r\n    new_value = math.min(math.max(val + mod, MIN_VALUE), MAX_VALUE)\r\n    if val ~= new_value then\r\n        val = new_value\r\n        updateVal()\r\n        updateSave()\r\n    end\r\nend\r\n\r\nfunction takeClue(_, color, alt_click)\r\n    if alt_click then\r\n        add()\r\n    else\r\n        substract()\r\n    end\r\n    local params = {}\r\n    params.playerColor = color\r\n    params.zone = 'CounterZone'\r\n    local objects = zoneHandler.call('getObjectsInPlayerZone', params)\r\n    for _, token in ipairs(objects) do\r\n        if token.getName() == \"Indices\" and token.getDescription() == \"Compteur de Joueur\" then\r\n            local cluecounter = token\r\n            if alt_click then\r\n                cluecounter.call('substract')\r\n            else\r\n                cluecounter.call('add')\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateVal()\r\n    self.editButton({\r\n        index = 0,\r\n        label = tostring(val),\r\n    })\r\nend\r\n\r\nfunction reset_val()\r\n    val = 0\r\n    updateVal()\r\n    updateSave()\r\nend\r\n\r\nfunction setTooltips()\r\n    self.editInput({\r\n        index = 0,\r\n        value = self.getName(),\r\n        tooltip = ttText\r\n    })\r\n    self.editButton({\r\n        index = 0,\r\n        value = tostring(val),\r\n        tooltip = ttText\r\n    })\r\nend\r\n\r\nfunction null()\r\nend\r\n\r\nfunction keepSample(_obj, _string, value)\r\n    reloadAll()\r\nend\r\n",
                  "LuaScriptState": "[true,0]",
                  "XmlUI": ""
                },
                {
                  "GUID": "4002d5",
                  "Name": "Card",
                  "Transform": {
                    "posX": 9.5001,
                    "posY": 1.51728344,
                    "posZ": 6.4999,
                    "rotX": 0.0110868933,
                    "rotY": 179.640579,
                    "rotZ": 0.003769923,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Rocher des Goules",
                  "Description": "Vallée.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06258\",\n  \"locationFront\": {\n    \"connections\": \"SlantedEquals|Circle|Crescent\",\n    \"icons\": \"Hourglass\",\n    \"uses\": {\n      \"countPerInvestigator\": 2,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    },\n    \"victory\": 1\n  },\n  \"traits\": \"Vale.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276505,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2765": {
                      "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                      "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "6e8b18",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": 4.9999,
                    "posY": 1.5040834,
                    "posZ": 6.5,
                    "rotX": -0.004949934,
                    "rotY": 270.011444,
                    "rotZ": 0.0108975936,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/vppt2my.png",
                    "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "States": {
                    "2": {
                      "GUID": "44b0c5",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -39.7933121,
                        "posY": 1.63758957,
                        "posZ": 2.038383,
                        "rotX": 359.9201,
                        "rotY": 269.9961,
                        "rotZ": 0.0168742146,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    "3": {
                      "GUID": "5b38c6",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -38.8217163,
                        "posY": 1.99356019,
                        "posZ": 0.4159239,
                        "rotX": 359.9201,
                        "rotY": 272.9828,
                        "rotZ": 0.01687373,
                        "scaleX": 0.8,
                        "scaleY": 1.0,
                        "scaleZ": 0.8
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  }
                },
                {
                  "GUID": "97bf69",
                  "Name": "Custom_Token",
                  "Transform": {
                    "posX": 17.0000019,
                    "posY": 1.57945037,
                    "posZ": 2.50000024,
                    "rotX": 0.0103325639,
                    "rotY": 179.993881,
                    "rotZ": 0.003707097,
                    "scaleX": 0.23,
                    "scaleY": 1.0,
                    "scaleZ": 0.225
                  },
                  "Nickname": "Indices",
                  "Description": "Click gauche - Ajouter\nClick droit - Soustraire",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/784129913444610342/7903BA89870C1656A003FD69C79BFA99BD1AAC24/",
                    "ImageSecondaryURL": "",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomToken": {
                      "Thickness": 0.1,
                      "MergeDistancePixels": 5.0,
                      "StandUp": false,
                      "Stackable": false
                    }
                  },
                  "LuaScript": "MIN_VALUE = -99\r\nMAX_VALUE = 999\r\nlocal ZONE_HANDLER_GUID = 'ef3980'\r\nzoneHandler = getObjectFromGUID(ZONE_HANDLER_GUID)\r\nfunction onload(saved_data)\r\n    light_mode = true\r\n    val = 0\r\n\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        light_mode = loaded_data[1]\r\n        val = loaded_data[2]\r\n    end\r\n\r\n    createAll()\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = { light_mode, val }\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction createAll()\r\n    s_color = { 0, 0, 0, 100 }\r\n\r\n    if light_mode then\r\n        f_color = { 1, 1, 1, 100 }\r\n    else\r\n        f_color = { 0, 0, 0, 100 }\r\n    end\r\n\r\n\r\n\r\n    self.createButton({\r\n        label = tostring(val),\r\n        click_function = \"clickOrAlt_click\",\r\n        function_owner = self,\r\n        position = { 0, 0.05, 0.1 },\r\n        height = 600,\r\n        width = 1000,\r\n        alignment = 3,\r\n        scale = { x = 1.5, y = 1.5, z = 1.5 },\r\n        font_size = 800,\r\n        font_color = f_color,\r\n        color = { 1, 1, 1, 0 }\r\n    })\r\n\r\n\r\n    self.createButton({\r\n        click_function = \"takeClue\",\r\n        function_owner = self,\r\n        label = \"Prendre\",\r\n        position = { 3.5, 0.1, 0 },\r\n        rotation = { 0, 270, 0 },\r\n        scale = { 1.6, 1, 1.6 },\r\n        width = 1600,\r\n        height = 500,\r\n        font_size = 400,\r\n        font_color = { 1, 1, 1 },\r\n        color = { 0, 0, 0 },\r\n        tooltip = \"Prendre un indice (click droit pour reposer)\"\r\n    })\r\n\r\n\r\n\r\n    if light_mode then\r\n        lightButtonText = \"[ Set dark ]\"\r\n    else\r\n        lightButtonText = \"[ Set light ]\"\r\n    end\r\nend\r\n\r\nfunction removeAll()\r\n    self.removeInput(0)\r\n    self.removeInput(1)\r\n    self.removeButton(0)\r\n    self.removeButton(1)\r\n    self.removeButton(2)\r\nend\r\n\r\nfunction reloadAll()\r\n    removeAll()\r\n    createAll()\r\n\r\n    updateSave()\r\nend\r\n\r\nfunction swap_fcolor(_obj, _color, alt_click)\r\n    light_mode = not light_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction swap_align(_obj, _color, alt_click)\r\n    center_mode = not center_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction editName(_obj, _string, value)\r\n    self.setName(value)\r\n    setTooltips()\r\nend\r\n\r\nfunction clickOrAlt_click(_obj, _color, alt_click)\r\n    if alt_click then\r\n        substract()\r\n    else\r\n        add()\r\n    end\r\nend\r\n\r\nfunction substract()\r\n    add_subtract(-1)\r\nend\r\n\r\nfunction add()\r\n    add_subtract(1)\r\nend\r\n\r\nfunction add_subtract(mod)\r\n    new_value = math.min(math.max(val + mod, MIN_VALUE), MAX_VALUE)\r\n    if val ~= new_value then\r\n        val = new_value\r\n        updateVal()\r\n        updateSave()\r\n    end\r\nend\r\n\r\nfunction takeClue(_, color, alt_click)\r\n    if alt_click then\r\n        add()\r\n    else\r\n        substract()\r\n    end\r\n    local params = {}\r\n    params.playerColor = color\r\n    params.zone = 'CounterZone'\r\n    local objects = zoneHandler.call('getObjectsInPlayerZone', params)\r\n    for _, token in ipairs(objects) do\r\n        if token.getName() == \"Indices\" and token.getDescription() == \"Compteur de Joueur\" then\r\n            local cluecounter = token\r\n            if alt_click then\r\n                cluecounter.call('substract')\r\n            else\r\n                cluecounter.call('add')\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateVal()\r\n    self.editButton({\r\n        index = 0,\r\n        label = tostring(val),\r\n    })\r\nend\r\n\r\nfunction reset_val()\r\n    val = 0\r\n    updateVal()\r\n    updateSave()\r\nend\r\n\r\nfunction setTooltips()\r\n    self.editInput({\r\n        index = 0,\r\n        value = self.getName(),\r\n        tooltip = ttText\r\n    })\r\n    self.editButton({\r\n        index = 0,\r\n        value = tostring(val),\r\n        tooltip = ttText\r\n    })\r\nend\r\n\r\nfunction null()\r\nend\r\n\r\nfunction keepSample(_obj, _string, value)\r\n    reloadAll()\r\nend\r\n",
                  "LuaScriptState": "[true,0]",
                  "XmlUI": ""
                },
                {
                  "GUID": "9ad692",
                  "Name": "Card",
                  "Transform": {
                    "posX": 17.0001011,
                    "posY": 1.517588,
                    "posZ": 11.4998,
                    "rotX": 0.0110749546,
                    "rotY": 179.559525,
                    "rotZ": 0.00387905352,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Vallée de Pnath",
                  "Description": "Vallée.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06261\",\n  \"locationFront\": {\n    \"connections\": \"Hourglass|Star|Circle|Plus\",\n    \"icons\": \"SlantedEquals\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    },\n    \"victory\": 1\n  },\n  \"traits\": \"Vale.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276508,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2765": {
                      "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                      "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "9f2f6a",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": 21.0,
                    "posY": 1.50232136,
                    "posZ": 4.5,
                    "rotX": 0.0011613419,
                    "rotY": 239.998566,
                    "rotZ": 0.011910893,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/vppt2my.png",
                    "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "States": {
                    "2": {
                      "GUID": "44b0c5",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -39.7933121,
                        "posY": 1.63758957,
                        "posZ": 2.038383,
                        "rotX": 359.9201,
                        "rotY": 269.9961,
                        "rotZ": 0.0168742146,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    "3": {
                      "GUID": "5b38c6",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -38.8217163,
                        "posY": 1.99356019,
                        "posZ": 0.4159239,
                        "rotX": 359.9201,
                        "rotY": 272.9828,
                        "rotZ": 0.01687373,
                        "scaleX": 0.8,
                        "scaleY": 1.0,
                        "scaleZ": 0.8
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  }
                },
                {
                  "GUID": "a038e1",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": 21.0,
                    "posY": 1.50327194,
                    "posZ": 9.5,
                    "rotX": 0.00973246247,
                    "rotY": 120.011604,
                    "rotZ": 359.993042,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/vppt2my.png",
                    "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "States": {
                    "2": {
                      "GUID": "88426a",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": 2.99840379,
                        "posY": 1.50843322,
                        "posZ": 21.4996433,
                        "rotX": 0.0200627,
                        "rotY": 90.01168,
                        "rotZ": 0.234933645,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    "3": {
                      "GUID": "5b38c6",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -38.8217163,
                        "posY": 1.99356019,
                        "posZ": 0.4159239,
                        "rotX": 359.9201,
                        "rotY": 272.9828,
                        "rotZ": 0.01687373,
                        "scaleX": 0.8,
                        "scaleY": 1.0,
                        "scaleZ": 0.8
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  }
                },
                {
                  "GUID": "b2bf8b",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": 17.0,
                    "posY": 1.503142,
                    "posZ": 6.99999952,
                    "rotX": 359.9891,
                    "rotY": 0.000186403573,
                    "rotZ": -0.004946078,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/vppt2my.png",
                    "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "States": {
                    "2": {
                      "GUID": "44b0c5",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -39.7933121,
                        "posY": 1.63758957,
                        "posZ": 2.038383,
                        "rotX": 359.9201,
                        "rotY": 269.9961,
                        "rotZ": 0.0168742146,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    "3": {
                      "GUID": "5b38c6",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -38.8217163,
                        "posY": 1.99356019,
                        "posZ": 0.4159239,
                        "rotX": 359.9201,
                        "rotY": 272.9828,
                        "rotZ": 0.01687373,
                        "scaleX": 0.8,
                        "scaleY": 1.0,
                        "scaleZ": 0.8
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  }
                },
                {
                  "GUID": "b92f51",
                  "Name": "Card",
                  "Transform": {
                    "posX": 17.0,
                    "posY": 1.51587784,
                    "posZ": 2.49999952,
                    "rotX": 0.0110686235,
                    "rotY": 179.560684,
                    "rotZ": 0.00392385153,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Mer d'Ossements",
                  "Description": "Vallée.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06259\",\n  \"locationFront\": {\n    \"connections\": \"Hourglass|Star|SlantedEquals\",\n    \"icons\": \"Circle\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    },\n    \"victory\": 1\n  },\n  \"traits\": \"Vale.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276506,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2765": {
                      "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                      "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "c9202c",
                  "Name": "Custom_Token",
                  "Transform": {
                    "posX": 9.5,
                    "posY": 1.58084655,
                    "posZ": 6.49999952,
                    "rotX": 0.0116649782,
                    "rotY": 179.993973,
                    "rotZ": 0.00325782015,
                    "scaleX": 0.23,
                    "scaleY": 1.0,
                    "scaleZ": 0.225
                  },
                  "Nickname": "Indices",
                  "Description": "Click gauche - Ajouter\nClick droit - Soustraire",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/784129913444610342/7903BA89870C1656A003FD69C79BFA99BD1AAC24/",
                    "ImageSecondaryURL": "",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomToken": {
                      "Thickness": 0.1,
                      "MergeDistancePixels": 5.0,
                      "StandUp": false,
                      "Stackable": false
                    }
                  },
                  "LuaScript": "MIN_VALUE = -99\r\nMAX_VALUE = 999\r\nlocal ZONE_HANDLER_GUID = 'ef3980'\r\nzoneHandler = getObjectFromGUID(ZONE_HANDLER_GUID)\r\nfunction onload(saved_data)\r\n    light_mode = true\r\n    val = 0\r\n\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        light_mode = loaded_data[1]\r\n        val = loaded_data[2]\r\n    end\r\n\r\n    createAll()\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = { light_mode, val }\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction createAll()\r\n    s_color = { 0, 0, 0, 100 }\r\n\r\n    if light_mode then\r\n        f_color = { 1, 1, 1, 100 }\r\n    else\r\n        f_color = { 0, 0, 0, 100 }\r\n    end\r\n\r\n\r\n\r\n    self.createButton({\r\n        label = tostring(val),\r\n        click_function = \"clickOrAlt_click\",\r\n        function_owner = self,\r\n        position = { 0, 0.05, 0.1 },\r\n        height = 600,\r\n        width = 1000,\r\n        alignment = 3,\r\n        scale = { x = 1.5, y = 1.5, z = 1.5 },\r\n        font_size = 800,\r\n        font_color = f_color,\r\n        color = { 1, 1, 1, 0 }\r\n    })\r\n\r\n\r\n    self.createButton({\r\n        click_function = \"takeClue\",\r\n        function_owner = self,\r\n        label = \"Prendre\",\r\n        position = { 3.5, 0.1, 0 },\r\n        rotation = { 0, 270, 0 },\r\n        scale = { 1.6, 1, 1.6 },\r\n        width = 1600,\r\n        height = 500,\r\n        font_size = 400,\r\n        font_color = { 1, 1, 1 },\r\n        color = { 0, 0, 0 },\r\n        tooltip = \"Prendre un indice (click droit pour reposer)\"\r\n    })\r\n\r\n\r\n\r\n    if light_mode then\r\n        lightButtonText = \"[ Set dark ]\"\r\n    else\r\n        lightButtonText = \"[ Set light ]\"\r\n    end\r\nend\r\n\r\nfunction removeAll()\r\n    self.removeInput(0)\r\n    self.removeInput(1)\r\n    self.removeButton(0)\r\n    self.removeButton(1)\r\n    self.removeButton(2)\r\nend\r\n\r\nfunction reloadAll()\r\n    removeAll()\r\n    createAll()\r\n\r\n    updateSave()\r\nend\r\n\r\nfunction swap_fcolor(_obj, _color, alt_click)\r\n    light_mode = not light_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction swap_align(_obj, _color, alt_click)\r\n    center_mode = not center_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction editName(_obj, _string, value)\r\n    self.setName(value)\r\n    setTooltips()\r\nend\r\n\r\nfunction clickOrAlt_click(_obj, _color, alt_click)\r\n    if alt_click then\r\n        substract()\r\n    else\r\n        add()\r\n    end\r\nend\r\n\r\nfunction substract()\r\n    add_subtract(-1)\r\nend\r\n\r\nfunction add()\r\n    add_subtract(1)\r\nend\r\n\r\nfunction add_subtract(mod)\r\n    new_value = math.min(math.max(val + mod, MIN_VALUE), MAX_VALUE)\r\n    if val ~= new_value then\r\n        val = new_value\r\n        updateVal()\r\n        updateSave()\r\n    end\r\nend\r\n\r\nfunction takeClue(_, color, alt_click)\r\n    if alt_click then\r\n        add()\r\n    else\r\n        substract()\r\n    end\r\n    local params = {}\r\n    params.playerColor = color\r\n    params.zone = 'CounterZone'\r\n    local objects = zoneHandler.call('getObjectsInPlayerZone', params)\r\n    for _, token in ipairs(objects) do\r\n        if token.getName() == \"Indices\" and token.getDescription() == \"Compteur de Joueur\" then\r\n            local cluecounter = token\r\n            if alt_click then\r\n                cluecounter.call('substract')\r\n            else\r\n                cluecounter.call('add')\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateVal()\r\n    self.editButton({\r\n        index = 0,\r\n        label = tostring(val),\r\n    })\r\nend\r\n\r\nfunction reset_val()\r\n    val = 0\r\n    updateVal()\r\n    updateSave()\r\nend\r\n\r\nfunction setTooltips()\r\n    self.editInput({\r\n        index = 0,\r\n        value = self.getName(),\r\n        tooltip = ttText\r\n    })\r\n    self.editButton({\r\n        index = 0,\r\n        value = tostring(val),\r\n        tooltip = ttText\r\n    })\r\nend\r\n\r\nfunction null()\r\nend\r\n\r\nfunction keepSample(_obj, _string, value)\r\n    reloadAll()\r\nend\r\n",
                  "LuaScriptState": "[true,0]",
                  "XmlUI": ""
                },
                {
                  "GUID": "e0ea3e",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": 13.0,
                    "posY": 1.50291729,
                    "posZ": 3.99999976,
                    "rotX": 359.990265,
                    "rotY": 299.988159,
                    "rotZ": 0.00696604047,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/vppt2my.png",
                    "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "States": {
                    "2": {
                      "GUID": "44b0c5",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -39.7933121,
                        "posY": 1.63758957,
                        "posZ": 2.038383,
                        "rotX": 359.9201,
                        "rotY": 269.9961,
                        "rotZ": 0.0168742146,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    "3": {
                      "GUID": "5b38c6",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -38.8217163,
                        "posY": 1.99356019,
                        "posZ": 0.4159239,
                        "rotX": 359.9201,
                        "rotY": 272.9828,
                        "rotZ": 0.01687373,
                        "scaleX": 0.8,
                        "scaleY": 1.0,
                        "scaleZ": 0.8
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  }
                }
              ]
            },
            {
              "GUID": "178953",
              "Name": "Card",
              "Transform": {
                "posX": 0.500007749,
                "posY": 1.51806128,
                "posZ": 6.499954,
                "rotX": 0.0110707851,
                "rotY": 179.759674,
                "rotZ": 0.0038307535,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Plaine des Goules",
              "Description": "Central.",
              "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06257\",\n  \"locationFront\": {\n    \"connections\": \"Heart|Tee|Hourglass\",\n    \"icons\": \"Crescent\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    },\n    \"victory\": 1\n  },\n  \"traits\": \"Central.\",\n  \"type\": \"Location\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276504,
              "SidewaysCard": false,
              "CustomDeck": {
                "2765": {
                  "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                  "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "17dd36",
              "Name": "Custom_Model",
              "Transform": {
                "posX": -21.49998,
                "posY": 1.77139974,
                "posZ": 20.00002,
                "rotX": 5.04529771E-06,
                "rotY": 1.52514058E-05,
                "rotZ": -1.98487612E-07,
                "scaleX": 1.39999986,
                "scaleY": 1.39999986,
                "scaleZ": 1.39999986
              },
              "Nickname": "Randolph a survécu...",
              "Description": "Placer l'acte 1a v.II si Randoph a survécu à la descente",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.0,
                "g": 0.67770046,
                "b": 0.555448532,
                "a": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": true,
              "Grid": true,
              "Snap": false,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": false,
              "Tooltip": false,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/1478820768302617365/27883B7913E0E69143C3AA03493B7E7C4E8C29C0/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 1,
                "TypeIndex": 0,
                "CastShadows": true
              },
              "LuaScript": "-- Code for bag to identify text tool objects\r\nmovableTextTool_cowgoesmoo33 = true\r\n\r\n-- Number of characters before the text box width expands.\r\nEXPAND_INTERVAL = 20\r\n\r\n-- This table controls what is passed between save/load\r\ndata = {}\r\n\r\nfunction onLoad(saved_data)\r\n  if saved_data ~= '' then\r\n    data = JSON.decode(saved_data)\r\n    if data.text ~= '' then\r\n      self.interactable = data.interactable\r\n      staticMode()\r\n      return\r\n    end\r\n  else\r\n    data = {size=200, color=Color(0,0,0), text='', interactable=true,\r\n        enter_to_finish=false, autolock=false, autolift=false,\r\n        hover_height=0.05, box_transparency=1}\r\n  end\r\n\r\n  inputMode()\r\nend\r\n\r\n-- True if in the middle of delay after pressing Enter (with enter_to_finish on)\r\nfinishing = false\r\nfunction input_func(obj, color, input, stillEditing)\r\n  local params = getBox(input)\r\n  if params then\r\n    params.value = input\r\n    self.editInput(params)\r\n  end\r\n\r\n  if not stillEditing then\r\n    data.text = input\r\n    updateState()\r\n    if input ~= '' then staticMode(color) end\r\n  elseif data.enter_to_finish then\r\n    -- If enter is pressed: remove last newline and force finish\r\n    if not finishing and input:sub(-1) == '\\n' then\r\n      finishing = true\r\n      -- Delay to avoid user's Enter keypress being detected (opens chat box)\r\n      Wait.frames(function()\r\n        input = input:sub(1, -2)\r\n        data.text = input\r\n        updateState()\r\n        if input ~= '' then staticMode(color) else inputMode() end\r\n        finishing = false\r\n      end, 10)\r\n    end\r\n  end\r\nend\r\n\r\n-- When the inpupt box appears and lets the player type in it.\r\nfunction inputMode()\r\n  self.clearContextMenu()\r\n  self.clearInputs()\r\n  self.clearButtons()\r\n\r\n  local size = getBox(data.text, true)\r\n\r\n  self.createInput({\r\n    input_function = \"input_func\",\r\n    function_owner = self,\r\n    label          = \"Type Here\",\r\n    alignment      = 3,\r\n    position       = {x=0, y=data.hover_height, z=0},\r\n    rotation       = {0, 180, 0},\r\n    width          = size.width,\r\n    height         = size.height,\r\n    color          = getBackground(data.color),\r\n    font_color     = data.color,\r\n    font_size      = data.size,\r\n    value          = data.text,\r\n  })\r\n\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\nend\r\n\r\n-- When the input box disappears and displays the text.\r\nfunction staticMode(player)\r\n  self.clearContextMenu()\r\n  if data.autolock then\r\n    self.locked = true\r\n  end\r\n  if self.getInputs() and #self.getInputs() ~= 0 then\r\n    self.removeInput(0)\r\n  end\r\n\r\n  -- Clear from selecting player\r\n  if player then\r\n    self.removeFromPlayerSelection(player)\r\n  end\r\n\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  self.createButton({\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=self,\r\n    position={0,data.hover_height,0}, rotation={0,180,0}, height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  })\r\n\r\n  self.addContextMenuItem('Edit Text', function(color)\r\n    self.removeFromPlayerSelection(color)\r\n    inputMode()\r\n  end)\r\n  self.addContextMenuItem('Clear', function(color)\r\n    applyMultiple(color, 'clear', _, true)\r\n  end)\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\n  self.addContextMenuItem('Permanently Attach', attemptAttach)\r\n  self.addContextMenuItem('Permalock', function(color)\r\n    applyMultiple(color, 'permalock', _, true)\r\n  end)\r\nend\r\n\r\nfunction changeSize(params)\r\n  local delta = params[1]\r\n  local newSize = data.size + delta\r\n  if newSize > 800  or newSize < 50 then\r\n    return\r\n  end\r\n  data.size = newSize\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_size=data.size})\r\n  else\r\n    local size = getBox(data.text, true)\r\n    self.editInput({width=size.width, height=size.height, font_size=data.size})\r\n  end\r\nend\r\n\r\nfunction setColor(params)\r\n  if params and params[1] then\r\n    data.color = params[1]\r\n  else\r\n    data.color = self.getColorTint():setAt('a', 1) -- Take on color of object tint\r\n  end\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_color=data.color})\r\n  else\r\n    self.editInput({font_color=data.color, color=getBackground(data.color)})\r\n  end\r\nend\r\n\r\nfunction getBackground(color) --determines whether to use black or white depending on luminance\r\n  local r,g,b = Color(color):get()\r\n\r\n  local lum = 0.2126*r + 0.7152*g + 0.0722*b\r\n  if lum > 0.75 then\r\n    return {0.2,0.2,0.2, data.box_transparency}\r\n  else\r\n    return {1,1,1, data.box_transparency}\r\n  end\r\nend\r\n\r\nfunction clear()\r\n  data.text = ''\r\n  updateState()\r\n  inputMode()\r\nend\r\n\r\nfunction permalock()\r\n  self.interactable = false\r\n  data.interactable = false\r\n  updateState()\r\nend\r\n\r\nlocal target_script = [[\r\nfunction onLoad(script_state)\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    for _,entry in ipairs(state) do\r\n      self.createButton(entry)\r\n    end\r\n    self.addContextMenuItem('Clear All Text', function(color)\r\n      self.clearContextMenu()\r\n      self.clearButtons()\r\n      self.script_state = ''\r\n      self.script_code = ''\r\n    end)\r\n  end\r\nend\r\n]]\r\n\r\nfunction attemptAttach(player_color)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  local attachee\r\n  local attachers = {}\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if obj ~= self then\r\n        table.insert(attachers, obj)\r\n      end\r\n    else\r\n      if attachee then\r\n        broadcastToColor(\"More than one target selected.\", player_color)\r\n        return\r\n      else\r\n        attachee = obj\r\n      end\r\n    end\r\n  end\r\n  if attachee then\r\n    local code = attachee.script_code\r\n    if code and code ~= '' and code ~= target_script then\r\n      broadcastToColor(\"Warning: script on card has been overriden. Rewind time to undo.\", player_color)\r\n    end\r\n    for i,attacher in ipairs(attachers) do\r\n      attacher.call('attach', {target = attachee})\r\n    end\r\n    attach({target = attachee})\r\n    local type, flip = attachee.type, attachee.getRotation().z\r\n    if (type == 'Card' or type == 'Deck') and flip > 175 and flip < 185 then\r\n      broadcastToColor(\"Warning: text will not display if card or deck is facing down.\", player_color)\r\n    end\r\n  else\r\n    broadcastToColor(\"You must have a target object in your selection (using click-and-drag or Ctrl+Click) to use this option.\", player_color)\r\n  end\r\nend\r\n\r\nfunction attach(params)\r\n  local target = params.target\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  local textRotation = self.getRotation():sub(target.getRotation())\r\n    :add(Vector(180, 0, 180))\r\n\r\n  local textPosition = target.positionToLocal(\r\n    self.getPosition():add(Vector(0, data.hover_height, 0))\r\n  )\r\n  textPosition.x = -textPosition.x\r\n\r\n  local textScale = {}\r\n  textScale.x = self.getScale().x / target.getScale().x\r\n  textScale.y = self.getScale().x / target.getScale().y\r\n  textScale.z = self.getScale().x / target.getScale().z\r\n\r\n  local details = {\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=nil,\r\n    position=textPosition,\r\n    rotation=textRotation,\r\n    scale=textScale,\r\n    height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  }\r\n\r\n  target.createButton(details)\r\n\r\n  local script_state = target.script_state\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    table.insert(state, details)\r\n    target.script_state = JSON.encode(state)\r\n  else\r\n    target.script_state = JSON.encode({[1]=details})\r\n  end\r\n\r\n  target.script_code = target_script\r\n\r\n  self.destruct()\r\nend\r\n\r\nfunction applyMultiple(player_color, func_string, params, static_only)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if not static_only or obj.call('isStatic') then\r\n        obj.call(func_string, params)\r\n      end\r\n    end\r\n  end\r\nend\r\n\r\nfunction isStatic()\r\n  local input = self.getInputs()\r\n  return not input or #input == 0\r\nend\r\n\r\nfunction getBox(input, force)\r\n  local maxLength, lineCount = EXPAND_INTERVAL, 1\r\n  local lineLength = 0\r\n  for i = 1, #input do\r\n    local c = input:sub(i,i)\r\n    if c == '\\n' then\r\n      lineCount = lineCount + 1\r\n      if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n      lineLength = 0\r\n    else\r\n      lineLength = lineLength + 1\r\n    end\r\n  end\r\n  if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n\r\n  newWidth = data.size * maxLength * 0.9\r\n  newHeight = data.size * lineCount + 23\r\n\r\n  if force or boxWidth ~= newWidth or boxHeight ~= newHeight then\r\n    boxWidth, boxHeight = newWidth, newHeight\r\n    return {width = boxWidth, height = boxHeight}\r\n  end\r\n  return nil\r\nend\r\n\r\ntemp_lift = nil\r\nfunction onPickUp(player_color)\r\n  if data.autolift then\r\n    local player = Player[player_color]\r\n    temp_lift = player.lift_height\r\n    player.lift_height = 0\r\n  end\r\nend\r\n\r\nfunction onDrop(player_color)\r\n  if data.autolift and temp_lift then\r\n    Player[player_color].lift_height = temp_lift\r\n  end\r\nend\r\n\r\n-- Should be called every time data is modified, allows info to be saved on copy/paste\r\nfunction updateState()\r\n  self.script_state = JSON.encode(data)\r\nend\r\n\r\nfunction onSave()\r\n  self.script_state = JSON.encode(data)\r\n  return self.script_state\r\nend",
              "LuaScriptState": "{\"autolift\":false,\"autolock\":false,\"box_transparency\":1,\"color\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1},\"enter_to_finish\":false,\"hover_height\":0.05,\"interactable\":true,\"size\":200,\"text\":\"Randolph a survécu \\nà la descente\"}",
              "XmlUI": ""
            },
            {
              "GUID": "22c3c1",
              "Name": "Deck",
              "Transform": {
                "posX": -24.50003,
                "posY": 1.81018758,
                "posZ": 6.99996662,
                "rotX": -5.17648459E-06,
                "rotY": 180.000076,
                "rotZ": 6.882184E-07,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Descente dans l'Asphalte",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": false,
              "SidewaysCard": false,
              "DeckIDs": [
                278300,
                278301,
                278302,
                278305
              ],
              "CustomDeck": {
                "2783": {
                  "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "78953a",
                  "Name": "Card",
                  "Transform": {
                    "posX": -24.500042,
                    "posY": 4.86089134,
                    "posZ": 6.9999547,
                    "rotX": -5.080642E-06,
                    "rotY": 180.000259,
                    "rotZ": 2.46033721E-07,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "L'Ombre d'Atlach-Nacha",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06274\",\n  \"traits\": \"Curse.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 278300,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2783": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "1cce33",
                  "Name": "Card",
                  "Transform": {
                    "posX": -24.500042,
                    "posY": 5.06089163,
                    "posZ": 6.9999547,
                    "rotX": -5.080642E-06,
                    "rotY": 180.000259,
                    "rotZ": 2.46033721E-07,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "L'Ombre d'Atlach-Nacha",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06274\",\n  \"traits\": \"Curse.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 278301,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2783": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "836e00",
                  "Name": "Card",
                  "Transform": {
                    "posX": -24.500042,
                    "posY": 4.905198,
                    "posZ": 6.9999547,
                    "rotX": -5.104987E-06,
                    "rotY": 180.000259,
                    "rotZ": 2.944742E-07,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Araignée d'Asphalte",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 1,\n  \"id\": \"06273\",\n  \"traits\": \"Monster. Spider.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 278302,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2783": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "f9c4a3",
                  "Name": "Card",
                  "Transform": {
                    "posX": -24.500042,
                    "posY": 1.88598335,
                    "posZ": 6.9999547,
                    "rotX": 0.00293619023,
                    "rotY": 180.000259,
                    "rotZ": -0.00357616926,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Araignée d'Asphalte",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 1,\n  \"id\": \"06273\",\n  \"traits\": \"Monster. Spider.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 278305,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2783": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "276191",
              "Name": "Custom_Tile",
              "Transform": {
                "posX": -7.500003,
                "posY": 1.50848949,
                "posZ": 24.0000038,
                "rotX": 0.0108916638,
                "rotY": 180.000046,
                "rotZ": 0.004954828,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.6045295,
                "g": 0.6045295,
                "b": 0.6045295
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://i.imgur.com/vppt2my.png",
                "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomTile": {
                  "Type": 3,
                  "Thickness": 0.1,
                  "Stackable": false,
                  "Stretch": true
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "States": {
                "2": {
                  "GUID": "44b0c5",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -39.7933121,
                    "posY": 1.63758957,
                    "posZ": 2.038383,
                    "rotX": 359.9201,
                    "rotY": 269.9961,
                    "rotZ": 0.0168742146,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                "3": {
                  "GUID": "5b38c6",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -38.8217163,
                    "posY": 1.99356019,
                    "posZ": 0.4159239,
                    "rotX": 359.9201,
                    "rotY": 272.9828,
                    "rotZ": 0.01687373,
                    "scaleX": 0.8,
                    "scaleY": 1.0,
                    "scaleZ": 0.8
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              }
            },
            {
              "GUID": "37fb46",
              "Name": "Deck",
              "Transform": {
                "posX": -28.5000553,
                "posY": 1.81018758,
                "posZ": 6.99994373,
                "rotX": -5.176901E-06,
                "rotY": 180.00058,
                "rotZ": 5.299944E-07,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Agents d'Atlach-Nacha",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": false,
              "SidewaysCard": false,
              "DeckIDs": [
                276648,
                276649,
                276650,
                276651
              ],
              "CustomDeck": {
                "2766": {
                  "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "ac3060",
                  "Name": "Card",
                  "Transform": {
                    "posX": -28.50043,
                    "posY": 4.86089134,
                    "posZ": 7.000199,
                    "rotX": -4.977292E-06,
                    "rotY": 180.001175,
                    "rotZ": -8.102092E-09,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Volonté de la Mère-Araignée",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06085\",\n  \"traits\": \"Power.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276648,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "09c514",
                  "Name": "Card",
                  "Transform": {
                    "posX": -28.50043,
                    "posY": 5.06089163,
                    "posZ": 7.000199,
                    "rotX": -4.977292E-06,
                    "rotY": 180.001175,
                    "rotZ": -8.102092E-09,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Volonté de la Mère-Araignée",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06085\",\n  \"traits\": \"Power.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276649,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "a2860e",
                  "Name": "Card",
                  "Transform": {
                    "posX": -28.50043,
                    "posY": 4.9100275,
                    "posZ": 7.000199,
                    "rotX": -4.97354858E-06,
                    "rotY": 180.001175,
                    "rotZ": 3.64651553E-09,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Tisseuse Grise",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 5,\n  \"id\": \"06084\",\n  \"traits\": \"Monster. Spider.\",\n  \"type\": \"Enemy\",\n  \"victory\": 1\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276650,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "66449c",
                  "Name": "Card",
                  "Transform": {
                    "posX": -28.50043,
                    "posY": 1.88604307,
                    "posZ": 7.000199,
                    "rotX": -0.000409852481,
                    "rotY": 180.001175,
                    "rotZ": -0.00222850172,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Tisseuse Grise",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 5,\n  \"id\": \"06084\",\n  \"traits\": \"Monster. Spider.\",\n  \"type\": \"Enemy\",\n  \"victory\": 1\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276651,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "3996c5",
              "Name": "Custom_Model_Bag",
              "Transform": {
                "posX": -31.0000019,
                "posY": 1.83999991,
                "posZ": 18.0,
                "rotX": -7.24339225E-06,
                "rotY": 179.986557,
                "rotZ": -7.333153E-07,
                "scaleX": 0.7,
                "scaleY": 0.7,
                "scaleZ": 0.7
              },
              "Nickname": "Randolph n'a pas survécu",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "CustomMesh": {
                "MeshURL": "https://pastebin.com/raw/ALrYhQGb",
                "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/1985555189151674305/A0FBD0F18BC845198034E72B28F28DFBC19A4B93/",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 6,
                "CustomShader": {
                  "SpecularColor": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "SpecularIntensity": 0.0,
                  "SpecularSharpness": 2.0,
                  "FresnelStrength": 0.0
                },
                "CastShadows": true
              },
              "Bag": {
                "Order": 0
              },
              "LuaScript": "-- Utility memory bag by Directsun\r\n-- Version 2.7.0\r\n-- Fork of Memory Bag 2.0 by MrStump\r\n--\r\n-- Want to contribute? Create an issue or fork the code on GitHub and submit a pull request:\r\n-- https://github.com/sunflowermans/TTS-UtilityMemoryBag\r\n\r\n\r\nfunction updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction combineMemoryFromBagsWithin()\r\n    local bagObjList = self.getObjects()\r\n    for _, bagObj in ipairs(bagObjList) do\r\n        local data = bagObj.lua_script_state\r\n        if data ~= nil then\r\n            local j = JSON.decode(data)\r\n            if j ~= nil and j.ml ~= nil then\r\n                for guid, entry in pairs(j.ml) do\r\n                    memoryList[guid] = entry\r\n                end\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateMemoryWithMoves()\r\n    memoryList = memoryListBackup\r\n    --get the first transposed object's coordinates\r\n    local obj = getObjectFromGUID(moveGuid)\r\n\r\n    -- p1 is where needs to go, p2 is where it was\r\n    local refObjPos = memoryList[moveGuid].pos\r\n    local deltaPos = findOffsetDistance(obj.getPosition(), refObjPos, nil)\r\n    local movedRotation = obj.getRotation()\r\n    for guid, entry in pairs(memoryList) do\r\n        memoryList[guid].pos.x = entry.pos.x - deltaPos.x\r\n        memoryList[guid].pos.y = entry.pos.y - deltaPos.y\r\n        memoryList[guid].pos.z = entry.pos.z - deltaPos.z\r\n        -- memoryList[guid].rot.x = movedRotation.x\r\n        -- memoryList[guid].rot.y = movedRotation.y\r\n        -- memoryList[guid].rot.z = movedRotation.z\r\n    end\r\n\r\n    --theList[obj.getGUID()] = {\r\n    --    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n    --    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n    --    lock=obj.getLock()\r\n    --}\r\n    moveList = {}\r\nend\r\n\r\nfunction onload(saved_data)\r\n\r\n    fresh = true\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n\r\n    end\r\n\r\n    moveList = {}\r\n    moveGuid = nil\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        fresh = false\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,2}, rotation={0,0,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by Transpose button\r\nfunction buttonClick_transpose()\r\n    moveGuid = nil\r\n    broadcastToAll(\"Select one object and move it- all objects will move relative to the new location\", {0.75, 0.75, 1})\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(true)\r\n    createSetupActionButtons(true)\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(false)\r\n    createSetupActionButtons(false)\r\nend\r\n\r\nfunction getAllObjectsInMemory()\r\n    local objTable = {}\r\n    local curObj = {}\r\n\r\n    for guid in pairs(memoryListBackup) do\r\n        curObj = getObjectFromGUID(guid)\r\n        table.insert(objTable, curObj)\r\n    end\r\n\r\n    return objTable\r\n    -- return getAllObjects()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects(move)\r\n    buttonIndexMap = {}\r\n    local howManyButtons = 0\r\n\r\n    local objsToHaveButtons = {}\r\n    if move == true then\r\n        objsToHaveButtons = getAllObjectsInMemory()\r\n    else\r\n        objsToHaveButtons = getAllObjects()\r\n    end\r\n\r\n    for _, obj in ipairs(objsToHaveButtons) do\r\n        if obj ~= self then\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor +2\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Workaround for custom PDFs\r\n            if obj.Book then\r\n                objPos.y = objPos.y + 0.5\r\n            end\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(obj, move) end\r\n            local color = {0.75,0.25,0.25,0.6}\r\n            local colorMove = {0,0,1,0.6}\r\n            if move == true then\r\n                color = colorMove\r\n            end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color=color,\r\n            })\r\n            buttonIndexMap[obj.getGUID()] = howManyButtons\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons(move)\r\n    self.createButton({\r\n       label=\"Annuler\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n       position={-1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n       font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    self.createButton({\r\n      label=\"Valider\", click_function=\"buttonClick_submit\", function_owner=self,\r\n      position={-1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n      font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    if move == false then\r\n      self.createButton({\r\n          label=\"Ajouter\", click_function=\"buttonClick_add\", function_owner=self,\r\n          position={1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n          font_size=250, color={0,0,0}, font_color={0.25,1,0.25}\r\n        })\r\n\r\n        self.createButton({\r\n            label=\"Sélection\", click_function=\"editDragSelection\", function_owner=self,\r\n            position={-1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n            font_size=250, color={0,0,0}, font_color={1,1,1}\r\n        })\r\n\r\n        if fresh == false then\r\n            self.createButton({\r\n                label=\"Mise à Jour\", click_function=\"buttonClick_setNew\", function_owner=self,\r\n                position={1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n                font_size=180, color={0,0,0}, font_color={0.75,0.75,1}\r\n            })\r\n            self.createButton({\r\n                label=\"Retirer\", click_function=\"buttonClick_remove\", function_owner=self,\r\n                position={1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n                font_size=250, color={0,0,0}, font_color={1,0.25,0.25}\r\n            })\r\n        end\r\n    end\r\n\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,0,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(obj, move)\r\n    local index = buttonIndexMap[obj.getGUID()]\r\n    local colorMove = {0,0,1,0.6}\r\n    local color = {0,1,0,0.6}\r\n\r\n    previousGuid = selectedGuid\r\n    selectedGuid = obj.getGUID()\r\n\r\n    theList = memoryList\r\n    if move == true then\r\n        theList = moveList\r\n        if previousGuid ~= nil and previousGuid ~= selectedGuid then\r\n            local prevObj = getObjectFromGUID(previousGuid)\r\n            prevObj.highlightOff()\r\n            self.editButton({index=previousIndex, color=colorMove})\r\n            theList[previousGuid] = nil\r\n        end\r\n        previousIndex = index\r\n    end\r\n\r\n    if theList[selectedGuid] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        theList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock(),\r\n            tint=obj.getColorTint()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        if move == true then\r\n            color = colorMove\r\n        end\r\n        self.editButton({index=index, color=color})\r\n        theList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\nfunction editDragSelection(bagObj, player, remove)\r\n    local selectedObjs = Player[player].getSelectedObjects()\r\n    if not remove then\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            --Ignore if already in the memory list, or does not have a button\r\n            if index and not memoryList[obj.getGUID()] then\r\n                self.editButton({index=index, color={0,1,0,0.6}})\r\n                --Adding pos/rot to memory table\r\n                local pos, rot = obj.getPosition(), obj.getRotation()\r\n                --I need to add it like this or it won't save due to indexing issue\r\n                memoryList[obj.getGUID()] = {\r\n                    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n                    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n                    lock=obj.getLock(),\r\n                    tint=obj.getColorTint()\r\n                }\r\n                obj.highlightOn({0,1,0})\r\n            end\r\n        end\r\n    else\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            if index and memoryList[obj.getGUID()] then\r\n                color = {0.75,0.25,0.25,0.6}\r\n                self.editButton({index=index, color=color})\r\n                memoryList[obj.getGUID()] = nil\r\n                obj.highlightOff()\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Sélection annulée\", {1,1,1})\r\n    moveGuid = nil\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    fresh = false\r\n    if next(moveList) ~= nil then\r\n        for guid in pairs(moveList) do\r\n            moveGuid = guid\r\n        end\r\n        if memoryListBackup[moveGuid] == nil then\r\n            broadcastToAll(\"Item selected for moving is not already in memory\", {1, 0.25, 0.25})\r\n        else\r\n            broadcastToAll(\"Moving all items in memory relative to new objects position!\", {0.75, 0.75, 1})\r\n            self.clearButtons()\r\n            self.clearInputs()\r\n            createMemoryActionButtons()\r\n            local count = 0\r\n            for guid in pairs(moveList) do\r\n                moveGuid = guid\r\n                count = count + 1\r\n                local obj = getObjectFromGUID(guid)\r\n                if obj ~= nil then obj.highlightOff() end\r\n            end\r\n            updateMemoryWithMoves()\r\n            updateSave()\r\n            buttonClick_place()\r\n        end\r\n    elseif next(memoryList) == nil and moveGuid == nil then\r\n        memoryList = memoryListBackup\r\n        broadcastToAll(\"No selections made.\", {0.75, 0.25, 0.25})\r\n    end\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\n    moveGuid = nil\r\nend\r\n\r\nfunction combineTables(first_table, second_table)\r\n    for k,v in pairs(second_table) do first_table[k] = v end\r\nend\r\n\r\nfunction buttonClick_add()\r\n    fresh = false\r\n    combineTables(memoryList, memoryListBackup)\r\n    broadcastToAll(\"Adding internal bags and selections to existing memory\", {0.25, 0.75, 0.25})\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_remove()\r\n    broadcastToAll(\"Removing Selected Entries From Memory\", {1.0, 0.25, 0.25})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        memoryListBackup[guid] = nil\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Removed\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_setNew()\r\n    broadcastToAll(\"Setting new position relative to items in memory\", {0.75, 0.75, 1})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        guid = obj.guid\r\n        if memoryListBackup[guid] ~= nil then\r\n            count = count + 1\r\n            memoryListBackup[guid].pos = obj.getPosition()\r\n            memoryListBackup[guid].rot = obj.getRotation()\r\n            memoryListBackup[guid].lock = obj.getLock()\r\n            memoryListBackup[guid].tint = obj.getColorTint()\r\n        end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    fresh = true\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Placer\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,2}, rotation={0,0,0}, height=350, width=1000,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Ranger\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,2.8}, rotation={0,0,0}, height=350, width=1000,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={2,0.3,0}, rotation={0,90,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    ---    self.createButton({\r\n    ---      label=\"Bouger\", click_function=\"buttonClick_transpose\", function_owner=self,\r\n    ---      position={-2,0.3,0.8}, rotation={0,270,0}, height=350, width=800,\r\n    ---      font_size=250, color={0,0,0}, font_color={0.75,0.75,1}\r\n    ---  \r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n            obj.setColorTint(entry.tint)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot, smooth=false\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    item.setColorTint(entry.tint)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objets placés\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objets rangés\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local yOffset = 0\r\n    if obj ~= nil then\r\n        local bounds = obj.getBounds()\r\n        yOffset = (bounds.size.y - bounds.offset.y)\r\n    end\r\n    local deltaPos = {}\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + yOffset\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n    local objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n    local x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n    local z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n    --return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\nfunction rotateMyCoordinates(desiredPos, obj)\r\n    local angle = math.rad(obj.getRotation().y)\r\n    local x = desiredPos.x * math.sin(angle)\r\n    local z = desiredPos.z * math.cos(angle)\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n    local mult = 10^(dec or 0)\r\n    return math.floor(num * mult + 0.5) / mult\r\nend\r\n\r\n\r\n--[[\r\nThis object provides access to a variable stored on the \"Global script\".\r\nThe variable holds the GUIDs for every Utility Memory Bag in the scene.\r\nExample:\r\n{'805ebd', '35cc21', 'fc8886', 'f50264', '5f5f63'}\r\n--]]\r\nAllMemoryBagsInScene = {\r\n    NAME_OF_GLOBAL_VARIABLE = \"_UtilityMemoryBag_AllMemoryBagsInScene\"\r\n}\r\n\r\nfunction AllMemoryBagsInScene:add(guid)\r\n    local guids = Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\n    table.insert(guids, guid)\r\n    Global.setTable(self.NAME_OF_GLOBAL_VARIABLE, guids)\r\nend\r\n\r\nfunction AllMemoryBagsInScene:getGuidList()\r\n    return Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\nend",
              "LuaScriptState": "{\"ml\":{\"5f23be\":{\"lock\":false,\"pos\":{\"x\":17.501,\"y\":1.536,\"z\":-6.0196},\"rot\":{\"x\":0.0049,\"y\":90.0004,\"z\":359.9891},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"c7fb54\":{\"lock\":false,\"pos\":{\"x\":17.501,\"y\":1.536,\"z\":-6.0196},\"rot\":{\"x\":0.005,\"y\":90.0134,\"z\":359.9891},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}}}}",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "5f23be",
                  "Name": "Deck",
                  "Transform": {
                    "posX": 17.501,
                    "posY": 1.53599644,
                    "posZ": -6.019596,
                    "rotX": 0.004947962,
                    "rotY": 90.00073,
                    "rotZ": 359.9891,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Deck Acte v1",
                  "Description": "3B - Point de Non-Retour",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": false,
                  "SidewaysCard": true,
                  "DeckIDs": [
                    1144000,
                    276322,
                    276320
                  ],
                  "CustomDeck": {
                    "11440": {
                      "FaceURL": "https://steamusercontent-a.akamaihd.net/ugc/2074526368858520392/D59F395B1411FEC8BB14028D086EF82442F20DDB/",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/2074526368858520706/B9BC48BB0815FB9FBB9165E743DA2717F718ADA2/",
                      "NumWidth": 1,
                      "NumHeight": 1,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    },
                    "2763": {
                      "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                      "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "ContainedObjects": [
                    {
                      "GUID": "cb914c",
                      "Name": "Card",
                      "Transform": {
                        "posX": 25.5,
                        "posY": 2.52673173,
                        "posZ": 8.71476,
                        "rotX": 0.004948202,
                        "rotY": 90.00049,
                        "rotZ": 359.9891,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "L'Étendue Noire",
                      "Description": "Acte 3a",
                      "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06253\",\n  \"type\": \"Act\"\n}",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.713235259,
                        "g": 0.713235259,
                        "b": 0.713235259
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": true,
                      "Hands": true,
                      "CardID": 1144000,
                      "SidewaysCard": true,
                      "CustomDeck": {
                        "11440": {
                          "FaceURL": "https://steamusercontent-a.akamaihd.net/ugc/2074526368858520392/D59F395B1411FEC8BB14028D086EF82442F20DDB/",
                          "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/2074526368858520706/B9BC48BB0815FB9FBB9165E743DA2717F718ADA2/",
                          "NumWidth": 1,
                          "NumHeight": 1,
                          "BackIsHidden": true,
                          "UniqueBack": false,
                          "Type": 0
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    {
                      "GUID": "5f0667",
                      "Name": "Card",
                      "Transform": {
                        "posX": 10.4999971,
                        "posY": 4.593054,
                        "posZ": -0.4999974,
                        "rotX": 0.00494805956,
                        "rotY": 90.00045,
                        "rotZ": 359.9891,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "La Descente",
                      "Description": "Acte 2a",
                      "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06252\",\n  \"type\": \"Act\"\n}",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.713235259,
                        "g": 0.713235259,
                        "b": 0.713235259
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": true,
                      "Hands": true,
                      "CardID": 276322,
                      "SidewaysCard": true,
                      "CustomDeck": {
                        "2763": {
                          "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                          "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                          "NumWidth": 10,
                          "NumHeight": 7,
                          "BackIsHidden": true,
                          "UniqueBack": true,
                          "Type": 0
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    {
                      "GUID": "f45974",
                      "Name": "Card",
                      "Transform": {
                        "posX": 10.5000038,
                        "posY": 1.61429608,
                        "posZ": -0.5000127,
                        "rotX": 0.00261165481,
                        "rotY": 90.00045,
                        "rotZ": 359.988068,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "Entrer dans le Monde Souterrain (v. I)",
                      "Description": "Acte 1a",
                      "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06250\",\n  \"type\": \"Act\"\n}",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.713235259,
                        "g": 0.713235259,
                        "b": 0.713235259
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": true,
                      "Hands": true,
                      "CardID": 276320,
                      "SidewaysCard": true,
                      "CustomDeck": {
                        "2763": {
                          "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                          "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                          "NumWidth": 10,
                          "NumHeight": 7,
                          "BackIsHidden": true,
                          "UniqueBack": true,
                          "Type": 0
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  ]
                }
              ]
            },
            {
              "GUID": "40727e",
              "Name": "Card",
              "Transform": {
                "posX": -7.500062,
                "posY": 1.52122557,
                "posZ": 19.5000038,
                "rotX": 0.0110278223,
                "rotY": 179.999527,
                "rotZ": 0.00402946,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Tour de Koth",
              "Description": "",
              "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06256\",\n  \"locationFront\": {\n    \"connections\": \"Tee|Square\",\n    \"icons\": \"Tilde\"\n  },\n  \"type\": \"Location\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276503,
              "SidewaysCard": false,
              "CustomDeck": {
                "2765": {
                  "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                  "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "40ad02",
              "Name": "Deck",
              "Transform": {
                "posX": 30.5,
                "posY": 1.66542017,
                "posZ": -3.00010014,
                "rotX": -0.0005909788,
                "rotY": 180.001434,
                "rotZ": 180.001068,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Deck Rencontre",
              "Description": "Point de Non-Retour",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": false,
              "SidewaysCard": false,
              "DeckIDs": [
                18433,
                18432,
                18500,
                18437,
                18436,
                18434,
                18435,
                16518,
                16524,
                16521,
                16520,
                16523,
                16519,
                16522,
                276213,
                276212,
                15702,
                15703,
                15704,
                276643,
                276644,
                276645,
                278739,
                278740,
                278741,
                278742,
                276209,
                276208,
                276210,
                276211
              ],
              "CustomDeck": {
                "184": {
                  "FaceURL": "https://i.imgur.com/7H57eeO.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                },
                "185": {
                  "FaceURL": "https://i.imgur.com/f8FRV80.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                },
                "165": {
                  "FaceURL": "https://i.imgur.com/nB9kjFF.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                },
                "2762": {
                  "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                },
                "157": {
                  "FaceURL": "https://i.imgur.com/7H57eeO.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                },
                "2766": {
                  "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                },
                "2787": {
                  "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "07ff5e",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5012112,
                    "posY": 10.7298689,
                    "posZ": -3.00095081,
                    "rotX": 359.8313,
                    "rotY": 180.005814,
                    "rotZ": 180.6002,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Voix Dissonantes",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"01165\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 18433,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "184": {
                      "FaceURL": "https://i.imgur.com/7H57eeO.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "e9a446",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5012035,
                    "posY": 10.1652794,
                    "posZ": -3.00095534,
                    "rotX": -0.0005911624,
                    "rotY": 180.0067,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Voix Dissonantes",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"01165\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 18432,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "184": {
                      "FaceURL": "https://i.imgur.com/7H57eeO.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "0783ce",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5012035,
                    "posY": 9.96528,
                    "posZ": -3.00095534,
                    "rotX": -0.0005911624,
                    "rotY": 180.0067,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Paralysé par la Peur",
                  "Description": "",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"01164\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 18500,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "185": {
                      "FaceURL": "https://i.imgur.com/f8FRV80.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "68be1e",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5012035,
                    "posY": 9.765279,
                    "posZ": -3.00095534,
                    "rotX": -0.0005911624,
                    "rotY": 180.0067,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Paralysé par la Peur",
                  "Description": "",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"01164\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 18437,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "184": {
                      "FaceURL": "https://i.imgur.com/7H57eeO.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "2e3a70",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5012035,
                    "posY": 9.565279,
                    "posZ": -3.00095534,
                    "rotX": -0.0005911624,
                    "rotY": 180.0067,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Restes Pourrissants",
                  "Description": "",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"01163\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 18436,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "184": {
                      "FaceURL": "https://i.imgur.com/7H57eeO.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "365129",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5012035,
                    "posY": 9.365279,
                    "posZ": -3.00095534,
                    "rotX": -0.0005911624,
                    "rotY": 180.0067,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Restes Pourrissants",
                  "Description": "",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"01163\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 18434,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "184": {
                      "FaceURL": "https://i.imgur.com/7H57eeO.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "5e2ae4",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5012035,
                    "posY": 9.165279,
                    "posZ": -3.00095534,
                    "rotX": -0.0005911624,
                    "rotY": 180.0067,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Restes Pourrissants",
                  "Description": "",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"01163\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 18435,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "184": {
                      "FaceURL": "https://i.imgur.com/7H57eeO.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "1eb691",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5012035,
                    "posY": 8.96528,
                    "posZ": -3.00095534,
                    "rotX": -0.0005911624,
                    "rotY": 180.0067,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Mains Saisissantes",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"01162\",\n  \"traits\": \"Hazard.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 16518,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "165": {
                      "FaceURL": "https://i.imgur.com/nB9kjFF.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "bf2930",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5012035,
                    "posY": 8.765279,
                    "posZ": -3.00095534,
                    "rotX": -0.0005911624,
                    "rotY": 180.0067,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Mains Saisissantes",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"01162\",\n  \"traits\": \"Hazard.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 16524,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "165": {
                      "FaceURL": "https://i.imgur.com/nB9kjFF.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "7db61d",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5012035,
                    "posY": 8.565279,
                    "posZ": -3.00095534,
                    "rotX": -0.0005911624,
                    "rotY": 180.0067,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Mains Saisissantes",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"01162\",\n  \"traits\": \"Hazard.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 16521,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "165": {
                      "FaceURL": "https://i.imgur.com/nB9kjFF.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "ef3d34",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5012035,
                    "posY": 8.365279,
                    "posZ": -3.00095534,
                    "rotX": -0.0005911624,
                    "rotY": 180.0067,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Goule Affamée",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 3,\n  \"id\": \"01161\",\n  \"traits\": \"Humanoid. Monster. Ghoul.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 16520,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "165": {
                      "FaceURL": "https://i.imgur.com/nB9kjFF.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "5459e3",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5012035,
                    "posY": 8.165279,
                    "posZ": -3.00095534,
                    "rotX": -0.0005911624,
                    "rotY": 180.0067,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Serviteur Goule",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 2,\n  \"id\": \"01160\",\n  \"traits\": \"Humanoid. Monster. Ghoul.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 16523,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "165": {
                      "FaceURL": "https://i.imgur.com/nB9kjFF.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "0feb76",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5012035,
                    "posY": 7.96527958,
                    "posZ": -3.00095534,
                    "rotX": -0.0005911624,
                    "rotY": 180.0067,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Serviteur Goule",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 2,\n  \"id\": \"01160\",\n  \"traits\": \"Humanoid. Monster. Ghoul.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 16519,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "165": {
                      "FaceURL": "https://i.imgur.com/nB9kjFF.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "199ce8",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5012035,
                    "posY": 7.76527834,
                    "posZ": -3.00095534,
                    "rotX": -0.0005911624,
                    "rotY": 180.0067,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Serviteur Goule",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 2,\n  \"id\": \"01160\",\n  \"traits\": \"Humanoid. Monster. Ghoul.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 16522,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "165": {
                      "FaceURL": "https://i.imgur.com/nB9kjFF.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "1839f9",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5012035,
                    "posY": 7.56527853,
                    "posZ": -3.00095534,
                    "rotX": -0.0005911624,
                    "rotY": 180.0067,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Le Goût du Sang",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06268\",\n  \"traits\": \"Hazard.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276213,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "dc5c52",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5012035,
                    "posY": 5.67928457,
                    "posZ": -3.00095558,
                    "rotX": -0.000590226147,
                    "rotY": 180.0067,
                    "rotZ": 180.001053,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Le Goût du Sang",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06268\",\n  \"traits\": \"Hazard.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276212,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "1c3c50",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5011768,
                    "posY": 7.260397,
                    "posZ": -3.000921,
                    "rotX": 359.913757,
                    "rotY": 180.006516,
                    "rotZ": 180.261215,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Antiques Fléaux",
                  "Description": "",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"01166\",\n  \"traits\": \"Omen.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 15702,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "157": {
                      "FaceURL": "https://i.imgur.com/7H57eeO.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "67cfd5",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5012035,
                    "posY": 7.16527939,
                    "posZ": -3.00095534,
                    "rotX": -0.0005911624,
                    "rotY": 180.0067,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Antiques Fléaux",
                  "Description": "",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"01166\",\n  \"traits\": \"Omen.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 15703,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "157": {
                      "FaceURL": "https://i.imgur.com/7H57eeO.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "7b9eb5",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5012035,
                    "posY": 6.96528,
                    "posZ": -3.00095534,
                    "rotX": -0.0005911624,
                    "rotY": 180.0067,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Antiques Fléaux",
                  "Description": "",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"01166\",\n  \"traits\": \"Omen.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 15704,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "157": {
                      "FaceURL": "https://i.imgur.com/7H57eeO.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "2b562d",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5012035,
                    "posY": 6.76528025,
                    "posZ": -3.00095534,
                    "rotX": -0.0005911624,
                    "rotY": 180.0067,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Murmures d'Hypnos",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06090\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276643,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "10e85a",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5012035,
                    "posY": 6.56528,
                    "posZ": -3.00095534,
                    "rotX": -0.0005911624,
                    "rotY": 180.0067,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Murmures d'Hypnos",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06090\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276644,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "7e2db0",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5012035,
                    "posY": 6.36528,
                    "posZ": -3.00095534,
                    "rotX": -0.0005911624,
                    "rotY": 180.0067,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Murmures d'Hypnos",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06090\",\n  \"traits\": \"Terror.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276645,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2766": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "d2e5c0",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5012035,
                    "posY": 6.16528034,
                    "posZ": -3.00095534,
                    "rotX": -0.0005911624,
                    "rotY": 180.0067,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Gug Pataud",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 6,\n  \"id\": \"06092\",\n  \"traits\": \"Monster. Gug.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 278739,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2787": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "c89d6b",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5012035,
                    "posY": 5.96528,
                    "posZ": -3.00095534,
                    "rotX": -0.0005911624,
                    "rotY": 180.0067,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Ghast Chasseur",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 2,\n  \"id\": \"06091\",\n  \"traits\": \"Humanoid. Monster. Ghast.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 278740,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2787": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "1dd42e",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5012035,
                    "posY": 5.76528025,
                    "posZ": -3.00095534,
                    "rotX": -0.0005911624,
                    "rotY": 180.0067,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Ghast Chasseur",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 2,\n  \"id\": \"06091\",\n  \"traits\": \"Humanoid. Monster. Ghast.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 278741,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2787": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "0e25bf",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5012035,
                    "posY": 5.56528,
                    "posZ": -3.00095534,
                    "rotX": -0.0005911624,
                    "rotY": 180.0067,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Ghast Chasseur",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 2,\n  \"id\": \"06091\",\n  \"traits\": \"Humanoid. Monster. Ghast.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 278742,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2787": {
                      "FaceURL": "https://i.imgur.com/GDesosm.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "5dfeb1",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5012035,
                    "posY": 5.36528,
                    "posZ": -3.00095534,
                    "rotX": -0.0005911624,
                    "rotY": 180.0067,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Embuscade Inattendue",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06270\",\n  \"traits\": \"Scheme.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276209,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "5f1685",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5012035,
                    "posY": 5.16528034,
                    "posZ": -3.00095534,
                    "rotX": -0.0005911624,
                    "rotY": 180.0067,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Embuscade Inattendue",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06270\",\n  \"traits\": \"Scheme.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276208,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "d5bd37",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5012035,
                    "posY": 4.96528,
                    "posZ": -3.00095534,
                    "rotX": -0.0005911624,
                    "rotY": 180.0067,
                    "rotZ": 180.001068,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Éclairé par les Feux des Morts",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06269\",\n  \"traits\": \"Hazard.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276210,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "83b7ee",
                  "Name": "Card",
                  "Transform": {
                    "posX": 30.5011482,
                    "posY": 4.23403549,
                    "posZ": -3.00103521,
                    "rotX": 359.6026,
                    "rotY": 180.00592,
                    "rotZ": 180.23201,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Éclairé par les Feux des Morts",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06269\",\n  \"traits\": \"Hazard.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276211,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2762": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "428f38",
              "Name": "Custom_Token",
              "Transform": {
                "posX": -7.49998474,
                "posY": 1.58136213,
                "posZ": 1.499979,
                "rotX": 0.01119645,
                "rotY": 179.993866,
                "rotZ": 0.00407924363,
                "scaleX": 0.23,
                "scaleY": 1.0,
                "scaleZ": 0.225
              },
              "Nickname": "Indices",
              "Description": "Click gauche - Ajouter\nClick droit - Soustraire",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": false,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/784129913444610342/7903BA89870C1656A003FD69C79BFA99BD1AAC24/",
                "ImageSecondaryURL": "",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomToken": {
                  "Thickness": 0.1,
                  "MergeDistancePixels": 5.0,
                  "StandUp": false,
                  "Stackable": false
                }
              },
              "LuaScript": "MIN_VALUE = -99\r\nMAX_VALUE = 999\r\nlocal ZONE_HANDLER_GUID = 'ef3980'\r\nzoneHandler = getObjectFromGUID(ZONE_HANDLER_GUID)\r\nfunction onload(saved_data)\r\n    light_mode = true\r\n    val = 0\r\n\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        light_mode = loaded_data[1]\r\n        val = loaded_data[2]\r\n    end\r\n\r\n    createAll()\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = { light_mode, val }\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction createAll()\r\n    s_color = { 0, 0, 0, 100 }\r\n\r\n    if light_mode then\r\n        f_color = { 1, 1, 1, 100 }\r\n    else\r\n        f_color = { 0, 0, 0, 100 }\r\n    end\r\n\r\n\r\n\r\n    self.createButton({\r\n        label = tostring(val),\r\n        click_function = \"clickOrAlt_click\",\r\n        function_owner = self,\r\n        position = { 0, 0.05, 0.1 },\r\n        height = 600,\r\n        width = 1000,\r\n        alignment = 3,\r\n        scale = { x = 1.5, y = 1.5, z = 1.5 },\r\n        font_size = 800,\r\n        font_color = f_color,\r\n        color = { 1, 1, 1, 0 }\r\n    })\r\n\r\n\r\n    self.createButton({\r\n        click_function = \"takeClue\",\r\n        function_owner = self,\r\n        label = \"Prendre\",\r\n        position = { 3.5, 0.1, 0 },\r\n        rotation = { 0, 270, 0 },\r\n        scale = { 1.6, 1, 1.6 },\r\n        width = 1600,\r\n        height = 500,\r\n        font_size = 400,\r\n        font_color = { 1, 1, 1 },\r\n        color = { 0, 0, 0 },\r\n        tooltip = \"Prendre un indice (click droit pour reposer)\"\r\n    })\r\n\r\n\r\n\r\n    if light_mode then\r\n        lightButtonText = \"[ Set dark ]\"\r\n    else\r\n        lightButtonText = \"[ Set light ]\"\r\n    end\r\nend\r\n\r\nfunction removeAll()\r\n    self.removeInput(0)\r\n    self.removeInput(1)\r\n    self.removeButton(0)\r\n    self.removeButton(1)\r\n    self.removeButton(2)\r\nend\r\n\r\nfunction reloadAll()\r\n    removeAll()\r\n    createAll()\r\n\r\n    updateSave()\r\nend\r\n\r\nfunction swap_fcolor(_obj, _color, alt_click)\r\n    light_mode = not light_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction swap_align(_obj, _color, alt_click)\r\n    center_mode = not center_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction editName(_obj, _string, value)\r\n    self.setName(value)\r\n    setTooltips()\r\nend\r\n\r\nfunction clickOrAlt_click(_obj, _color, alt_click)\r\n    if alt_click then\r\n        substract()\r\n    else\r\n        add()\r\n    end\r\nend\r\n\r\nfunction substract()\r\n    add_subtract(-1)\r\nend\r\n\r\nfunction add()\r\n    add_subtract(1)\r\nend\r\n\r\nfunction add_subtract(mod)\r\n    new_value = math.min(math.max(val + mod, MIN_VALUE), MAX_VALUE)\r\n    if val ~= new_value then\r\n        val = new_value\r\n        updateVal()\r\n        updateSave()\r\n    end\r\nend\r\n\r\nfunction takeClue(_, color, alt_click)\r\n    if alt_click then\r\n        add()\r\n    else\r\n        substract()\r\n    end\r\n    local params = {}\r\n    params.playerColor = color\r\n    params.zone = 'CounterZone'\r\n    local objects = zoneHandler.call('getObjectsInPlayerZone', params)\r\n    for _, token in ipairs(objects) do\r\n        if token.getName() == \"Indices\" and token.getDescription() == \"Compteur de Joueur\" then\r\n            local cluecounter = token\r\n            if alt_click then\r\n                cluecounter.call('substract')\r\n            else\r\n                cluecounter.call('add')\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateVal()\r\n    self.editButton({\r\n        index = 0,\r\n        label = tostring(val),\r\n    })\r\nend\r\n\r\nfunction reset_val()\r\n    val = 0\r\n    updateVal()\r\n    updateSave()\r\nend\r\n\r\nfunction setTooltips()\r\n    self.editInput({\r\n        index = 0,\r\n        value = self.getName(),\r\n        tooltip = ttText\r\n    })\r\n    self.editButton({\r\n        index = 0,\r\n        value = tostring(val),\r\n        tooltip = ttText\r\n    })\r\nend\r\n\r\nfunction null()\r\nend\r\n\r\nfunction keepSample(_obj, _string, value)\r\n    reloadAll()\r\nend\r\n",
              "LuaScriptState": "[true,0]",
              "XmlUI": ""
            },
            {
              "GUID": "449a2f",
              "Name": "Card",
              "Transform": {
                "posX": -7.500008,
                "posY": 1.52294958,
                "posZ": 28.49997,
                "rotX": 0.0108914226,
                "rotY": 180.000458,
                "rotZ": 0.00494833523,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "[]",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 1105000,
              "SidewaysCard": false,
              "CustomDeck": {
                "11050": {
                  "FaceURL": "https://steamusercontent-a.akamaihd.net/ugc/1874087573755649860/AB9625C9D857C605E63403D3DB2F84C9738A7CD2/",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1874087573755649860/AB9625C9D857C605E63403D3DB2F84C9738A7CD2/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "4df2ac",
              "Name": "Custom_Token",
              "Transform": {
                "posX": -7.500021,
                "posY": 1.58479846,
                "posZ": 19.499979,
                "rotX": 0.0114948545,
                "rotY": 179.99411,
                "rotZ": 0.002723154,
                "scaleX": 0.23,
                "scaleY": 1.0,
                "scaleZ": 0.225
              },
              "Nickname": "Indices",
              "Description": "Click gauche - Ajouter\nClick droit - Soustraire",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": false,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/784129913444610342/7903BA89870C1656A003FD69C79BFA99BD1AAC24/",
                "ImageSecondaryURL": "",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomToken": {
                  "Thickness": 0.1,
                  "MergeDistancePixels": 5.0,
                  "StandUp": false,
                  "Stackable": false
                }
              },
              "LuaScript": "MIN_VALUE = -99\r\nMAX_VALUE = 999\r\nlocal ZONE_HANDLER_GUID = 'ef3980'\r\nzoneHandler = getObjectFromGUID(ZONE_HANDLER_GUID)\r\nfunction onload(saved_data)\r\n    light_mode = true\r\n    val = 0\r\n\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        light_mode = loaded_data[1]\r\n        val = loaded_data[2]\r\n    end\r\n\r\n    createAll()\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = { light_mode, val }\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction createAll()\r\n    s_color = { 0, 0, 0, 100 }\r\n\r\n    if light_mode then\r\n        f_color = { 1, 1, 1, 100 }\r\n    else\r\n        f_color = { 0, 0, 0, 100 }\r\n    end\r\n\r\n\r\n\r\n    self.createButton({\r\n        label = tostring(val),\r\n        click_function = \"clickOrAlt_click\",\r\n        function_owner = self,\r\n        position = { 0, 0.05, 0.1 },\r\n        height = 600,\r\n        width = 1000,\r\n        alignment = 3,\r\n        scale = { x = 1.5, y = 1.5, z = 1.5 },\r\n        font_size = 800,\r\n        font_color = f_color,\r\n        color = { 1, 1, 1, 0 }\r\n    })\r\n\r\n\r\n    self.createButton({\r\n        click_function = \"takeClue\",\r\n        function_owner = self,\r\n        label = \"Prendre\",\r\n        position = { 3.5, 0.1, 0 },\r\n        rotation = { 0, 270, 0 },\r\n        scale = { 1.6, 1, 1.6 },\r\n        width = 1600,\r\n        height = 500,\r\n        font_size = 400,\r\n        font_color = { 1, 1, 1 },\r\n        color = { 0, 0, 0 },\r\n        tooltip = \"Prendre un indice (click droit pour reposer)\"\r\n    })\r\n\r\n\r\n\r\n    if light_mode then\r\n        lightButtonText = \"[ Set dark ]\"\r\n    else\r\n        lightButtonText = \"[ Set light ]\"\r\n    end\r\nend\r\n\r\nfunction removeAll()\r\n    self.removeInput(0)\r\n    self.removeInput(1)\r\n    self.removeButton(0)\r\n    self.removeButton(1)\r\n    self.removeButton(2)\r\nend\r\n\r\nfunction reloadAll()\r\n    removeAll()\r\n    createAll()\r\n\r\n    updateSave()\r\nend\r\n\r\nfunction swap_fcolor(_obj, _color, alt_click)\r\n    light_mode = not light_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction swap_align(_obj, _color, alt_click)\r\n    center_mode = not center_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction editName(_obj, _string, value)\r\n    self.setName(value)\r\n    setTooltips()\r\nend\r\n\r\nfunction clickOrAlt_click(_obj, _color, alt_click)\r\n    if alt_click then\r\n        substract()\r\n    else\r\n        add()\r\n    end\r\nend\r\n\r\nfunction substract()\r\n    add_subtract(-1)\r\nend\r\n\r\nfunction add()\r\n    add_subtract(1)\r\nend\r\n\r\nfunction add_subtract(mod)\r\n    new_value = math.min(math.max(val + mod, MIN_VALUE), MAX_VALUE)\r\n    if val ~= new_value then\r\n        val = new_value\r\n        updateVal()\r\n        updateSave()\r\n    end\r\nend\r\n\r\nfunction takeClue(_, color, alt_click)\r\n    if alt_click then\r\n        add()\r\n    else\r\n        substract()\r\n    end\r\n    local params = {}\r\n    params.playerColor = color\r\n    params.zone = 'CounterZone'\r\n    local objects = zoneHandler.call('getObjectsInPlayerZone', params)\r\n    for _, token in ipairs(objects) do\r\n        if token.getName() == \"Indices\" and token.getDescription() == \"Compteur de Joueur\" then\r\n            local cluecounter = token\r\n            if alt_click then\r\n                cluecounter.call('substract')\r\n            else\r\n                cluecounter.call('add')\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateVal()\r\n    self.editButton({\r\n        index = 0,\r\n        label = tostring(val),\r\n    })\r\nend\r\n\r\nfunction reset_val()\r\n    val = 0\r\n    updateVal()\r\n    updateSave()\r\nend\r\n\r\nfunction setTooltips()\r\n    self.editInput({\r\n        index = 0,\r\n        value = self.getName(),\r\n        tooltip = ttText\r\n    })\r\n    self.editButton({\r\n        index = 0,\r\n        value = tostring(val),\r\n        tooltip = ttText\r\n    })\r\nend\r\n\r\nfunction null()\r\nend\r\n\r\nfunction keepSample(_obj, _string, value)\r\n    reloadAll()\r\nend\r\n",
              "LuaScriptState": "[true,0]",
              "XmlUI": ""
            },
            {
              "GUID": "69163e",
              "Name": "Card",
              "Transform": {
                "posX": -20.4999332,
                "posY": 1.78360617,
                "posZ": 2.49987912,
                "rotX": -4.96758E-06,
                "rotY": 179.699753,
                "rotZ": -1.10789117E-07,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Sentinelle Gug",
              "Description": "",
              "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 2,\n  \"id\": \"06267\",\n  \"traits\": \"Monster. Gug.\",\n  \"type\": \"Enemy\",\n  \"victory\": 1\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276214,
              "SidewaysCard": false,
              "CustomDeck": {
                "2762": {
                  "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "78e47a",
              "Name": "Custom_Token",
              "Transform": {
                "posX": -7.49998331,
                "posY": 1.58309591,
                "posZ": 10.49999,
                "rotX": 0.009990138,
                "rotY": 179.993927,
                "rotZ": 0.00380584621,
                "scaleX": 0.23,
                "scaleY": 1.0,
                "scaleZ": 0.225
              },
              "Nickname": "Indices",
              "Description": "Click gauche - Ajouter\nClick droit - Soustraire",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": false,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/784129913444610342/7903BA89870C1656A003FD69C79BFA99BD1AAC24/",
                "ImageSecondaryURL": "",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomToken": {
                  "Thickness": 0.1,
                  "MergeDistancePixels": 5.0,
                  "StandUp": false,
                  "Stackable": false
                }
              },
              "LuaScript": "MIN_VALUE = -99\r\nMAX_VALUE = 999\r\nlocal ZONE_HANDLER_GUID = 'ef3980'\r\nzoneHandler = getObjectFromGUID(ZONE_HANDLER_GUID)\r\nfunction onload(saved_data)\r\n    light_mode = true\r\n    val = 0\r\n\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        light_mode = loaded_data[1]\r\n        val = loaded_data[2]\r\n    end\r\n\r\n    createAll()\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = { light_mode, val }\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction createAll()\r\n    s_color = { 0, 0, 0, 100 }\r\n\r\n    if light_mode then\r\n        f_color = { 1, 1, 1, 100 }\r\n    else\r\n        f_color = { 0, 0, 0, 100 }\r\n    end\r\n\r\n\r\n\r\n    self.createButton({\r\n        label = tostring(val),\r\n        click_function = \"clickOrAlt_click\",\r\n        function_owner = self,\r\n        position = { 0, 0.05, 0.1 },\r\n        height = 600,\r\n        width = 1000,\r\n        alignment = 3,\r\n        scale = { x = 1.5, y = 1.5, z = 1.5 },\r\n        font_size = 800,\r\n        font_color = f_color,\r\n        color = { 1, 1, 1, 0 }\r\n    })\r\n\r\n\r\n    self.createButton({\r\n        click_function = \"takeClue\",\r\n        function_owner = self,\r\n        label = \"Prendre\",\r\n        position = { 3.5, 0.1, 0 },\r\n        rotation = { 0, 270, 0 },\r\n        scale = { 1.6, 1, 1.6 },\r\n        width = 1600,\r\n        height = 500,\r\n        font_size = 400,\r\n        font_color = { 1, 1, 1 },\r\n        color = { 0, 0, 0 },\r\n        tooltip = \"Prendre un indice (click droit pour reposer)\"\r\n    })\r\n\r\n\r\n\r\n    if light_mode then\r\n        lightButtonText = \"[ Set dark ]\"\r\n    else\r\n        lightButtonText = \"[ Set light ]\"\r\n    end\r\nend\r\n\r\nfunction removeAll()\r\n    self.removeInput(0)\r\n    self.removeInput(1)\r\n    self.removeButton(0)\r\n    self.removeButton(1)\r\n    self.removeButton(2)\r\nend\r\n\r\nfunction reloadAll()\r\n    removeAll()\r\n    createAll()\r\n\r\n    updateSave()\r\nend\r\n\r\nfunction swap_fcolor(_obj, _color, alt_click)\r\n    light_mode = not light_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction swap_align(_obj, _color, alt_click)\r\n    center_mode = not center_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction editName(_obj, _string, value)\r\n    self.setName(value)\r\n    setTooltips()\r\nend\r\n\r\nfunction clickOrAlt_click(_obj, _color, alt_click)\r\n    if alt_click then\r\n        substract()\r\n    else\r\n        add()\r\n    end\r\nend\r\n\r\nfunction substract()\r\n    add_subtract(-1)\r\nend\r\n\r\nfunction add()\r\n    add_subtract(1)\r\nend\r\n\r\nfunction add_subtract(mod)\r\n    new_value = math.min(math.max(val + mod, MIN_VALUE), MAX_VALUE)\r\n    if val ~= new_value then\r\n        val = new_value\r\n        updateVal()\r\n        updateSave()\r\n    end\r\nend\r\n\r\nfunction takeClue(_, color, alt_click)\r\n    if alt_click then\r\n        add()\r\n    else\r\n        substract()\r\n    end\r\n    local params = {}\r\n    params.playerColor = color\r\n    params.zone = 'CounterZone'\r\n    local objects = zoneHandler.call('getObjectsInPlayerZone', params)\r\n    for _, token in ipairs(objects) do\r\n        if token.getName() == \"Indices\" and token.getDescription() == \"Compteur de Joueur\" then\r\n            local cluecounter = token\r\n            if alt_click then\r\n                cluecounter.call('substract')\r\n            else\r\n                cluecounter.call('add')\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateVal()\r\n    self.editButton({\r\n        index = 0,\r\n        label = tostring(val),\r\n    })\r\nend\r\n\r\nfunction reset_val()\r\n    val = 0\r\n    updateVal()\r\n    updateSave()\r\nend\r\n\r\nfunction setTooltips()\r\n    self.editInput({\r\n        index = 0,\r\n        value = self.getName(),\r\n        tooltip = ttText\r\n    })\r\n    self.editButton({\r\n        index = 0,\r\n        value = tostring(val),\r\n        tooltip = ttText\r\n    })\r\nend\r\n\r\nfunction null()\r\nend\r\n\r\nfunction keepSample(_obj, _string, value)\r\n    reloadAll()\r\nend\r\n",
              "LuaScriptState": "[true,0]",
              "XmlUI": ""
            },
            {
              "GUID": "7ab42b",
              "Name": "Card",
              "Transform": {
                "posX": 23.50219,
                "posY": 1.513825,
                "posZ": -5.524361,
                "rotX": 0.0111455787,
                "rotY": 179.973282,
                "rotZ": 0.005732357,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Référence",
              "Description": "Point de Non-Retour",
              "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"id\": \"06247\",\n  \"type\": \"ScenarioReference\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276500,
              "SidewaysCard": false,
              "CustomDeck": {
                "2765": {
                  "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                  "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "90d97a",
              "Name": "Custom_Model_Bag",
              "Transform": {
                "posX": -29.5014019,
                "posY": 1.84000039,
                "posZ": 12.0045977,
                "rotX": -3.987253E-06,
                "rotY": 179.98497,
                "rotZ": 2.88736459E-07,
                "scaleX": 0.7,
                "scaleY": 0.7,
                "scaleZ": 0.7
              },
              "Nickname": "Acte 2 B",
              "Description": "Indices et connecteurs",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "CustomMesh": {
                "MeshURL": "https://pastebin.com/raw/ALrYhQGb",
                "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/1985555189151674305/A0FBD0F18BC845198034E72B28F28DFBC19A4B93/",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 6,
                "CustomShader": {
                  "SpecularColor": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "SpecularIntensity": 0.0,
                  "SpecularSharpness": 2.0,
                  "FresnelStrength": 0.0
                },
                "CastShadows": true
              },
              "Bag": {
                "Order": 0
              },
              "LuaScript": "-- Utility memory bag by Directsun\r\n-- Version 2.7.0\r\n-- Fork of Memory Bag 2.0 by MrStump\r\n--\r\n-- Want to contribute? Create an issue or fork the code on GitHub and submit a pull request:\r\n-- https://github.com/sunflowermans/TTS-UtilityMemoryBag\r\n\r\n\r\nfunction updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction combineMemoryFromBagsWithin()\r\n    local bagObjList = self.getObjects()\r\n    for _, bagObj in ipairs(bagObjList) do\r\n        local data = bagObj.lua_script_state\r\n        if data ~= nil then\r\n            local j = JSON.decode(data)\r\n            if j ~= nil and j.ml ~= nil then\r\n                for guid, entry in pairs(j.ml) do\r\n                    memoryList[guid] = entry\r\n                end\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateMemoryWithMoves()\r\n    memoryList = memoryListBackup\r\n    --get the first transposed object's coordinates\r\n    local obj = getObjectFromGUID(moveGuid)\r\n\r\n    -- p1 is where needs to go, p2 is where it was\r\n    local refObjPos = memoryList[moveGuid].pos\r\n    local deltaPos = findOffsetDistance(obj.getPosition(), refObjPos, nil)\r\n    local movedRotation = obj.getRotation()\r\n    for guid, entry in pairs(memoryList) do\r\n        memoryList[guid].pos.x = entry.pos.x - deltaPos.x\r\n        memoryList[guid].pos.y = entry.pos.y - deltaPos.y\r\n        memoryList[guid].pos.z = entry.pos.z - deltaPos.z\r\n        -- memoryList[guid].rot.x = movedRotation.x\r\n        -- memoryList[guid].rot.y = movedRotation.y\r\n        -- memoryList[guid].rot.z = movedRotation.z\r\n    end\r\n\r\n    --theList[obj.getGUID()] = {\r\n    --    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n    --    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n    --    lock=obj.getLock()\r\n    --}\r\n    moveList = {}\r\nend\r\n\r\nfunction onload(saved_data)\r\n\r\n    fresh = true\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n\r\n    end\r\n\r\n    moveList = {}\r\n    moveGuid = nil\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        fresh = false\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,2}, rotation={0,0,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by Transpose button\r\nfunction buttonClick_transpose()\r\n    moveGuid = nil\r\n    broadcastToAll(\"Select one object and move it- all objects will move relative to the new location\", {0.75, 0.75, 1})\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(true)\r\n    createSetupActionButtons(true)\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(false)\r\n    createSetupActionButtons(false)\r\nend\r\n\r\nfunction getAllObjectsInMemory()\r\n    local objTable = {}\r\n    local curObj = {}\r\n\r\n    for guid in pairs(memoryListBackup) do\r\n        curObj = getObjectFromGUID(guid)\r\n        table.insert(objTable, curObj)\r\n    end\r\n\r\n    return objTable\r\n    -- return getAllObjects()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects(move)\r\n    buttonIndexMap = {}\r\n    local howManyButtons = 0\r\n\r\n    local objsToHaveButtons = {}\r\n    if move == true then\r\n        objsToHaveButtons = getAllObjectsInMemory()\r\n    else\r\n        objsToHaveButtons = getAllObjects()\r\n    end\r\n\r\n    for _, obj in ipairs(objsToHaveButtons) do\r\n        if obj ~= self then\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor +2\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Workaround for custom PDFs\r\n            if obj.Book then\r\n                objPos.y = objPos.y + 0.5\r\n            end\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(obj, move) end\r\n            local color = {0.75,0.25,0.25,0.6}\r\n            local colorMove = {0,0,1,0.6}\r\n            if move == true then\r\n                color = colorMove\r\n            end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color=color,\r\n            })\r\n            buttonIndexMap[obj.getGUID()] = howManyButtons\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons(move)\r\n    self.createButton({\r\n       label=\"Annuler\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n       position={-1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n       font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    self.createButton({\r\n      label=\"Valider\", click_function=\"buttonClick_submit\", function_owner=self,\r\n      position={-1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n      font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    if move == false then\r\n      self.createButton({\r\n          label=\"Ajouter\", click_function=\"buttonClick_add\", function_owner=self,\r\n          position={1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n          font_size=250, color={0,0,0}, font_color={0.25,1,0.25}\r\n        })\r\n\r\n        self.createButton({\r\n            label=\"Sélection\", click_function=\"editDragSelection\", function_owner=self,\r\n            position={-1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n            font_size=250, color={0,0,0}, font_color={1,1,1}\r\n        })\r\n\r\n        if fresh == false then\r\n            self.createButton({\r\n                label=\"Mise à Jour\", click_function=\"buttonClick_setNew\", function_owner=self,\r\n                position={1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n                font_size=180, color={0,0,0}, font_color={0.75,0.75,1}\r\n            })\r\n            self.createButton({\r\n                label=\"Retirer\", click_function=\"buttonClick_remove\", function_owner=self,\r\n                position={1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n                font_size=250, color={0,0,0}, font_color={1,0.25,0.25}\r\n            })\r\n        end\r\n    end\r\n\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,0,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(obj, move)\r\n    local index = buttonIndexMap[obj.getGUID()]\r\n    local colorMove = {0,0,1,0.6}\r\n    local color = {0,1,0,0.6}\r\n\r\n    previousGuid = selectedGuid\r\n    selectedGuid = obj.getGUID()\r\n\r\n    theList = memoryList\r\n    if move == true then\r\n        theList = moveList\r\n        if previousGuid ~= nil and previousGuid ~= selectedGuid then\r\n            local prevObj = getObjectFromGUID(previousGuid)\r\n            prevObj.highlightOff()\r\n            self.editButton({index=previousIndex, color=colorMove})\r\n            theList[previousGuid] = nil\r\n        end\r\n        previousIndex = index\r\n    end\r\n\r\n    if theList[selectedGuid] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        theList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock(),\r\n            tint=obj.getColorTint()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        if move == true then\r\n            color = colorMove\r\n        end\r\n        self.editButton({index=index, color=color})\r\n        theList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\nfunction editDragSelection(bagObj, player, remove)\r\n    local selectedObjs = Player[player].getSelectedObjects()\r\n    if not remove then\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            --Ignore if already in the memory list, or does not have a button\r\n            if index and not memoryList[obj.getGUID()] then\r\n                self.editButton({index=index, color={0,1,0,0.6}})\r\n                --Adding pos/rot to memory table\r\n                local pos, rot = obj.getPosition(), obj.getRotation()\r\n                --I need to add it like this or it won't save due to indexing issue\r\n                memoryList[obj.getGUID()] = {\r\n                    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n                    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n                    lock=obj.getLock(),\r\n                    tint=obj.getColorTint()\r\n                }\r\n                obj.highlightOn({0,1,0})\r\n            end\r\n        end\r\n    else\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            if index and memoryList[obj.getGUID()] then\r\n                color = {0.75,0.25,0.25,0.6}\r\n                self.editButton({index=index, color=color})\r\n                memoryList[obj.getGUID()] = nil\r\n                obj.highlightOff()\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Sélection annulée\", {1,1,1})\r\n    moveGuid = nil\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    fresh = false\r\n    if next(moveList) ~= nil then\r\n        for guid in pairs(moveList) do\r\n            moveGuid = guid\r\n        end\r\n        if memoryListBackup[moveGuid] == nil then\r\n            broadcastToAll(\"Item selected for moving is not already in memory\", {1, 0.25, 0.25})\r\n        else\r\n            broadcastToAll(\"Moving all items in memory relative to new objects position!\", {0.75, 0.75, 1})\r\n            self.clearButtons()\r\n            self.clearInputs()\r\n            createMemoryActionButtons()\r\n            local count = 0\r\n            for guid in pairs(moveList) do\r\n                moveGuid = guid\r\n                count = count + 1\r\n                local obj = getObjectFromGUID(guid)\r\n                if obj ~= nil then obj.highlightOff() end\r\n            end\r\n            updateMemoryWithMoves()\r\n            updateSave()\r\n            buttonClick_place()\r\n        end\r\n    elseif next(memoryList) == nil and moveGuid == nil then\r\n        memoryList = memoryListBackup\r\n        broadcastToAll(\"No selections made.\", {0.75, 0.25, 0.25})\r\n    end\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\n    moveGuid = nil\r\nend\r\n\r\nfunction combineTables(first_table, second_table)\r\n    for k,v in pairs(second_table) do first_table[k] = v end\r\nend\r\n\r\nfunction buttonClick_add()\r\n    fresh = false\r\n    combineTables(memoryList, memoryListBackup)\r\n    broadcastToAll(\"Adding internal bags and selections to existing memory\", {0.25, 0.75, 0.25})\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_remove()\r\n    broadcastToAll(\"Removing Selected Entries From Memory\", {1.0, 0.25, 0.25})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        memoryListBackup[guid] = nil\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Removed\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_setNew()\r\n    broadcastToAll(\"Setting new position relative to items in memory\", {0.75, 0.75, 1})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        guid = obj.guid\r\n        if memoryListBackup[guid] ~= nil then\r\n            count = count + 1\r\n            memoryListBackup[guid].pos = obj.getPosition()\r\n            memoryListBackup[guid].rot = obj.getRotation()\r\n            memoryListBackup[guid].lock = obj.getLock()\r\n            memoryListBackup[guid].tint = obj.getColorTint()\r\n        end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    fresh = true\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Placer\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,2}, rotation={0,0,0}, height=350, width=1000,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Ranger\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,2.8}, rotation={0,0,0}, height=350, width=1000,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={2,0.3,0}, rotation={0,90,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    ---    self.createButton({\r\n    ---      label=\"Bouger\", click_function=\"buttonClick_transpose\", function_owner=self,\r\n    ---      position={-2,0.3,0.8}, rotation={0,270,0}, height=350, width=800,\r\n    ---      font_size=250, color={0,0,0}, font_color={0.75,0.75,1}\r\n    ---  \r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n            obj.setColorTint(entry.tint)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot, smooth=false\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    item.setColorTint(entry.tint)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objets placés\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objets rangés\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local yOffset = 0\r\n    if obj ~= nil then\r\n        local bounds = obj.getBounds()\r\n        yOffset = (bounds.size.y - bounds.offset.y)\r\n    end\r\n    local deltaPos = {}\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + yOffset\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n    local objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n    local x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n    local z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n    --return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\nfunction rotateMyCoordinates(desiredPos, obj)\r\n    local angle = math.rad(obj.getRotation().y)\r\n    local x = desiredPos.x * math.sin(angle)\r\n    local z = desiredPos.z * math.cos(angle)\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n    local mult = 10^(dec or 0)\r\n    return math.floor(num * mult + 0.5) / mult\r\nend\r\n\r\n\r\n--[[\r\nThis object provides access to a variable stored on the \"Global script\".\r\nThe variable holds the GUIDs for every Utility Memory Bag in the scene.\r\nExample:\r\n{'805ebd', '35cc21', 'fc8886', 'f50264', '5f5f63'}\r\n--]]\r\nAllMemoryBagsInScene = {\r\n    NAME_OF_GLOBAL_VARIABLE = \"_UtilityMemoryBag_AllMemoryBagsInScene\"\r\n}\r\n\r\nfunction AllMemoryBagsInScene:add(guid)\r\n    local guids = Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\n    table.insert(guids, guid)\r\n    Global.setTable(self.NAME_OF_GLOBAL_VARIABLE, guids)\r\nend\r\n\r\nfunction AllMemoryBagsInScene:getGuidList()\r\n    return Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\nend",
              "LuaScriptState": "{\"ml\":{\"57a07e\":{\"lock\":false,\"pos\":{\"x\":9,\"y\":1.5826,\"z\":15.5},\"rot\":{\"x\":0.011,\"y\":179.9941,\"z\":0.0032},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"5b38c6\":{\"lock\":false,\"pos\":{\"x\":16.9999,\"y\":1.505,\"z\":17},\"rot\":{\"x\":0.0109,\"y\":180.0111,\"z\":0.005},\"tint\":{\"a\":1,\"b\":0.604529500007629,\"g\":0.604529500007629,\"r\":0.604529500007629}},\"82f2cc\":{\"lock\":false,\"pos\":{\"x\":13,\"y\":1.5835,\"z\":22},\"rot\":{\"x\":0.0107,\"y\":179.9939,\"z\":0.004},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"907bb2\":{\"lock\":false,\"pos\":{\"x\":20.5,\"y\":1.5829,\"z\":22},\"rot\":{\"x\":0.0119,\"y\":179.9935,\"z\":0.0036},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}},\"947a9f\":{\"lock\":false,\"pos\":{\"x\":25,\"y\":1.5813,\"z\":16},\"rot\":{\"x\":0.0119,\"y\":179.9942,\"z\":0.0036},\"tint\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1}}}}",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "57a07e",
                  "Name": "Custom_Token",
                  "Transform": {
                    "posX": 9.000001,
                    "posY": 1.55544865,
                    "posZ": 15.5000019,
                    "rotX": 0.010889194,
                    "rotY": 179.994064,
                    "rotZ": 0.004942755,
                    "scaleX": 0.23,
                    "scaleY": 1.0,
                    "scaleZ": 0.225
                  },
                  "Nickname": "Indices",
                  "Description": "Click gauche - Ajouter\nClick droit - Soustraire",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/784129913444610342/7903BA89870C1656A003FD69C79BFA99BD1AAC24/",
                    "ImageSecondaryURL": "",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomToken": {
                      "Thickness": 0.1,
                      "MergeDistancePixels": 5.0,
                      "StandUp": false,
                      "Stackable": false
                    }
                  },
                  "LuaScript": "MIN_VALUE = -99\r\nMAX_VALUE = 999\r\nlocal ZONE_HANDLER_GUID = 'ef3980'\r\nzoneHandler = getObjectFromGUID(ZONE_HANDLER_GUID)\r\nfunction onload(saved_data)\r\n    light_mode = true\r\n    val = 0\r\n\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        light_mode = loaded_data[1]\r\n        val = loaded_data[2]\r\n    end\r\n\r\n    createAll()\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = { light_mode, val }\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction createAll()\r\n    s_color = { 0, 0, 0, 100 }\r\n\r\n    if light_mode then\r\n        f_color = { 1, 1, 1, 100 }\r\n    else\r\n        f_color = { 0, 0, 0, 100 }\r\n    end\r\n\r\n\r\n\r\n    self.createButton({\r\n        label = tostring(val),\r\n        click_function = \"clickOrAlt_click\",\r\n        function_owner = self,\r\n        position = { 0, 0.05, 0.1 },\r\n        height = 600,\r\n        width = 1000,\r\n        alignment = 3,\r\n        scale = { x = 1.5, y = 1.5, z = 1.5 },\r\n        font_size = 800,\r\n        font_color = f_color,\r\n        color = { 1, 1, 1, 0 }\r\n    })\r\n\r\n\r\n    self.createButton({\r\n        click_function = \"takeClue\",\r\n        function_owner = self,\r\n        label = \"Prendre\",\r\n        position = { 3.5, 0.1, 0 },\r\n        rotation = { 0, 270, 0 },\r\n        scale = { 1.6, 1, 1.6 },\r\n        width = 1600,\r\n        height = 500,\r\n        font_size = 400,\r\n        font_color = { 1, 1, 1 },\r\n        color = { 0, 0, 0 },\r\n        tooltip = \"Prendre un indice (click droit pour reposer)\"\r\n    })\r\n\r\n\r\n\r\n    if light_mode then\r\n        lightButtonText = \"[ Set dark ]\"\r\n    else\r\n        lightButtonText = \"[ Set light ]\"\r\n    end\r\nend\r\n\r\nfunction removeAll()\r\n    self.removeInput(0)\r\n    self.removeInput(1)\r\n    self.removeButton(0)\r\n    self.removeButton(1)\r\n    self.removeButton(2)\r\nend\r\n\r\nfunction reloadAll()\r\n    removeAll()\r\n    createAll()\r\n\r\n    updateSave()\r\nend\r\n\r\nfunction swap_fcolor(_obj, _color, alt_click)\r\n    light_mode = not light_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction swap_align(_obj, _color, alt_click)\r\n    center_mode = not center_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction editName(_obj, _string, value)\r\n    self.setName(value)\r\n    setTooltips()\r\nend\r\n\r\nfunction clickOrAlt_click(_obj, _color, alt_click)\r\n    if alt_click then\r\n        substract()\r\n    else\r\n        add()\r\n    end\r\nend\r\n\r\nfunction substract()\r\n    add_subtract(-1)\r\nend\r\n\r\nfunction add()\r\n    add_subtract(1)\r\nend\r\n\r\nfunction add_subtract(mod)\r\n    new_value = math.min(math.max(val + mod, MIN_VALUE), MAX_VALUE)\r\n    if val ~= new_value then\r\n        val = new_value\r\n        updateVal()\r\n        updateSave()\r\n    end\r\nend\r\n\r\nfunction takeClue(_, color, alt_click)\r\n    if alt_click then\r\n        add()\r\n    else\r\n        substract()\r\n    end\r\n    local params = {}\r\n    params.playerColor = color\r\n    params.zone = 'CounterZone'\r\n    local objects = zoneHandler.call('getObjectsInPlayerZone', params)\r\n    for _, token in ipairs(objects) do\r\n        if token.getName() == \"Indices\" and token.getDescription() == \"Compteur de Joueur\" then\r\n            local cluecounter = token\r\n            if alt_click then\r\n                cluecounter.call('substract')\r\n            else\r\n                cluecounter.call('add')\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateVal()\r\n    self.editButton({\r\n        index = 0,\r\n        label = tostring(val),\r\n    })\r\nend\r\n\r\nfunction reset_val()\r\n    val = 0\r\n    updateVal()\r\n    updateSave()\r\nend\r\n\r\nfunction setTooltips()\r\n    self.editInput({\r\n        index = 0,\r\n        value = self.getName(),\r\n        tooltip = ttText\r\n    })\r\n    self.editButton({\r\n        index = 0,\r\n        value = tostring(val),\r\n        tooltip = ttText\r\n    })\r\nend\r\n\r\nfunction null()\r\nend\r\n\r\nfunction keepSample(_obj, _string, value)\r\n    reloadAll()\r\nend\r\n",
                  "LuaScriptState": "[true,0]",
                  "XmlUI": ""
                },
                {
                  "GUID": "5b38c6",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": 16.9999,
                    "posY": 1.505043,
                    "posZ": 17.0,
                    "rotX": 0.0108909635,
                    "rotY": 180.011063,
                    "rotZ": 0.004950664,
                    "scaleX": 0.8,
                    "scaleY": 1.0,
                    "scaleZ": 0.8
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "States": {
                    "1": {
                      "GUID": "d7b76f",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": -8.500003,
                        "posY": 1.50895619,
                        "posZ": 26.0000038,
                        "rotX": 0.00494427746,
                        "rotY": 89.98772,
                        "rotZ": 359.989075,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/vppt2my.png",
                        "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    "2": {
                      "GUID": "a01720",
                      "Name": "Custom_Tile",
                      "Transform": {
                        "posX": 0.9999086,
                        "posY": 1.50727856,
                        "posZ": 21.5002861,
                        "rotX": -0.00217110734,
                        "rotY": 89.99005,
                        "rotZ": 359.98938,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "",
                      "Description": "",
                      "GMNotes": "",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.6045295,
                        "g": 0.6045295,
                        "b": 0.6045295
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomImage": {
                        "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                        "ImageScalar": 1.0,
                        "WidthScale": 0.0,
                        "CustomTile": {
                          "Type": 3,
                          "Thickness": 0.1,
                          "Stackable": false,
                          "Stretch": true
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  }
                },
                {
                  "GUID": "82f2cc",
                  "Name": "Custom_Token",
                  "Transform": {
                    "posX": 13.0,
                    "posY": 1.55633879,
                    "posZ": 22.0000019,
                    "rotX": 0.0108739734,
                    "rotY": 179.993912,
                    "rotZ": 0.00492654135,
                    "scaleX": 0.23,
                    "scaleY": 1.0,
                    "scaleZ": 0.225
                  },
                  "Nickname": "Indices",
                  "Description": "Click gauche - Ajouter\nClick droit - Soustraire",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/784129913444610342/7903BA89870C1656A003FD69C79BFA99BD1AAC24/",
                    "ImageSecondaryURL": "",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomToken": {
                      "Thickness": 0.1,
                      "MergeDistancePixels": 5.0,
                      "StandUp": false,
                      "Stackable": false
                    }
                  },
                  "LuaScript": "MIN_VALUE = -99\r\nMAX_VALUE = 999\r\nlocal ZONE_HANDLER_GUID = 'ef3980'\r\nzoneHandler = getObjectFromGUID(ZONE_HANDLER_GUID)\r\nfunction onload(saved_data)\r\n    light_mode = true\r\n    val = 0\r\n\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        light_mode = loaded_data[1]\r\n        val = loaded_data[2]\r\n    end\r\n\r\n    createAll()\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = { light_mode, val }\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction createAll()\r\n    s_color = { 0, 0, 0, 100 }\r\n\r\n    if light_mode then\r\n        f_color = { 1, 1, 1, 100 }\r\n    else\r\n        f_color = { 0, 0, 0, 100 }\r\n    end\r\n\r\n\r\n\r\n    self.createButton({\r\n        label = tostring(val),\r\n        click_function = \"clickOrAlt_click\",\r\n        function_owner = self,\r\n        position = { 0, 0.05, 0.1 },\r\n        height = 600,\r\n        width = 1000,\r\n        alignment = 3,\r\n        scale = { x = 1.5, y = 1.5, z = 1.5 },\r\n        font_size = 800,\r\n        font_color = f_color,\r\n        color = { 1, 1, 1, 0 }\r\n    })\r\n\r\n\r\n    self.createButton({\r\n        click_function = \"takeClue\",\r\n        function_owner = self,\r\n        label = \"Prendre\",\r\n        position = { 3.5, 0.1, 0 },\r\n        rotation = { 0, 270, 0 },\r\n        scale = { 1.6, 1, 1.6 },\r\n        width = 1600,\r\n        height = 500,\r\n        font_size = 400,\r\n        font_color = { 1, 1, 1 },\r\n        color = { 0, 0, 0 },\r\n        tooltip = \"Prendre un indice (click droit pour reposer)\"\r\n    })\r\n\r\n\r\n\r\n    if light_mode then\r\n        lightButtonText = \"[ Set dark ]\"\r\n    else\r\n        lightButtonText = \"[ Set light ]\"\r\n    end\r\nend\r\n\r\nfunction removeAll()\r\n    self.removeInput(0)\r\n    self.removeInput(1)\r\n    self.removeButton(0)\r\n    self.removeButton(1)\r\n    self.removeButton(2)\r\nend\r\n\r\nfunction reloadAll()\r\n    removeAll()\r\n    createAll()\r\n\r\n    updateSave()\r\nend\r\n\r\nfunction swap_fcolor(_obj, _color, alt_click)\r\n    light_mode = not light_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction swap_align(_obj, _color, alt_click)\r\n    center_mode = not center_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction editName(_obj, _string, value)\r\n    self.setName(value)\r\n    setTooltips()\r\nend\r\n\r\nfunction clickOrAlt_click(_obj, _color, alt_click)\r\n    if alt_click then\r\n        substract()\r\n    else\r\n        add()\r\n    end\r\nend\r\n\r\nfunction substract()\r\n    add_subtract(-1)\r\nend\r\n\r\nfunction add()\r\n    add_subtract(1)\r\nend\r\n\r\nfunction add_subtract(mod)\r\n    new_value = math.min(math.max(val + mod, MIN_VALUE), MAX_VALUE)\r\n    if val ~= new_value then\r\n        val = new_value\r\n        updateVal()\r\n        updateSave()\r\n    end\r\nend\r\n\r\nfunction takeClue(_, color, alt_click)\r\n    if alt_click then\r\n        add()\r\n    else\r\n        substract()\r\n    end\r\n    local params = {}\r\n    params.playerColor = color\r\n    params.zone = 'CounterZone'\r\n    local objects = zoneHandler.call('getObjectsInPlayerZone', params)\r\n    for _, token in ipairs(objects) do\r\n        if token.getName() == \"Indices\" and token.getDescription() == \"Compteur de Joueur\" then\r\n            local cluecounter = token\r\n            if alt_click then\r\n                cluecounter.call('substract')\r\n            else\r\n                cluecounter.call('add')\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateVal()\r\n    self.editButton({\r\n        index = 0,\r\n        label = tostring(val),\r\n    })\r\nend\r\n\r\nfunction reset_val()\r\n    val = 0\r\n    updateVal()\r\n    updateSave()\r\nend\r\n\r\nfunction setTooltips()\r\n    self.editInput({\r\n        index = 0,\r\n        value = self.getName(),\r\n        tooltip = ttText\r\n    })\r\n    self.editButton({\r\n        index = 0,\r\n        value = tostring(val),\r\n        tooltip = ttText\r\n    })\r\nend\r\n\r\nfunction null()\r\nend\r\n\r\nfunction keepSample(_obj, _string, value)\r\n    reloadAll()\r\nend\r\n",
                  "LuaScriptState": "[true,0]",
                  "XmlUI": ""
                },
                {
                  "GUID": "907bb2",
                  "Name": "Custom_Token",
                  "Transform": {
                    "posX": 20.5000019,
                    "posY": 1.555691,
                    "posZ": 22.0000038,
                    "rotX": 0.0108970087,
                    "rotY": 179.993484,
                    "rotZ": 0.004989699,
                    "scaleX": 0.23,
                    "scaleY": 1.0,
                    "scaleZ": 0.225
                  },
                  "Nickname": "Indices",
                  "Description": "Click gauche - Ajouter\nClick droit - Soustraire",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/784129913444610342/7903BA89870C1656A003FD69C79BFA99BD1AAC24/",
                    "ImageSecondaryURL": "",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomToken": {
                      "Thickness": 0.1,
                      "MergeDistancePixels": 5.0,
                      "StandUp": false,
                      "Stackable": false
                    }
                  },
                  "LuaScript": "MIN_VALUE = -99\r\nMAX_VALUE = 999\r\nlocal ZONE_HANDLER_GUID = 'ef3980'\r\nzoneHandler = getObjectFromGUID(ZONE_HANDLER_GUID)\r\nfunction onload(saved_data)\r\n    light_mode = true\r\n    val = 0\r\n\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        light_mode = loaded_data[1]\r\n        val = loaded_data[2]\r\n    end\r\n\r\n    createAll()\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = { light_mode, val }\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction createAll()\r\n    s_color = { 0, 0, 0, 100 }\r\n\r\n    if light_mode then\r\n        f_color = { 1, 1, 1, 100 }\r\n    else\r\n        f_color = { 0, 0, 0, 100 }\r\n    end\r\n\r\n\r\n\r\n    self.createButton({\r\n        label = tostring(val),\r\n        click_function = \"clickOrAlt_click\",\r\n        function_owner = self,\r\n        position = { 0, 0.05, 0.1 },\r\n        height = 600,\r\n        width = 1000,\r\n        alignment = 3,\r\n        scale = { x = 1.5, y = 1.5, z = 1.5 },\r\n        font_size = 800,\r\n        font_color = f_color,\r\n        color = { 1, 1, 1, 0 }\r\n    })\r\n\r\n\r\n    self.createButton({\r\n        click_function = \"takeClue\",\r\n        function_owner = self,\r\n        label = \"Prendre\",\r\n        position = { 3.5, 0.1, 0 },\r\n        rotation = { 0, 270, 0 },\r\n        scale = { 1.6, 1, 1.6 },\r\n        width = 1600,\r\n        height = 500,\r\n        font_size = 400,\r\n        font_color = { 1, 1, 1 },\r\n        color = { 0, 0, 0 },\r\n        tooltip = \"Prendre un indice (click droit pour reposer)\"\r\n    })\r\n\r\n\r\n\r\n    if light_mode then\r\n        lightButtonText = \"[ Set dark ]\"\r\n    else\r\n        lightButtonText = \"[ Set light ]\"\r\n    end\r\nend\r\n\r\nfunction removeAll()\r\n    self.removeInput(0)\r\n    self.removeInput(1)\r\n    self.removeButton(0)\r\n    self.removeButton(1)\r\n    self.removeButton(2)\r\nend\r\n\r\nfunction reloadAll()\r\n    removeAll()\r\n    createAll()\r\n\r\n    updateSave()\r\nend\r\n\r\nfunction swap_fcolor(_obj, _color, alt_click)\r\n    light_mode = not light_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction swap_align(_obj, _color, alt_click)\r\n    center_mode = not center_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction editName(_obj, _string, value)\r\n    self.setName(value)\r\n    setTooltips()\r\nend\r\n\r\nfunction clickOrAlt_click(_obj, _color, alt_click)\r\n    if alt_click then\r\n        substract()\r\n    else\r\n        add()\r\n    end\r\nend\r\n\r\nfunction substract()\r\n    add_subtract(-1)\r\nend\r\n\r\nfunction add()\r\n    add_subtract(1)\r\nend\r\n\r\nfunction add_subtract(mod)\r\n    new_value = math.min(math.max(val + mod, MIN_VALUE), MAX_VALUE)\r\n    if val ~= new_value then\r\n        val = new_value\r\n        updateVal()\r\n        updateSave()\r\n    end\r\nend\r\n\r\nfunction takeClue(_, color, alt_click)\r\n    if alt_click then\r\n        add()\r\n    else\r\n        substract()\r\n    end\r\n    local params = {}\r\n    params.playerColor = color\r\n    params.zone = 'CounterZone'\r\n    local objects = zoneHandler.call('getObjectsInPlayerZone', params)\r\n    for _, token in ipairs(objects) do\r\n        if token.getName() == \"Indices\" and token.getDescription() == \"Compteur de Joueur\" then\r\n            local cluecounter = token\r\n            if alt_click then\r\n                cluecounter.call('substract')\r\n            else\r\n                cluecounter.call('add')\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateVal()\r\n    self.editButton({\r\n        index = 0,\r\n        label = tostring(val),\r\n    })\r\nend\r\n\r\nfunction reset_val()\r\n    val = 0\r\n    updateVal()\r\n    updateSave()\r\nend\r\n\r\nfunction setTooltips()\r\n    self.editInput({\r\n        index = 0,\r\n        value = self.getName(),\r\n        tooltip = ttText\r\n    })\r\n    self.editButton({\r\n        index = 0,\r\n        value = tostring(val),\r\n        tooltip = ttText\r\n    })\r\nend\r\n\r\nfunction null()\r\nend\r\n\r\nfunction keepSample(_obj, _string, value)\r\n    reloadAll()\r\nend\r\n",
                  "LuaScriptState": "[true,0]",
                  "XmlUI": ""
                },
                {
                  "GUID": "947a9f",
                  "Name": "Custom_Token",
                  "Transform": {
                    "posX": 25.0000019,
                    "posY": 1.55416191,
                    "posZ": 16.0000019,
                    "rotX": 0.0108987046,
                    "rotY": 179.994141,
                    "rotZ": 0.00505086128,
                    "scaleX": 0.23,
                    "scaleY": 1.0,
                    "scaleZ": 0.225
                  },
                  "Nickname": "Indices",
                  "Description": "Click gauche - Ajouter\nClick droit - Soustraire",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": false,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/784129913444610342/7903BA89870C1656A003FD69C79BFA99BD1AAC24/",
                    "ImageSecondaryURL": "",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomToken": {
                      "Thickness": 0.1,
                      "MergeDistancePixels": 5.0,
                      "StandUp": false,
                      "Stackable": false
                    }
                  },
                  "LuaScript": "MIN_VALUE = -99\r\nMAX_VALUE = 999\r\nlocal ZONE_HANDLER_GUID = 'ef3980'\r\nzoneHandler = getObjectFromGUID(ZONE_HANDLER_GUID)\r\nfunction onload(saved_data)\r\n    light_mode = true\r\n    val = 0\r\n\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        light_mode = loaded_data[1]\r\n        val = loaded_data[2]\r\n    end\r\n\r\n    createAll()\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = { light_mode, val }\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction createAll()\r\n    s_color = { 0, 0, 0, 100 }\r\n\r\n    if light_mode then\r\n        f_color = { 1, 1, 1, 100 }\r\n    else\r\n        f_color = { 0, 0, 0, 100 }\r\n    end\r\n\r\n\r\n\r\n    self.createButton({\r\n        label = tostring(val),\r\n        click_function = \"clickOrAlt_click\",\r\n        function_owner = self,\r\n        position = { 0, 0.05, 0.1 },\r\n        height = 600,\r\n        width = 1000,\r\n        alignment = 3,\r\n        scale = { x = 1.5, y = 1.5, z = 1.5 },\r\n        font_size = 800,\r\n        font_color = f_color,\r\n        color = { 1, 1, 1, 0 }\r\n    })\r\n\r\n\r\n    self.createButton({\r\n        click_function = \"takeClue\",\r\n        function_owner = self,\r\n        label = \"Prendre\",\r\n        position = { 3.5, 0.1, 0 },\r\n        rotation = { 0, 270, 0 },\r\n        scale = { 1.6, 1, 1.6 },\r\n        width = 1600,\r\n        height = 500,\r\n        font_size = 400,\r\n        font_color = { 1, 1, 1 },\r\n        color = { 0, 0, 0 },\r\n        tooltip = \"Prendre un indice (click droit pour reposer)\"\r\n    })\r\n\r\n\r\n\r\n    if light_mode then\r\n        lightButtonText = \"[ Set dark ]\"\r\n    else\r\n        lightButtonText = \"[ Set light ]\"\r\n    end\r\nend\r\n\r\nfunction removeAll()\r\n    self.removeInput(0)\r\n    self.removeInput(1)\r\n    self.removeButton(0)\r\n    self.removeButton(1)\r\n    self.removeButton(2)\r\nend\r\n\r\nfunction reloadAll()\r\n    removeAll()\r\n    createAll()\r\n\r\n    updateSave()\r\nend\r\n\r\nfunction swap_fcolor(_obj, _color, alt_click)\r\n    light_mode = not light_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction swap_align(_obj, _color, alt_click)\r\n    center_mode = not center_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction editName(_obj, _string, value)\r\n    self.setName(value)\r\n    setTooltips()\r\nend\r\n\r\nfunction clickOrAlt_click(_obj, _color, alt_click)\r\n    if alt_click then\r\n        substract()\r\n    else\r\n        add()\r\n    end\r\nend\r\n\r\nfunction substract()\r\n    add_subtract(-1)\r\nend\r\n\r\nfunction add()\r\n    add_subtract(1)\r\nend\r\n\r\nfunction add_subtract(mod)\r\n    new_value = math.min(math.max(val + mod, MIN_VALUE), MAX_VALUE)\r\n    if val ~= new_value then\r\n        val = new_value\r\n        updateVal()\r\n        updateSave()\r\n    end\r\nend\r\n\r\nfunction takeClue(_, color, alt_click)\r\n    if alt_click then\r\n        add()\r\n    else\r\n        substract()\r\n    end\r\n    local params = {}\r\n    params.playerColor = color\r\n    params.zone = 'CounterZone'\r\n    local objects = zoneHandler.call('getObjectsInPlayerZone', params)\r\n    for _, token in ipairs(objects) do\r\n        if token.getName() == \"Indices\" and token.getDescription() == \"Compteur de Joueur\" then\r\n            local cluecounter = token\r\n            if alt_click then\r\n                cluecounter.call('substract')\r\n            else\r\n                cluecounter.call('add')\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateVal()\r\n    self.editButton({\r\n        index = 0,\r\n        label = tostring(val),\r\n    })\r\nend\r\n\r\nfunction reset_val()\r\n    val = 0\r\n    updateVal()\r\n    updateSave()\r\nend\r\n\r\nfunction setTooltips()\r\n    self.editInput({\r\n        index = 0,\r\n        value = self.getName(),\r\n        tooltip = ttText\r\n    })\r\n    self.editButton({\r\n        index = 0,\r\n        value = tostring(val),\r\n        tooltip = ttText\r\n    })\r\nend\r\n\r\nfunction null()\r\nend\r\n\r\nfunction keepSample(_obj, _string, value)\r\n    reloadAll()\r\nend\r\n",
                  "LuaScriptState": "[true,0]",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "9724fe",
              "Name": "Custom_Model",
              "Transform": {
                "posX": -21.5,
                "posY": 1.77140021,
                "posZ": 14.0,
                "rotX": 5.28241844E-06,
                "rotY": 0.0006193128,
                "rotZ": -7.221758E-09,
                "scaleX": 1.39999986,
                "scaleY": 1.39999986,
                "scaleZ": 1.39999986
              },
              "Nickname": "Acte 1B",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.0,
                "g": 0.67770046,
                "b": 0.555448532,
                "a": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": false,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": false,
              "Tooltip": false,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/1478820768302617365/27883B7913E0E69143C3AA03493B7E7C4E8C29C0/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 1,
                "TypeIndex": 0,
                "CastShadows": true
              },
              "LuaScript": "-- Code for bag to identify text tool objects\r\nmovableTextTool_cowgoesmoo33 = true\r\n\r\n-- Number of characters before the text box width expands.\r\nEXPAND_INTERVAL = 20\r\n\r\n-- This table controls what is passed between save/load\r\ndata = {}\r\n\r\nfunction onLoad(saved_data)\r\n  if saved_data ~= '' then\r\n    data = JSON.decode(saved_data)\r\n    if data.text ~= '' then\r\n      self.interactable = data.interactable\r\n      staticMode()\r\n      return\r\n    end\r\n  else\r\n    data = {size=200, color=Color(0,0,0), text='', interactable=true,\r\n        enter_to_finish=false, autolock=false, autolift=false,\r\n        hover_height=0.05, box_transparency=1}\r\n  end\r\n\r\n  inputMode()\r\nend\r\n\r\n-- True if in the middle of delay after pressing Enter (with enter_to_finish on)\r\nfinishing = false\r\nfunction input_func(obj, color, input, stillEditing)\r\n  local params = getBox(input)\r\n  if params then\r\n    params.value = input\r\n    self.editInput(params)\r\n  end\r\n\r\n  if not stillEditing then\r\n    data.text = input\r\n    updateState()\r\n    if input ~= '' then staticMode(color) end\r\n  elseif data.enter_to_finish then\r\n    -- If enter is pressed: remove last newline and force finish\r\n    if not finishing and input:sub(-1) == '\\n' then\r\n      finishing = true\r\n      -- Delay to avoid user's Enter keypress being detected (opens chat box)\r\n      Wait.frames(function()\r\n        input = input:sub(1, -2)\r\n        data.text = input\r\n        updateState()\r\n        if input ~= '' then staticMode(color) else inputMode() end\r\n        finishing = false\r\n      end, 10)\r\n    end\r\n  end\r\nend\r\n\r\n-- When the inpupt box appears and lets the player type in it.\r\nfunction inputMode()\r\n  self.clearContextMenu()\r\n  self.clearInputs()\r\n  self.clearButtons()\r\n\r\n  local size = getBox(data.text, true)\r\n\r\n  self.createInput({\r\n    input_function = \"input_func\",\r\n    function_owner = self,\r\n    label          = \"Type Here\",\r\n    alignment      = 3,\r\n    position       = {x=0, y=data.hover_height, z=0},\r\n    rotation       = {0, 180, 0},\r\n    width          = size.width,\r\n    height         = size.height,\r\n    color          = getBackground(data.color),\r\n    font_color     = data.color,\r\n    font_size      = data.size,\r\n    value          = data.text,\r\n  })\r\n\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\nend\r\n\r\n-- When the input box disappears and displays the text.\r\nfunction staticMode(player)\r\n  self.clearContextMenu()\r\n  if data.autolock then\r\n    self.locked = true\r\n  end\r\n  if self.getInputs() and #self.getInputs() ~= 0 then\r\n    self.removeInput(0)\r\n  end\r\n\r\n  -- Clear from selecting player\r\n  if player then\r\n    self.removeFromPlayerSelection(player)\r\n  end\r\n\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  self.createButton({\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=self,\r\n    position={0,data.hover_height,0}, rotation={0,180,0}, height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  })\r\n\r\n  self.addContextMenuItem('Edit Text', function(color)\r\n    self.removeFromPlayerSelection(color)\r\n    inputMode()\r\n  end)\r\n  self.addContextMenuItem('Clear', function(color)\r\n    applyMultiple(color, 'clear', _, true)\r\n  end)\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\n  self.addContextMenuItem('Permanently Attach', attemptAttach)\r\n  self.addContextMenuItem('Permalock', function(color)\r\n    applyMultiple(color, 'permalock', _, true)\r\n  end)\r\nend\r\n\r\nfunction changeSize(params)\r\n  local delta = params[1]\r\n  local newSize = data.size + delta\r\n  if newSize > 800  or newSize < 50 then\r\n    return\r\n  end\r\n  data.size = newSize\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_size=data.size})\r\n  else\r\n    local size = getBox(data.text, true)\r\n    self.editInput({width=size.width, height=size.height, font_size=data.size})\r\n  end\r\nend\r\n\r\nfunction setColor(params)\r\n  if params and params[1] then\r\n    data.color = params[1]\r\n  else\r\n    data.color = self.getColorTint():setAt('a', 1) -- Take on color of object tint\r\n  end\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_color=data.color})\r\n  else\r\n    self.editInput({font_color=data.color, color=getBackground(data.color)})\r\n  end\r\nend\r\n\r\nfunction getBackground(color) --determines whether to use black or white depending on luminance\r\n  local r,g,b = Color(color):get()\r\n\r\n  local lum = 0.2126*r + 0.7152*g + 0.0722*b\r\n  if lum > 0.75 then\r\n    return {0.2,0.2,0.2, data.box_transparency}\r\n  else\r\n    return {1,1,1, data.box_transparency}\r\n  end\r\nend\r\n\r\nfunction clear()\r\n  data.text = ''\r\n  updateState()\r\n  inputMode()\r\nend\r\n\r\nfunction permalock()\r\n  self.interactable = false\r\n  data.interactable = false\r\n  updateState()\r\nend\r\n\r\nlocal target_script = [[\r\nfunction onLoad(script_state)\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    for _,entry in ipairs(state) do\r\n      self.createButton(entry)\r\n    end\r\n    self.addContextMenuItem('Clear All Text', function(color)\r\n      self.clearContextMenu()\r\n      self.clearButtons()\r\n      self.script_state = ''\r\n      self.script_code = ''\r\n    end)\r\n  end\r\nend\r\n]]\r\n\r\nfunction attemptAttach(player_color)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  local attachee\r\n  local attachers = {}\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if obj ~= self then\r\n        table.insert(attachers, obj)\r\n      end\r\n    else\r\n      if attachee then\r\n        broadcastToColor(\"More than one target selected.\", player_color)\r\n        return\r\n      else\r\n        attachee = obj\r\n      end\r\n    end\r\n  end\r\n  if attachee then\r\n    local code = attachee.script_code\r\n    if code and code ~= '' and code ~= target_script then\r\n      broadcastToColor(\"Warning: script on card has been overriden. Rewind time to undo.\", player_color)\r\n    end\r\n    for i,attacher in ipairs(attachers) do\r\n      attacher.call('attach', {target = attachee})\r\n    end\r\n    attach({target = attachee})\r\n    local type, flip = attachee.type, attachee.getRotation().z\r\n    if (type == 'Card' or type == 'Deck') and flip > 175 and flip < 185 then\r\n      broadcastToColor(\"Warning: text will not display if card or deck is facing down.\", player_color)\r\n    end\r\n  else\r\n    broadcastToColor(\"You must have a target object in your selection (using click-and-drag or Ctrl+Click) to use this option.\", player_color)\r\n  end\r\nend\r\n\r\nfunction attach(params)\r\n  local target = params.target\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  local textRotation = self.getRotation():sub(target.getRotation())\r\n    :add(Vector(180, 0, 180))\r\n\r\n  local textPosition = target.positionToLocal(\r\n    self.getPosition():add(Vector(0, data.hover_height, 0))\r\n  )\r\n  textPosition.x = -textPosition.x\r\n\r\n  local textScale = {}\r\n  textScale.x = self.getScale().x / target.getScale().x\r\n  textScale.y = self.getScale().x / target.getScale().y\r\n  textScale.z = self.getScale().x / target.getScale().z\r\n\r\n  local details = {\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=nil,\r\n    position=textPosition,\r\n    rotation=textRotation,\r\n    scale=textScale,\r\n    height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  }\r\n\r\n  target.createButton(details)\r\n\r\n  local script_state = target.script_state\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    table.insert(state, details)\r\n    target.script_state = JSON.encode(state)\r\n  else\r\n    target.script_state = JSON.encode({[1]=details})\r\n  end\r\n\r\n  target.script_code = target_script\r\n\r\n  self.destruct()\r\nend\r\n\r\nfunction applyMultiple(player_color, func_string, params, static_only)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if not static_only or obj.call('isStatic') then\r\n        obj.call(func_string, params)\r\n      end\r\n    end\r\n  end\r\nend\r\n\r\nfunction isStatic()\r\n  local input = self.getInputs()\r\n  return not input or #input == 0\r\nend\r\n\r\nfunction getBox(input, force)\r\n  local maxLength, lineCount = EXPAND_INTERVAL, 1\r\n  local lineLength = 0\r\n  for i = 1, #input do\r\n    local c = input:sub(i,i)\r\n    if c == '\\n' then\r\n      lineCount = lineCount + 1\r\n      if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n      lineLength = 0\r\n    else\r\n      lineLength = lineLength + 1\r\n    end\r\n  end\r\n  if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n\r\n  newWidth = data.size * maxLength * 0.9\r\n  newHeight = data.size * lineCount + 23\r\n\r\n  if force or boxWidth ~= newWidth or boxHeight ~= newHeight then\r\n    boxWidth, boxHeight = newWidth, newHeight\r\n    return {width = boxWidth, height = boxHeight}\r\n  end\r\n  return nil\r\nend\r\n\r\ntemp_lift = nil\r\nfunction onPickUp(player_color)\r\n  if data.autolift then\r\n    local player = Player[player_color]\r\n    temp_lift = player.lift_height\r\n    player.lift_height = 0\r\n  end\r\nend\r\n\r\nfunction onDrop(player_color)\r\n  if data.autolift and temp_lift then\r\n    Player[player_color].lift_height = temp_lift\r\n  end\r\nend\r\n\r\n-- Should be called every time data is modified, allows info to be saved on copy/paste\r\nfunction updateState()\r\n  self.script_state = JSON.encode(data)\r\nend\r\n\r\nfunction onSave()\r\n  self.script_state = JSON.encode(data)\r\n  return self.script_state\r\nend",
              "LuaScriptState": "{\"autolift\":false,\"autolock\":false,\"box_transparency\":1,\"color\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1},\"enter_to_finish\":false,\"hover_height\":0.05,\"interactable\":true,\"size\":200,\"text\":\"Passage de l'acte 1B\\nPlacement des lieux Vallée\"}",
              "XmlUI": ""
            },
            {
              "GUID": "98830f",
              "Name": "Custom_Model_Bag",
              "Transform": {
                "posX": -32.5000076,
                "posY": 1.84000087,
                "posZ": 6.999997,
                "rotX": -3.5795947E-06,
                "rotY": 179.983612,
                "rotZ": -1.75236359E-08,
                "scaleX": 0.7,
                "scaleY": 0.7,
                "scaleZ": 0.7
              },
              "Nickname": "Soutiens/faiblesses d'histoire",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "CustomMesh": {
                "MeshURL": "https://pastebin.com/raw/ALrYhQGb",
                "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/5077277234347423622/F89B4508C6E2782780C2B5593FB68379E0FB2DB6/",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 6,
                "CustomShader": {
                  "SpecularColor": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "SpecularIntensity": 0.0,
                  "SpecularSharpness": 2.0,
                  "FresnelStrength": 0.0
                },
                "CastShadows": true
              },
              "Bag": {
                "Order": 0
              },
              "LuaScript": "",
              "LuaScriptState": "{\"ml\":[]}",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "f7fcd4",
                  "Name": "Card",
                  "Transform": {
                    "posX": -32.5,
                    "posY": 1.96895087,
                    "posZ": 7.000997,
                    "rotX": 357.3395,
                    "rotY": 179.996445,
                    "rotZ": -0.000415193936,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Faux Réveil",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Neutral\",\n  \"cycle\": \"The Dream-Eaters\",\n  \"id\": \"06275\",\n  \"traits\": \"Curse.\",\n  \"type\": \"Treachery\",\n  \"weakness\": \"true\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276513,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2765": {
                      "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                      "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "9bea59",
              "Name": "Custom_Model",
              "Transform": {
                "posX": -31.5000343,
                "posY": 1.77140021,
                "posZ": 13.9999781,
                "rotX": 4.938106E-06,
                "rotY": 359.967377,
                "rotZ": 2.22602566E-07,
                "scaleX": 1.39999986,
                "scaleY": 1.39999986,
                "scaleZ": 1.39999986
              },
              "Nickname": "Acte 2B",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.0,
                "g": 0.67770046,
                "b": 0.555448532,
                "a": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": true,
              "Grid": true,
              "Snap": false,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": false,
              "Tooltip": false,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/1478820768302617365/27883B7913E0E69143C3AA03493B7E7C4E8C29C0/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 1,
                "TypeIndex": 0,
                "CastShadows": true
              },
              "LuaScript": "-- Code for bag to identify text tool objects\r\nmovableTextTool_cowgoesmoo33 = true\r\n\r\n-- Number of characters before the text box width expands.\r\nEXPAND_INTERVAL = 20\r\n\r\n-- This table controls what is passed between save/load\r\ndata = {}\r\n\r\nfunction onLoad(saved_data)\r\n  if saved_data ~= '' then\r\n    data = JSON.decode(saved_data)\r\n    if data.text ~= '' then\r\n      self.interactable = data.interactable\r\n      staticMode()\r\n      return\r\n    end\r\n  else\r\n    data = {size=200, color=Color(0,0,0), text='', interactable=true,\r\n        enter_to_finish=false, autolock=false, autolift=false,\r\n        hover_height=0.05, box_transparency=1}\r\n  end\r\n\r\n  inputMode()\r\nend\r\n\r\n-- True if in the middle of delay after pressing Enter (with enter_to_finish on)\r\nfinishing = false\r\nfunction input_func(obj, color, input, stillEditing)\r\n  local params = getBox(input)\r\n  if params then\r\n    params.value = input\r\n    self.editInput(params)\r\n  end\r\n\r\n  if not stillEditing then\r\n    data.text = input\r\n    updateState()\r\n    if input ~= '' then staticMode(color) end\r\n  elseif data.enter_to_finish then\r\n    -- If enter is pressed: remove last newline and force finish\r\n    if not finishing and input:sub(-1) == '\\n' then\r\n      finishing = true\r\n      -- Delay to avoid user's Enter keypress being detected (opens chat box)\r\n      Wait.frames(function()\r\n        input = input:sub(1, -2)\r\n        data.text = input\r\n        updateState()\r\n        if input ~= '' then staticMode(color) else inputMode() end\r\n        finishing = false\r\n      end, 10)\r\n    end\r\n  end\r\nend\r\n\r\n-- When the inpupt box appears and lets the player type in it.\r\nfunction inputMode()\r\n  self.clearContextMenu()\r\n  self.clearInputs()\r\n  self.clearButtons()\r\n\r\n  local size = getBox(data.text, true)\r\n\r\n  self.createInput({\r\n    input_function = \"input_func\",\r\n    function_owner = self,\r\n    label          = \"Type Here\",\r\n    alignment      = 3,\r\n    position       = {x=0, y=data.hover_height, z=0},\r\n    rotation       = {0, 180, 0},\r\n    width          = size.width,\r\n    height         = size.height,\r\n    color          = getBackground(data.color),\r\n    font_color     = data.color,\r\n    font_size      = data.size,\r\n    value          = data.text,\r\n  })\r\n\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\nend\r\n\r\n-- When the input box disappears and displays the text.\r\nfunction staticMode(player)\r\n  self.clearContextMenu()\r\n  if data.autolock then\r\n    self.locked = true\r\n  end\r\n  if self.getInputs() and #self.getInputs() ~= 0 then\r\n    self.removeInput(0)\r\n  end\r\n\r\n  -- Clear from selecting player\r\n  if player then\r\n    self.removeFromPlayerSelection(player)\r\n  end\r\n\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  self.createButton({\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=self,\r\n    position={0,data.hover_height,0}, rotation={0,180,0}, height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  })\r\n\r\n  self.addContextMenuItem('Edit Text', function(color)\r\n    self.removeFromPlayerSelection(color)\r\n    inputMode()\r\n  end)\r\n  self.addContextMenuItem('Clear', function(color)\r\n    applyMultiple(color, 'clear', _, true)\r\n  end)\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\n  self.addContextMenuItem('Permanently Attach', attemptAttach)\r\n  self.addContextMenuItem('Permalock', function(color)\r\n    applyMultiple(color, 'permalock', _, true)\r\n  end)\r\nend\r\n\r\nfunction changeSize(params)\r\n  local delta = params[1]\r\n  local newSize = data.size + delta\r\n  if newSize > 800  or newSize < 50 then\r\n    return\r\n  end\r\n  data.size = newSize\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_size=data.size})\r\n  else\r\n    local size = getBox(data.text, true)\r\n    self.editInput({width=size.width, height=size.height, font_size=data.size})\r\n  end\r\nend\r\n\r\nfunction setColor(params)\r\n  if params and params[1] then\r\n    data.color = params[1]\r\n  else\r\n    data.color = self.getColorTint():setAt('a', 1) -- Take on color of object tint\r\n  end\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_color=data.color})\r\n  else\r\n    self.editInput({font_color=data.color, color=getBackground(data.color)})\r\n  end\r\nend\r\n\r\nfunction getBackground(color) --determines whether to use black or white depending on luminance\r\n  local r,g,b = Color(color):get()\r\n\r\n  local lum = 0.2126*r + 0.7152*g + 0.0722*b\r\n  if lum > 0.75 then\r\n    return {0.2,0.2,0.2, data.box_transparency}\r\n  else\r\n    return {1,1,1, data.box_transparency}\r\n  end\r\nend\r\n\r\nfunction clear()\r\n  data.text = ''\r\n  updateState()\r\n  inputMode()\r\nend\r\n\r\nfunction permalock()\r\n  self.interactable = false\r\n  data.interactable = false\r\n  updateState()\r\nend\r\n\r\nlocal target_script = [[\r\nfunction onLoad(script_state)\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    for _,entry in ipairs(state) do\r\n      self.createButton(entry)\r\n    end\r\n    self.addContextMenuItem('Clear All Text', function(color)\r\n      self.clearContextMenu()\r\n      self.clearButtons()\r\n      self.script_state = ''\r\n      self.script_code = ''\r\n    end)\r\n  end\r\nend\r\n]]\r\n\r\nfunction attemptAttach(player_color)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  local attachee\r\n  local attachers = {}\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if obj ~= self then\r\n        table.insert(attachers, obj)\r\n      end\r\n    else\r\n      if attachee then\r\n        broadcastToColor(\"More than one target selected.\", player_color)\r\n        return\r\n      else\r\n        attachee = obj\r\n      end\r\n    end\r\n  end\r\n  if attachee then\r\n    local code = attachee.script_code\r\n    if code and code ~= '' and code ~= target_script then\r\n      broadcastToColor(\"Warning: script on card has been overriden. Rewind time to undo.\", player_color)\r\n    end\r\n    for i,attacher in ipairs(attachers) do\r\n      attacher.call('attach', {target = attachee})\r\n    end\r\n    attach({target = attachee})\r\n    local type, flip = attachee.type, attachee.getRotation().z\r\n    if (type == 'Card' or type == 'Deck') and flip > 175 and flip < 185 then\r\n      broadcastToColor(\"Warning: text will not display if card or deck is facing down.\", player_color)\r\n    end\r\n  else\r\n    broadcastToColor(\"You must have a target object in your selection (using click-and-drag or Ctrl+Click) to use this option.\", player_color)\r\n  end\r\nend\r\n\r\nfunction attach(params)\r\n  local target = params.target\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  local textRotation = self.getRotation():sub(target.getRotation())\r\n    :add(Vector(180, 0, 180))\r\n\r\n  local textPosition = target.positionToLocal(\r\n    self.getPosition():add(Vector(0, data.hover_height, 0))\r\n  )\r\n  textPosition.x = -textPosition.x\r\n\r\n  local textScale = {}\r\n  textScale.x = self.getScale().x / target.getScale().x\r\n  textScale.y = self.getScale().x / target.getScale().y\r\n  textScale.z = self.getScale().x / target.getScale().z\r\n\r\n  local details = {\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=nil,\r\n    position=textPosition,\r\n    rotation=textRotation,\r\n    scale=textScale,\r\n    height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  }\r\n\r\n  target.createButton(details)\r\n\r\n  local script_state = target.script_state\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    table.insert(state, details)\r\n    target.script_state = JSON.encode(state)\r\n  else\r\n    target.script_state = JSON.encode({[1]=details})\r\n  end\r\n\r\n  target.script_code = target_script\r\n\r\n  self.destruct()\r\nend\r\n\r\nfunction applyMultiple(player_color, func_string, params, static_only)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if not static_only or obj.call('isStatic') then\r\n        obj.call(func_string, params)\r\n      end\r\n    end\r\n  end\r\nend\r\n\r\nfunction isStatic()\r\n  local input = self.getInputs()\r\n  return not input or #input == 0\r\nend\r\n\r\nfunction getBox(input, force)\r\n  local maxLength, lineCount = EXPAND_INTERVAL, 1\r\n  local lineLength = 0\r\n  for i = 1, #input do\r\n    local c = input:sub(i,i)\r\n    if c == '\\n' then\r\n      lineCount = lineCount + 1\r\n      if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n      lineLength = 0\r\n    else\r\n      lineLength = lineLength + 1\r\n    end\r\n  end\r\n  if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n\r\n  newWidth = data.size * maxLength * 0.9\r\n  newHeight = data.size * lineCount + 23\r\n\r\n  if force or boxWidth ~= newWidth or boxHeight ~= newHeight then\r\n    boxWidth, boxHeight = newWidth, newHeight\r\n    return {width = boxWidth, height = boxHeight}\r\n  end\r\n  return nil\r\nend\r\n\r\ntemp_lift = nil\r\nfunction onPickUp(player_color)\r\n  if data.autolift then\r\n    local player = Player[player_color]\r\n    temp_lift = player.lift_height\r\n    player.lift_height = 0\r\n  end\r\nend\r\n\r\nfunction onDrop(player_color)\r\n  if data.autolift and temp_lift then\r\n    Player[player_color].lift_height = temp_lift\r\n  end\r\nend\r\n\r\n-- Should be called every time data is modified, allows info to be saved on copy/paste\r\nfunction updateState()\r\n  self.script_state = JSON.encode(data)\r\nend\r\n\r\nfunction onSave()\r\n  self.script_state = JSON.encode(data)\r\n  return self.script_state\r\nend",
              "LuaScriptState": "{\"autolift\":false,\"autolock\":false,\"box_transparency\":1,\"color\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1},\"enter_to_finish\":false,\"hover_height\":0.05,\"interactable\":true,\"size\":200,\"text\":\"Passage de l'acte 2B\\nPlacement des lieux Profondeurs\"}",
              "XmlUI": ""
            },
            {
              "GUID": "9cda71",
              "Name": "Custom_Token",
              "Transform": {
                "posX": -28.4999218,
                "posY": 1.84715819,
                "posZ": 2.49992466,
                "rotX": -0.000239908841,
                "rotY": 179.992569,
                "rotZ": 0.00144895981,
                "scaleX": 0.23,
                "scaleY": 1.0,
                "scaleZ": 0.225
              },
              "Nickname": "Indices",
              "Description": "Click gauche - Ajouter\nClick droit - Soustraire",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": false,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/784129913444610342/7903BA89870C1656A003FD69C79BFA99BD1AAC24/",
                "ImageSecondaryURL": "",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomToken": {
                  "Thickness": 0.1,
                  "MergeDistancePixels": 5.0,
                  "StandUp": false,
                  "Stackable": false
                }
              },
              "LuaScript": "MIN_VALUE = -99\r\nMAX_VALUE = 999\r\nlocal ZONE_HANDLER_GUID = 'ef3980'\r\nzoneHandler = getObjectFromGUID(ZONE_HANDLER_GUID)\r\nfunction onload(saved_data)\r\n    light_mode = true\r\n    val = 0\r\n\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        light_mode = loaded_data[1]\r\n        val = loaded_data[2]\r\n    end\r\n\r\n    createAll()\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = { light_mode, val }\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction createAll()\r\n    s_color = { 0, 0, 0, 100 }\r\n\r\n    if light_mode then\r\n        f_color = { 1, 1, 1, 100 }\r\n    else\r\n        f_color = { 0, 0, 0, 100 }\r\n    end\r\n\r\n\r\n\r\n    self.createButton({\r\n        label = tostring(val),\r\n        click_function = \"clickOrAlt_click\",\r\n        function_owner = self,\r\n        position = { 0, 0.05, 0.1 },\r\n        height = 600,\r\n        width = 1000,\r\n        alignment = 3,\r\n        scale = { x = 1.5, y = 1.5, z = 1.5 },\r\n        font_size = 800,\r\n        font_color = f_color,\r\n        color = { 1, 1, 1, 0 }\r\n    })\r\n\r\n\r\n    self.createButton({\r\n        click_function = \"takeClue\",\r\n        function_owner = self,\r\n        label = \"Prendre\",\r\n        position = { 3.5, 0.1, 0 },\r\n        rotation = { 0, 270, 0 },\r\n        scale = { 1.6, 1, 1.6 },\r\n        width = 1600,\r\n        height = 500,\r\n        font_size = 400,\r\n        font_color = { 1, 1, 1 },\r\n        color = { 0, 0, 0 },\r\n        tooltip = \"Prendre un indice (click droit pour reposer)\"\r\n    })\r\n\r\n\r\n\r\n    if light_mode then\r\n        lightButtonText = \"[ Set dark ]\"\r\n    else\r\n        lightButtonText = \"[ Set light ]\"\r\n    end\r\nend\r\n\r\nfunction removeAll()\r\n    self.removeInput(0)\r\n    self.removeInput(1)\r\n    self.removeButton(0)\r\n    self.removeButton(1)\r\n    self.removeButton(2)\r\nend\r\n\r\nfunction reloadAll()\r\n    removeAll()\r\n    createAll()\r\n\r\n    updateSave()\r\nend\r\n\r\nfunction swap_fcolor(_obj, _color, alt_click)\r\n    light_mode = not light_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction swap_align(_obj, _color, alt_click)\r\n    center_mode = not center_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction editName(_obj, _string, value)\r\n    self.setName(value)\r\n    setTooltips()\r\nend\r\n\r\nfunction clickOrAlt_click(_obj, _color, alt_click)\r\n    if alt_click then\r\n        substract()\r\n    else\r\n        add()\r\n    end\r\nend\r\n\r\nfunction substract()\r\n    add_subtract(-1)\r\nend\r\n\r\nfunction add()\r\n    add_subtract(1)\r\nend\r\n\r\nfunction add_subtract(mod)\r\n    new_value = math.min(math.max(val + mod, MIN_VALUE), MAX_VALUE)\r\n    if val ~= new_value then\r\n        val = new_value\r\n        updateVal()\r\n        updateSave()\r\n    end\r\nend\r\n\r\nfunction takeClue(_, color, alt_click)\r\n    if alt_click then\r\n        add()\r\n    else\r\n        substract()\r\n    end\r\n    local params = {}\r\n    params.playerColor = color\r\n    params.zone = 'CounterZone'\r\n    local objects = zoneHandler.call('getObjectsInPlayerZone', params)\r\n    for _, token in ipairs(objects) do\r\n        if token.getName() == \"Indices\" and token.getDescription() == \"Compteur de Joueur\" then\r\n            local cluecounter = token\r\n            if alt_click then\r\n                cluecounter.call('substract')\r\n            else\r\n                cluecounter.call('add')\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateVal()\r\n    self.editButton({\r\n        index = 0,\r\n        label = tostring(val),\r\n    })\r\nend\r\n\r\nfunction reset_val()\r\n    val = 0\r\n    updateVal()\r\n    updateSave()\r\nend\r\n\r\nfunction setTooltips()\r\n    self.editInput({\r\n        index = 0,\r\n        value = self.getName(),\r\n        tooltip = ttText\r\n    })\r\n    self.editButton({\r\n        index = 0,\r\n        value = tostring(val),\r\n        tooltip = ttText\r\n    })\r\nend\r\n\r\nfunction null()\r\nend\r\n\r\nfunction keepSample(_obj, _string, value)\r\n    reloadAll()\r\nend\r\n",
              "LuaScriptState": "[true,0]",
              "XmlUI": ""
            },
            {
              "GUID": "9e57e9",
              "Name": "Card",
              "Transform": {
                "posX": -7.499938,
                "posY": 1.51951647,
                "posZ": 10.4999866,
                "rotX": 0.0110382587,
                "rotY": 179.674225,
                "rotZ": 0.00408331724,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Ville des Gugs",
              "Description": "",
              "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06255\",\n  \"locationFront\": {\n    \"connections\": \"Heart|Tilde|Crescent\",\n    \"icons\": \"Tee\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    },\n    \"victory\": 1\n  },\n  \"type\": \"Location\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276502,
              "SidewaysCard": false,
              "CustomDeck": {
                "2765": {
                  "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                  "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "a1d26c",
              "Name": "Custom_Tile",
              "Transform": {
                "posX": -3.50010324,
                "posY": 1.50529277,
                "posZ": 8.999987,
                "rotX": 0.009732318,
                "rotY": 120.006989,
                "rotZ": 359.993042,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.6045295,
                "g": 0.6045295,
                "b": 0.6045295
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://i.imgur.com/vppt2my.png",
                "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomTile": {
                  "Type": 3,
                  "Thickness": 0.1,
                  "Stackable": false,
                  "Stretch": true
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "States": {
                "2": {
                  "GUID": "44b0c5",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -39.7933121,
                    "posY": 1.63758957,
                    "posZ": 2.038383,
                    "rotX": 359.9201,
                    "rotY": 269.9961,
                    "rotZ": 0.0168742146,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                "3": {
                  "GUID": "5b38c6",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -38.8217163,
                    "posY": 1.99356019,
                    "posZ": 0.4159239,
                    "rotX": 359.9201,
                    "rotY": 272.9828,
                    "rotZ": 0.01687373,
                    "scaleX": 0.8,
                    "scaleY": 1.0,
                    "scaleZ": 0.8
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              }
            },
            {
              "GUID": "a9d181",
              "Name": "Custom_Tile",
              "Transform": {
                "posX": -7.500147,
                "posY": 1.50677872,
                "posZ": 15.0000572,
                "rotX": 0.0108915884,
                "rotY": 179.999329,
                "rotZ": 0.00495156,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.6045295,
                "g": 0.6045295,
                "b": 0.6045295
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://i.imgur.com/vppt2my.png",
                "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomTile": {
                  "Type": 3,
                  "Thickness": 0.1,
                  "Stackable": false,
                  "Stretch": true
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "States": {
                "2": {
                  "GUID": "44b0c5",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -39.7933121,
                    "posY": 1.63758957,
                    "posZ": 2.038383,
                    "rotX": 359.9201,
                    "rotY": 269.9961,
                    "rotZ": 0.0168742146,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                "3": {
                  "GUID": "5b38c6",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -38.8217163,
                    "posY": 1.99356019,
                    "posZ": 0.4159239,
                    "rotX": 359.9201,
                    "rotY": 272.9828,
                    "rotZ": 0.01687373,
                    "scaleX": 0.8,
                    "scaleY": 1.0,
                    "scaleZ": 0.8
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              }
            },
            {
              "GUID": "acf40e",
              "Name": "Deck",
              "Transform": {
                "posX": -20.5,
                "posY": 1.81018758,
                "posZ": 6.99998856,
                "rotX": -5.056062E-06,
                "rotY": 180.0031,
                "rotZ": 3.211902E-08,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Terreur de la Vallée",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": false,
              "SidewaysCard": false,
              "DeckIDs": [
                278204,
                278203,
                278206,
                278207
              ],
              "CustomDeck": {
                "2782": {
                  "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "9f7df8",
                  "Name": "Card",
                  "Transform": {
                    "posX": -20.5001526,
                    "posY": 4.86089134,
                    "posZ": 6.9998,
                    "rotX": -5.241352E-06,
                    "rotY": 180.00383,
                    "rotZ": 3.3575995E-07,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Tunnel de Dhole",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06272\",\n  \"traits\": \"Hazard.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 278204,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2782": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "a310fd",
                  "Name": "Card",
                  "Transform": {
                    "posX": -20.5001526,
                    "posY": 5.06089163,
                    "posZ": 6.9998,
                    "rotX": -5.241352E-06,
                    "rotY": 180.00383,
                    "rotZ": 3.3575995E-07,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Tunnel de Dhole",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06272\",\n  \"traits\": \"Hazard.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 278203,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2782": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "a49cdf",
                  "Name": "Card",
                  "Transform": {
                    "posX": -20.5001526,
                    "posY": 4.905198,
                    "posZ": 6.9998,
                    "rotX": -5.18992556E-06,
                    "rotY": 180.00383,
                    "rotZ": 2.91517381E-07,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Tunnel de Dhole",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06272\",\n  \"traits\": \"Hazard.\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 278206,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2782": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "a35352",
                  "Name": "Card",
                  "Transform": {
                    "posX": -20.5001526,
                    "posY": 1.88598347,
                    "posZ": 6.9998,
                    "rotX": -0.00238658534,
                    "rotY": 180.00383,
                    "rotZ": -0.00105035934,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Dhole Rampant",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 5,\n  \"id\": \"06271\",\n  \"traits\": \"Monster. Dhole. Elite.\",\n  \"type\": \"Enemy\",\n  \"victory\": 1\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 278207,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2782": {
                      "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "b01719",
              "Name": "Custom_Tile",
              "Transform": {
                "posX": -7.50000334,
                "posY": 1.50506783,
                "posZ": 6.000002,
                "rotX": 359.9891,
                "rotY": -0.00315387826,
                "rotZ": -0.00495265,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.6045295,
                "g": 0.6045295,
                "b": 0.6045295
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://i.imgur.com/vppt2my.png",
                "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomTile": {
                  "Type": 3,
                  "Thickness": 0.1,
                  "Stackable": false,
                  "Stretch": true
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "States": {
                "2": {
                  "GUID": "44b0c5",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": 4.49999762,
                    "posY": 1.62485206,
                    "posZ": 1.50000119,
                    "rotX": -6.58631543E-05,
                    "rotY": 89.9999847,
                    "rotZ": -1.37363841E-05,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                "3": {
                  "GUID": "5b38c6",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": 4.499999,
                    "posY": 1.62485206,
                    "posZ": 1.500001,
                    "rotX": -6.621755E-05,
                    "rotY": 89.99999,
                    "rotZ": -1.33704079E-05,
                    "scaleX": 0.8,
                    "scaleY": 1.0,
                    "scaleZ": 0.8
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              }
            },
            {
              "GUID": "b22d1e",
              "Name": "Custom_Model",
              "Transform": {
                "posX": -31.0000038,
                "posY": 1.77139974,
                "posZ": 19.9999981,
                "rotX": 4.96301254E-06,
                "rotY": 0.000226662029,
                "rotZ": 2.8586E-07,
                "scaleX": 1.39999986,
                "scaleY": 1.39999986,
                "scaleZ": 1.39999986
              },
              "Nickname": "Randolph n'a pas survécu...",
              "Description": "Placer l'acte 1a v.II si Randoph n'a jpas survécu à la descente",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.0,
                "g": 0.67770046,
                "b": 0.555448532,
                "a": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": true,
              "Grid": true,
              "Snap": false,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": false,
              "Tooltip": false,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/1478820768302617365/27883B7913E0E69143C3AA03493B7E7C4E8C29C0/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 1,
                "TypeIndex": 0,
                "CastShadows": true
              },
              "LuaScript": "-- Code for bag to identify text tool objects\r\nmovableTextTool_cowgoesmoo33 = true\r\n\r\n-- Number of characters before the text box width expands.\r\nEXPAND_INTERVAL = 20\r\n\r\n-- This table controls what is passed between save/load\r\ndata = {}\r\n\r\nfunction onLoad(saved_data)\r\n  if saved_data ~= '' then\r\n    data = JSON.decode(saved_data)\r\n    if data.text ~= '' then\r\n      self.interactable = data.interactable\r\n      staticMode()\r\n      return\r\n    end\r\n  else\r\n    data = {size=200, color=Color(0,0,0), text='', interactable=true,\r\n        enter_to_finish=false, autolock=false, autolift=false,\r\n        hover_height=0.05, box_transparency=1}\r\n  end\r\n\r\n  inputMode()\r\nend\r\n\r\n-- True if in the middle of delay after pressing Enter (with enter_to_finish on)\r\nfinishing = false\r\nfunction input_func(obj, color, input, stillEditing)\r\n  local params = getBox(input)\r\n  if params then\r\n    params.value = input\r\n    self.editInput(params)\r\n  end\r\n\r\n  if not stillEditing then\r\n    data.text = input\r\n    updateState()\r\n    if input ~= '' then staticMode(color) end\r\n  elseif data.enter_to_finish then\r\n    -- If enter is pressed: remove last newline and force finish\r\n    if not finishing and input:sub(-1) == '\\n' then\r\n      finishing = true\r\n      -- Delay to avoid user's Enter keypress being detected (opens chat box)\r\n      Wait.frames(function()\r\n        input = input:sub(1, -2)\r\n        data.text = input\r\n        updateState()\r\n        if input ~= '' then staticMode(color) else inputMode() end\r\n        finishing = false\r\n      end, 10)\r\n    end\r\n  end\r\nend\r\n\r\n-- When the inpupt box appears and lets the player type in it.\r\nfunction inputMode()\r\n  self.clearContextMenu()\r\n  self.clearInputs()\r\n  self.clearButtons()\r\n\r\n  local size = getBox(data.text, true)\r\n\r\n  self.createInput({\r\n    input_function = \"input_func\",\r\n    function_owner = self,\r\n    label          = \"Type Here\",\r\n    alignment      = 3,\r\n    position       = {x=0, y=data.hover_height, z=0},\r\n    rotation       = {0, 180, 0},\r\n    width          = size.width,\r\n    height         = size.height,\r\n    color          = getBackground(data.color),\r\n    font_color     = data.color,\r\n    font_size      = data.size,\r\n    value          = data.text,\r\n  })\r\n\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\nend\r\n\r\n-- When the input box disappears and displays the text.\r\nfunction staticMode(player)\r\n  self.clearContextMenu()\r\n  if data.autolock then\r\n    self.locked = true\r\n  end\r\n  if self.getInputs() and #self.getInputs() ~= 0 then\r\n    self.removeInput(0)\r\n  end\r\n\r\n  -- Clear from selecting player\r\n  if player then\r\n    self.removeFromPlayerSelection(player)\r\n  end\r\n\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  self.createButton({\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=self,\r\n    position={0,data.hover_height,0}, rotation={0,180,0}, height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  })\r\n\r\n  self.addContextMenuItem('Edit Text', function(color)\r\n    self.removeFromPlayerSelection(color)\r\n    inputMode()\r\n  end)\r\n  self.addContextMenuItem('Clear', function(color)\r\n    applyMultiple(color, 'clear', _, true)\r\n  end)\r\n  self.addContextMenuItem('Color: Object Tint', function(color)\r\n    applyMultiple(color, 'setColor')\r\n  end)\r\n  self.addContextMenuItem('Color: Player', function(color)\r\n    applyMultiple(color, 'setColor', {Color.fromString(color)})\r\n  end)\r\n  self.addContextMenuItem('Color: Black', function(color)\r\n    applyMultiple(color, 'setColor', {Color(0,0,0)})\r\n  end)\r\n  self.addContextMenuItem('Color: White', function(color)\r\n    applyMultiple(color, 'setColor', {Color(1,1,1)})\r\n  end)\r\n  self.addContextMenuItem('Size: Increase', function(color)\r\n    applyMultiple(color, 'changeSize', {50})\r\n  end, true)\r\n  self.addContextMenuItem('Size: Decrease', function(color)\r\n    applyMultiple(color, 'changeSize', {-50})\r\n  end, true)\r\n  self.addContextMenuItem('Permanently Attach', attemptAttach)\r\n  self.addContextMenuItem('Permalock', function(color)\r\n    applyMultiple(color, 'permalock', _, true)\r\n  end)\r\nend\r\n\r\nfunction changeSize(params)\r\n  local delta = params[1]\r\n  local newSize = data.size + delta\r\n  if newSize > 800  or newSize < 50 then\r\n    return\r\n  end\r\n  data.size = newSize\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_size=data.size})\r\n  else\r\n    local size = getBox(data.text, true)\r\n    self.editInput({width=size.width, height=size.height, font_size=data.size})\r\n  end\r\nend\r\n\r\nfunction setColor(params)\r\n  if params and params[1] then\r\n    data.color = params[1]\r\n  else\r\n    data.color = self.getColorTint():setAt('a', 1) -- Take on color of object tint\r\n  end\r\n  updateState()\r\n  if self.getButtons() and #self.getButtons() ~= 0 then\r\n    self.editButton({font_color=data.color})\r\n  else\r\n    self.editInput({font_color=data.color, color=getBackground(data.color)})\r\n  end\r\nend\r\n\r\nfunction getBackground(color) --determines whether to use black or white depending on luminance\r\n  local r,g,b = Color(color):get()\r\n\r\n  local lum = 0.2126*r + 0.7152*g + 0.0722*b\r\n  if lum > 0.75 then\r\n    return {0.2,0.2,0.2, data.box_transparency}\r\n  else\r\n    return {1,1,1, data.box_transparency}\r\n  end\r\nend\r\n\r\nfunction clear()\r\n  data.text = ''\r\n  updateState()\r\n  inputMode()\r\nend\r\n\r\nfunction permalock()\r\n  self.interactable = false\r\n  data.interactable = false\r\n  updateState()\r\nend\r\n\r\nlocal target_script = [[\r\nfunction onLoad(script_state)\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    for _,entry in ipairs(state) do\r\n      self.createButton(entry)\r\n    end\r\n    self.addContextMenuItem('Clear All Text', function(color)\r\n      self.clearContextMenu()\r\n      self.clearButtons()\r\n      self.script_state = ''\r\n      self.script_code = ''\r\n    end)\r\n  end\r\nend\r\n]]\r\n\r\nfunction attemptAttach(player_color)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  local attachee\r\n  local attachers = {}\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if obj ~= self then\r\n        table.insert(attachers, obj)\r\n      end\r\n    else\r\n      if attachee then\r\n        broadcastToColor(\"More than one target selected.\", player_color)\r\n        return\r\n      else\r\n        attachee = obj\r\n      end\r\n    end\r\n  end\r\n  if attachee then\r\n    local code = attachee.script_code\r\n    if code and code ~= '' and code ~= target_script then\r\n      broadcastToColor(\"Warning: script on card has been overriden. Rewind time to undo.\", player_color)\r\n    end\r\n    for i,attacher in ipairs(attachers) do\r\n      attacher.call('attach', {target = attachee})\r\n    end\r\n    attach({target = attachee})\r\n    local type, flip = attachee.type, attachee.getRotation().z\r\n    if (type == 'Card' or type == 'Deck') and flip > 175 and flip < 185 then\r\n      broadcastToColor(\"Warning: text will not display if card or deck is facing down.\", player_color)\r\n    end\r\n  else\r\n    broadcastToColor(\"You must have a target object in your selection (using click-and-drag or Ctrl+Click) to use this option.\", player_color)\r\n  end\r\nend\r\n\r\nfunction attach(params)\r\n  local target = params.target\r\n  local displayText = data.text\r\n  if data.enter_to_finish then\r\n    displayText = displayText:gsub('%[n%]', '\\n')\r\n  end\r\n\r\n  local textRotation = self.getRotation():sub(target.getRotation())\r\n    :add(Vector(180, 0, 180))\r\n\r\n  local textPosition = target.positionToLocal(\r\n    self.getPosition():add(Vector(0, data.hover_height, 0))\r\n  )\r\n  textPosition.x = -textPosition.x\r\n\r\n  local textScale = {}\r\n  textScale.x = self.getScale().x / target.getScale().x\r\n  textScale.y = self.getScale().x / target.getScale().y\r\n  textScale.z = self.getScale().x / target.getScale().z\r\n\r\n  local details = {\r\n    label=displayText,\r\n    click_function=\"none\",\r\n    function_owner=nil,\r\n    position=textPosition,\r\n    rotation=textRotation,\r\n    scale=textScale,\r\n    height=0, width=0,\r\n    font_color=data.color, font_size=data.size\r\n  }\r\n\r\n  target.createButton(details)\r\n\r\n  local script_state = target.script_state\r\n  if script_state and script_state ~= '' then\r\n    local state = JSON.decode(script_state)\r\n    table.insert(state, details)\r\n    target.script_state = JSON.encode(state)\r\n  else\r\n    target.script_state = JSON.encode({[1]=details})\r\n  end\r\n\r\n  target.script_code = target_script\r\n\r\n  self.destruct()\r\nend\r\n\r\nfunction applyMultiple(player_color, func_string, params, static_only)\r\n  local objs = Player[player_color].getSelectedObjects()\r\n  for _,obj in ipairs(objs) do\r\n    if obj.getVar('movableTextTool_cowgoesmoo33') then\r\n      if not static_only or obj.call('isStatic') then\r\n        obj.call(func_string, params)\r\n      end\r\n    end\r\n  end\r\nend\r\n\r\nfunction isStatic()\r\n  local input = self.getInputs()\r\n  return not input or #input == 0\r\nend\r\n\r\nfunction getBox(input, force)\r\n  local maxLength, lineCount = EXPAND_INTERVAL, 1\r\n  local lineLength = 0\r\n  for i = 1, #input do\r\n    local c = input:sub(i,i)\r\n    if c == '\\n' then\r\n      lineCount = lineCount + 1\r\n      if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n      lineLength = 0\r\n    else\r\n      lineLength = lineLength + 1\r\n    end\r\n  end\r\n  if lineLength > maxLength then maxLength = (math.floor(lineLength / EXPAND_INTERVAL) + 1) * EXPAND_INTERVAL end\r\n\r\n  newWidth = data.size * maxLength * 0.9\r\n  newHeight = data.size * lineCount + 23\r\n\r\n  if force or boxWidth ~= newWidth or boxHeight ~= newHeight then\r\n    boxWidth, boxHeight = newWidth, newHeight\r\n    return {width = boxWidth, height = boxHeight}\r\n  end\r\n  return nil\r\nend\r\n\r\ntemp_lift = nil\r\nfunction onPickUp(player_color)\r\n  if data.autolift then\r\n    local player = Player[player_color]\r\n    temp_lift = player.lift_height\r\n    player.lift_height = 0\r\n  end\r\nend\r\n\r\nfunction onDrop(player_color)\r\n  if data.autolift and temp_lift then\r\n    Player[player_color].lift_height = temp_lift\r\n  end\r\nend\r\n\r\n-- Should be called every time data is modified, allows info to be saved on copy/paste\r\nfunction updateState()\r\n  self.script_state = JSON.encode(data)\r\nend\r\n\r\nfunction onSave()\r\n  self.script_state = JSON.encode(data)\r\n  return self.script_state\r\nend",
              "LuaScriptState": "{\"autolift\":false,\"autolock\":false,\"box_transparency\":1,\"color\":{\"a\":1,\"b\":1,\"g\":1,\"r\":1},\"enter_to_finish\":false,\"hover_height\":0.05,\"interactable\":true,\"size\":200,\"text\":\"Randolph n'a pas survécu\\nà la descente\"}",
              "XmlUI": ""
            },
            {
              "GUID": "b8d917",
              "Name": "Custom_Token",
              "Transform": {
                "posX": 23.50033,
                "posY": 1.57683885,
                "posZ": -3.988781,
                "rotX": 357.559021,
                "rotY": 181.374985,
                "rotZ": 359.907745,
                "scaleX": 0.3,
                "scaleY": 1.0,
                "scaleZ": 0.3
              },
              "Nickname": "Damage\n",
              "Description": "Left click - Increase\nRight click - Decrease",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": false,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/949599153663402915/D881A5A0D8A370851B9A0055DD7834CDCE0F72BE/",
                "ImageSecondaryURL": "",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomToken": {
                  "Thickness": 0.1,
                  "MergeDistancePixels": 5.0,
                  "StandUp": false,
                  "Stackable": false
                }
              },
              "LuaScript": "MIN_VALUE = -99\r\nMAX_VALUE = 999\r\n\r\nfunction onload(saved_data)\r\n    light_mode = true\r\n    val = 0\r\n\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        light_mode = loaded_data[1]\r\n        val = loaded_data[2]\r\n    end\r\n\r\n    createAll()\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = {light_mode, val}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction createAll()\r\n    s_color = {0,0,0,100}\r\n\n    if light_mode then\r\n        f_color = {1,1,1,100}\r\n    else\r\n        f_color = {0,0,0,100}\r\n    end\r\n\r\n\r\n\r\n    self.createButton({\r\n      label=tostring(val),\r\n      click_function=\"add_subtract\",\r\n      function_owner=self,\r\n      position={0.1,0.05,0.1},\r\n      height=600,\r\n      width=1000,\r\n      alignment = 3,\r\n      scale={x=1.5, y=1.5, z=1.5},\r\n      font_size=600,\r\n      font_color=f_color,\r\n      color={1,1,1,0}\r\n      })\r\n\r\n\r\n\r\n\r\n    if light_mode then\r\n        lightButtonText = \"[ Set dark ]\"\r\n    else\r\n        lightButtonText = \"[ Set light ]\"\r\n    end\r\n \r\nend\r\n\r\nfunction removeAll()\r\n    self.removeInput(0)\r\n    self.removeInput(1)\r\n    self.removeButton(0)\r\n    self.removeButton(1)\r\n    self.removeButton(2)\r\nend\r\n\r\nfunction reloadAll()\r\n    removeAll()\r\n    createAll()\r\n\r\n    updateSave()\r\nend\r\n\r\nfunction swap_fcolor(_obj, _color, alt_click)\r\n    light_mode = not light_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction swap_align(_obj, _color, alt_click)\r\n    center_mode = not center_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction editName(_obj, _string, value) \r\n    self.setName(value)\r\n    setTooltips()\r\nend\r\n\r\nfunction add_subtract(_obj, _color, alt_click)\r\n    mod = alt_click and -1 or 1\r\n    new_value = math.min(math.max(val + mod, MIN_VALUE), MAX_VALUE)\r\n    if val ~= new_value then\r\n        val = new_value\r\n      updateVal()\r\n        updateSave()\r\n    end\r\nend\r\n\r\nfunction updateVal()\r\n\r\n    self.editButton({\r\n        index = 0,\r\n        label = tostring(val),\r\n\r\n        })\r\nend\r\n\r\nfunction reset_val()\r\n    val = 0\r\n    updateVal()\r\n    updateSave()\r\nend\r\n\r\nfunction setTooltips()\r\n    self.editInput({\r\n        index = 0,\r\n        value = self.getName(),\r\n        tooltip = ttText\r\n        })\r\n    self.editButton({\r\n        index = 0,\r\n        value = tostring(val),\r\n        tooltip = ttText\r\n        })\r\nend\r\n\r\nfunction null()\r\nend\r\n\r\nfunction keepSample(_obj, _string, value) \r\n    reloadAll()\r\nend",
              "LuaScriptState": "[true,0]",
              "XmlUI": ""
            },
            {
              "GUID": "c06b0e",
              "Name": "Custom_Model_Bag",
              "Transform": {
                "posX": -21.4999924,
                "posY": 1.83999991,
                "posZ": 18.00001,
                "rotX": -7.495837E-06,
                "rotY": 179.9853,
                "rotZ": -6.99357429E-07,
                "scaleX": 0.7,
                "scaleY": 0.7,
                "scaleZ": 0.7
              },
              "Nickname": "Randolph a survécu...",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "CustomMesh": {
                "MeshURL": "https://pastebin.com/raw/ALrYhQGb",
                "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/1985555189151674305/A0FBD0F18BC845198034E72B28F28DFBC19A4B93/",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 6,
                "CustomShader": {
                  "SpecularColor": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "SpecularIntensity": 0.0,
                  "SpecularSharpness": 2.0,
                  "FresnelStrength": 0.0
                },
                "CastShadows": true
              },
              "Bag": {
                "Order": 0
              },
              "LuaScript": "-- Utility memory bag by Directsun\r\n-- Version 2.7.0\r\n-- Fork of Memory Bag 2.0 by MrStump\r\n--\r\n-- Want to contribute? Create an issue or fork the code on GitHub and submit a pull request:\r\n-- https://github.com/sunflowermans/TTS-UtilityMemoryBag\r\n\r\n\r\nfunction updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction combineMemoryFromBagsWithin()\r\n    local bagObjList = self.getObjects()\r\n    for _, bagObj in ipairs(bagObjList) do\r\n        local data = bagObj.lua_script_state\r\n        if data ~= nil then\r\n            local j = JSON.decode(data)\r\n            if j ~= nil and j.ml ~= nil then\r\n                for guid, entry in pairs(j.ml) do\r\n                    memoryList[guid] = entry\r\n                end\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateMemoryWithMoves()\r\n    memoryList = memoryListBackup\r\n    --get the first transposed object's coordinates\r\n    local obj = getObjectFromGUID(moveGuid)\r\n\r\n    -- p1 is where needs to go, p2 is where it was\r\n    local refObjPos = memoryList[moveGuid].pos\r\n    local deltaPos = findOffsetDistance(obj.getPosition(), refObjPos, nil)\r\n    local movedRotation = obj.getRotation()\r\n    for guid, entry in pairs(memoryList) do\r\n        memoryList[guid].pos.x = entry.pos.x - deltaPos.x\r\n        memoryList[guid].pos.y = entry.pos.y - deltaPos.y\r\n        memoryList[guid].pos.z = entry.pos.z - deltaPos.z\r\n        -- memoryList[guid].rot.x = movedRotation.x\r\n        -- memoryList[guid].rot.y = movedRotation.y\r\n        -- memoryList[guid].rot.z = movedRotation.z\r\n    end\r\n\r\n    --theList[obj.getGUID()] = {\r\n    --    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n    --    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n    --    lock=obj.getLock()\r\n    --}\r\n    moveList = {}\r\nend\r\n\r\nfunction onload(saved_data)\r\n\r\n    fresh = true\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n\r\n    end\r\n\r\n    moveList = {}\r\n    moveGuid = nil\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        fresh = false\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,2}, rotation={0,0,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by Transpose button\r\nfunction buttonClick_transpose()\r\n    moveGuid = nil\r\n    broadcastToAll(\"Select one object and move it- all objects will move relative to the new location\", {0.75, 0.75, 1})\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(true)\r\n    createSetupActionButtons(true)\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(false)\r\n    createSetupActionButtons(false)\r\nend\r\n\r\nfunction getAllObjectsInMemory()\r\n    local objTable = {}\r\n    local curObj = {}\r\n\r\n    for guid in pairs(memoryListBackup) do\r\n        curObj = getObjectFromGUID(guid)\r\n        table.insert(objTable, curObj)\r\n    end\r\n\r\n    return objTable\r\n    -- return getAllObjects()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects(move)\r\n    buttonIndexMap = {}\r\n    local howManyButtons = 0\r\n\r\n    local objsToHaveButtons = {}\r\n    if move == true then\r\n        objsToHaveButtons = getAllObjectsInMemory()\r\n    else\r\n        objsToHaveButtons = getAllObjects()\r\n    end\r\n\r\n    for _, obj in ipairs(objsToHaveButtons) do\r\n        if obj ~= self then\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor +2\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Workaround for custom PDFs\r\n            if obj.Book then\r\n                objPos.y = objPos.y + 0.5\r\n            end\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(obj, move) end\r\n            local color = {0.75,0.25,0.25,0.6}\r\n            local colorMove = {0,0,1,0.6}\r\n            if move == true then\r\n                color = colorMove\r\n            end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color=color,\r\n            })\r\n            buttonIndexMap[obj.getGUID()] = howManyButtons\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons(move)\r\n    self.createButton({\r\n       label=\"Annuler\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n       position={-1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n       font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    self.createButton({\r\n      label=\"Valider\", click_function=\"buttonClick_submit\", function_owner=self,\r\n      position={-1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n      font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n\r\n    if move == false then\r\n      self.createButton({\r\n          label=\"Ajouter\", click_function=\"buttonClick_add\", function_owner=self,\r\n          position={1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n          font_size=250, color={0,0,0}, font_color={0.25,1,0.25}\r\n        })\r\n\r\n        self.createButton({\r\n            label=\"Sélection\", click_function=\"editDragSelection\", function_owner=self,\r\n            position={-1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n            font_size=250, color={0,0,0}, font_color={1,1,1}\r\n        })\r\n\r\n        if fresh == false then\r\n            self.createButton({\r\n                label=\"Mise à Jour\", click_function=\"buttonClick_setNew\", function_owner=self,\r\n                position={1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n                font_size=180, color={0,0,0}, font_color={0.75,0.75,1}\r\n            })\r\n            self.createButton({\r\n                label=\"Retirer\", click_function=\"buttonClick_remove\", function_owner=self,\r\n                position={1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n                font_size=250, color={0,0,0}, font_color={1,0.25,0.25}\r\n            })\r\n        end\r\n    end\r\n\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,0,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(obj, move)\r\n    local index = buttonIndexMap[obj.getGUID()]\r\n    local colorMove = {0,0,1,0.6}\r\n    local color = {0,1,0,0.6}\r\n\r\n    previousGuid = selectedGuid\r\n    selectedGuid = obj.getGUID()\r\n\r\n    theList = memoryList\r\n    if move == true then\r\n        theList = moveList\r\n        if previousGuid ~= nil and previousGuid ~= selectedGuid then\r\n            local prevObj = getObjectFromGUID(previousGuid)\r\n            prevObj.highlightOff()\r\n            self.editButton({index=previousIndex, color=colorMove})\r\n            theList[previousGuid] = nil\r\n        end\r\n        previousIndex = index\r\n    end\r\n\r\n    if theList[selectedGuid] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        theList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock(),\r\n            tint=obj.getColorTint()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        if move == true then\r\n            color = colorMove\r\n        end\r\n        self.editButton({index=index, color=color})\r\n        theList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\nfunction editDragSelection(bagObj, player, remove)\r\n    local selectedObjs = Player[player].getSelectedObjects()\r\n    if not remove then\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            --Ignore if already in the memory list, or does not have a button\r\n            if index and not memoryList[obj.getGUID()] then\r\n                self.editButton({index=index, color={0,1,0,0.6}})\r\n                --Adding pos/rot to memory table\r\n                local pos, rot = obj.getPosition(), obj.getRotation()\r\n                --I need to add it like this or it won't save due to indexing issue\r\n                memoryList[obj.getGUID()] = {\r\n                    pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n                    rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n                    lock=obj.getLock(),\r\n                    tint=obj.getColorTint()\r\n                }\r\n                obj.highlightOn({0,1,0})\r\n            end\r\n        end\r\n    else\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            if index and memoryList[obj.getGUID()] then\r\n                color = {0.75,0.25,0.25,0.6}\r\n                self.editButton({index=index, color=color})\r\n                memoryList[obj.getGUID()] = nil\r\n                obj.highlightOff()\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Sélection annulée\", {1,1,1})\r\n    moveGuid = nil\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    fresh = false\r\n    if next(moveList) ~= nil then\r\n        for guid in pairs(moveList) do\r\n            moveGuid = guid\r\n        end\r\n        if memoryListBackup[moveGuid] == nil then\r\n            broadcastToAll(\"Item selected for moving is not already in memory\", {1, 0.25, 0.25})\r\n        else\r\n            broadcastToAll(\"Moving all items in memory relative to new objects position!\", {0.75, 0.75, 1})\r\n            self.clearButtons()\r\n            self.clearInputs()\r\n            createMemoryActionButtons()\r\n            local count = 0\r\n            for guid in pairs(moveList) do\r\n                moveGuid = guid\r\n                count = count + 1\r\n                local obj = getObjectFromGUID(guid)\r\n                if obj ~= nil then obj.highlightOff() end\r\n            end\r\n            updateMemoryWithMoves()\r\n            updateSave()\r\n            buttonClick_place()\r\n        end\r\n    elseif next(memoryList) == nil and moveGuid == nil then\r\n        memoryList = memoryListBackup\r\n        broadcastToAll(\"No selections made.\", {0.75, 0.25, 0.25})\r\n    end\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\n    moveGuid = nil\r\nend\r\n\r\nfunction combineTables(first_table, second_table)\r\n    for k,v in pairs(second_table) do first_table[k] = v end\r\nend\r\n\r\nfunction buttonClick_add()\r\n    fresh = false\r\n    combineTables(memoryList, memoryListBackup)\r\n    broadcastToAll(\"Adding internal bags and selections to existing memory\", {0.25, 0.75, 0.25})\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_remove()\r\n    broadcastToAll(\"Removing Selected Entries From Memory\", {1.0, 0.25, 0.25})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        memoryListBackup[guid] = nil\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count..\" Objects Removed\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_setNew()\r\n    broadcastToAll(\"Setting new position relative to items in memory\", {0.75, 0.75, 1})\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        guid = obj.guid\r\n        if memoryListBackup[guid] ~= nil then\r\n            count = count + 1\r\n            memoryListBackup[guid].pos = obj.getPosition()\r\n            memoryListBackup[guid].rot = obj.getRotation()\r\n            memoryListBackup[guid].lock = obj.getLock()\r\n            memoryListBackup[guid].tint = obj.getColorTint()\r\n        end\r\n    end\r\n    broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    fresh = true\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Placer\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,2}, rotation={0,0,0}, height=350, width=1000,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Ranger\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,2.8}, rotation={0,0,0}, height=350, width=1000,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={2,0.3,0}, rotation={0,90,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    ---    self.createButton({\r\n    ---      label=\"Bouger\", click_function=\"buttonClick_transpose\", function_owner=self,\r\n    ---      position={-2,0.3,0.8}, rotation={0,270,0}, height=350, width=800,\r\n    ---      font_size=250, color={0,0,0}, font_color={0.75,0.75,1}\r\n    ---  \r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n            obj.setColorTint(entry.tint)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot, smooth=false\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    item.setColorTint(entry.tint)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objets placés\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objets rangés\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local yOffset = 0\r\n    if obj ~= nil then\r\n        local bounds = obj.getBounds()\r\n        yOffset = (bounds.size.y - bounds.offset.y)\r\n    end\r\n    local deltaPos = {}\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + yOffset\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n    local objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n    local x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n    local z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n    --return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\nfunction rotateMyCoordinates(desiredPos, obj)\r\n    local angle = math.rad(obj.getRotation().y)\r\n    local x = desiredPos.x * math.sin(angle)\r\n    local z = desiredPos.z * math.cos(angle)\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n    local mult = 10^(dec or 0)\r\n    return math.floor(num * mult + 0.5) / mult\r\nend\r\n\r\n\r\n--[[\r\nThis object provides access to a variable stored on the \"Global script\".\r\nThe variable holds the GUIDs for every Utility Memory Bag in the scene.\r\nExample:\r\n{'805ebd', '35cc21', 'fc8886', 'f50264', '5f5f63'}\r\n--]]\r\nAllMemoryBagsInScene = {\r\n    NAME_OF_GLOBAL_VARIABLE = \"_UtilityMemoryBag_AllMemoryBagsInScene\"\r\n}\r\n\r\nfunction AllMemoryBagsInScene:add(guid)\r\n    local guids = Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\n    table.insert(guids, guid)\r\n    Global.setTable(self.NAME_OF_GLOBAL_VARIABLE, guids)\r\nend\r\n\r\nfunction AllMemoryBagsInScene:getGuidList()\r\n    return Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\nend",
              "LuaScriptState": "{\"ml\":{\"9c0a7f\":{\"lock\":false,\"pos\":{\"x\":17.501,\"y\":1.536,\"z\":-6.0196},\"rot\":{\"x\":0.0049,\"y\":90.0051,\"z\":359.9891},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"9d379e\":{\"lock\":false,\"pos\":{\"x\":17.501,\"y\":1.536,\"z\":-6.0196},\"rot\":{\"x\":0.005,\"y\":90.0125,\"z\":359.9891},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}}}}",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "9c0a7f",
                  "Name": "Deck",
                  "Transform": {
                    "posX": 17.5010033,
                    "posY": 1.53599644,
                    "posZ": -6.019597,
                    "rotX": 0.00494887261,
                    "rotY": 90.00523,
                    "rotZ": 359.9891,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Deck Acte v2",
                  "Description": "3B - Point de Non-Retour",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": false,
                  "SidewaysCard": true,
                  "DeckIDs": [
                    1144000,
                    276322,
                    276321
                  ],
                  "CustomDeck": {
                    "11440": {
                      "FaceURL": "https://steamusercontent-a.akamaihd.net/ugc/2074526368858520392/D59F395B1411FEC8BB14028D086EF82442F20DDB/",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/2074526368858520706/B9BC48BB0815FB9FBB9165E743DA2717F718ADA2/",
                      "NumWidth": 1,
                      "NumHeight": 1,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    },
                    "2763": {
                      "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                      "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": "",
                  "ContainedObjects": [
                    {
                      "GUID": "7f1260",
                      "Name": "Card",
                      "Transform": {
                        "posX": 19.0883026,
                        "posY": 2.53014088,
                        "posZ": 24.569128,
                        "rotX": 0.00494827935,
                        "rotY": 90.00049,
                        "rotZ": 359.9891,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "L'Étendue Noire",
                      "Description": "Acte 3a",
                      "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06253\",\n  \"type\": \"Act\"\n}",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.713235259,
                        "g": 0.713235259,
                        "b": 0.713235259
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": true,
                      "Hands": true,
                      "CardID": 1144000,
                      "SidewaysCard": true,
                      "CustomDeck": {
                        "11440": {
                          "FaceURL": "https://steamusercontent-a.akamaihd.net/ugc/2074526368858520392/D59F395B1411FEC8BB14028D086EF82442F20DDB/",
                          "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/2074526368858520706/B9BC48BB0815FB9FBB9165E743DA2717F718ADA2/",
                          "NumWidth": 1,
                          "NumHeight": 1,
                          "BackIsHidden": true,
                          "UniqueBack": false,
                          "Type": 0
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    {
                      "GUID": "743d14",
                      "Name": "Card",
                      "Transform": {
                        "posX": 17.501,
                        "posY": 4.5914,
                        "posZ": -6.019595,
                        "rotX": 0.004949083,
                        "rotY": 90.00514,
                        "rotZ": 359.9891,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "La Descente",
                      "Description": "Acte 2a",
                      "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06252\",\n  \"type\": \"Act\"\n}",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.713235259,
                        "g": 0.713235259,
                        "b": 0.713235259
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": true,
                      "Hands": true,
                      "CardID": 276322,
                      "SidewaysCard": true,
                      "CustomDeck": {
                        "2763": {
                          "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                          "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                          "NumWidth": 10,
                          "NumHeight": 7,
                          "BackIsHidden": true,
                          "UniqueBack": true,
                          "Type": 0
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    },
                    {
                      "GUID": "285eef",
                      "Name": "Card",
                      "Transform": {
                        "posX": 17.5010071,
                        "posY": 1.61264229,
                        "posZ": -6.0196104,
                        "rotX": 0.002608971,
                        "rotY": 90.00514,
                        "rotZ": 359.988068,
                        "scaleX": 1.0,
                        "scaleY": 1.0,
                        "scaleZ": 1.0
                      },
                      "Nickname": "Entrer dans le Monde Souterrain (v. II)",
                      "Description": "Acte 1a",
                      "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"06251\",\n  \"type\": \"Act\"\n}",
                      "AltLookAngle": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      },
                      "ColorDiffuse": {
                        "r": 0.713235259,
                        "g": 0.713235259,
                        "b": 0.713235259
                      },
                      "LayoutGroupSortIndex": 0,
                      "Value": 0,
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "MeasureMovement": false,
                      "DragSelectable": true,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": true,
                      "Hands": true,
                      "CardID": 276321,
                      "SidewaysCard": true,
                      "CustomDeck": {
                        "2763": {
                          "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                          "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                          "NumWidth": 10,
                          "NumHeight": 7,
                          "BackIsHidden": true,
                          "UniqueBack": true,
                          "Type": 0
                        }
                      },
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "XmlUI": ""
                    }
                  ]
                }
              ]
            },
            {
              "GUID": "c35efe",
              "Name": "Deck",
              "Transform": {
                "posX": -32.5001259,
                "posY": 1.810188,
                "posZ": 2.49989343,
                "rotX": -4.904617E-06,
                "rotY": 180.001831,
                "rotZ": -2.34914978E-07,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Maigres Bêtes de la Nuit",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": false,
              "SidewaysCard": false,
              "DeckIDs": [
                16607,
                16606,
                16610,
                16608
              ],
              "CustomDeck": {
                "166": {
                  "FaceURL": "https://i.imgur.com/nB9kjFF.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "92e5d2",
                  "Name": "Card",
                  "Transform": {
                    "posX": -32.50002,
                    "posY": 4.773618,
                    "posZ": 2.49988651,
                    "rotX": -4.944488E-06,
                    "rotY": 180.00029,
                    "rotZ": -5.741097E-07,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Sur les Ailes des Ténèbres",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"01173\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 16607,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "166": {
                      "FaceURL": "https://i.imgur.com/nB9kjFF.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "714f71",
                  "Name": "Card",
                  "Transform": {
                    "posX": -32.50002,
                    "posY": 5.060892,
                    "posZ": 2.49988651,
                    "rotX": -4.945847E-06,
                    "rotY": 180.00029,
                    "rotZ": -5.845477E-07,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Sur les Ailes des Ténèbres",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"id\": \"01173\",\n  \"type\": \"Treachery\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 16606,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "166": {
                      "FaceURL": "https://i.imgur.com/nB9kjFF.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "4f0667",
                  "Name": "Card",
                  "Transform": {
                    "posX": -32.50002,
                    "posY": 5.260892,
                    "posZ": 2.49988651,
                    "rotX": -4.945847E-06,
                    "rotY": 180.00029,
                    "rotZ": -5.845477E-07,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Maigre Bête de la Nuit Chasseresse",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 4,\n  \"id\": \"01172\",\n  \"traits\": \"Monster. Nightgaunt.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 16610,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "166": {
                      "FaceURL": "https://i.imgur.com/nB9kjFF.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "5c7a4c",
                  "Name": "Card",
                  "Transform": {
                    "posX": -32.50002,
                    "posY": 1.88598371,
                    "posZ": 2.49988651,
                    "rotX": 0.002938729,
                    "rotY": 180.00029,
                    "rotZ": -0.00352536282,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Maigre Bête de la Nuit Chasseresse",
                  "Description": "",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"health\": 4,\n  \"id\": \"01172\",\n  \"traits\": \"Monster. Nightgaunt.\",\n  \"type\": \"Enemy\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 16608,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "166": {
                      "FaceURL": "https://i.imgur.com/nB9kjFF.jpg",
                      "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": false,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "c4f1c6",
              "Name": "Card",
              "Transform": {
                "posX": -28.5000534,
                "posY": 1.78359115,
                "posZ": 2.499767,
                "rotX": 0.000149728046,
                "rotY": 180.010559,
                "rotZ": 180.001038,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Bois Enchantés [Trappe de Pierre]",
              "Description": "Bois.",
              "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06053\",\n  \"locationBack\": {\n    \"connections\": \"Tilde|Triangle|Diamond\",\n    \"icons\": \"Square|EnchantedWoods\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    },\n    \"victory\": 2\n  },\n  \"locationFront\": {\n    \"connections\": \"Tilde\",\n    \"icons\": \"Crescent|EnchantedWoods\"\n  },\n  \"traits\": \"Woods.\",\n  \"type\": \"Location\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276523,
              "SidewaysCard": false,
              "CustomDeck": {
                "2765": {
                  "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                  "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "c96eef",
              "Name": "Deck",
              "Transform": {
                "posX": 12.5013046,
                "posY": 1.53161466,
                "posZ": -6.016801,
                "rotX": 0.004947901,
                "rotY": 89.99965,
                "rotZ": 359.9891,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Deck Intrigue",
              "Description": "3B - Point de Non-Retour",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": false,
              "SidewaysCard": true,
              "DeckIDs": [
                276319,
                276318
              ],
              "CustomDeck": {
                "2763": {
                  "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                  "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "2bf016",
                  "Name": "Card",
                  "Transform": {
                    "posX": 12.5013065,
                    "posY": 1.60617185,
                    "posZ": -6.01682,
                    "rotX": 0.004247728,
                    "rotY": 89.99907,
                    "rotZ": 359.988434,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Assailli par des Monstres",
                  "Description": "Intrigue 2a",
                  "GMNotes": "{\n  \"class\": \"Mythos\",\n  \"cycle\": \"Standalone\",\n  \"doomThreshold\": 4,\n  \"id\": \"06249\",\n  \"type\": \"Agenda\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276319,
                  "SidewaysCard": true,
                  "CustomDeck": {
                    "2763": {
                      "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                      "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "cffdec",
                  "Name": "Card",
                  "Transform": {
                    "posX": 12.50131,
                    "posY": 1.60441017,
                    "posZ": -6.016828,
                    "rotX": 0.00781033747,
                    "rotY": 89.99907,
                    "rotZ": 359.985626,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Un Royaume Sinistre",
                  "Description": "Intrigue 1a",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"doomThreshold\": 5,\n  \"id\": \"06248\",\n  \"type\": \"Agenda\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276318,
                  "SidewaysCard": true,
                  "CustomDeck": {
                    "2763": {
                      "FaceURL": "https://i.imgur.com/r5GdLdr.jpg",
                      "BackURL": "https://i.imgur.com/04CJrA8.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "d12fab",
              "Name": "Card",
              "Transform": {
                "posX": -7.49997473,
                "posY": 1.51780045,
                "posZ": 1.50005257,
                "rotX": 0.0110822478,
                "rotY": 179.77211,
                "rotZ": 0.00374888349,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Caveaux de Zin",
              "Description": "",
              "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06254\",\n  \"locationFront\": {\n    \"connections\": \"Tee|Crescent\",\n    \"icons\": \"Heart\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    },\n    \"victory\": 1\n  },\n  \"type\": \"Location\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276501,
              "SidewaysCard": false,
              "CustomDeck": {
                "2765": {
                  "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                  "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": true,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "eaafd8",
              "Name": "Custom_Tile",
              "Transform": {
                "posX": 3.00000024,
                "posY": 1.50178492,
                "posZ": -6.50000048,
                "rotX": 0.0108920569,
                "rotY": 179.992691,
                "rotZ": 0.004947094,
                "scaleX": 1.6428808,
                "scaleY": 1.0,
                "scaleZ": 1.6428808
              },
              "Nickname": "Mise en place du Chaos Bag",
              "Description": "III-B : Point de Non-Retour",
              "GMNotes": "{\"data\":\"Point of No Return\",\"easy\":false,\"expert\":false,\"hard\":false,\"normal\":false,\"standalone\":true}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.8745098,
                "g": 0.8,
                "b": 0.7019608
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/2011456161884106028/81BF2DAD34FE18B6788B56E21F16B81E6525AD99/",
                "ImageSecondaryURL": "https://steamusercontent-a.akamaihd.net/ugc/2011456161884106028/81BF2DAD34FE18B6788B56E21F16B81E6525AD99/",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomTile": {
                  "Type": 3,
                  "Thickness": 0.1,
                  "Stackable": false,
                  "Stretch": true
                }
              },
              "LuaScript": "\r\njacqueline_guid = '42cd6e'\r\n\r\nbuttonparams = {\r\n   ['easy'] = {label = \"Facile\", click_function = 'modeEasy', z_i = -0.2},\r\n   ['normal'] = {label = \"Standard\", click_function = 'modeNormal', z_i = 0.1},\r\n   ['hard'] = {label = \"Difficile\", click_function = 'modeHard', z_i = 0.4},\r\n   ['expert'] = {label = \"Expert\", click_function = 'modeExpert', z_i = 0.7},\r\n   ['standalone'] = {label = \"Indépendant\", click_function = 'modeStandalone', z_i = 0},\r\n}\r\n\r\nfunction onLoad()\r\n\r\n    metadata = JSON.decode(self.getGMNotes())\r\n    buttontable = {}\r\n    for key, value in pairs(buttonparams) do\r\n        if metadata[key] == true then\r\n            table.insert(buttontable,value)\r\n        end\r\n        \r\n    end\r\n\r\n    for _, button in pairs(buttontable) do\r\n        local data = {\r\n            click_function = button.click_function, \r\n            function_owner = self, \r\n            label = button.label, \r\n            position = {0, 0.1, button.z_i}, \r\n            scale = {0.3, 0.5, 0.3}, \r\n            width = 1500, \r\n            height = 400, \r\n            font_size = 250, \r\n            tooltip = \"Chaos bag du mode \"..button.label,\r\n            color = {0.5647, 0.4627, 0.2353, 1}, \r\n            font_color = {0.9041, 0.8313, 0.7356, 1},\r\n            hover_color = {99/255, 85/255, 48/255},\r\n            press_color = {192/255, 152/255, 94/255} }\r\n        self.createButton(data)\r\n        \r\n    end\r\n    jacqueline = getObjectFromGUID(jacqueline_guid)\r\n    chaosdata = jacqueline.getTable('chaosdata')\r\nend\r\n\r\nfunction modeEasy()\r\n    local  params ={}\r\n     params.mode = 'easy'\r\n     params.data = metadata.data\r\n     jacqueline.call('setChaosBag', params)\r\n  \r\nend\r\n\r\nfunction modeNormal()\r\n      local  params ={}\r\n       params.mode = 'normal'\r\n       params.data = metadata.data\r\n       jacqueline.call('setChaosBag', params)\r\n    \r\nend\r\n\r\nfunction modeHard()\r\n    local  params ={}\r\n     params.mode = 'hard'\r\n     params.data = metadata.data\r\n     jacqueline.call('setChaosBag', params)\r\n  \r\nend\r\n\r\nfunction modeExpert()\r\n    local  params ={}\r\n     params.mode = 'expert'\r\n     params.data = metadata.data\r\n     jacqueline.call('setChaosBag', params)\r\n  \r\nend\r\n\r\nfunction modeStandalone()\r\n    local  params ={}\r\n     params.mode = 'standalone'\r\n     params.data = metadata.data\r\n     jacqueline.call('setChaosBag', params)\r\n  \r\nend",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "eba954",
              "Name": "Custom_Model_Bag",
              "Transform": {
                "posX": -32.5016022,
                "posY": 1.84000051,
                "posZ": 12.004796,
                "rotX": -4.88238038E-06,
                "rotY": 179.995163,
                "rotZ": -1.45361753E-07,
                "scaleX": 0.7,
                "scaleY": 0.7,
                "scaleZ": 0.7
              },
              "Nickname": "Acte 2B",
              "Description": "Lieux aléatoirement placés",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.614982545,
                "g": 0.0,
                "b": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "CustomMesh": {
                "MeshURL": "https://pastebin.com/raw/ALrYhQGb",
                "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/1985555189151674305/A0FBD0F18BC845198034E72B28F28DFBC19A4B93/",
                "NormalURL": "",
                "ColliderURL": "",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 6,
                "CustomShader": {
                  "SpecularColor": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "SpecularIntensity": 0.0,
                  "SpecularSharpness": 2.0,
                  "FresnelStrength": 0.0
                },
                "CastShadows": true
              },
              "Bag": {
                "Order": 0
              },
              "LuaScript": "-- Random memory bag\r\n-- based on Utility memory bag by Directsun (Version 2.7.0)\r\n\r\nlocal CONFIG = {\r\n    MEMORY_GROUP = {\r\n        -- This determines how many frames to wait before actually placing objects onto the table when the \"Place\" button is clicked.\r\n        -- This gives the other bags time to recall their objects.\r\n        -- The delay ONLY occurs if other bags have objects out.\r\n        FRAME_DELAY_BEFORE_PLACING_OBJECTS = 30\r\n    }\r\n}\r\n\r\nmath.randomseed(os.time())\r\n\r\n--[[ Memory Bag Groups ]]\r\n--[[ Utility Memory Bags may be added to a named group, called a \"memory group\".\r\nYou can add a bag to a group through the bag's UI: \"Setup\" > \"Group Name\" (to the left of the bag).\r\nOnly one bag from a group may have it's contents placed on the table at a time.\r\nWhen \"Place\" is clicked on a bag, the other bags in it's memory group are recalled.\r\nBy default a memory bag is not in any group. It's memory group is \"nil\". --]]\r\n\r\nmemoryGroupName = { memoryBag = self }\r\nfunction memoryGroupName:get()\r\n    return self._name\r\nend\r\n\r\nfunction memoryGroupName:set(newName)\r\n    GlobalMemoryGroups:unregisterBagInGroup(self:get(), self.memoryBag.getGUID())\r\n    GlobalMemoryGroups:registerBagInGroup(newName, self.memoryBag.getGUID())\r\n\r\n    if newName == \"\" then\r\n        self._name = nil\r\n    else\r\n        self._name = newName\r\n    end\r\nend\r\n\r\n-- Click the \"Recall\" button on all other bags in my memory group.\r\nfunction recallOtherBagsInMyGroup()\r\n    for _, bag in ipairs(getOtherBagsInMyGroup()) do\r\n        bag.call('buttonClick_recall')\r\n    end\r\nend\r\n\r\n-- Return \"true\" if another bag in my memory group has any objects out on the table.\r\nfunction anyOtherBagsInMyGroupArePlaced()\r\n    for _, bag in ipairs(getOtherBagsInMyGroup()) do\r\n        local state = bag.call('areAnyOfMyObjectsPlaced')\r\n        if state then return true end\r\n    end\r\n\r\n    return false\r\nend\r\n\r\n-- Return \"true\" if at least one object from this memory bag is out on the table.\r\nfunction areAnyOfMyObjectsPlaced()\r\n    for guid, _ in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then\r\n            return true\r\n        end\r\n    end\r\n    return false\r\nend\r\n\r\nfunction getOtherBagsInMyGroup()\r\n    local bags = {}\r\n    for bagGuid, _ in pairs(GlobalMemoryGroups:getGroup(memoryGroupName:get())) do\r\n        if bagGuid ~= self.getGUID() then\r\n            bag = getObjectFromGUID(bagGuid)\r\n            -- \"bag\" is nill if it has been deleted since the last time onLoad() was called.\r\n            if bag ~= nil then\r\n                table.insert(bags, bag)\r\n            end\r\n        end\r\n    end\r\n    return bags\r\nend\r\n\r\n--[[\r\nThis object provides access to a variable stored on the \"Global script\".\r\nThe variable holds the names & guids of all memory bag groups.\r\nThe global variable is a table and holds data like this:\r\n{\r\n    'My First Group Name' = {\r\n        '805ebd' = {},\r\n        '35cc21' = {},\r\n        'fc8886' = {},\r\n    },\r\n    'My Second Group Name' = {\r\n        'f50264' = {},\r\n        '5f5f63' = {},\r\n    },\r\n}\r\n--]]\r\nGlobalMemoryGroups = { NAME_OF_GLOBAL_VARIABLE = '_GlobalUtilityMemoryBagGroups' }\r\n\r\n-- Call me inside this script's \"onLoad()\" method!\r\nfunction GlobalMemoryGroups:onLoad(myGuid)\r\n    -- Create and initialize the global variable if it doesn't already exist:\r\n    if self:_getGroups() == nil then\r\n        self:_setGroups({})\r\n    end\r\nend\r\n\r\n-- Return the GUIDs of all bags in the \"groupName\". The return value is a dictionary that maps [GUID -> empty table].\r\nfunction GlobalMemoryGroups:getGroup(groupName)\r\n    guids = self:_getGroups()[groupName] or {}\r\n    return guids\r\nend\r\n\r\n-- Registers a bag in a memory group. Creates a new group if one doesn't exist.\r\nfunction GlobalMemoryGroups:registerBagInGroup(groupName, bagGuid)\r\n    if groupName == nil or groupName == \"\" then\r\n        return\r\n    end\r\n\r\n    self:_tryCreateNewGroup(groupName)\r\n    local groups = self:_getGroups()\r\n    groups[groupName][bagGuid] = {}\r\n    self:_setGroups(groups)\r\nend\r\n\r\n-- Removes this bag from the memory group.\r\nfunction GlobalMemoryGroups:unregisterBagInGroup(groupName, bagGuid)\r\n    local groups = self:_getGroups()\r\n    local group = groups[groupName]\r\n    if group ~= nil then\r\n        group[bagGuid] = nil\r\n        self:_setGroups(groups)\r\n    end\r\nend\r\n\r\n-- Return the global variable, which is a table holding all memory group names & guids.\r\nfunction GlobalMemoryGroups:_getGroups()\r\n    return Global.getTable(self.NAME_OF_GLOBAL_VARIABLE)\r\nend\r\n\r\n-- Override the global variable (i.e. the entire table).\r\nfunction GlobalMemoryGroups:_setGroups(newTable)\r\n    Global.setTable(self.NAME_OF_GLOBAL_VARIABLE, newTable)\r\nend\r\n\r\n-- Add a new memory group named \"groupName\" to the global variable, if one doesn't already exist.\r\nfunction GlobalMemoryGroups:_tryCreateNewGroup(groupName)\r\n    local groups = self:_getGroups()\r\n    if groups[groupName] == nil then\r\n        groups[groupName] = {}\r\n        self:_setGroups(groups)\r\n    end\r\nend\r\n\r\n-- This object controls the \"Group Name\" input text field that is part of the bag's ingame UI.\r\ngroupNameInput = {\r\n    greyedOutText     = \"Group Name\",\r\n    widthPerCharacter = 100,\r\n    padding           = 4,\r\n    memoryBag         = self\r\n}\r\nfunction groupNameInput:create(optionalStartingValue)\r\n    local effectiveText = optionalStartingValue or self.greyedOutText\r\n    local width = self:computeWidth(effectiveText)\r\n\r\n    self.memoryBag.createInput({\r\n        label = self.greyedOutText,\r\n        value = optionalStartingValue or nil,\r\n        alignment = 3, -- Center aligned\r\n        input_function = \"groupNameInput_onCharacterTyped\", function_owner = self.memoryBag,\r\n        position = { 2.1, 0.3, 0 }, rotation = { 0, 270, 0 }, width = width, height = 350,\r\n        font_size = 250, color = { 0, 0, 0 }, font_color = { 1, 1, 1 },\r\n    })\r\nend\r\n\r\nfunction groupNameInput:computeWidth(text)\r\n    return (string.len(text) + self.padding) * self.widthPerCharacter\r\nend\r\n\r\nfunction groupNameInput:updatedWidth(text)\r\n    self.memoryBag.editInput({\r\n        index = 0,\r\n        width = self:computeWidth(text)\r\n    })\r\nend\r\n\r\nfunction groupNameInput:onCharacterTyped(text, stillEditing)\r\n    if stillEditing then\r\n        self:updatedWidth(text)\r\n    else\r\n        if text == \"\" then\r\n            self:updatedWidth(self.greyedOutText)\r\n        end\r\n    end\r\nend\r\n\r\nfunction groupNameInput_onCharacterTyped(memoryBag, playerColor, text, stillEditing)\r\n    groupNameInput:onCharacterTyped(text, stillEditing)\r\nend\r\n\r\nfunction groupNameInput:setGroupNameToInputField()\r\n    local inputFields = self.memoryBag.getInputs()\r\n    if inputFields ~= nil then\r\n        -- Get input field 0, which corresponds to the groupNameInput.\r\n        -- Unfortunately \"self.getInputs()\" doesn't return the inputs in a guaranteed order.\r\n        local nameField = nil\r\n        for _, field in ipairs(inputFields) do\r\n            if field.index == 0 then\r\n                nameField = field\r\n            end\r\n        end\r\n\r\n        memoryGroupName:set(nameField.value)\r\n    end\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = { [\"ml\"] = memoryList, [\"groupName\"] = memoryGroupName:get() }\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction combineMemoryFromBagsWithin()\r\n    local bagObjList = self.getObjects()\r\n    for _, bagObj in ipairs(bagObjList) do\r\n        local data = bagObj.lua_script_state\r\n        if data ~= nil then\r\n            local j = JSON.decode(data)\r\n            if j ~= nil and j.ml ~= nil then\r\n                for guid, entry in pairs(j.ml) do\r\n                    memoryList[guid] = entry\r\n                end\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateMemoryWithMoves()\r\n    memoryList = memoryListBackup\r\n    --get the first transposed object's coordinates\r\n    local obj = getObjectFromGUID(moveGuid)\r\n\r\n    -- p1 is where needs to go, p2 is where it was\r\n    local refObjPos = memoryList[moveGuid].pos\r\n    local deltaPos = findOffsetDistance(obj.getPosition(), refObjPos, nil)\r\n    local movedRotation = obj.getRotation()\r\n    for guid, entry in pairs(memoryList) do\r\n        memoryList[guid].pos.x = entry.pos.x - deltaPos.x\r\n        memoryList[guid].pos.y = entry.pos.y - deltaPos.y\r\n        memoryList[guid].pos.z = entry.pos.z - deltaPos.z\r\n    end\r\n    moveList = {}\r\nend\r\n\r\nfunction onload(saved_data)\r\n    GlobalMemoryGroups:onLoad(self.getGUID())\r\n    AllMemoryBagsInScene:add(self.getGUID())\r\n\r\n    fresh = true\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n        memoryGroupName:set(loaded_data.groupName)\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n        memoryGroupName:set(nil)\r\n    end\r\n\r\n    moveList = {}\r\n    moveGuid = nil\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        fresh = false\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n--Beginning Setup\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n      label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n      position={0,0.3,2}, rotation={0,0,0}, height=350, width=800,\r\n      font_size=250, color={0,0,0}, font_color={1,1,1}\r\n  })\r\nend\r\n\r\n--Triggered by Transpose button\r\nfunction buttonClick_transpose()\r\n    moveGuid = nil\r\n    broadcastToAll(\"Select one object and move it- all objects will move relative to the new location\", { 0.75, 0.75, 1 })\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(true)\r\n    createSetupActionButtons(true)\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createButtonsOnAllObjects(false)\r\n    createSetupActionButtons(false)\r\nend\r\n\r\nfunction getAllObjectsInMemory()\r\n    local objTable = {}\r\n    local curObj = {}\r\n\r\n    for guid in pairs(memoryListBackup) do\r\n        curObj = getObjectFromGUID(guid)\r\n        table.insert(objTable, curObj)\r\n    end\r\n\r\n    return objTable\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects(move)\r\n    buttonIndexMap = {}\r\n    local howManyButtons = 0\r\n\r\n    local objsToHaveButtons = {}\r\n    if move == true then\r\n        objsToHaveButtons = getAllObjectsInMemory()\r\n    else\r\n        objsToHaveButtons = getAllObjects()\r\n    end\r\n\r\n    for _, obj in ipairs(objsToHaveButtons) do\r\n        if obj ~= self then\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1 * 1 / self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor + 2\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Workaround for custom PDFs\r\n            if obj.Book then\r\n                objPos.y = objPos.y + 0.5\r\n            end\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(obj, move) end\r\n            local color = { 0.75, 0.25, 0.25, 0.6 }\r\n            local colorMove = { 0, 0, 1, 0.6 }\r\n            if move == true then\r\n                color = colorMove\r\n            end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function = funcName, function_owner = self,\r\n                position = objPos, rotation = rot, height = 1000, width = 1000,\r\n                color = color,\r\n            })\r\n            buttonIndexMap[obj.getGUID()] = howManyButtons\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n  --Creates submit and cancel buttons\r\n  function createSetupActionButtons(move)\r\n      self.createButton({\r\n         label=\"Annuler\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n         position={-1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n         font_size=250, color={0,0,0}, font_color={1,1,1}\r\n      })\r\n\r\n      self.createButton({\r\n        label=\"Valider\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={-1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n      })\r\n\r\n      if move == false then\r\n        self.createButton({\r\n            label=\"Ajouter\", click_function=\"buttonClick_add\", function_owner=self,\r\n            position={1.15,0.3,2.1}, rotation={0,0,0}, height=350, width=1100,\r\n            font_size=250, color={0,0,0}, font_color={0.25,1,0.25}\r\n          })\r\n\r\n          self.createButton({\r\n              label=\"Sélection\", click_function=\"editDragSelection\", function_owner=self,\r\n              position={-1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n              font_size=250, color={0,0,0}, font_color={1,1,1}\r\n          })\r\n\r\n          if fresh == false then\r\n              self.createButton({\r\n                  label=\"Mise à Jour\", click_function=\"buttonClick_setNew\", function_owner=self,\r\n                  position={1.15,0.3,3.5}, rotation={0,0,0}, height=350, width=1100,\r\n                  font_size=180, color={0,0,0}, font_color={0.75,0.75,1}\r\n              })\r\n              self.createButton({\r\n                  label=\"Retirer\", click_function=\"buttonClick_remove\", function_owner=self,\r\n                  position={1.15,0.3,2.8}, rotation={0,0,0}, height=350, width=1100,\r\n                  font_size=250, color={0,0,0}, font_color={1,0.25,0.25}\r\n              })\r\n          end\r\n      end\r\n\r\n      self.createButton({\r\n          label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n          position={0,0.3,-2}, rotation={0,0,0}, height=350, width=800,\r\n          font_size=250, color={0,0,0}, font_color={1,1,1}\r\n      })\r\n  end\r\n\r\n\r\n--During Setup\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(obj, move)\r\n    local index = buttonIndexMap[obj.getGUID()]\r\n    local colorMove = { 0, 0, 1, 0.6 }\r\n    local color = { 0, 1, 0, 0.6 }\r\n\r\n    previousGuid = selectedGuid\r\n    selectedGuid = obj.getGUID()\r\n\r\n    theList = memoryList\r\n    if move == true then\r\n        theList = moveList\r\n        if previousGuid ~= nil and previousGuid ~= selectedGuid then\r\n            local prevObj = getObjectFromGUID(previousGuid)\r\n            prevObj.highlightOff()\r\n            self.editButton({ index = previousIndex, color = colorMove })\r\n            theList[previousGuid] = nil\r\n        end\r\n        previousIndex = index\r\n    end\r\n\r\n    if theList[selectedGuid] == nil then\r\n        self.editButton({ index = index, color = color })\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        theList[obj.getGUID()] = {\r\n            pos = { x = round(pos.x, 4), y = round(pos.y, 4), z = round(pos.z, 4) },\r\n            rot = { x = round(rot.x, 4), y = round(rot.y, 4), z = round(rot.z, 4) },\r\n            lock = obj.getLock(),\r\n            tint = obj.getColorTint()\r\n        }\r\n        obj.highlightOn({ 0, 1, 0 })\r\n    else\r\n        color = { 0.75, 0.25, 0.25, 0.6 }\r\n        if move == true then\r\n            color = colorMove\r\n        end\r\n        self.editButton({ index = index, color = color })\r\n        theList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\nfunction editDragSelection(bagObj, player, remove)\r\n    local selectedObjs = Player[player].getSelectedObjects()\r\n    if not remove then\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            --Ignore if already in the memory list, or does not have a button\r\n            if index and not memoryList[obj.getGUID()] then\r\n                self.editButton({ index = index, color = { 0, 1, 0, 0.6 } })\r\n                --Adding pos/rot to memory table\r\n                local pos, rot = obj.getPosition(), obj.getRotation()\r\n                --I need to add it like this or it won't save due to indexing issue\r\n                memoryList[obj.getGUID()] = {\r\n                    pos = { x = round(pos.x, 4), y = round(pos.y, 4), z = round(pos.z, 4) },\r\n                    rot = { x = round(rot.x, 4), y = round(rot.y, 4), z = round(rot.z, 4) },\r\n                    lock = obj.getLock(),\r\n                    tint = obj.getColorTint()\r\n                }\r\n                obj.highlightOn({ 0, 1, 0 })\r\n            end\r\n        end\r\n    else\r\n        for _, obj in ipairs(selectedObjs) do\r\n            local index = buttonIndexMap[obj.getGUID()]\r\n            if index and memoryList[obj.getGUID()] then\r\n                color = { 0.75, 0.25, 0.25, 0.6 }\r\n                self.editButton({ index = index, color = color })\r\n                memoryList[obj.getGUID()] = nil\r\n                obj.highlightOff()\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    moveList = {}\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Sélection annulée\", { 1, 1, 1 })\r\n    moveGuid = nil\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    fresh = false\r\n    if next(moveList) ~= nil then\r\n        for guid in pairs(moveList) do\r\n            moveGuid = guid\r\n        end\r\n        if memoryListBackup[moveGuid] == nil then\r\n            broadcastToAll(\"Item selected for moving is not already in memory\", { 1, 0.25, 0.25 })\r\n        else\r\n            broadcastToAll(\"Moving all items in memory relative to new objects position!\", { 0.75, 0.75, 1 })\r\n            self.clearButtons()\r\n            self.clearInputs()\r\n            createMemoryActionButtons()\r\n            local count = 0\r\n            for guid in pairs(moveList) do\r\n                moveGuid = guid\r\n                count = count + 1\r\n                local obj = getObjectFromGUID(guid)\r\n                if obj ~= nil then obj.highlightOff() end\r\n            end\r\n            updateMemoryWithMoves()\r\n            updateSave()\r\n            buttonClick_place()\r\n        end\r\n    elseif next(memoryList) == nil and moveGuid == nil then\r\n        memoryList = memoryListBackup\r\n        broadcastToAll(\"No selections made.\", { 0.75, 0.25, 0.25 })\r\n    end\r\n    combineMemoryFromBagsWithin()\r\n    groupNameInput:setGroupNameToInputField()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count .. \" Objects Saved\", { 1, 1, 1 })\r\n    updateSave()\r\n    moveGuid = nil\r\nend\r\n\r\nfunction combineTables(first_table, second_table)\r\n    for k, v in pairs(second_table) do first_table[k] = v end\r\nend\r\n\r\nfunction buttonClick_add()\r\n    fresh = false\r\n    combineTables(memoryList, memoryListBackup)\r\n    broadcastToAll(\"Adding internal bags and selections to existing memory\", { 0.25, 0.75, 0.25 })\r\n    combineMemoryFromBagsWithin()\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count .. \" Objects Saved\", { 1, 1, 1 })\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_remove()\r\n    broadcastToAll(\"Removing Selected Entries From Memory\", { 1.0, 0.25, 0.25 })\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for guid in pairs(memoryList) do\r\n        count = count + 1\r\n        memoryListBackup[guid] = nil\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then obj.highlightOff() end\r\n    end\r\n    broadcastToAll(count .. \" Objects Removed\", { 1, 1, 1 })\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\nfunction buttonClick_setNew()\r\n    broadcastToAll(\"Setting new position relative to items in memory\", { 0.75, 0.75, 1 })\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createMemoryActionButtons()\r\n    local count = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        guid = obj.guid\r\n        if memoryListBackup[guid] ~= nil then\r\n            count = count + 1\r\n            memoryListBackup[guid].pos = obj.getPosition()\r\n            memoryListBackup[guid].rot = obj.getRotation()\r\n            memoryListBackup[guid].lock = obj.getLock()\r\n            memoryListBackup[guid].tint = obj.getColorTint()\r\n        end\r\n    end\r\n    broadcastToAll(count .. \" Objects Saved\", { 1, 1, 1 })\r\n    memoryList = memoryListBackup\r\n    updateSave()\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    fresh = true\r\n    memoryList = {}\r\n    memoryGroupName:set(nil)\r\n    self.clearButtons()\r\n    self.clearInputs()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", { 1, 1, 1 })\r\n    updateSave()\r\nend\r\n\r\n--After Setup\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Placer au hasard\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,2}, rotation={0,0,0}, height=350, width=2000,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Ranger\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,2.8}, rotation={0,0,0}, height=350, width=1000,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Config\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={2,0.3,0}, rotation={0,90,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    ---    self.createButton({\r\n    ---      label=\"Bouger\", click_function=\"buttonClick_transpose\", function_owner=self,\r\n    ---      position={-2,0.3,0.8}, rotation={0,270,0}, height=350, width=800,\r\n    ---      font_size=250, color={0,0,0}, font_color={0.75,0.75,1}\r\n    ---\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    if anyOtherBagsInMyGroupArePlaced() then\r\n        recallOtherBagsInMyGroup()\r\n        Wait.frames(_placeObjects, CONFIG.MEMORY_GROUP.FRAME_DELAY_BEFORE_PLACING_OBJECTS)\r\n    else\r\n        _placeObjects()\r\n    end\r\nend\r\n\r\nfunction _placeObjects()\r\n    local bagObjList = self.getObjects()\r\n\r\n    -- randomize memorylist position\r\n    local positionList = {}\r\n    for guid, entry in pairs(memoryList) do\r\n        table.insert(positionList, memoryList[guid].pos)\r\n    end\r\n\r\n    for i = #positionList, 2, -1 do\r\n        local j = math.random(i)\r\n        positionList[i], positionList[j] = positionList[j], positionList[i]\r\n    end\r\n\r\n    local i = 1\r\n    for guid, entry in pairs(memoryList) do\r\n        memoryList[guid].pos = positionList[i]\r\n        i = i + 1\r\n    end\r\n\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n            obj.setColorTint(entry.tint)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid = guid, position = entry.pos, rotation = entry.rot, smooth = false\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    item.setColorTint(entry.tint)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objets placés au hasard\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objets rangés\", {1,1,1})\r\nend\r\n\r\n--Utility functions\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local yOffset = 0\r\n    if obj ~= nil then\r\n        local bounds = obj.getBounds()\r\n        yOffset = (bounds.size.y - bounds.offset.y)\r\n    end\r\n    local deltaPos = {}\r\n    deltaPos.x = (p2.x - p1.x)\r\n    deltaPos.y = (p2.y - p1.y) + yOffset\r\n    deltaPos.z = (p2.z - p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n    local objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n    local x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n    local z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n    --return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return { x = x, y = desiredPos.y, z = z }\r\nend\r\n\r\nfunction rotateMyCoordinates(desiredPos, obj)\r\n    local angle = math.rad(obj.getRotation().y)\r\n    local x = desiredPos.x * math.sin(angle)\r\n    local z = desiredPos.z * math.cos(angle)\r\n    return { x = x, y = desiredPos.y, z = z }\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n    local mult = 10 ^ (dec or 0)\r\n    return math.floor(num * mult + 0.5) / mult\r\nend\r\n\r\n--[[ This object provides access to a variable stored on the \"Global script\".\r\nThe variable holds the GUIDs for every Utility Memory Bag in the scene.\r\nExample: {'805ebd', '35cc21', 'fc8886', 'f50264', '5f5f63'} --]]\r\nAllMemoryBagsInScene = {\r\n    NAME_OF_GLOBAL_VARIABLE = \"_UtilityMemoryBag_AllMemoryBagsInScene\"\r\n}\r\n\r\nfunction AllMemoryBagsInScene:add(guid)\r\n    local guids = Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\n    table.insert(guids, guid)\r\n    Global.setTable(self.NAME_OF_GLOBAL_VARIABLE, guids)\r\nend\r\n\r\nfunction AllMemoryBagsInScene:getGuidList()\r\n    return Global.getTable(self.NAME_OF_GLOBAL_VARIABLE) or {}\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"3e72b3\":{\"lock\":false,\"pos\":{\"x\":9,\"y\":1.51905345916748,\"z\":15.5},\"rot\":{\"x\":0.0108814341947436,\"y\":180.116470336914,\"z\":0.00497028650715947},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"8bc4ab\":{\"lock\":false,\"pos\":{\"x\":12.9999017715454,\"y\":1.51994359493256,\"z\":21.9999008178711},\"rot\":{\"x\":0.0108844647184014,\"y\":180.081527709961,\"z\":0.00496381055563688},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"edc79a\":{\"lock\":false,\"pos\":{\"x\":20.4999046325684,\"y\":1.51929593086243,\"z\":22},\"rot\":{\"x\":0.0108784018084407,\"y\":180.151718139648,\"z\":0.00497707957401872},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}},\"f12da1\":{\"lock\":false,\"pos\":{\"x\":25.0000076293945,\"y\":1.51776671409607,\"z\":15.9999990463257},\"rot\":{\"x\":0.0108631858602166,\"y\":180.325744628906,\"z\":0.00501001998782158},\"tint\":{\"a\":1,\"b\":0.713235259056091,\"g\":0.713235259056091,\"r\":0.713235259056091}}}}",
              "XmlUI": "",
              "ContainedObjects": [
                {
                  "GUID": "3e72b3",
                  "Name": "Card",
                  "Transform": {
                    "posX": 9.0,
                    "posY": 1.51905346,
                    "posZ": 15.5,
                    "rotX": 0.0108814342,
                    "rotY": 180.11647,
                    "rotZ": 0.00497028651,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Mer d'Asphalte",
                  "Description": "Profondeurs.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06265\",\n  \"locationFront\": {\n    \"connections\": \"SlantedEquals|Plus\",\n    \"icons\": \"Plus\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    }\n  },\n  \"traits\": \"Depths.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276512,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2765": {
                      "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                      "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "8bc4ab",
                  "Name": "Card",
                  "Transform": {
                    "posX": 12.9999018,
                    "posY": 1.51994359,
                    "posZ": 21.9999,
                    "rotX": 0.0108844647,
                    "rotY": 180.081528,
                    "rotZ": 0.00496381056,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Mer d'Asphalte",
                  "Description": "Profondeurs.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06264\",\n  \"locationFront\": {\n    \"connections\": \"SlantedEquals|Plus\",\n    \"icons\": \"Plus\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    }\n  },\n  \"traits\": \"Depths.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276511,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2765": {
                      "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                      "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "edc79a",
                  "Name": "Card",
                  "Transform": {
                    "posX": 20.4999046,
                    "posY": 1.51929593,
                    "posZ": 22.0,
                    "rotX": 0.0108784018,
                    "rotY": 180.151718,
                    "rotZ": 0.00497707957,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Mer d'Asphalte",
                  "Description": "Profondeurs.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06263\",\n  \"locationFront\": {\n    \"connections\": \"SlantedEquals|Plus\",\n    \"icons\": \"Plus\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    }\n  },\n  \"traits\": \"Depths.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276510,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2765": {
                      "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                      "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                {
                  "GUID": "f12da1",
                  "Name": "Card",
                  "Transform": {
                    "posX": 25.0000076,
                    "posY": 1.51776671,
                    "posZ": 15.999999,
                    "rotX": 0.0108631859,
                    "rotY": 180.325745,
                    "rotZ": 0.00501002,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "Mer d'Asphalte",
                  "Description": "Profondeurs.",
                  "GMNotes": "{\n  \"cycle\": \"Standalone\",\n  \"id\": \"06262\",\n  \"locationFront\": {\n    \"connections\": \"SlantedEquals|Plus\",\n    \"icons\": \"Plus\",\n    \"uses\": {\n      \"countPerInvestigator\": 1,\n      \"token\": \"clue\",\n      \"type\": \"Clue\"\n    }\n  },\n  \"traits\": \"Depths.\",\n  \"type\": \"Location\"\n}",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.713235259,
                    "g": 0.713235259,
                    "b": 0.713235259
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": true,
                  "Hands": true,
                  "CardID": 276509,
                  "SidewaysCard": false,
                  "CustomDeck": {
                    "2765": {
                      "FaceURL": "https://i.imgur.com/xalsp9H.jpg",
                      "BackURL": "https://i.imgur.com/ZgHypOi.jpg",
                      "NumWidth": 10,
                      "NumHeight": 7,
                      "BackIsHidden": true,
                      "UniqueBack": true,
                      "Type": 0
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              ]
            },
            {
              "GUID": "ef84d7",
              "Name": "Custom_Token",
              "Transform": {
                "posX": 0.5000167,
                "posY": 1.58162725,
                "posZ": 6.50000143,
                "rotX": 0.010867577,
                "rotY": 179.995361,
                "rotZ": 0.00384345721,
                "scaleX": 0.23,
                "scaleY": 1.0,
                "scaleZ": 0.225
              },
              "Nickname": "Indices",
              "Description": "Click gauche - Ajouter\nClick droit - Soustraire",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": false,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/784129913444610342/7903BA89870C1656A003FD69C79BFA99BD1AAC24/",
                "ImageSecondaryURL": "",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomToken": {
                  "Thickness": 0.1,
                  "MergeDistancePixels": 5.0,
                  "StandUp": false,
                  "Stackable": false
                }
              },
              "LuaScript": "MIN_VALUE = -99\r\nMAX_VALUE = 999\r\nlocal ZONE_HANDLER_GUID = 'ef3980'\r\nzoneHandler = getObjectFromGUID(ZONE_HANDLER_GUID)\r\nfunction onload(saved_data)\r\n    light_mode = true\r\n    val = 0\r\n\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        light_mode = loaded_data[1]\r\n        val = loaded_data[2]\r\n    end\r\n\r\n    createAll()\r\nend\r\n\r\nfunction updateSave()\r\n    local data_to_save = { light_mode, val }\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction createAll()\r\n    s_color = { 0, 0, 0, 100 }\r\n\r\n    if light_mode then\r\n        f_color = { 1, 1, 1, 100 }\r\n    else\r\n        f_color = { 0, 0, 0, 100 }\r\n    end\r\n\r\n\r\n\r\n    self.createButton({\r\n        label = tostring(val),\r\n        click_function = \"clickOrAlt_click\",\r\n        function_owner = self,\r\n        position = { 0, 0.05, 0.1 },\r\n        height = 600,\r\n        width = 1000,\r\n        alignment = 3,\r\n        scale = { x = 1.5, y = 1.5, z = 1.5 },\r\n        font_size = 800,\r\n        font_color = f_color,\r\n        color = { 1, 1, 1, 0 }\r\n    })\r\n\r\n\r\n    self.createButton({\r\n        click_function = \"takeClue\",\r\n        function_owner = self,\r\n        label = \"Prendre\",\r\n        position = { 3.5, 0.1, 0 },\r\n        rotation = { 0, 270, 0 },\r\n        scale = { 1.6, 1, 1.6 },\r\n        width = 1600,\r\n        height = 500,\r\n        font_size = 400,\r\n        font_color = { 1, 1, 1 },\r\n        color = { 0, 0, 0 },\r\n        tooltip = \"Prendre un indice (click droit pour reposer)\"\r\n    })\r\n\r\n\r\n\r\n    if light_mode then\r\n        lightButtonText = \"[ Set dark ]\"\r\n    else\r\n        lightButtonText = \"[ Set light ]\"\r\n    end\r\nend\r\n\r\nfunction removeAll()\r\n    self.removeInput(0)\r\n    self.removeInput(1)\r\n    self.removeButton(0)\r\n    self.removeButton(1)\r\n    self.removeButton(2)\r\nend\r\n\r\nfunction reloadAll()\r\n    removeAll()\r\n    createAll()\r\n\r\n    updateSave()\r\nend\r\n\r\nfunction swap_fcolor(_obj, _color, alt_click)\r\n    light_mode = not light_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction swap_align(_obj, _color, alt_click)\r\n    center_mode = not center_mode\r\n    reloadAll()\r\nend\r\n\r\nfunction editName(_obj, _string, value)\r\n    self.setName(value)\r\n    setTooltips()\r\nend\r\n\r\nfunction clickOrAlt_click(_obj, _color, alt_click)\r\n    if alt_click then\r\n        substract()\r\n    else\r\n        add()\r\n    end\r\nend\r\n\r\nfunction substract()\r\n    add_subtract(-1)\r\nend\r\n\r\nfunction add()\r\n    add_subtract(1)\r\nend\r\n\r\nfunction add_subtract(mod)\r\n    new_value = math.min(math.max(val + mod, MIN_VALUE), MAX_VALUE)\r\n    if val ~= new_value then\r\n        val = new_value\r\n        updateVal()\r\n        updateSave()\r\n    end\r\nend\r\n\r\nfunction takeClue(_, color, alt_click)\r\n    if alt_click then\r\n        add()\r\n    else\r\n        substract()\r\n    end\r\n    local params = {}\r\n    params.playerColor = color\r\n    params.zone = 'CounterZone'\r\n    local objects = zoneHandler.call('getObjectsInPlayerZone', params)\r\n    for _, token in ipairs(objects) do\r\n        if token.getName() == \"Indices\" and token.getDescription() == \"Compteur de Joueur\" then\r\n            local cluecounter = token\r\n            if alt_click then\r\n                cluecounter.call('substract')\r\n            else\r\n                cluecounter.call('add')\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction updateVal()\r\n    self.editButton({\r\n        index = 0,\r\n        label = tostring(val),\r\n    })\r\nend\r\n\r\nfunction reset_val()\r\n    val = 0\r\n    updateVal()\r\n    updateSave()\r\nend\r\n\r\nfunction setTooltips()\r\n    self.editInput({\r\n        index = 0,\r\n        value = self.getName(),\r\n        tooltip = ttText\r\n    })\r\n    self.editButton({\r\n        index = 0,\r\n        value = tostring(val),\r\n        tooltip = ttText\r\n    })\r\nend\r\n\r\nfunction null()\r\nend\r\n\r\nfunction keepSample(_obj, _string, value)\r\n    reloadAll()\r\nend\r\n",
              "LuaScriptState": "[true,0]",
              "XmlUI": ""
            },
            {
              "GUID": "f9569f",
              "Name": "Card",
              "Transform": {
                "posX": -24.5000572,
                "posY": 1.78360617,
                "posZ": 2.49994159,
                "rotX": -4.926766E-06,
                "rotY": 179.999435,
                "rotZ": -2.97702467E-08,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Richard Upton Pickman",
              "Description": "Goule Respectable",
              "GMNotes": "{\n  \"class\": \"Neutral\",\n  \"cycle\": \"Standalone\",\n  \"health\": 3,\n  \"id\": \"06266\",\n  \"traits\": \"Ally. Ghoul. Artist.\",\n  \"type\": \"Asset\"\n}",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 276215,
              "SidewaysCard": false,
              "CustomDeck": {
                "2762": {
                  "FaceURL": "https://i.imgur.com/e0a9mmb.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/931553051989537266/4F8EF28EECA8E2376771AD6B18CA93622216C17A/",
                  "NumWidth": 10,
                  "NumHeight": 7,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "fa63e5",
              "Name": "Custom_Tile",
              "Transform": {
                "posX": -3.500121,
                "posY": 1.50424719,
                "posZ": 3.500121,
                "rotX": 0.001159917,
                "rotY": 240.0051,
                "rotZ": 0.011910771,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "ColorDiffuse": {
                "r": 0.6045295,
                "g": 0.6045295,
                "b": 0.6045295
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomImage": {
                "ImageURL": "https://i.imgur.com/vppt2my.png",
                "ImageSecondaryURL": "https://i.imgur.com/vppt2my.png",
                "ImageScalar": 1.0,
                "WidthScale": 0.0,
                "CustomTile": {
                  "Type": 3,
                  "Thickness": 0.1,
                  "Stackable": false,
                  "Stretch": true
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "States": {
                "2": {
                  "GUID": "44b0c5",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -39.7933121,
                    "posY": 1.63758957,
                    "posZ": 2.038383,
                    "rotX": 359.9201,
                    "rotY": 269.9961,
                    "rotZ": 0.0168742146,
                    "scaleX": 1.0,
                    "scaleY": 1.0,
                    "scaleZ": 1.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                },
                "3": {
                  "GUID": "5b38c6",
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -38.8217163,
                    "posY": 1.99356019,
                    "posZ": 0.4159239,
                    "rotX": 359.9201,
                    "rotY": 272.9828,
                    "rotZ": 0.01687373,
                    "scaleX": 0.8,
                    "scaleY": 1.0,
                    "scaleZ": 0.8
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "AltLookAngle": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  },
                  "ColorDiffuse": {
                    "r": 0.6045295,
                    "g": 0.6045295,
                    "b": 0.6045295
                  },
                  "LayoutGroupSortIndex": 0,
                  "Value": 0,
                  "Locked": false,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "MeasureMovement": false,
                  "DragSelectable": true,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "https://i.imgur.com/dHKBLoD.png",
                    "ImageSecondaryURL": "https://i.imgur.com/HyfE8m8.png",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 3,
                      "Thickness": 0.1,
                      "Stackable": false,
                      "Stretch": true
                    }
                  },
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "XmlUI": ""
                }
              }
            }
          ],
          "AttachedDecals": [
            {
              "Transform": {
                "posX": -0.0021877822,
                "posY": -0.08963572,
                "posZ": -0.00288731651,
                "rotX": 270.0,
                "rotY": 359.869568,
                "rotZ": 0.0,
                "scaleX": 2.00000215,
                "scaleY": 2.00000238,
                "scaleZ": 2.00000262
              },
              "CustomDecal": {
                "Name": "dunwich_back",
                "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/959719855119695911/931B9829687A20F4DEADB36DA57B7E6D76792231/",
                "Size": 7.4
              }
            }
          ]
        }
      ]
    }
  ]
}